define(["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.test = exports.allProducts = exports.Product = void 0;
    var log = (function () {
        var log = Math.log;
        return function (n, base) {
            return log(n) / (base ? log(base) : 1);
        };
    })();
    class Product {
        constructor(prod) {
            Object.assign(this, prod);
            this.dailyConsumtion = Math.round((10000 * this.amountForPeople / 380)) / 10000 - 0.0001;
            this.pricePurchase = Math.round(this.priceProduction * 4 / 3);
            this.priceSelling = Math.round(this.priceProduction * 5 / 3);
        }
        getMinPrice() {
            return Math.round(this.priceSelling * 2 / 3);
        }
        getMaxPrice() {
            return Math.round(this.priceSelling * 5 / 3);
        }
        /**
         * calc price for a city with people and the
         */
        calcPrice(people, amount, isProducedHere) {
            var consume = Math.round(this.dailyConsumtion * people * 40);
            var normal = isProducedHere ? this.pricePurchase : this.priceSelling;
            var min = Math.round((0.0 + normal) * 2 / 3);
            var max = Math.round((0.0 + normal) * 5 / 3);
            // var test = Math.round(consume * normal / amount);
            // var test=Math.round((0.0+normal)+Math.pow(consume,0.6)-Math.pow(amount,0.6));
            var test = Math.round(normal + (normal - (amount / consume * normal)));
            if (test < min)
                return min;
            if (test > max || amount < 30) {
                return max;
            }
            return test;
        }
        calcPrice2(people, amount, isProducedHere) {
            var consume = Math.round(this.dailyConsumtion * people * 40);
            var normal = isProducedHere ? this.pricePurchase : this.priceSelling;
            var min = Math.round((0.0 + normal) * 2 / 3);
            var max = Math.round((0.0 + normal) * 5 / 3);
            var consumeMin = Math.round(consume * 2 / 3);
            var consumeMax = Math.round(consume * 5 / 3);
            if (amount < consumeMin)
                return max;
            if (amount > consumeMax)
                return min;
            var test = 0;
            if (amount > consume) {
                var exp = Math.round(log(consumeMax, max) * 1000) / 1000;
                var t = consume - 2 * (amount - consume);
                test = Math.round(Math.pow(t, exp));
            }
            else {
                var exp = Math.round(log(consumeMin, min) * 1000) / 1000;
                var t = consume - 2 * (consume - amount);
                test = Math.round(Math.pow(amount, exp));
            }
            // var test = Math.round(consume * normal / amount);
            // var test=Math.round((0.0+normal)+Math.pow(consume,0.6)-Math.pow(amount,0.6));
            /*        var test = Math.round(normal + (normal - (amount / consume * normal)));
                    if (test < min)
                        return min;
                    if (test > max || amount < 30) {
                        return max;
                    }*/
            return test;
        }
        getIcon() {
            var colors = [
                ["", "green", "mdi-pine-tree"],
                ["", "orange", "mdi-format-line-style"],
                ["", "yellow", "mdi-grass"],
                ["", "silver", "mdi-checkbox-blank-circle"],
                ["", "lightgray", "mdi-apple-icloud"],
                ["", "black", "mdi-water"],
                ["", "brown", "mdi-food-croissant"],
                ["blue", "red", "mdi-square-circle"],
                ["", "orange", "mdi-food-drumstick"],
                ["", "purple", "mdi-sofa"],
                ["", "lightblue", "mdi-tshirt-v"],
                ["", "gray", "mdi-fish"],
                ["", "red", "mdi-food-apple"],
                ["", "gamboge", "mdi-bottle-soda"],
                ["", "gold", "mdi-checkbox-blank-circle"],
                ["", "gold", "mdi-ring"],
                ["", "blue", "mdi-toy-brick"],
                ["", "black", "mdi-motorbike"],
                ["", "brown", "mdi-hamburger"],
            ];
            var ic = colors[this.id].length === 3 ? colors[this.id][2] : "mdi-circle-multiple";
            return "<span style='width:14px;font-size:15px;color:" + colors[this.id][1] + ";background-color:" + colors[this.id][0] + "' class='mdi " + ic + "'></span>";
        }
    }
    exports.Product = Product;
    exports.allProducts = [
        new Product({ id: 0, name: "Holz", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 5 }),
        new Product({ id: 1, name: "Ziegel", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 4.5 }),
        new Product({ id: 2, name: "Getreide", dailyProduce: 7, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 23, distribution: 16, amountForPeople: 4 }),
        new Product({ id: 3, name: "Eisen", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 3 }),
        new Product({ id: 4, name: "Wolle", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 2.5 }),
        new Product({ id: 5, name: "Öl", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 3 }),
        new Product({ id: 6, name: "Brot", dailyProduce: 6, input1: 2, input1Amount: 2, input2: undefined, input2Amount: 0, priceProduction: 49, distribution: 8, amountForPeople: 5 }),
        new Product({ id: 7, name: "Plaste", dailyProduce: 6, input1: 5, input1Amount: 2, input2: undefined, input2Amount: 0, priceProduction: 57, distribution: 8, amountForPeople: 5 }),
        new Product({ id: 8, name: "Fleisch", dailyProduce: 2, input1: 2, input1Amount: 1, input2: undefined, input2Amount: 0, priceProduction: 109, distribution: 8, amountForPeople: 2 }),
        new Product({ id: 9, name: "Möbel", dailyProduce: 2, input1: 1, input1Amount: 0.5, input2: 3, input2Amount: 1, priceProduction: 117, distribution: 8, amountForPeople: 2 }),
        new Product({ id: 10, name: "Kleidung", dailyProduce: 1, input1: 4, input1Amount: 2, input2: undefined, input2Amount: 0, priceProduction: 286, distribution: 8, amountForPeople: 1 }),
        new Product({ id: 11, name: "Fisch", dailyProduce: 3, input1: undefined, input1Amount: undefined, input2: undefined, input2Amount: 0, priceProduction: 60, distribution: 8, amountForPeople: 2 }),
        new Product({ id: 12, name: "Apfel", dailyProduce: 4, input1: undefined, input1Amount: undefined, input2: undefined, input2Amount: 0, priceProduction: 45, distribution: 8, amountForPeople: 3 }),
        new Product({ id: 13, name: "Saft", dailyProduce: 3, input1: 12, input1Amount: 1, input2: undefined, input2Amount: 0, priceProduction: 85, distribution: 8, amountForPeople: 3 }),
        new Product({ id: 14, name: "Gold", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 100, distribution: 4, amountForPeople: 1 }),
        new Product({ id: 15, name: "Schmuck", dailyProduce: 2, input1: 14, input1Amount: 1, input2: undefined, input2Amount: 0, priceProduction: 184, distribution: 4, amountForPeople: 2 }),
        new Product({ id: 16, name: "Spielzeug", dailyProduce: 1, input1: 4, input1Amount: 0.5, input2: 7, input2Amount: 0.5, priceProduction: 274, distribution: 4, amountForPeople: 1 }),
        new Product({ id: 17, name: "Fahrrad", dailyProduce: 1, input1: 3, input1Amount: 1, input2: 7, input2Amount: 0.5, priceProduction: 274, distribution: 4, amountForPeople: 1 }),
        new Product({ id: 18, name: "Fischbrot", dailyProduce: 1, input1: 11, input1Amount: 1, input2: 6, input2Amount: 1, priceProduction: 382, distribution: 4, amountForPeople: 1 })
    ];
    /*export var allProducts = [
        new Product({ id: 0, name: "Holz", dailyProduce: 2.5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0015, priceProduction: 33, pricePurchase: 40, priceSelling: 59, distribution: 16 }),
        new Product({ id: 1, name: "Ziegel", dailyProduce: 6, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0029, priceProduction: 33, pricePurchase: 40, priceSelling: 59, distribution: 16 }),
        new Product({ id: 2, name: "Getreide", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.003068, priceProduction: 33, pricePurchase: 40, priceSelling: 59, distribution: 16 }),
        new Product({ id: 3, name: "Hanf", dailyProduce: 2.5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0015, priceProduction: 33, pricePurchase: 40, priceSelling: 59, distribution: 16 }),
        new Product({ id: 4, name: "Wolle", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 50, pricePurchase: 60, priceSelling: 90, distribution: 8 }),
        new Product({ id: 5, name: "Metalle", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 50, pricePurchase: 60, priceSelling: 90, distribution: 8 }),
        new Product({ id: 6, name: "Honig", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 50, pricePurchase: 60, priceSelling: 90, distribution: 8 }),
        new Product({ id: 7, name: "Salz", dailyProduce: 1, input1: 0, input1Amount: 0.25, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0006, priceProduction: 58, pricePurchase: 70, priceSelling: 104, distribution: 8 }),
        new Product({ id: 8, name: "Metallwaren", dailyProduce: 1.5, input1: 0, input1Amount: 0.5, input2: 5, input2Amount: 5, dailyConsumtion: 0.0009, priceProduction: 167, pricePurchase: 200, priceSelling: 301, distribution: 8 }),
        new Product({ id: 9, name: "Met", dailyProduce: 2, input1: 6, input1Amount: 1, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 150, pricePurchase: 180, priceSelling: 270, distribution: 8 }),
        new Product({ id: 10, name: "Tuch", dailyProduce: 1, input1: 4, input1Amount: 1, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0006, priceProduction: 150, pricePurchase: 180, priceSelling: 270, distribution: 8 }),
        new Product({ id: 11, name: "Bier", dailyProduce: 3, input1: 2, input1Amount: 0.25, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001768, priceProduction: 75, pricePurchase: 90, priceSelling: 135, distribution: 4 }),
        new Product({ id: 12, name: "Stockfisch", dailyProduce: 3, input1: 7, input1Amount: 0.5, input2: 3, input2Amount: 3, dailyConsumtion: 0.001768, priceProduction: 129, pricePurchase: 155, priceSelling: 232, distribution: 4 }),
        new Product({ id: 13, name: "Kleidung", dailyProduce: 1, input1: 10, input1Amount: 1, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0006, priceProduction: 350, pricePurchase: 420, priceSelling: 630, distribution: 4 }),
        new Product({ id: 14, name: "Käse", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 100, pricePurchase: 120, priceSelling: 180, distribution: 4 }),
        new Product({ id: 15, name: "Pech", dailyProduce: 2, input1: 0, input1Amount: 0.5, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 117, pricePurchase: 140, priceSelling: 211, distribution: 4 }),
        new Product({ id: 16, name: "Felle", dailyProduce: 1, input1: 3, input1Amount: 0.5, input2: 8, input2Amount: 0.5, dailyConsumtion: 0.0006, priceProduction: 300, pricePurchase: 360, priceSelling: 540, distribution: 4 }),
        new Product({ id: 17, name: "Fleisch", dailyProduce: 1, input1: 7, input1Amount: 1.5, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0006, priceProduction: 288, pricePurchase: 346, priceSelling: 518, distribution: 4 }),
        new Product({ id: 18, name: "Wein", dailyProduce: 0.5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.000336, priceProduction: 400, pricePurchase: 480, priceSelling: 720, distribution: 4 })
        //    new Product({ id:19, name: "Gewürze", dailyProduce: 0, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.000336, priceProduction: 0, pricePurchase: 600, priceSelling: 900 })
    ];*/
    function test() {
        var people = 30656;
        console.log(exports.allProducts[1].pricePurchase + " " + Math.round(200 * exports.allProducts[1].dailyConsumtion * 40));
        console.log(exports.allProducts[1].calcPrice(200, 2, true));
    }
    exports.test = test;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2dhbWUvcHJvZHVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0lBQUEsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDbkIsT0FBTyxVQUFVLENBQUMsRUFBRSxJQUFJO1lBQ3BCLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFFTCxNQUFhLE9BQU87UUFlaEIsWUFBWSxJQUFJO1lBQ1osTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDMUIsSUFBSSxDQUFDLGVBQWUsR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxHQUFDLElBQUksQ0FBQyxlQUFlLEdBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxLQUFLLEdBQUMsTUFBTSxDQUFDO1lBQy9FLElBQUksQ0FBQyxhQUFhLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsZUFBZSxHQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4RCxJQUFJLENBQUMsWUFBWSxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsR0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0QsQ0FBQztRQUNELFdBQVc7WUFDUCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQztRQUNELFdBQVc7WUFDUCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxD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QUFJLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsRUFBRSxFQUFHLFlBQVksRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFDLEdBQUcsRUFBRSxDQUFDO1FBQzdMLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsRUFBRSxFQUFDLFlBQVksRUFBRSxFQUFFLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBRyxDQUFDO1FBQzNMLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBRyxDQUFDO1FBQ3pMLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUMsZUFBZSxFQUFDLEdBQUcsRUFBRyxDQUFDO1FBQzNMLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUMsRUFBRSxFQUFHLFlBQVksRUFBRSxFQUFFLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBRyxDQUFDO1FBQ3RMLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBRyxDQUFDO1FBQzlLLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUUsRUFBRSxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUUsZUFBZSxFQUFDLENBQUMsRUFBRSxDQUFDO1FBQ2pMLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBRyxDQUFDO1FBQ25MLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsR0FBRyxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBRyxDQUFDO1FBQzVLLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsR0FBRyxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBRyxDQUFDO1FBQ3RMLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUUsRUFBRSxFQUFDLFlBQVksRUFBRSxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBRyxDQUFDO1FBQy9MLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBQyxlQUFlLEVBQUUsRUFBRSxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUUsZUFBZSxFQUFDLENBQUMsRUFBRSxDQUFDO1FBQ2hNLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBQyxlQUFlLEVBQUUsRUFBRSxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUUsZUFBZSxFQUFDLENBQUMsRUFBRSxDQUFDO1FBQ2hMLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsR0FBRyxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUUsZUFBZSxFQUFFLENBQUMsRUFBQyxDQUFDO1FBQzFMLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsZUFBZSxFQUFDLENBQUMsRUFBRSxDQUFDO1FBQ3JMLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsWUFBWSxFQUFFLEdBQUcsRUFBRyxlQUFlLEVBQUUsR0FBRyxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBRyxDQUFDO1FBQ25MLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsWUFBWSxFQUFFLEdBQUcsRUFBRyxlQUFlLEVBQUUsR0FBRyxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUUsZUFBZSxFQUFDLENBQUMsRUFBRSxDQUFDO1FBQy9LLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsR0FBRyxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUUsZUFBZSxFQUFDLENBQUMsRUFBRSxDQUFDO0tBQ25MLENBQUM7SUFDRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBcUJJO0lBR0osU0FBZ0IsSUFBSTtRQUNoQixJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDbkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsR0FBQyxHQUFHLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUMsbUJBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFlLEdBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNoRyxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDO0lBSkQsb0JBSUMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbG9nID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbG9nID0gTWF0aC5sb2c7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuLCBiYXNlKSB7XG4gICAgICAgIHJldHVybiBsb2cobikgLyAoYmFzZSA/IGxvZyhiYXNlKSA6IDEpO1xuICAgIH07XG59KSgpO1xuXG5leHBvcnQgY2xhc3MgUHJvZHVjdCB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGFpbHlQcm9kdWNlOiBudW1iZXI7XG4gICAgaW5wdXQxOiBudW1iZXI7XG4gICAgaW5wdXQxQW1vdW50OiBudW1iZXI7XG4gICAgaW5wdXQyOiBudW1iZXI7XG4gICAgaW5wdXQyQW1vdW50OiBudW1iZXI7XG4gICAgZGFpbHlDb25zdW10aW9uOiBudW1iZXI7XG4gICAgcHJpY2VQcm9kdWN0aW9uOiBudW1iZXI7XG4gICAgcHJpY2VQdXJjaGFzZTogbnVtYmVyO1xuICAgIHByaWNlU2VsbGluZzogbnVtYmVyO1xuICAgIHByaXZhdGUgYW1vdW50Rm9yUGVvcGxlOm51bWJlcjtcbiAgICAvL2hvdyBvZnRlbiBpdCBpcyB1c2VkXG4gICAgZGlzdHJpYnV0aW9uOiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IocHJvZCkge1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb2QpO1xuICAgICAgICB0aGlzLmRhaWx5Q29uc3VtdGlvbj1NYXRoLnJvdW5kKCgxMDAwMCp0aGlzLmFtb3VudEZvclBlb3BsZS8zODApKS8xMDAwMC0wLjAwMDE7XG4gICAgICAgIHRoaXMucHJpY2VQdXJjaGFzZT1NYXRoLnJvdW5kKHRoaXMucHJpY2VQcm9kdWN0aW9uKjQvMyk7XG4gICAgICAgIHRoaXMucHJpY2VTZWxsaW5nPU1hdGgucm91bmQodGhpcy5wcmljZVByb2R1Y3Rpb24qNS8zKTtcbiAgICB9XG4gICAgZ2V0TWluUHJpY2UoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMucHJpY2VTZWxsaW5nICogMiAvIDMpO1xuICAgIH1cbiAgICBnZXRNYXhQcmljZSgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5wcmljZVNlbGxpbmcgKiA1IC8gMyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNhbGMgcHJpY2UgZm9yIGEgY2l0eSB3aXRoIHBlb3BsZSBhbmQgdGhlXG4gICAgICovXG4gICAgY2FsY1ByaWNlKHBlb3BsZTogbnVtYmVyLCBhbW91bnQ6IG51bWJlciwgaXNQcm9kdWNlZEhlcmU6IGJvb2xlYW4pIHtcbiAgICAgICAgdmFyIGNvbnN1bWUgPSBNYXRoLnJvdW5kKHRoaXMuZGFpbHlDb25zdW10aW9uICogcGVvcGxlICogNDApO1xuICAgICAgICB2YXIgbm9ybWFsID0gaXNQcm9kdWNlZEhlcmUgPyB0aGlzLnByaWNlUHVyY2hhc2UgOiB0aGlzLnByaWNlU2VsbGluZztcblxuICAgIFxuICAgICAgICB2YXIgbWluID0gTWF0aC5yb3VuZCgoMC4wICsgbm9ybWFsKSAqIDIgLyAzKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgucm91bmQoKDAuMCArIG5vcm1hbCkgKiA1IC8gMyk7XG4gICAgICAgIC8vIHZhciB0ZXN0ID0gTWF0aC5yb3VuZChjb25zdW1lICogbm9ybWFsIC8gYW1vdW50KTtcbiAgICAgICAgLy8gdmFyIHRlc3Q9TWF0aC5yb3VuZCgoMC4wK25vcm1hbCkrTWF0aC5wb3coY29uc3VtZSwwLjYpLU1hdGgucG93KGFtb3VudCwwLjYpKTtcbiAgICAgICAgdmFyIHRlc3QgPSBNYXRoLnJvdW5kKG5vcm1hbCArIChub3JtYWwgLSAoYW1vdW50IC8gY29uc3VtZSAqIG5vcm1hbCkpKTtcbiAgICAgICAgaWYgKHRlc3QgPCBtaW4pXG4gICAgICAgICAgICByZXR1cm4gbWluO1xuICAgICAgICBpZiAodGVzdCA+IG1heCB8fCBhbW91bnQgPCAzMCkge1xuICAgICAgICAgICAgcmV0dXJuIG1heDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVzdDtcbiAgICB9XG5cbiAgICBjYWxjUHJpY2UyKHBlb3BsZTogbnVtYmVyLCBhbW91bnQ6IG51bWJlciwgaXNQcm9kdWNlZEhlcmU6IGJvb2xlYW4pIHtcbiAgICAgICAgdmFyIGNvbnN1bWUgPSBNYXRoLnJvdW5kKHRoaXMuZGFpbHlDb25zdW10aW9uICogcGVvcGxlICogNDApO1xuICAgICAgICB2YXIgbm9ybWFsID0gaXNQcm9kdWNlZEhlcmUgPyB0aGlzLnByaWNlUHVyY2hhc2UgOiB0aGlzLnByaWNlU2VsbGluZztcbiAgICAgICAgdmFyIG1pbiA9IE1hdGgucm91bmQoKDAuMCArIG5vcm1hbCkgKiAyIC8gMyk7XG4gICAgICAgIHZhciBtYXggPSBNYXRoLnJvdW5kKCgwLjAgKyBub3JtYWwpICogNSAvIDMpO1xuICAgICAgICB2YXIgY29uc3VtZU1pbiA9IE1hdGgucm91bmQoY29uc3VtZSoyLzMpO1xuICAgICAgICB2YXIgY29uc3VtZU1heCA9IE1hdGgucm91bmQoY29uc3VtZSo1LzMpO1xuICAgICAgICBpZihhbW91bnQ8Y29uc3VtZU1pbilcbiAgICAgICAgICAgIHJldHVybiBtYXg7XG4gICAgICAgIGlmKGFtb3VudD5jb25zdW1lTWF4KVxuICAgICAgICAgICAgcmV0dXJuIG1pbjtcbiAgICAgICAgdmFyIHRlc3Q9MDtcbiAgICAgICAgaWYoYW1vdW50PmNvbnN1bWUpe1xuICAgICAgICAgICAgdmFyIGV4cCA9IE1hdGgucm91bmQobG9nKGNvbnN1bWVNYXgsbWF4KSAqIDEwMDApIC8gMTAwMDtcbiAgICAgICAgICAgIHZhciB0PWNvbnN1bWUtMiooYW1vdW50LWNvbnN1bWUpXG4gICAgICAgICAgICB0ZXN0ID1NYXRoLnJvdW5kKE1hdGgucG93KHQsIGV4cCkpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHZhciBleHAgPSBNYXRoLnJvdW5kKGxvZyhjb25zdW1lTWluLG1pbikgKiAxMDAwKSAvIDEwMDA7XG4gICAgICAgICAgICB2YXIgdD1jb25zdW1lLTIqKGNvbnN1bWUtYW1vdW50KTtcbiAgICAgICAgICAgIHRlc3QgPU1hdGgucm91bmQoTWF0aC5wb3coYW1vdW50LCBleHApKTtcbiAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgLy8gdmFyIHRlc3QgPSBNYXRoLnJvdW5kKGNvbnN1bWUgKiBub3JtYWwgLyBhbW91bnQpO1xuICAgICAgICAvLyB2YXIgdGVzdD1NYXRoLnJvdW5kKCgwLjArbm9ybWFsKStNYXRoLnBvdyhjb25zdW1lLDAuNiktTWF0aC5wb3coYW1vdW50LDAuNikpO1xuLyogICAgICAgIHZhciB0ZXN0ID0gTWF0aC5yb3VuZChub3JtYWwgKyAobm9ybWFsIC0gKGFtb3VudCAvIGNvbnN1bWUgKiBub3JtYWwpKSk7XG4gICAgICAgIGlmICh0ZXN0IDwgbWluKVxuICAgICAgICAgICAgcmV0dXJuIG1pbjtcbiAgICAgICAgaWYgKHRlc3QgPiBtYXggfHwgYW1vdW50IDwgMzApIHtcbiAgICAgICAgICAgIHJldHVybiBtYXg7XG4gICAgICAgIH0qL1xuICAgICAgICByZXR1cm4gdGVzdDtcbiAgICB9XG4gICAgICBcbiAgICAgICBcblxuICAgIGdldEljb24oKTogc3RyaW5nIHtcbiAgICAgICAgdmFyIGNvbG9ycyA9IFtcbiAgICAgICAgICAgIFtcIlwiLCBcImdyZWVuXCIsIFwibWRpLXBpbmUtdHJlZVwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcIm9yYW5nZVwiLCBcIm1kaS1mb3JtYXQtbGluZS1zdHlsZVwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcInllbGxvd1wiLCBcIm1kaS1ncmFzc1wiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcInNpbHZlclwiLCBcIm1kaS1jaGVja2JveC1ibGFuay1jaXJjbGVcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJsaWdodGdyYXlcIiwgXCJtZGktYXBwbGUtaWNsb3VkXCJdLFxuICAgICAgICAgICAgW1wiXCIsIFwiYmxhY2tcIiwgXCJtZGktd2F0ZXJcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJicm93blwiLCBcIm1kaS1mb29kLWNyb2lzc2FudFwiXSxcbiAgICAgICAgICAgIFtcImJsdWVcIiwgXCJyZWRcIiwgXCJtZGktc3F1YXJlLWNpcmNsZVwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcIm9yYW5nZVwiLCBcIm1kaS1mb29kLWRydW1zdGlja1wiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcInB1cnBsZVwiLCBcIm1kaS1zb2ZhXCJdLFxuICAgICAgICAgICAgW1wiXCIsIFwibGlnaHRibHVlXCIsIFwibWRpLXRzaGlydC12XCJdLFxuICAgICAgICAgICAgW1wiXCIsIFwiZ3JheVwiLCBcIm1kaS1maXNoXCJdLFxuICAgICAgICAgICAgW1wiXCIsIFwicmVkXCIsIFwibWRpLWZvb2QtYXBwbGVcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJnYW1ib2dlXCIsIFwibWRpLWJvdHRsZS1zb2RhXCJdLFxuICAgICAgICAgICAgW1wiXCIsIFwiZ29sZFwiLCBcIm1kaS1jaGVja2JveC1ibGFuay1jaXJjbGVcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJnb2xkXCIsIFwibWRpLXJpbmdcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJibHVlXCIsIFwibWRpLXRveS1icmlja1wiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcImJsYWNrXCIsIFwibWRpLW1vdG9yYmlrZVwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcImJyb3duXCIsIFwibWRpLWhhbWJ1cmdlclwiXSxcblxuICAgICAgICBdO1xuICAgICAgICB2YXIgaWMgPSBjb2xvcnNbdGhpcy5pZF0ubGVuZ3RoID09PSAzID8gY29sb3JzW3RoaXMuaWRdWzJdIDogXCJtZGktY2lyY2xlLW11bHRpcGxlXCI7XG4gICAgICAgIHJldHVybiBcIjxzcGFuIHN0eWxlPSd3aWR0aDoxNHB4O2ZvbnQtc2l6ZToxNXB4O2NvbG9yOlwiICsgY29sb3JzW3RoaXMuaWRdWzFdICsgXCI7YmFja2dyb3VuZC1jb2xvcjpcIiArIGNvbG9yc1t0aGlzLmlkXVswXSArIFwiJyBjbGFzcz0nbWRpIFwiICsgaWMgKyBcIic+PC9zcGFuPlwiO1xuICAgIH1cbn1cblxuZXhwb3J0IHZhciBhbGxQcm9kdWN0cyA9IFtcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAwLCBuYW1lOiBcIkhvbHpcIiwgZGFpbHlQcm9kdWNlOiA1LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAzMiwgIGRpc3RyaWJ1dGlvbjogMTYsYW1vdW50Rm9yUGVvcGxlOjUgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMSwgbmFtZTogXCJaaWVnZWxcIiwgZGFpbHlQcm9kdWNlOiA1LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAzMiwgIGRpc3RyaWJ1dGlvbjogMTYgLGFtb3VudEZvclBlb3BsZTo0LjUgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMiwgbmFtZTogXCJHZXRyZWlkZVwiLCBkYWlseVByb2R1Y2U6IDcsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsICBwcmljZVByb2R1Y3Rpb246IDIzLGRpc3RyaWJ1dGlvbjogMTYsYW1vdW50Rm9yUGVvcGxlOjQgIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDMsIG5hbWU6IFwiRWlzZW5cIiwgZGFpbHlQcm9kdWNlOiA1LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAzMiwgZGlzdHJpYnV0aW9uOiAxNixhbW91bnRGb3JQZW9wbGU6MyAgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogNCwgbmFtZTogXCJXb2xsZVwiLCBkYWlseVByb2R1Y2U6IDUsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsICBwcmljZVByb2R1Y3Rpb246IDMyLCBkaXN0cmlidXRpb246IDE2LGFtb3VudEZvclBlb3BsZToyLjUgIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDUsIG5hbWU6IFwiw5ZsXCIsIGRhaWx5UHJvZHVjZTogNSwgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogMCwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgIHByaWNlUHJvZHVjdGlvbjozMiwgIGRpc3RyaWJ1dGlvbjogMTYsYW1vdW50Rm9yUGVvcGxlOjMgIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDYsIG5hbWU6IFwiQnJvdFwiLCBkYWlseVByb2R1Y2U6IDYsIGlucHV0MTogMiwgaW5wdXQxQW1vdW50OiAyLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBwcmljZVByb2R1Y3Rpb246IDQ5LCBkaXN0cmlidXRpb246IDgsYW1vdW50Rm9yUGVvcGxlOjUgIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDcsIG5hbWU6IFwiUGxhc3RlXCIsIGRhaWx5UHJvZHVjZTogNiwgaW5wdXQxOiA1LCBpbnB1dDFBbW91bnQ6IDIsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIHByaWNlUHJvZHVjdGlvbjogNTcsICBkaXN0cmlidXRpb246IDggLGFtb3VudEZvclBlb3BsZTo1IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDgsIG5hbWU6IFwiRmxlaXNjaFwiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogMiwgaW5wdXQxQW1vdW50OiAxLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAxMDksIGRpc3RyaWJ1dGlvbjogOCxhbW91bnRGb3JQZW9wbGU6MiAgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogOSwgbmFtZTogXCJNw7ZiZWxcIiwgZGFpbHlQcm9kdWNlOiAyLCBpbnB1dDE6IDEsIGlucHV0MUFtb3VudDogMC41LCBpbnB1dDI6IDMsIGlucHV0MkFtb3VudDogMSwgIHByaWNlUHJvZHVjdGlvbjogMTE3LCAgZGlzdHJpYnV0aW9uOiA4LGFtb3VudEZvclBlb3BsZToyICB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxMCwgbmFtZTogXCJLbGVpZHVuZ1wiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogNCwgaW5wdXQxQW1vdW50OiAyLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAyODYsICBkaXN0cmlidXRpb246IDgsYW1vdW50Rm9yUGVvcGxlOjEgIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDExLCBuYW1lOiBcIkZpc2NoXCIsIGRhaWx5UHJvZHVjZTogMywgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogdW5kZWZpbmVkLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBwcmljZVByb2R1Y3Rpb246IDYwLGRpc3RyaWJ1dGlvbjogOCxhbW91bnRGb3JQZW9wbGU6MiAgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTIsIG5hbWU6IFwiQXBmZWxcIiwgZGFpbHlQcm9kdWNlOiA0LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiB1bmRlZmluZWQsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAscHJpY2VQcm9kdWN0aW9uOiA0NSwgIGRpc3RyaWJ1dGlvbjogOCAsYW1vdW50Rm9yUGVvcGxlOjMgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTMsIG5hbWU6IFwiU2FmdFwiLCBkYWlseVByb2R1Y2U6IDMsIGlucHV0MTogMTIsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCxwcmljZVByb2R1Y3Rpb246IDg1LCAgZGlzdHJpYnV0aW9uOiA4ICxhbW91bnRGb3JQZW9wbGU6MyB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxNCwgbmFtZTogXCJHb2xkXCIsIGRhaWx5UHJvZHVjZTogMiwgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogMCwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgIHByaWNlUHJvZHVjdGlvbjogMTAwLCAgZGlzdHJpYnV0aW9uOiA0ICxhbW91bnRGb3JQZW9wbGU6IDF9KSwgXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTUsIG5hbWU6IFwiU2NobXVja1wiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogMTQsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgIHByaWNlUHJvZHVjdGlvbjogMTg0LCBkaXN0cmlidXRpb246IDQgLGFtb3VudEZvclBlb3BsZToyIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDE2LCBuYW1lOiBcIlNwaWVsemV1Z1wiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogNCwgaW5wdXQxQW1vdW50OiAwLjUsIGlucHV0MjogNywgaW5wdXQyQW1vdW50OiAwLjUsICBwcmljZVByb2R1Y3Rpb246IDI3NCwgIGRpc3RyaWJ1dGlvbjogNCxhbW91bnRGb3JQZW9wbGU6MSAgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTcsIG5hbWU6IFwiRmFocnJhZFwiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogMywgaW5wdXQxQW1vdW50OiAxLCBpbnB1dDI6IDcsIGlucHV0MkFtb3VudDogMC41LCAgcHJpY2VQcm9kdWN0aW9uOiAyNzQsICBkaXN0cmlidXRpb246IDQgLGFtb3VudEZvclBlb3BsZToxIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDE4LCBuYW1lOiBcIkZpc2NoYnJvdFwiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogMTEsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiA2LCBpbnB1dDJBbW91bnQ6IDEsICBwcmljZVByb2R1Y3Rpb246IDM4MiwgIGRpc3RyaWJ1dGlvbjogNCAsYW1vdW50Rm9yUGVvcGxlOjEgfSlcbl07XG4vKmV4cG9ydCB2YXIgYWxsUHJvZHVjdHMgPSBbXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMCwgbmFtZTogXCJIb2x6XCIsIGRhaWx5UHJvZHVjZTogMi41LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBkYWlseUNvbnN1bXRpb246IDAuMDAxNSwgcHJpY2VQcm9kdWN0aW9uOiAzMywgcHJpY2VQdXJjaGFzZTogNDAsIHByaWNlU2VsbGluZzogNTksIGRpc3RyaWJ1dGlvbjogMTYgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMSwgbmFtZTogXCJaaWVnZWxcIiwgZGFpbHlQcm9kdWNlOiA2LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBkYWlseUNvbnN1bXRpb246IDAuMDAyOSwgcHJpY2VQcm9kdWN0aW9uOiAzMywgcHJpY2VQdXJjaGFzZTogNDAsIHByaWNlU2VsbGluZzogNTksIGRpc3RyaWJ1dGlvbjogMTYgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMiwgbmFtZTogXCJHZXRyZWlkZVwiLCBkYWlseVByb2R1Y2U6IDUsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDMwNjgsIHByaWNlUHJvZHVjdGlvbjogMzMsIHByaWNlUHVyY2hhc2U6IDQwLCBwcmljZVNlbGxpbmc6IDU5LCBkaXN0cmlidXRpb246IDE2IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDMsIG5hbWU6IFwiSGFuZlwiLCBkYWlseVByb2R1Y2U6IDIuNSwgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogMCwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgZGFpbHlDb25zdW10aW9uOiAwLjAwMTUsIHByaWNlUHJvZHVjdGlvbjogMzMsIHByaWNlUHVyY2hhc2U6IDQwLCBwcmljZVNlbGxpbmc6IDU5LCBkaXN0cmlidXRpb246IDE2IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDQsIG5hbWU6IFwiV29sbGVcIiwgZGFpbHlQcm9kdWNlOiAyLCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBkYWlseUNvbnN1bXRpb246IDAuMDAxMTY4LCBwcmljZVByb2R1Y3Rpb246IDUwLCBwcmljZVB1cmNoYXNlOiA2MCwgcHJpY2VTZWxsaW5nOiA5MCwgZGlzdHJpYnV0aW9uOiA4IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDUsIG5hbWU6IFwiTWV0YWxsZVwiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDExNjgsIHByaWNlUHJvZHVjdGlvbjogNTAsIHByaWNlUHVyY2hhc2U6IDYwLCBwcmljZVNlbGxpbmc6IDkwLCBkaXN0cmlidXRpb246IDggfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogNiwgbmFtZTogXCJIb25pZ1wiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDExNjgsIHByaWNlUHJvZHVjdGlvbjogNTAsIHByaWNlUHVyY2hhc2U6IDYwLCBwcmljZVNlbGxpbmc6IDkwLCBkaXN0cmlidXRpb246IDggfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogNywgbmFtZTogXCJTYWx6XCIsIGRhaWx5UHJvZHVjZTogMSwgaW5wdXQxOiAwLCBpbnB1dDFBbW91bnQ6IDAuMjUsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDA2LCBwcmljZVByb2R1Y3Rpb246IDU4LCBwcmljZVB1cmNoYXNlOiA3MCwgcHJpY2VTZWxsaW5nOiAxMDQsIGRpc3RyaWJ1dGlvbjogOCB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiA4LCBuYW1lOiBcIk1ldGFsbHdhcmVuXCIsIGRhaWx5UHJvZHVjZTogMS41LCBpbnB1dDE6IDAsIGlucHV0MUFtb3VudDogMC41LCBpbnB1dDI6IDUsIGlucHV0MkFtb3VudDogNSwgZGFpbHlDb25zdW10aW9uOiAwLjAwMDksIHByaWNlUHJvZHVjdGlvbjogMTY3LCBwcmljZVB1cmNoYXNlOiAyMDAsIHByaWNlU2VsbGluZzogMzAxLCBkaXN0cmlidXRpb246IDggfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogOSwgbmFtZTogXCJNZXRcIiwgZGFpbHlQcm9kdWNlOiAyLCBpbnB1dDE6IDYsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgZGFpbHlDb25zdW10aW9uOiAwLjAwMTE2OCwgcHJpY2VQcm9kdWN0aW9uOiAxNTAsIHByaWNlUHVyY2hhc2U6IDE4MCwgcHJpY2VTZWxsaW5nOiAyNzAsIGRpc3RyaWJ1dGlvbjogOCB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxMCwgbmFtZTogXCJUdWNoXCIsIGRhaWx5UHJvZHVjZTogMSwgaW5wdXQxOiA0LCBpbnB1dDFBbW91bnQ6IDEsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDA2LCBwcmljZVByb2R1Y3Rpb246IDE1MCwgcHJpY2VQdXJjaGFzZTogMTgwLCBwcmljZVNlbGxpbmc6IDI3MCwgZGlzdHJpYnV0aW9uOiA4IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDExLCBuYW1lOiBcIkJpZXJcIiwgZGFpbHlQcm9kdWNlOiAzLCBpbnB1dDE6IDIsIGlucHV0MUFtb3VudDogMC4yNSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgZGFpbHlDb25zdW10aW9uOiAwLjAwMTc2OCwgcHJpY2VQcm9kdWN0aW9uOiA3NSwgcHJpY2VQdXJjaGFzZTogOTAsIHByaWNlU2VsbGluZzogMTM1LCBkaXN0cmlidXRpb246IDQgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTIsIG5hbWU6IFwiU3RvY2tmaXNjaFwiLCBkYWlseVByb2R1Y2U6IDMsIGlucHV0MTogNywgaW5wdXQxQW1vdW50OiAwLjUsIGlucHV0MjogMywgaW5wdXQyQW1vdW50OiAzLCBkYWlseUNvbnN1bXRpb246IDAuMDAxNzY4LCBwcmljZVByb2R1Y3Rpb246IDEyOSwgcHJpY2VQdXJjaGFzZTogMTU1LCBwcmljZVNlbGxpbmc6IDIzMiwgZGlzdHJpYnV0aW9uOiA0IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDEzLCBuYW1lOiBcIktsZWlkdW5nXCIsIGRhaWx5UHJvZHVjZTogMSwgaW5wdXQxOiAxMCwgaW5wdXQxQW1vdW50OiAxLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBkYWlseUNvbnN1bXRpb246IDAuMDAwNiwgcHJpY2VQcm9kdWN0aW9uOiAzNTAsIHByaWNlUHVyY2hhc2U6IDQyMCwgcHJpY2VTZWxsaW5nOiA2MzAsIGRpc3RyaWJ1dGlvbjogNCB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxNCwgbmFtZTogXCJLw6RzZVwiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDExNjgsIHByaWNlUHJvZHVjdGlvbjogMTAwLCBwcmljZVB1cmNoYXNlOiAxMjAsIHByaWNlU2VsbGluZzogMTgwLCBkaXN0cmlidXRpb246IDQgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTUsIG5hbWU6IFwiUGVjaFwiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogMCwgaW5wdXQxQW1vdW50OiAwLjUsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDExNjgsIHByaWNlUHJvZHVjdGlvbjogMTE3LCBwcmljZVB1cmNoYXNlOiAxNDAsIHByaWNlU2VsbGluZzogMjExLCBkaXN0cmlidXRpb246IDQgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTYsIG5hbWU6IFwiRmVsbGVcIiwgZGFpbHlQcm9kdWNlOiAxLCBpbnB1dDE6IDMsIGlucHV0MUFtb3VudDogMC41LCBpbnB1dDI6IDgsIGlucHV0MkFtb3VudDogMC41LCBkYWlseUNvbnN1bXRpb246IDAuMDAwNiwgcHJpY2VQcm9kdWN0aW9uOiAzMDAsIHByaWNlUHVyY2hhc2U6IDM2MCwgcHJpY2VTZWxsaW5nOiA1NDAsIGRpc3RyaWJ1dGlvbjogNCB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxNywgbmFtZTogXCJGbGVpc2NoXCIsIGRhaWx5UHJvZHVjZTogMSwgaW5wdXQxOiA3LCBpbnB1dDFBbW91bnQ6IDEuNSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgZGFpbHlDb25zdW10aW9uOiAwLjAwMDYsIHByaWNlUHJvZHVjdGlvbjogMjg4LCBwcmljZVB1cmNoYXNlOiAzNDYsIHByaWNlU2VsbGluZzogNTE4LCBkaXN0cmlidXRpb246IDQgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTgsIG5hbWU6IFwiV2VpblwiLCBkYWlseVByb2R1Y2U6IDAuNSwgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogMCwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgZGFpbHlDb25zdW10aW9uOiAwLjAwMDMzNiwgcHJpY2VQcm9kdWN0aW9uOiA0MDAsIHByaWNlUHVyY2hhc2U6IDQ4MCwgcHJpY2VTZWxsaW5nOiA3MjAsIGRpc3RyaWJ1dGlvbjogNCB9KVxuICAgIC8vICAgIG5ldyBQcm9kdWN0KHsgaWQ6MTksIG5hbWU6IFwiR2V3w7xyemVcIiwgZGFpbHlQcm9kdWNlOiAwLCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBkYWlseUNvbnN1bXRpb246IDAuMDAwMzM2LCBwcmljZVByb2R1Y3Rpb246IDAsIHByaWNlUHVyY2hhc2U6IDYwMCwgcHJpY2VTZWxsaW5nOiA5MDAgfSlcbl07Ki9cblxuXG5leHBvcnQgZnVuY3Rpb24gdGVzdCgpIHtcbiAgICB2YXIgcGVvcGxlID0gMzA2NTY7XG4gICAgY29uc29sZS5sb2coYWxsUHJvZHVjdHNbMV0ucHJpY2VQdXJjaGFzZStcIiBcIitNYXRoLnJvdW5kKDIwMCphbGxQcm9kdWN0c1sxXS5kYWlseUNvbnN1bXRpb24qNDApKTtcbiAgICBjb25zb2xlLmxvZyhhbGxQcm9kdWN0c1sxXS5jYWxjUHJpY2UoMjAwLDIsdHJ1ZSkpO1xufVxuXG5cbiJdfQ==