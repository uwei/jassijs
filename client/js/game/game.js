define(["require", "exports", "game/citydialog", "game/world", "game/airplanedialog", "game/icons", "game/product", "game/diagramdialog", "game/savedialog"], function (require, exports, citydialog_1, world_1, airplanedialog_1, icons_1, product_1, diagramdialog_1, savedialog_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.test = exports.Game = exports.Parameter = void 0;
    window.onbeforeunload = function () {
        return "Do you want to exit?";
    };
    class Statistic {
        constructor() {
            this.today = {};
            this.yesterday = {};
        }
    }
    class Parameter {
        constructor() {
            this.ratePurchase = 1.125;
            this.rateSelling = 1.25;
            this.ratePriceMin = 0.66;
            this.ratePriceMax = 1.33;
            this.rateBuyAirplane = 1;
            this.rateBuyBuilding = 1;
            this.rateBuyBuildingGrowFactor = 5000;
            this.rateCostsAirplaine = 1;
            this.rateCostShop = 100;
            this.rateCostsShopMany = 1000;
            this.workerInCompany = 20;
            this.neutralStartPeople = 200;
            this.neutralProductionRate = 2;
            this.newAirportRate = 1.05;
            this.capacityShop = 5000;
            this.daysBuildBuilding = 4;
            this.allAirplaneTypes = [
                { typeid: 0, model: "Airplane A", speed: 200, capacity: 200, costs: 60, buildDays: 20, buildingCosts: 20000, buildingMaterial: [0, 0, 0, 40, 0, 10, 0, 10, 0, 10, 0, 0, 0, 0, 10] },
                { typeid: 1, model: "Airplane B", speed: 210, capacity: 300, costs: 90, buildDays: 25, buildingCosts: 40000, buildingMaterial: [0, 0, 0, 60, 0, 20, 0, 20, 0, 20, 0, 0, 0, 0, 20] },
                { typeid: 2, model: "Airplane C", speed: 220, capacity: 400, costs: 150, buildDays: 35, buildingCosts: 60000, buildingMaterial: [0, 0, 0, 100, 0, 30, 0, 30, 0, 30, 0, 0, 0, 0, 30] },
                { typeid: 3, model: "Airplane D", speed: 240, capacity: 700, costs: 180, buildDays: 40, buildingCosts: 80000, buildingMaterial: [0, 0, 0, 120, 0, 40, 0, 40, 0, 40, 0, 0, 0, 0, 40] },
                { typeid: 4, model: "Airplane E", speed: 260, capacity: 1500, costs: 270, buildDays: 50, buildingCosts: 200000, buildingMaterial: [0, 0, 0, 200, 0, 50, 0, 50, 0, 50, 0, 0, 0, 0, 50] },
                { typeid: 5, model: "Airplane F", speed: 300, capacity: 3000, costs: 700, buildDays: 80, buildingCosts: 350000, buildingMaterial: [0, 0, 0, 400, 0, 100, 0, 100, 0, 100, 0, 0, 0, 0, 100] },
            ];
        }
    }
    exports.Parameter = Parameter;
    window.parameter = new Parameter();
    globalThis.parameter = new Parameter();
    parameter.allProducts = [
        new product_1.Product({ id: 0, name: "Stein", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 5 }),
        new product_1.Product({ id: 1, name: "Holz", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 4.5 }),
        new product_1.Product({ id: 2, name: "Getreide", dailyProduce: 7, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 23, distribution: 16, amountForPeople: 4 }),
        new product_1.Product({ id: 3, name: "Eisen", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 3 }),
        new product_1.Product({ id: 4, name: "Wolle", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 2.5 }),
        new product_1.Product({ id: 5, name: "Öl", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 3 }),
        new product_1.Product({ id: 6, name: "Brot", dailyProduce: 6, input1: 2, input1Amount: 2, input2: undefined, input2Amount: 0, priceProduction: 49, distribution: 8, amountForPeople: 5 }),
        new product_1.Product({ id: 7, name: "Plaste", dailyProduce: 6, input1: 5, input1Amount: 2, input2: undefined, input2Amount: 0, priceProduction: 57, distribution: 8, amountForPeople: 5 }),
        new product_1.Product({ id: 8, name: "Fleisch", dailyProduce: 2, input1: 2, input1Amount: 1, input2: undefined, input2Amount: 0, priceProduction: 109, distribution: 8, amountForPeople: 2 }),
        new product_1.Product({ id: 9, name: "Möbel", dailyProduce: 2, input1: 1, input1Amount: 0.5, input2: 3, input2Amount: 1, priceProduction: 117, distribution: 8, amountForPeople: 2 }),
        new product_1.Product({ id: 10, name: "Kleidung", dailyProduce: 1, input1: 4, input1Amount: 2, input2: undefined, input2Amount: 0, priceProduction: 286, distribution: 8, amountForPeople: 1 }),
        new product_1.Product({ id: 11, name: "Fisch", dailyProduce: 3, input1: undefined, input1Amount: undefined, input2: undefined, input2Amount: 0, priceProduction: 60, distribution: 8, amountForPeople: 2 }),
        new product_1.Product({ id: 12, name: "Apfel", dailyProduce: 4, input1: undefined, input1Amount: undefined, input2: undefined, input2Amount: 0, priceProduction: 45, distribution: 8, amountForPeople: 3 }),
        new product_1.Product({ id: 13, name: "Saft", dailyProduce: 3, input1: 12, input1Amount: 1, input2: undefined, input2Amount: 0, priceProduction: 85, distribution: 8, amountForPeople: 3 }),
        new product_1.Product({ id: 14, name: "Gold", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 100, distribution: 4, amountForPeople: 1 }),
        new product_1.Product({ id: 15, name: "Schmuck", dailyProduce: 2, input1: 14, input1Amount: 1, input2: undefined, input2Amount: 0, priceProduction: 184, distribution: 4, amountForPeople: 2 }),
        new product_1.Product({ id: 16, name: "Spielzeug", dailyProduce: 1, input1: 4, input1Amount: 0.5, input2: 7, input2Amount: 0.5, priceProduction: 274, distribution: 4, amountForPeople: 1 }),
        new product_1.Product({ id: 17, name: "Fahrrad", dailyProduce: 1, input1: 3, input1Amount: 1, input2: 7, input2Amount: 0.5, priceProduction: 274, distribution: 4, amountForPeople: 1 }),
        new product_1.Product({ id: 18, name: "Fischbrot", dailyProduce: 1, input1: 11, input1Amount: 1, input2: 6, input2Amount: 1, priceProduction: 382, distribution: 4, amountForPeople: 1 })
    ];
    //global.parameter=new Parametetr();
    class Game {
        constructor() {
            this.parameter = parameter;
            this.speed = 1;
            this.mapWidth = 1000;
            this.mapHeight = 600;
            this.statistic = new Statistic();
            var _this = this;
            Game.instance = this;
            this.lastUpdate = Date.now();
            this.date = new Date("Sat Jan 01 2000 00:00:00");
            citydialog_1.CityDialog.instance = undefined;
            this.nevercallthisfunction();
        }
        updateTitle() {
            try {
                document.getElementById("gamemoney").innerHTML = new Number(this.getMoney()).toLocaleString();
                document.getElementById("gamedate").innerHTML = this.date.toLocaleDateString();
                this.world.update();
            }
            catch (_a) {
                console.log("stop game");
                return;
            }
        }
        updateSize() {
            this.domWorld.style.width = (this.mapWidth + 80) + "px";
            this.domWorld.style.height = (this.mapHeight + 100) + "px";
            this.domWorld.parentNode.style.width = (this.mapWidth + 80) + "px";
            this.domWorld.parentNode.style.height = (this.mapHeight + 100) + "px";
        }
        //never call this outside the timer - then would be 2 updates
        nevercallthisfunction() {
            //var t=new Date().getTime();
            var intervall = 1000 / this.speed;
            var _this = this;
            var diff = 1000 * 60 * 60; //update always at full clock//((Date.now() - this.lastUpdate)) * 60 * 60 * this.speed;
            this.date = new Date(this.date.getTime() + diff);
            this.updateTitle();
            this.lastUpdate = Date.now();
            this.timer = setTimeout(() => {
                _this.nevercallthisfunction();
            }, intervall);
            //console.log("tooks"+(new Date().getTime()-t));
            citydialog_1.CityDialog.getInstance().update();
            airplanedialog_1.AirplaneDialog.getInstance().update();
        }
        newGame() {
            this.world = new world_1.World();
            this.world.game = this;
            this._money = 20000;
            this.world.newGame();
        }
        getMoney() {
            return this._money;
        }
        changeMoney(change, why, city = undefined) {
            this._money += change;
            if (this.statistic.today[why] === undefined)
                this.statistic.today[why] = 0;
            this.statistic.today[why] += change;
            //  console.log(change+" "+why);
        }
        render(dom) {
            var _this = this;
            dom.innerHTML = "";
            dom.style.backgroundColor = "lightblue";
            this.dom = dom;
            var sdomHeader = `
          <div style="height:15px;position:fixed;z-index:10000;background-color:lightblue;">
            Traffics 
            <button id="game-slower">` + icons_1.Icons.minus + `</button> 
            <span id="gamedate"></span>   
            <button id="game-faster">` + icons_1.Icons.plus + `</button> 
            Money:<span id="gamemoney"></span>` + icons_1.Icons.money + `
            <button id="save-game">` + icons_1.Icons.save + `</button> 
            <button id="debug-game">` + icons_1.Icons.debug + `</button> 
            <button id="show-diagram">` + icons_1.Icons.diagram + `</button> 
          </div>  
        `;
            this.domHeader = document.createRange().createContextualFragment(sdomHeader).children[0];
            var sdomWorld = `
          <div id="world" style="position:absolute;top:20px;">
          </div>  
        `;
            this.domWorld = document.createRange().createContextualFragment(sdomWorld).children[0];
            this.dom.appendChild(this.domHeader);
            // var headerPlaceeholder = <any>document.createRange().createContextualFragment('<div style="height:15px"></div>').children[0]
            // this.dom.appendChild(headerPlaceeholder);
            this.dom.appendChild(this.domWorld);
            this.world.render(this.domWorld);
            this.updateSize();
            setTimeout(() => {
                _this.bindActions();
            }, 500);
        }
        bindActions() {
            var _this = this;
            document.getElementById("gamedate").addEventListener("mousedown", () => {
                console.log("down");
            });
            document.getElementById("save-game").addEventListener("click", () => {
                savedialog_1.SaveDialog.getInstance().game = this;
                savedialog_1.SaveDialog.getInstance().show();
            });
            document.getElementById("debug-game").addEventListener("click", () => {
                for (var x = 0; x < parameter.allProducts.length; x++) {
                    _this.world.cities[0].shop[x] = 5000;
                }
                _this._money = 1000000;
            });
            document.getElementById("show-diagram").addEventListener("click", () => {
                diagramdialog_1.DiagramDialog.getInstance().world = this.world;
                diagramdialog_1.DiagramDialog.getInstance().show();
            });
            document.getElementById("game-slower").addEventListener("click", () => {
                if (_this.speed === Game.temposcale[0]) {
                    _this.pause();
                    console.log("pause");
                    return;
                }
                var pos = Game.temposcale.indexOf(_this.speed);
                pos--;
                if (pos == -1)
                    return;
                _this.speed = Game.temposcale[pos];
                _this.pause();
                _this.resume();
            });
            document.getElementById("game-faster").addEventListener("click", () => {
                if (_this.isPaused()) {
                    _this.resume();
                    return;
                }
                var pos = Game.temposcale.indexOf(_this.speed);
                pos++;
                if (pos >= Game.temposcale.length) {
                    console.log("max");
                    return;
                }
                _this.speed = Game.temposcale[pos];
                _this.pause();
                _this.resume();
            });
        }
        resume() {
            if (this.timer === 0)
                this.nevercallthisfunction();
        }
        isPaused() {
            return this.timer === 0;
        }
        pause() {
            clearTimeout(this.timer);
            this.timer = 0;
        }
        destroy() {
            this.world.destroy();
            clearTimeout(this.timer);
        }
    }
    exports.Game = Game;
    Game.temposcale = [0.01, 0.5, 1, 2, 4, 8, 16, 32, 64, 128];
    function test() {
    }
    exports.test = test;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2dhbWUvZ2FtZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0lBY0EsTUFBTSxDQUFDLGNBQWMsR0FBRztRQUN0QixPQUFPLHNCQUFzQixDQUFDO0lBRWhDLENBQUMsQ0FBQztJQUNGLE1BQU0sU0FBUztRQUFmO1lBQ0UsVUFBSyxHQUE4QixFQUFFLENBQUM7WUFDdEMsY0FBUyxHQUE4QixFQUFFLENBQUM7UUFDNUMsQ0FBQztLQUFBO0lBTUQsTUFBYSxTQUFTO1FBQXRCO1lBQ0UsaUJBQVksR0FBRyxLQUFLLENBQUM7WUFDckIsZ0JBQVcsR0FBRyxJQUFJLENBQUM7WUFDbkIsaUJBQVksR0FBRyxJQUFJLENBQUM7WUFDcEIsaUJBQVksR0FBRyxJQUFJLENBQUM7WUFDcEIsb0JBQWUsR0FBRyxDQUFDLENBQUM7WUFDcEIsb0JBQWUsR0FBRyxDQUFDLENBQUM7WUFDcEIsOEJBQXlCLEdBQUcsSUFBSSxDQUFDO1lBQ2pDLHVCQUFrQixHQUFHLENBQUMsQ0FBQztZQUN2QixpQkFBWSxHQUFHLEdBQUcsQ0FBQztZQUNuQixzQkFBaUIsR0FBRyxJQUFJLENBQUM7WUFDekIsb0JBQWUsR0FBRyxFQUFFLENBQUM7WUFDckIsdUJBQWtCLEdBQUcsR0FBRyxDQUFDO1lBQ3pCLDBCQUFxQixHQUFHLENBQUMsQ0FBQztZQUMxQixtQkFBYyxHQUFDLElBQUksQ0FBQztZQUNwQixpQkFBWSxHQUFDLElBQUksQ0FBQztZQUVsQixzQkFBaUIsR0FBQyxDQUFDLENBQUM7WUFDcEIscUJBQWdCLEdBQUM7Z0JBQ2YsRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsS0FBSyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLEVBQUUsRUFBQyxhQUFhLEVBQUMsS0FBSyxFQUFDLGdCQUFnQixFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLENBQUMsRUFBQztnQkFDckosRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsS0FBSyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLEVBQUUsRUFBQyxhQUFhLEVBQUMsS0FBSyxFQUFDLGdCQUFnQixFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLENBQUMsRUFBQztnQkFDckosRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsS0FBSyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFFLEtBQUssRUFBQyxHQUFHLEVBQUMsU0FBUyxFQUFDLEVBQUUsRUFBQyxhQUFhLEVBQUMsS0FBSyxFQUFDLGdCQUFnQixFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLENBQUMsRUFBQztnQkFDdkosRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsS0FBSyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFFLEtBQUssRUFBQyxHQUFHLEVBQUMsU0FBUyxFQUFDLEVBQUUsRUFBQyxhQUFhLEVBQUMsS0FBSyxFQUFDLGdCQUFnQixFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLENBQUMsRUFBQztnQkFDdkosRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsS0FBSyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFFLEtBQUssRUFBQyxHQUFHLEVBQUMsU0FBUyxFQUFDLEVBQUUsRUFBQyxhQUFhLEVBQUMsTUFBTSxFQUFDLGdCQUFnQixFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLENBQUMsRUFBQztnQkFDekosRUFBQyxNQUFNLEVBQUMsQ0FBQyxFQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsS0FBSyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFFLEtBQUssRUFBQyxHQUFHLEVBQUMsU0FBUyxFQUFDLEVBQUUsRUFBQyxhQUFhLEVBQUMsTUFBTSxFQUFDLGdCQUFnQixFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsRUFBQzthQUM1SixDQUFDO1FBQ04sQ0FBQztLQUFBO0lBMUJELDhCQTBCQztJQUNELE1BQU0sQ0FBQyxTQUFTLEdBQUMsSUFBSSxTQUFTLEVBQUUsQ0FBQztJQUNqQyxVQUFVLENBQUMsU0FBUyxHQUFDLElBQUksU0FBUyxFQUFFLENBQUM7SUFHckMsU0FBUyxDQUFDLFdBQVcsR0FBRTtRQUNyQixJQUFJLGlCQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxFQUFFLEVBQUcsWUFBWSxFQUFFLEVBQUUsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFFLENBQUM7UUFDekwsSUFBSSxpQkFBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsRUFBRSxFQUFHLFlBQVksRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFDLEdBQUcsRUFBRSxDQUFDO1FBQzNMLElBQUksaUJBQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUcsZUFBZSxFQUFFLEVBQUUsRUFBQyxZQUFZLEVBQUUsRUFBRSxFQUFDLGVBQWUsRUFBQyxDQUFDLEVBQUcsQ0FBQztRQUMzTCxJQUFJLGlCQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDekwsSUFBSSxpQkFBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUMsZUFBZSxFQUFDLEdBQUcsRUFBRyxDQUFDO1FBQzNMLElBQUksaUJBQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUcsZUFBZSxFQUFDLEVBQUUsRUFBRyxZQUFZLEVBQUUsRUFBRSxFQUFDLGVBQWUsRUFBQyxDQUFDLEVBQUcsQ0FBQztRQUN0TCxJQUFJLGlCQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLGVBQWUsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDOUssSUFBSSxpQkFBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUUsRUFBRSxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUUsZUFBZSxFQUFDLENBQUMsRUFBRSxDQUFDO1FBQ2pMLElBQUksaUJBQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUcsZUFBZSxFQUFFLEdBQUcsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFDLGVBQWUsRUFBQyxDQUFDLEVBQUcsQ0FBQztRQUNuTCxJQUFJLGlCQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxHQUFHLEVBQUcsWUFBWSxFQUFFLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDNUssSUFBSSxpQkFBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRyxlQUFlLEVBQUUsR0FBRyxFQUFHLFlBQVksRUFBRSxDQUFDLEVBQUMsZUFBZSxFQUFDLENBQUMsRUFBRyxDQUFDO1FBQ3RMLElBQUks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LENBQUM7UUFDMUIsQ0FBQztRQUNELEtBQUs7WUFDSCxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLENBQUM7UUFFRCxPQUFPO1lBQ0wsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNyQixZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNCLENBQUM7O0lBcExILG9CQXFMQztJQXBLUSxlQUFVLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtJQXNLOUQsU0FBZ0IsSUFBSTtJQUVwQixDQUFDO0lBRkQsb0JBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaXR5RGlhbG9nIH0gZnJvbSBcImdhbWUvY2l0eWRpYWxvZ1wiO1xyXG5pbXBvcnQgeyBXb3JsZCB9IGZyb20gXCJnYW1lL3dvcmxkXCI7XHJcbmltcG9ydCB7IFBhbmVsIH0gZnJvbSBcImphc3NpanMvdWkvUGFuZWxcIjtcclxuaW1wb3J0IHdpbmRvd3MgZnJvbSBcImphc3NpanMvYmFzZS9XaW5kb3dzXCI7XHJcbmltcG9ydCB7IEFpcnBsYW5lRGlhbG9nIH0gZnJvbSBcImdhbWUvYWlycGxhbmVkaWFsb2dcIjtcclxuaW1wb3J0IHsgSWNvbnMgfSBmcm9tIFwiZ2FtZS9pY29uc1wiO1xyXG5pbXBvcnQgeyBDb21wYW55IH0gZnJvbSBcImdhbWUvY29tcGFueVwiO1xyXG5pbXBvcnQgeyBBaXJwbGFuZSB9IGZyb20gXCJnYW1lL2FpcnBsYW5lXCI7XHJcbmltcG9ydCB7IENpdHkgfSBmcm9tIFwiZ2FtZS9jaXR5XCI7XHJcbmltcG9ydCB7IFJvdXRlIH0gZnJvbSBcImdhbWUvcm91dGVcIjtcclxuaW1wb3J0IHsgIFByb2R1Y3QgfSBmcm9tIFwiZ2FtZS9wcm9kdWN0XCI7XHJcbmltcG9ydCB7IERpYWdyYW1EaWFsb2cgfSBmcm9tIFwiZ2FtZS9kaWFncmFtZGlhbG9nXCI7XHJcbmltcG9ydCB7IFNhdmVEaWFsb2cgfSBmcm9tIFwiZ2FtZS9zYXZlZGlhbG9nXCI7XHJcblxyXG53aW5kb3cub25iZWZvcmV1bmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIFwiRG8geW91IHdhbnQgdG8gZXhpdD9cIjtcclxuXHJcbn07XHJcbmNsYXNzIFN0YXRpc3RpYyB7XHJcbiAgdG9kYXk6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcclxuICB5ZXN0ZXJkYXk6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcclxufVxyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIHZhciBwYXJhbWV0ZXI6UGFyYW1ldGVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGFyYW1ldGVyIHtcclxuICByYXRlUHVyY2hhc2UgPSAxLjEyNTtcclxuICByYXRlU2VsbGluZyA9IDEuMjU7XHJcbiAgcmF0ZVByaWNlTWluID0gMC42NjtcclxuICByYXRlUHJpY2VNYXggPSAxLjMzO1xyXG4gIHJhdGVCdXlBaXJwbGFuZSA9IDE7XHJcbiAgcmF0ZUJ1eUJ1aWxkaW5nID0gMTtcclxuICByYXRlQnV5QnVpbGRpbmdHcm93RmFjdG9yID0gNTAwMDtcclxuICByYXRlQ29zdHNBaXJwbGFpbmUgPSAxO1xyXG4gIHJhdGVDb3N0U2hvcCA9IDEwMDtcclxuICByYXRlQ29zdHNTaG9wTWFueSA9IDEwMDA7XHJcbiAgd29ya2VySW5Db21wYW55ID0gMjA7XHJcbiAgbmV1dHJhbFN0YXJ0UGVvcGxlID0gMjAwO1xyXG4gIG5ldXRyYWxQcm9kdWN0aW9uUmF0ZSA9IDI7XHJcbiAgbmV3QWlycG9ydFJhdGU9MS4wNTtcclxuICBjYXBhY2l0eVNob3A9NTAwMDtcclxuICBhbGxQcm9kdWN0czpQcm9kdWN0W107XHJcbiAgZGF5c0J1aWxkQnVpbGRpbmc9NDtcclxuICBhbGxBaXJwbGFuZVR5cGVzPVtcclxuICAgIHt0eXBlaWQ6MCxtb2RlbDpcIkFpcnBsYW5lIEFcIixzcGVlZDoyMDAsY2FwYWNpdHk6MjAwLCBjb3N0czo2MCxidWlsZERheXM6MjAsYnVpbGRpbmdDb3N0czoyMDAwMCxidWlsZGluZ01hdGVyaWFsOlswLDAsMCw0MCwwLDEwLDAsMTAsMCwxMCwwLDAsMCwwLDEwXX0sXHJcbiAgICB7dHlwZWlkOjEsbW9kZWw6XCJBaXJwbGFuZSBCXCIsc3BlZWQ6MjEwLGNhcGFjaXR5OjMwMCwgY29zdHM6OTAsYnVpbGREYXlzOjI1LGJ1aWxkaW5nQ29zdHM6NDAwMDAsYnVpbGRpbmdNYXRlcmlhbDpbMCwwLDAsNjAsMCwyMCwwLDIwLDAsMjAsMCwwLDAsMCwyMF19LFxyXG4gICAge3R5cGVpZDoyLG1vZGVsOlwiQWlycGxhbmUgQ1wiLHNwZWVkOjIyMCxjYXBhY2l0eTo0MDAsIGNvc3RzOjE1MCxidWlsZERheXM6MzUsYnVpbGRpbmdDb3N0czo2MDAwMCxidWlsZGluZ01hdGVyaWFsOlswLDAsMCwxMDAsMCwzMCwwLDMwLDAsMzAsMCwwLDAsMCwzMF19LFxyXG4gICAge3R5cGVpZDozLG1vZGVsOlwiQWlycGxhbmUgRFwiLHNwZWVkOjI0MCxjYXBhY2l0eTo3MDAsIGNvc3RzOjE4MCxidWlsZERheXM6NDAsYnVpbGRpbmdDb3N0czo4MDAwMCxidWlsZGluZ01hdGVyaWFsOlswLDAsMCwxMjAsMCw0MCwwLDQwLDAsNDAsMCwwLDAsMCw0MF19LFxyXG4gICAge3R5cGVpZDo0LG1vZGVsOlwiQWlycGxhbmUgRVwiLHNwZWVkOjI2MCxjYXBhY2l0eToxNTAwLCBjb3N0czoyNzAsYnVpbGREYXlzOjUwLGJ1aWxkaW5nQ29zdHM6MjAwMDAwLGJ1aWxkaW5nTWF0ZXJpYWw6WzAsMCwwLDIwMCwwLDUwLDAsNTAsMCw1MCwwLDAsMCwwLDUwXX0sXHJcbiAgICB7dHlwZWlkOjUsbW9kZWw6XCJBaXJwbGFuZSBGXCIsc3BlZWQ6MzAwLGNhcGFjaXR5OjMwMDAsIGNvc3RzOjcwMCxidWlsZERheXM6ODAsYnVpbGRpbmdDb3N0czozNTAwMDAsYnVpbGRpbmdNYXRlcmlhbDpbMCwwLDAsNDAwLDAsMTAwLDAsMTAwLDAsMTAwLDAsMCwwLDAsMTAwXX0sXHJcbiAgICBdO1xyXG59XHJcbndpbmRvdy5wYXJhbWV0ZXI9bmV3IFBhcmFtZXRlcigpO1xyXG5nbG9iYWxUaGlzLnBhcmFtZXRlcj1uZXcgUGFyYW1ldGVyKCk7XHJcblxyXG5cclxucGFyYW1ldGVyLmFsbFByb2R1Y3RzPSBbXHJcbiAgbmV3IFByb2R1Y3QoeyBpZDogMCwgbmFtZTogXCJTdGVpblwiLCBkYWlseVByb2R1Y2U6IDUsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsICBwcmljZVByb2R1Y3Rpb246IDMyLCAgZGlzdHJpYnV0aW9uOiAxNixhbW91bnRGb3JQZW9wbGU6NSB9KSxcclxuICBuZXcgUHJvZHVjdCh7IGlkOiAxLCBuYW1lOiBcIkhvbHpcIiwgZGFpbHlQcm9kdWNlOiA1LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAzMiwgIGRpc3RyaWJ1dGlvbjogMTYgLGFtb3VudEZvclBlb3BsZTo0LjUgfSksXHJcbiAgbmV3IFByb2R1Y3QoeyBpZDogMiwgbmFtZTogXCJHZXRyZWlkZVwiLCBkYWlseVByb2R1Y2U6IDcsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsICBwcmljZVByb2R1Y3Rpb246IDIzLGRpc3RyaWJ1dGlvbjogMTYsYW1vdW50Rm9yUGVvcGxlOjQgIH0pLFxyXG4gIG5ldyBQcm9kdWN0KHsgaWQ6IDMsIG5hbWU6IFwiRWlzZW5cIiwgZGFpbHlQcm9kdWNlOiA1LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAzMiwgZGlzdHJpYnV0aW9uOiAxNixhbW91bnRGb3JQZW9wbGU6MyAgfSksXHJcbiAgbmV3IFByb2R1Y3QoeyBpZDogNCwgbmFtZTogXCJXb2xsZVwiLCBkYWlseVByb2R1Y2U6IDUsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsICBwcmljZVByb2R1Y3Rpb246IDMyLCBkaXN0cmlidXRpb246IDE2LGFtb3VudEZvclBlb3BsZToyLjUgIH0pLFxyXG4gIG5ldyBQcm9kdWN0KHsgaWQ6IDUsIG5hbWU6IFwiw5ZsXCIsIGRhaWx5UHJvZHVjZTogNSwgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogMCwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgIHByaWNlUHJvZHVjdGlvbjozMiwgIGRpc3RyaWJ1dGlvbjogMTYsYW1vdW50Rm9yUGVvcGxlOjMgIH0pLFxyXG4gIG5ldyBQcm9kdWN0KHsgaWQ6IDYsIG5hbWU6IFwiQnJvdFwiLCBkYWlseVByb2R1Y2U6IDYsIGlucHV0MTogMiwgaW5wdXQxQW1vdW50OiAyLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBwcmljZVByb2R1Y3Rpb246IDQ5LCBkaXN0cmlidXRpb246IDgsYW1vdW50Rm9yUGVvcGxlOjUgIH0pLFxyXG4gIG5ldyBQcm9kdWN0KHsgaWQ6IDcsIG5hbWU6IFwiUGxhc3RlXCIsIGRhaWx5UHJvZHVjZTogNiwgaW5wdXQxOiA1LCBpbnB1dDFBbW91bnQ6IDIsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIHByaWNlUHJvZHVjdGlvbjogNTcsICBkaXN0cmlidXRpb246IDggLGFtb3VudEZvclBlb3BsZTo1IH0pLFxyXG4gIG5ldyBQcm9kdWN0KHsgaWQ6IDgsIG5hbWU6IFwiRmxlaXNjaFwiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogMiwgaW5wdXQxQW1vdW50OiAxLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAxMDksIGRpc3RyaWJ1dGlvbjogOCxhbW91bnRGb3JQZW9wbGU6MiAgfSksXHJcbiAgbmV3IFByb2R1Y3QoeyBpZDogOSwgbmFtZTogXCJNw7ZiZWxcIiwgZGFpbHlQcm9kdWNlOiAyLCBpbnB1dDE6IDEsIGlucHV0MUFtb3VudDogMC41LCBpbnB1dDI6IDMsIGlucHV0MkFtb3VudDogMSwgIHByaWNlUHJvZHVjdGlvbjogMTE3LCAgZGlzdHJpYnV0aW9uOiA4LGFtb3VudEZvclBlb3BsZToyICB9KSxcclxuICBuZXcgUHJvZHVjdCh7IGlkOiAxMCwgbmFtZTogXCJLbGVpZHVuZ1wiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogNCwgaW5wdXQxQW1vdW50OiAyLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAyODYsICBkaXN0cmlidXRpb246IDgsYW1vdW50Rm9yUGVvcGxlOjEgIH0pLFxyXG4gIG5ldyBQcm9kdWN0KHsgaWQ6IDExLCBuYW1lOiBcIkZpc2NoXCIsIGRhaWx5UHJvZHVjZTogMywgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogdW5kZWZpbmVkLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBwcmljZVByb2R1Y3Rpb246IDYwLGRpc3RyaWJ1dGlvbjogOCxhbW91bnRGb3JQZW9wbGU6MiAgfSksXHJcbiAgbmV3IFByb2R1Y3QoeyBpZDogMTIsIG5hbWU6IFwiQXBmZWxcIiwgZGFpbHlQcm9kdWNlOiA0LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiB1bmRlZmluZWQsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAscHJpY2VQcm9kdWN0aW9uOiA0NSwgIGRpc3RyaWJ1dGlvbjogOCAsYW1vdW50Rm9yUGVvcGxlOjMgfSksXHJcbiAgbmV3IFByb2R1Y3QoeyBpZDogMTMsIG5hbWU6IFwiU2FmdFwiLCBkYWlseVByb2R1Y2U6IDMsIGlucHV0MTogMTIsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCxwcmljZVByb2R1Y3Rpb246IDg1LCAgZGlzdHJpYnV0aW9uOiA4ICxhbW91bnRGb3JQZW9wbGU6MyB9KSxcclxuICBuZXcgUHJvZHVjdCh7IGlkOiAxNCwgbmFtZTogXCJHb2xkXCIsIGRhaWx5UHJvZHVjZTogMiwgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogMCwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgIHByaWNlUHJvZHVjdGlvbjogMTAwLCAgZGlzdHJpYnV0aW9uOiA0ICxhbW91bnRGb3JQZW9wbGU6IDF9KSwgXHJcbiAgbmV3IFByb2R1Y3QoeyBpZDogMTUsIG5hbWU6IFwiU2NobXVja1wiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogMTQsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgIHByaWNlUHJvZHVjdGlvbjogMTg0LCBkaXN0cmlidXRpb246IDQgLGFtb3VudEZvclBlb3BsZToyIH0pLFxyXG4gIG5ldyBQcm9kdWN0KHsgaWQ6IDE2LCBuYW1lOiBcIlNwaWVsemV1Z1wiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogNCwgaW5wdXQxQW1vdW50OiAwLjUsIGlucHV0MjogNywgaW5wdXQyQW1vdW50OiAwLjUsICBwcmljZVByb2R1Y3Rpb246IDI3NCwgIGRpc3RyaWJ1dGlvbjogNCxhbW91bnRGb3JQZW9wbGU6MSAgfSksXHJcbiAgbmV3IFByb2R1Y3QoeyBpZDogMTcsIG5hbWU6IFwiRmFocnJhZFwiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogMywgaW5wdXQxQW1vdW50OiAxLCBpbnB1dDI6IDcsIGlucHV0MkFtb3VudDogMC41LCAgcHJpY2VQcm9kdWN0aW9uOiAyNzQsICBkaXN0cmlidXRpb246IDQgLGFtb3VudEZvclBlb3BsZToxIH0pLFxyXG4gIG5ldyBQcm9kdWN0KHsgaWQ6IDE4LCBuYW1lOiBcIkZpc2NoYnJvdFwiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogMTEsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiA2LCBpbnB1dDJBbW91bnQ6IDEsICBwcmljZVByb2R1Y3Rpb246IDM4MiwgIGRpc3RyaWJ1dGlvbjogNCAsYW1vdW50Rm9yUGVvcGxlOjEgfSlcclxuXTtcclxuLy9nbG9iYWwucGFyYW1ldGVyPW5ldyBQYXJhbWV0ZXRyKCk7XHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuICBwYXJhbWV0ZXI9cGFyYW1ldGVyO1xyXG4gIHN0YXRpYyBpbnN0YW5jZTogR2FtZTtcclxuICBkb206IEhUTUxFbGVtZW50O1xyXG4gIHdvcmxkOiBXb3JsZDtcclxuICBkb21IZWFkZXI6IEhUTUxEaXZFbGVtZW50O1xyXG4gIGRvbVdvcmxkOiBIVE1MRGl2RWxlbWVudDtcclxuICBfbW9uZXk7XHJcbiAgdmVyc2lvbjpcIjEuMFwiO1xyXG4gIGRhdGU6IERhdGU7XHJcbiAgbGFzdFVwZGF0ZTogbnVtYmVyO1xyXG4gIHNwZWVkOiBudW1iZXIgPSAxO1xyXG4gIHBhdXNlZFNwZWVkOiBudW1iZXI7XHJcbiAgdGltZXI7XHJcbiAgbWFwV2lkdGggPSAxMDAwO1xyXG4gIG1hcEhlaWdodCA9IDYwMDtcclxuICBzdGF0aXN0aWMgPSBuZXcgU3RhdGlzdGljKCk7XHJcbiAgc3RhdGljIHRlbXBvc2NhbGUgPSBbMC4wMSwgMC41LCAxLCAyLCA0LCA4LCAxNiwgMzIsIDY0LCAxMjhdXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgR2FtZS5pbnN0YW5jZSA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy5sYXN0VXBkYXRlID0gRGF0ZS5ub3coKTtcclxuICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKFwiU2F0IEphbiAwMSAyMDAwIDAwOjAwOjAwXCIpO1xyXG4gICAgQ2l0eURpYWxvZy5pbnN0YW5jZSA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMubmV2ZXJjYWxsdGhpc2Z1bmN0aW9uKCk7XHJcbiAgfVxyXG4gIHB1YmxpYyB1cGRhdGVUaXRsZSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZW1vbmV5XCIpLmlubmVySFRNTCA9IG5ldyBOdW1iZXIodGhpcy5nZXRNb25leSgpKS50b0xvY2FsZVN0cmluZygpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVkYXRlXCIpLmlubmVySFRNTCA9IHRoaXMuZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuICAgICAgdGhpcy53b3JsZC51cGRhdGUoKTtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInN0b3AgZ2FtZVwiKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gIH1cclxuICB1cGRhdGVTaXplKCkge1xyXG4gICAgdGhpcy5kb21Xb3JsZC5zdHlsZS53aWR0aCA9ICh0aGlzLm1hcFdpZHRoICsgODApICsgXCJweFwiO1xyXG4gICAgdGhpcy5kb21Xb3JsZC5zdHlsZS5oZWlnaHQgPSAodGhpcy5tYXBIZWlnaHQgKyAxMDApICsgXCJweFwiO1xyXG4gICAgKDxIVE1MRWxlbWVudD50aGlzLmRvbVdvcmxkLnBhcmVudE5vZGUpLnN0eWxlLndpZHRoID0gKHRoaXMubWFwV2lkdGggKyA4MCkgKyBcInB4XCI7XHJcbiAgICAoPEhUTUxFbGVtZW50PnRoaXMuZG9tV29ybGQucGFyZW50Tm9kZSkuc3R5bGUuaGVpZ2h0ID0gKHRoaXMubWFwSGVpZ2h0ICsgMTAwKSArIFwicHhcIjtcclxuXHJcbiAgfVxyXG4gIC8vbmV2ZXIgY2FsbCB0aGlzIG91dHNpZGUgdGhlIHRpbWVyIC0gdGhlbiB3b3VsZCBiZSAyIHVwZGF0ZXNcclxuICBwcml2YXRlIG5ldmVyY2FsbHRoaXNmdW5jdGlvbigpIHtcclxuICAgIC8vdmFyIHQ9bmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICB2YXIgaW50ZXJ2YWxsID0gMTAwMCAvIHRoaXMuc3BlZWQ7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIGRpZmYgPSAxMDAwICogNjAgKiA2MDsvL3VwZGF0ZSBhbHdheXMgYXQgZnVsbCBjbG9jay8vKChEYXRlLm5vdygpIC0gdGhpcy5sYXN0VXBkYXRlKSkgKiA2MCAqIDYwICogdGhpcy5zcGVlZDtcclxuICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZS5nZXRUaW1lKCkgKyBkaWZmKTtcclxuICAgIHRoaXMudXBkYXRlVGl0bGUoKTtcclxuICAgIHRoaXMubGFzdFVwZGF0ZSA9IERhdGUubm93KCk7XHJcbiAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIF90aGlzLm5ldmVyY2FsbHRoaXNmdW5jdGlvbigpO1xyXG5cclxuICAgIH0sIGludGVydmFsbCk7XHJcbiAgICAvL2NvbnNvbGUubG9nKFwidG9va3NcIisobmV3IERhdGUoKS5nZXRUaW1lKCktdCkpO1xyXG4gICAgQ2l0eURpYWxvZy5nZXRJbnN0YW5jZSgpLnVwZGF0ZSgpO1xyXG4gICAgQWlycGxhbmVEaWFsb2cuZ2V0SW5zdGFuY2UoKS51cGRhdGUoKTtcclxuXHJcbiAgfVxyXG4gIG5ld0dhbWUoKSB7XHJcbiAgICB0aGlzLndvcmxkID0gbmV3IFdvcmxkKCk7XHJcbiAgICB0aGlzLndvcmxkLmdhbWUgPSB0aGlzO1xyXG4gICAgdGhpcy5fbW9uZXkgPSAyMDAwMDtcclxuICAgIHRoaXMud29ybGQubmV3R2FtZSgpO1xyXG4gIH1cclxuICBnZXRNb25leSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9tb25leTtcclxuICB9XHJcbiAgY2hhbmdlTW9uZXkoY2hhbmdlOiBudW1iZXIsIHdoeTogc3RyaW5nLCBjaXR5OiBDaXR5ID0gdW5kZWZpbmVkKSB7XHJcbiAgICB0aGlzLl9tb25leSArPSBjaGFuZ2U7XHJcbiAgICBpZiAodGhpcy5zdGF0aXN0aWMudG9kYXlbd2h5XSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICB0aGlzLnN0YXRpc3RpYy50b2RheVt3aHldID0gMDtcclxuICAgIHRoaXMuc3RhdGlzdGljLnRvZGF5W3doeV0gKz0gY2hhbmdlO1xyXG4gICAgLy8gIGNvbnNvbGUubG9nKGNoYW5nZStcIiBcIit3aHkpO1xyXG4gIH1cclxuICByZW5kZXIoZG9tOiBIVE1MRWxlbWVudCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIGRvbS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgZG9tLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwibGlnaHRibHVlXCI7XHJcbiAgICB0aGlzLmRvbSA9IGRvbTtcclxuICAgIHZhciBzZG9tSGVhZGVyID0gYFxyXG4gICAgICAgICAgPGRpdiBzdHlsZT1cImhlaWdodDoxNXB4O3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6MTAwMDA7YmFja2dyb3VuZC1jb2xvcjpsaWdodGJsdWU7XCI+XHJcbiAgICAgICAgICAgIFRyYWZmaWNzIFxyXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZ2FtZS1zbG93ZXJcIj5gKyBJY29ucy5taW51cyArIGA8L2J1dHRvbj4gXHJcbiAgICAgICAgICAgIDxzcGFuIGlkPVwiZ2FtZWRhdGVcIj48L3NwYW4+ICAgXHJcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJnYW1lLWZhc3RlclwiPmArIEljb25zLnBsdXMgKyBgPC9idXR0b24+IFxyXG4gICAgICAgICAgICBNb25leTo8c3BhbiBpZD1cImdhbWVtb25leVwiPjwvc3Bhbj5gKyBJY29ucy5tb25leSArIGBcclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNhdmUtZ2FtZVwiPmArIEljb25zLnNhdmUgKyBgPC9idXR0b24+IFxyXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGVidWctZ2FtZVwiPmArIEljb25zLmRlYnVnICsgYDwvYnV0dG9uPiBcclxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNob3ctZGlhZ3JhbVwiPmArIEljb25zLmRpYWdyYW0gKyBgPC9idXR0b24+IFxyXG4gICAgICAgICAgPC9kaXY+ICBcclxuICAgICAgICBgO1xyXG4gICAgdGhpcy5kb21IZWFkZXIgPSA8YW55PmRvY3VtZW50LmNyZWF0ZVJhbmdlKCkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHNkb21IZWFkZXIpLmNoaWxkcmVuWzBdO1xyXG5cclxuICAgIHZhciBzZG9tV29ybGQgPSBgXHJcbiAgICAgICAgICA8ZGl2IGlkPVwid29ybGRcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO3RvcDoyMHB4O1wiPlxyXG4gICAgICAgICAgPC9kaXY+ICBcclxuICAgICAgICBgO1xyXG5cclxuICAgIHRoaXMuZG9tV29ybGQgPSA8YW55PmRvY3VtZW50LmNyZWF0ZVJhbmdlKCkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHNkb21Xb3JsZCkuY2hpbGRyZW5bMF07XHJcbiAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZCh0aGlzLmRvbUhlYWRlcik7XHJcbiAgICAvLyB2YXIgaGVhZGVyUGxhY2VlaG9sZGVyID0gPGFueT5kb2N1bWVudC5jcmVhdGVSYW5nZSgpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCgnPGRpdiBzdHlsZT1cImhlaWdodDoxNXB4XCI+PC9kaXY+JykuY2hpbGRyZW5bMF1cclxuICAgIC8vIHRoaXMuZG9tLmFwcGVuZENoaWxkKGhlYWRlclBsYWNlZWhvbGRlcik7XHJcbiAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZCh0aGlzLmRvbVdvcmxkKTtcclxuICAgIHRoaXMud29ybGQucmVuZGVyKHRoaXMuZG9tV29ybGQpO1xyXG4gICAgdGhpcy51cGRhdGVTaXplKCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIF90aGlzLmJpbmRBY3Rpb25zKCk7XHJcbiAgICB9LCA1MDApO1xyXG4gIH1cclxuICBiaW5kQWN0aW9ucygpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVkYXRlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImRvd25cIik7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2F2ZS1nYW1lXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIFNhdmVEaWFsb2cuZ2V0SW5zdGFuY2UoKS5nYW1lPXRoaXM7XHJcbiAgICAgIFNhdmVEaWFsb2cuZ2V0SW5zdGFuY2UoKS5zaG93KCk7XHJcbiAgICB9KTtcclxuICAgXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnLWdhbWVcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBwYXJhbWV0ZXIuYWxsUHJvZHVjdHMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICBfdGhpcy53b3JsZC5jaXRpZXNbMF0uc2hvcFt4XSA9IDUwMDA7XHJcbiAgICAgIH1cclxuICAgICAgX3RoaXMuX21vbmV5ID0gMTAwMDAwMDtcclxuICAgIH0pO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaG93LWRpYWdyYW1cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgRGlhZ3JhbURpYWxvZy5nZXRJbnN0YW5jZSgpLndvcmxkID0gdGhpcy53b3JsZDtcclxuICAgICAgRGlhZ3JhbURpYWxvZy5nZXRJbnN0YW5jZSgpLnNob3coKTtcclxuICAgIH0pO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lLXNsb3dlclwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAoX3RoaXMuc3BlZWQgPT09IEdhbWUudGVtcG9zY2FsZVswXSkge1xyXG4gICAgICAgIF90aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJwYXVzZVwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHBvcyA9IEdhbWUudGVtcG9zY2FsZS5pbmRleE9mKF90aGlzLnNwZWVkKTtcclxuICAgICAgcG9zLS07XHJcbiAgICAgIGlmIChwb3MgPT0gLTEpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICBfdGhpcy5zcGVlZCA9IEdhbWUudGVtcG9zY2FsZVtwb3NdO1xyXG4gICAgICBfdGhpcy5wYXVzZSgpO1xyXG4gICAgICBfdGhpcy5yZXN1bWUoKTtcclxuICAgIH0pO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lLWZhc3RlclwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAoX3RoaXMuaXNQYXVzZWQoKSkge1xyXG4gICAgICAgIF90aGlzLnJlc3VtZSgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB2YXIgcG9zID0gR2FtZS50ZW1wb3NjYWxlLmluZGV4T2YoX3RoaXMuc3BlZWQpO1xyXG4gICAgICBwb3MrKztcclxuICAgICAgaWYgKHBvcyA+PSBHYW1lLnRlbXBvc2NhbGUubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJtYXhcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIF90aGlzLnNwZWVkID0gR2FtZS50ZW1wb3NjYWxlW3Bvc107XHJcbiAgICAgIF90aGlzLnBhdXNlKCk7XHJcbiAgICAgIF90aGlzLnJlc3VtZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIHJlc3VtZSgpIHtcclxuICAgIGlmICh0aGlzLnRpbWVyID09PSAwKVxyXG4gICAgICB0aGlzLm5ldmVyY2FsbHRoaXNmdW5jdGlvbigpO1xyXG4gIH1cclxuICBpc1BhdXNlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLnRpbWVyID09PSAwO1xyXG4gIH1cclxuICBwYXVzZSgpIHtcclxuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcclxuICAgIHRoaXMudGltZXIgPSAwO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMud29ybGQuZGVzdHJveSgpO1xyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRlc3QoKSB7XHJcblxyXG59XHJcbiJdfQ==