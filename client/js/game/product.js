define(["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.test = exports.allProducts = exports.Product = void 0;
    var log = (function () {
        var log = Math.log;
        return function (n, base) {
            return log(n) / (base ? log(base) : 1);
        };
    })();
    class Product {
        constructor(prod) {
            Object.assign(this, prod);
            this.dailyConsumtion = Math.round((10000 * this.amountForPeople / 380)) / 10000 - 0.0001;
            this.pricePurchase = Math.round(this.priceProduction * Product.ratePurchase);
            this.priceSelling = Math.round(this.priceProduction * Product.rateSelling);
        }
        getMinPrice() {
            return Math.round(this.priceSelling * Product.rateMin);
        }
        getMaxPrice() {
            return Math.round(this.priceSelling * Product.rateMax);
        }
        /**
         * calc price for a city with people and the
         */
        calcPrice(people, amount, isProducedHere) {
            var consume = Math.round(this.dailyConsumtion * people * 40);
            var normal = isProducedHere ? this.pricePurchase : this.priceSelling;
            var min = Math.round((0.0 + normal) * Product.rateMin);
            var max = Math.round((0.0 + normal) * Product.rateMax);
            // var test = Math.round(consume * normal / amount);
            // var test=Math.round((0.0+normal)+Math.pow(consume,0.6)-Math.pow(amount,0.6));
            var test = Math.round(normal + (normal - (amount / consume * normal)));
            if (test < min)
                return min;
            if (test > max || amount < 30) {
                return max;
            }
            return test;
        }
        calcPrice2(people, amount, isProducedHere) {
            var consume = Math.round(this.dailyConsumtion * people * 40);
            var normal = isProducedHere ? this.pricePurchase : this.priceSelling;
            var min = Math.round((0.0 + normal) * Product.rateMin);
            var max = Math.round((0.0 + normal) * Product.rateMax);
            var consumeMin = Math.round(consume * Product.rateMin);
            var consumeMax = Math.round(consume * Product.rateMax);
            if (amount < consumeMin)
                return max;
            if (amount > consumeMax)
                return min;
            var test = 0;
            if (amount > consume) {
                var exp = Math.round(log(consumeMax, max) * 1000) / 1000;
                var t = consume - 2 * (amount - consume);
                test = Math.round(Math.pow(t, exp));
            }
            else {
                var exp = Math.round(log(consumeMin, min) * 1000) / 1000;
                var t = consume - 2 * (consume - amount);
                test = Math.round(Math.pow(amount, exp));
            }
            // var test = Math.round(consume * normal / amount);
            // var test=Math.round((0.0+normal)+Math.pow(consume,0.6)-Math.pow(amount,0.6));
            /*        var test = Math.round(normal + (normal - (amount / consume * normal)));
                    if (test < min)
                        return min;
                    if (test > max || amount < 30) {
                        return max;
                    }*/
            return test;
        }
        getIcon() {
            var colors = [
                ["", "orange", "mdi-format-line-style"],
                ["", "green", "mdi-pine-tree"],
                ["", "yellow", "mdi-grass"],
                ["", "silver", "mdi-checkbox-blank-circle"],
                ["", "lightgray", "mdi-apple-icloud"],
                ["", "black", "mdi-water"],
                ["", "brown", "mdi-food-croissant"],
                ["blue", "red", "mdi-square-circle"],
                ["", "orange", "mdi-food-drumstick"],
                ["", "purple", "mdi-sofa"],
                ["", "lightblue", "mdi-tshirt-v"],
                ["", "gray", "mdi-fish"],
                ["", "red", "mdi-food-apple"],
                ["", "gamboge", "mdi-bottle-soda"],
                ["", "gold", "mdi-checkbox-blank-circle"],
                ["", "gold", "mdi-ring"],
                ["", "blue", "mdi-toy-brick"],
                ["", "black", "mdi-motorbike"],
                ["", "brown", "mdi-hamburger"],
            ];
            var ic = colors[this.id].length === 3 ? colors[this.id][2] : "mdi-circle-multiple";
            return "<span style='width:14px;font-size:15px;color:" + colors[this.id][1] + ";background-color:" + colors[this.id][0] + "' class='mdi " + ic + "'></span>";
        }
    }
    exports.Product = Product;
    Product.ratePurchase = 4.5 / 4;
    Product.rateSelling = 5 / 4;
    Product.rateMin = 2 / 3;
    Product.rateMax = 4 / 3;
    exports.allProducts = [
        new Product({ id: 0, name: "Stein", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 5 }),
        new Product({ id: 1, name: "Holz", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 4.5 }),
        new Product({ id: 2, name: "Getreide", dailyProduce: 7, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 23, distribution: 16, amountForPeople: 4 }),
        new Product({ id: 3, name: "Eisen", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 3 }),
        new Product({ id: 4, name: "Wolle", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 2.5 }),
        new Product({ id: 5, name: "Öl", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 32, distribution: 16, amountForPeople: 3 }),
        new Product({ id: 6, name: "Brot", dailyProduce: 6, input1: 2, input1Amount: 2, input2: undefined, input2Amount: 0, priceProduction: 49, distribution: 8, amountForPeople: 5 }),
        new Product({ id: 7, name: "Plaste", dailyProduce: 6, input1: 5, input1Amount: 2, input2: undefined, input2Amount: 0, priceProduction: 57, distribution: 8, amountForPeople: 5 }),
        new Product({ id: 8, name: "Fleisch", dailyProduce: 2, input1: 2, input1Amount: 1, input2: undefined, input2Amount: 0, priceProduction: 109, distribution: 8, amountForPeople: 2 }),
        new Product({ id: 9, name: "Möbel", dailyProduce: 2, input1: 1, input1Amount: 0.5, input2: 3, input2Amount: 1, priceProduction: 117, distribution: 8, amountForPeople: 2 }),
        new Product({ id: 10, name: "Kleidung", dailyProduce: 1, input1: 4, input1Amount: 2, input2: undefined, input2Amount: 0, priceProduction: 286, distribution: 8, amountForPeople: 1 }),
        new Product({ id: 11, name: "Fisch", dailyProduce: 3, input1: undefined, input1Amount: undefined, input2: undefined, input2Amount: 0, priceProduction: 60, distribution: 8, amountForPeople: 2 }),
        new Product({ id: 12, name: "Apfel", dailyProduce: 4, input1: undefined, input1Amount: undefined, input2: undefined, input2Amount: 0, priceProduction: 45, distribution: 8, amountForPeople: 3 }),
        new Product({ id: 13, name: "Saft", dailyProduce: 3, input1: 12, input1Amount: 1, input2: undefined, input2Amount: 0, priceProduction: 85, distribution: 8, amountForPeople: 3 }),
        new Product({ id: 14, name: "Gold", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, priceProduction: 100, distribution: 4, amountForPeople: 1 }),
        new Product({ id: 15, name: "Schmuck", dailyProduce: 2, input1: 14, input1Amount: 1, input2: undefined, input2Amount: 0, priceProduction: 184, distribution: 4, amountForPeople: 2 }),
        new Product({ id: 16, name: "Spielzeug", dailyProduce: 1, input1: 4, input1Amount: 0.5, input2: 7, input2Amount: 0.5, priceProduction: 274, distribution: 4, amountForPeople: 1 }),
        new Product({ id: 17, name: "Fahrrad", dailyProduce: 1, input1: 3, input1Amount: 1, input2: 7, input2Amount: 0.5, priceProduction: 274, distribution: 4, amountForPeople: 1 }),
        new Product({ id: 18, name: "Fischbrot", dailyProduce: 1, input1: 11, input1Amount: 1, input2: 6, input2Amount: 1, priceProduction: 382, distribution: 4, amountForPeople: 1 })
    ];
    /*export var allProducts = [
        new Product({ id: 0, name: "Holz", dailyProduce: 2.5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0015, priceProduction: 33, pricePurchase: 40, priceSelling: 59, distribution: 16 }),
        new Product({ id: 1, name: "Ziegel", dailyProduce: 6, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0029, priceProduction: 33, pricePurchase: 40, priceSelling: 59, distribution: 16 }),
        new Product({ id: 2, name: "Getreide", dailyProduce: 5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.003068, priceProduction: 33, pricePurchase: 40, priceSelling: 59, distribution: 16 }),
        new Product({ id: 3, name: "Hanf", dailyProduce: 2.5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0015, priceProduction: 33, pricePurchase: 40, priceSelling: 59, distribution: 16 }),
        new Product({ id: 4, name: "Wolle", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 50, pricePurchase: 60, priceSelling: 90, distribution: 8 }),
        new Product({ id: 5, name: "Metalle", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 50, pricePurchase: 60, priceSelling: 90, distribution: 8 }),
        new Product({ id: 6, name: "Honig", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 50, pricePurchase: 60, priceSelling: 90, distribution: 8 }),
        new Product({ id: 7, name: "Salz", dailyProduce: 1, input1: 0, input1Amount: 0.25, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0006, priceProduction: 58, pricePurchase: 70, priceSelling: 104, distribution: 8 }),
        new Product({ id: 8, name: "Metallwaren", dailyProduce: 1.5, input1: 0, input1Amount: 0.5, input2: 5, input2Amount: 5, dailyConsumtion: 0.0009, priceProduction: 167, pricePurchase: 200, priceSelling: 301, distribution: 8 }),
        new Product({ id: 9, name: "Met", dailyProduce: 2, input1: 6, input1Amount: 1, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 150, pricePurchase: 180, priceSelling: 270, distribution: 8 }),
        new Product({ id: 10, name: "Tuch", dailyProduce: 1, input1: 4, input1Amount: 1, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0006, priceProduction: 150, pricePurchase: 180, priceSelling: 270, distribution: 8 }),
        new Product({ id: 11, name: "Bier", dailyProduce: 3, input1: 2, input1Amount: 0.25, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001768, priceProduction: 75, pricePurchase: 90, priceSelling: 135, distribution: 4 }),
        new Product({ id: 12, name: "Stockfisch", dailyProduce: 3, input1: 7, input1Amount: 0.5, input2: 3, input2Amount: 3, dailyConsumtion: 0.001768, priceProduction: 129, pricePurchase: 155, priceSelling: 232, distribution: 4 }),
        new Product({ id: 13, name: "Kleidung", dailyProduce: 1, input1: 10, input1Amount: 1, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0006, priceProduction: 350, pricePurchase: 420, priceSelling: 630, distribution: 4 }),
        new Product({ id: 14, name: "Käse", dailyProduce: 2, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 100, pricePurchase: 120, priceSelling: 180, distribution: 4 }),
        new Product({ id: 15, name: "Pech", dailyProduce: 2, input1: 0, input1Amount: 0.5, input2: undefined, input2Amount: 0, dailyConsumtion: 0.001168, priceProduction: 117, pricePurchase: 140, priceSelling: 211, distribution: 4 }),
        new Product({ id: 16, name: "Felle", dailyProduce: 1, input1: 3, input1Amount: 0.5, input2: 8, input2Amount: 0.5, dailyConsumtion: 0.0006, priceProduction: 300, pricePurchase: 360, priceSelling: 540, distribution: 4 }),
        new Product({ id: 17, name: "Fleisch", dailyProduce: 1, input1: 7, input1Amount: 1.5, input2: undefined, input2Amount: 0, dailyConsumtion: 0.0006, priceProduction: 288, pricePurchase: 346, priceSelling: 518, distribution: 4 }),
        new Product({ id: 18, name: "Wein", dailyProduce: 0.5, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.000336, priceProduction: 400, pricePurchase: 480, priceSelling: 720, distribution: 4 })
        //    new Product({ id:19, name: "Gewürze", dailyProduce: 0, input1: undefined, input1Amount: 0, input2: undefined, input2Amount: 0, dailyConsumtion: 0.000336, priceProduction: 0, pricePurchase: 600, priceSelling: 900 })
    ];*/
    function test() {
        var people = 30656;
        console.log(exports.allProducts[1].pricePurchase + " " + Math.round(200 * exports.allProducts[1].dailyConsumtion * 40));
        console.log(exports.allProducts[1].calcPrice(200, 2, true));
    }
    exports.test = test;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2dhbWUvcHJvZHVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0lBQUEsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDbkIsT0FBTyxVQUFVLENBQUMsRUFBRSxJQUFJO1lBQ3BCLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFFTCxNQUFhLE9BQU87UUFtQmhCLFlBQVksSUFBSTtZQUNaLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQzFCLElBQUksQ0FBQyxlQUFlLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssR0FBQyxJQUFJLENBQUMsZUFBZSxHQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUMsS0FBSyxHQUFDLE1BQU0sQ0FBQztZQUMvRSxJQUFJLENBQUMsYUFBYSxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsR0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDekUsSUFBSSxDQUFDLFlBQVksR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxlQUFlLEdBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzNFLENBQUM7UUFFRCxXQUFXO1lBQ1AsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzNELENBQUM7UUFDRCxXQUFXO1lBQ1AsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUks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LFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxFQUFFLEVBQUcsWUFBWSxFQUFFLEVBQUUsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFFLENBQUM7UUFDekwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxFQUFFLEVBQUcsWUFBWSxFQUFFLEVBQUUsRUFBRSxlQUFlLEVBQUMsR0FBRyxFQUFFLENBQUM7UUFDM0wsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxFQUFFLEVBQUMsWUFBWSxFQUFFLEVBQUUsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDM0wsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDekwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBQyxlQUFlLEVBQUMsR0FBRyxFQUFHLENBQUM7UUFDM0wsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBQyxFQUFFLEVBQUcsWUFBWSxFQUFFLEVBQUUsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDdEwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLGVBQWUsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDOUssSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLGVBQWUsRUFBRSxFQUFFLEVBQUcsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUMsQ0FBQyxFQUFFLENBQUM7UUFDakwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxHQUFHLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDbkwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxHQUFHLEVBQUcsWUFBWSxFQUFFLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDNUssSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxHQUFHLEVBQUcsWUFBWSxFQUFFLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDdEwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLGVBQWUsRUFBRSxFQUFFLEVBQUMsWUFBWSxFQUFFLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDL0wsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFDLGVBQWUsRUFBRSxFQUFFLEVBQUcsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUMsQ0FBQyxFQUFFLENBQUM7UUFDaE0sSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFDLGVBQWUsRUFBRSxFQUFFLEVBQUcsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUMsQ0FBQyxFQUFFLENBQUM7UUFDaEwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxHQUFHLEVBQUcsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUUsQ0FBQyxFQUFDLENBQUM7UUFDMUwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxHQUFHLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUMsQ0FBQyxFQUFFLENBQUM7UUFDckwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsR0FBRyxFQUFHLGVBQWUsRUFBRSxHQUFHLEVBQUcsWUFBWSxFQUFFLENBQUMsRUFBQyxlQUFlLEVBQUMsQ0FBQyxFQUFHLENBQUM7UUFDbkwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsR0FBRyxFQUFHLGVBQWUsRUFBRSxHQUFHLEVBQUcsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUMsQ0FBQyxFQUFFLENBQUM7UUFDL0ssSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFHLGVBQWUsRUFBRSxHQUFHLEVBQUcsWUFBWSxFQUFFLENBQUMsRUFBRSxlQUFlLEVBQUMsQ0FBQyxFQUFFLENBQUM7S0FDbkwsQ0FBQztJQUNGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7UUFxQkk7SUFHSixTQUFnQixJQUFJO1FBQ2hCLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNuQixPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxHQUFDLEdBQUcsR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBQyxtQkFBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLGVBQWUsR0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2hHLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFKRCxvQkFJQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBsb2cgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBsb2cgPSBNYXRoLmxvZztcbiAgICByZXR1cm4gZnVuY3Rpb24gKG4sIGJhc2UpIHtcbiAgICAgICAgcmV0dXJuIGxvZyhuKSAvIChiYXNlID8gbG9nKGJhc2UpIDogMSk7XG4gICAgfTtcbn0pKCk7XG5cbmV4cG9ydCBjbGFzcyBQcm9kdWN0IHtcbiAgICBpZDogbnVtYmVyO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkYWlseVByb2R1Y2U6IG51bWJlcjtcbiAgICBpbnB1dDE6IG51bWJlcjtcbiAgICBpbnB1dDFBbW91bnQ6IG51bWJlcjtcbiAgICBpbnB1dDI6IG51bWJlcjtcbiAgICBpbnB1dDJBbW91bnQ6IG51bWJlcjtcbiAgICBkYWlseUNvbnN1bXRpb246IG51bWJlcjtcbiAgICBwcmljZVByb2R1Y3Rpb246IG51bWJlcjtcbiAgICBwcmljZVB1cmNoYXNlOiBudW1iZXI7XG4gICAgcHJpY2VTZWxsaW5nOiBudW1iZXI7XG4gICAgc3RhdGljIHJhdGVQdXJjaGFzZT00LjUvNDtcbiAgICBzdGF0aWMgcmF0ZVNlbGxpbmc9NS80O1xuICAgIHN0YXRpYyByYXRlTWluPTIvMztcbiAgICBzdGF0aWMgcmF0ZU1heD00LzM7XG4gICAgcHJpdmF0ZSBhbW91bnRGb3JQZW9wbGU6bnVtYmVyO1xuICAgIC8vaG93IG9mdGVuIGl0IGlzIHVzZWRcbiAgICBkaXN0cmlidXRpb246IG51bWJlcjtcbiAgICBjb25zdHJ1Y3Rvcihwcm9kKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgcHJvZCk7XG4gICAgICAgIHRoaXMuZGFpbHlDb25zdW10aW9uPU1hdGgucm91bmQoKDEwMDAwKnRoaXMuYW1vdW50Rm9yUGVvcGxlLzM4MCkpLzEwMDAwLTAuMDAwMTtcbiAgICAgICAgdGhpcy5wcmljZVB1cmNoYXNlPU1hdGgucm91bmQodGhpcy5wcmljZVByb2R1Y3Rpb24qUHJvZHVjdC5yYXRlUHVyY2hhc2UpO1xuICAgICAgICB0aGlzLnByaWNlU2VsbGluZz1NYXRoLnJvdW5kKHRoaXMucHJpY2VQcm9kdWN0aW9uKlByb2R1Y3QucmF0ZVNlbGxpbmcpO1xuICAgIH1cbiAgICBcbiAgICBnZXRNaW5QcmljZSgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5wcmljZVNlbGxpbmcgKiBQcm9kdWN0LnJhdGVNaW4pO1xuICAgIH1cbiAgICBnZXRNYXhQcmljZSgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5wcmljZVNlbGxpbmcgKiBQcm9kdWN0LnJhdGVNYXgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjYWxjIHByaWNlIGZvciBhIGNpdHkgd2l0aCBwZW9wbGUgYW5kIHRoZVxuICAgICAqL1xuICAgIGNhbGNQcmljZShwZW9wbGU6IG51bWJlciwgYW1vdW50OiBudW1iZXIsIGlzUHJvZHVjZWRIZXJlOiBib29sZWFuKSB7XG4gICAgICAgIHZhciBjb25zdW1lID0gTWF0aC5yb3VuZCh0aGlzLmRhaWx5Q29uc3VtdGlvbiAqIHBlb3BsZSAqIDQwKTtcbiAgICAgICAgdmFyIG5vcm1hbCA9IGlzUHJvZHVjZWRIZXJlID8gdGhpcy5wcmljZVB1cmNoYXNlIDogdGhpcy5wcmljZVNlbGxpbmc7XG5cbiAgICBcbiAgICAgICAgdmFyIG1pbiA9IE1hdGgucm91bmQoKDAuMCArIG5vcm1hbCkgKiBQcm9kdWN0LnJhdGVNaW4pO1xuICAgICAgICB2YXIgbWF4ID0gTWF0aC5yb3VuZCgoMC4wICsgbm9ybWFsKSAqIFByb2R1Y3QucmF0ZU1heCk7XG4gICAgICAgIC8vIHZhciB0ZXN0ID0gTWF0aC5yb3VuZChjb25zdW1lICogbm9ybWFsIC8gYW1vdW50KTtcbiAgICAgICAgLy8gdmFyIHRlc3Q9TWF0aC5yb3VuZCgoMC4wK25vcm1hbCkrTWF0aC5wb3coY29uc3VtZSwwLjYpLU1hdGgucG93KGFtb3VudCwwLjYpKTtcbiAgICAgICAgdmFyIHRlc3QgPSBNYXRoLnJvdW5kKG5vcm1hbCArIChub3JtYWwgLSAoYW1vdW50IC8gY29uc3VtZSAqIG5vcm1hbCkpKTtcbiAgICAgICAgaWYgKHRlc3QgPCBtaW4pXG4gICAgICAgICAgICByZXR1cm4gbWluO1xuICAgICAgICBpZiAodGVzdCA+IG1heCB8fCBhbW91bnQgPCAzMCkge1xuICAgICAgICAgICAgcmV0dXJuIG1heDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGVzdDtcbiAgICB9XG5cbiAgICBjYWxjUHJpY2UyKHBlb3BsZTogbnVtYmVyLCBhbW91bnQ6IG51bWJlciwgaXNQcm9kdWNlZEhlcmU6IGJvb2xlYW4pIHtcbiAgICAgICAgdmFyIGNvbnN1bWUgPSBNYXRoLnJvdW5kKHRoaXMuZGFpbHlDb25zdW10aW9uICogcGVvcGxlICogNDApO1xuICAgICAgICB2YXIgbm9ybWFsID0gaXNQcm9kdWNlZEhlcmUgPyB0aGlzLnByaWNlUHVyY2hhc2UgOiB0aGlzLnByaWNlU2VsbGluZztcbiAgICAgICAgdmFyIG1pbiA9IE1hdGgucm91bmQoKDAuMCArIG5vcm1hbCkgKiBQcm9kdWN0LnJhdGVNaW4pO1xuICAgICAgICB2YXIgbWF4ID0gTWF0aC5yb3VuZCgoMC4wICsgbm9ybWFsKSAqUHJvZHVjdC5yYXRlTWF4KTtcbiAgICAgICAgdmFyIGNvbnN1bWVNaW4gPSBNYXRoLnJvdW5kKGNvbnN1bWUqUHJvZHVjdC5yYXRlTWluKTtcbiAgICAgICAgdmFyIGNvbnN1bWVNYXggPSBNYXRoLnJvdW5kKGNvbnN1bWUqUHJvZHVjdC5yYXRlTWF4KTtcbiAgICAgICAgaWYoYW1vdW50PGNvbnN1bWVNaW4pXG4gICAgICAgICAgICByZXR1cm4gbWF4O1xuICAgICAgICBpZihhbW91bnQ+Y29uc3VtZU1heClcbiAgICAgICAgICAgIHJldHVybiBtaW47XG4gICAgICAgIHZhciB0ZXN0PTA7XG4gICAgICAgIGlmKGFtb3VudD5jb25zdW1lKXtcbiAgICAgICAgICAgIHZhciBleHAgPSBNYXRoLnJvdW5kKGxvZyhjb25zdW1lTWF4LG1heCkgKiAxMDAwKSAvIDEwMDA7XG4gICAgICAgICAgICB2YXIgdD1jb25zdW1lLTIqKGFtb3VudC1jb25zdW1lKVxuICAgICAgICAgICAgdGVzdCA9TWF0aC5yb3VuZChNYXRoLnBvdyh0LCBleHApKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB2YXIgZXhwID0gTWF0aC5yb3VuZChsb2coY29uc3VtZU1pbixtaW4pICogMTAwMCkgLyAxMDAwO1xuICAgICAgICAgICAgdmFyIHQ9Y29uc3VtZS0yKihjb25zdW1lLWFtb3VudCk7XG4gICAgICAgICAgICB0ZXN0ID1NYXRoLnJvdW5kKE1hdGgucG93KGFtb3VudCwgZXhwKSk7XG4gICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIC8vIHZhciB0ZXN0ID0gTWF0aC5yb3VuZChjb25zdW1lICogbm9ybWFsIC8gYW1vdW50KTtcbiAgICAgICAgLy8gdmFyIHRlc3Q9TWF0aC5yb3VuZCgoMC4wK25vcm1hbCkrTWF0aC5wb3coY29uc3VtZSwwLjYpLU1hdGgucG93KGFtb3VudCwwLjYpKTtcbi8qICAgICAgICB2YXIgdGVzdCA9IE1hdGgucm91bmQobm9ybWFsICsgKG5vcm1hbCAtIChhbW91bnQgLyBjb25zdW1lICogbm9ybWFsKSkpO1xuICAgICAgICBpZiAodGVzdCA8IG1pbilcbiAgICAgICAgICAgIHJldHVybiBtaW47XG4gICAgICAgIGlmICh0ZXN0ID4gbWF4IHx8IGFtb3VudCA8IDMwKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF4O1xuICAgICAgICB9Ki9cbiAgICAgICAgcmV0dXJuIHRlc3Q7XG4gICAgfVxuICAgICAgXG4gICAgICAgXG5cbiAgICBnZXRJY29uKCk6IHN0cmluZyB7XG4gICAgICAgIHZhciBjb2xvcnMgPSBbXG4gICAgICAgICAgICBbXCJcIiwgXCJvcmFuZ2VcIiwgXCJtZGktZm9ybWF0LWxpbmUtc3R5bGVcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJncmVlblwiLCBcIm1kaS1waW5lLXRyZWVcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJ5ZWxsb3dcIiwgXCJtZGktZ3Jhc3NcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJzaWx2ZXJcIiwgXCJtZGktY2hlY2tib3gtYmxhbmstY2lyY2xlXCJdLFxuICAgICAgICAgICAgW1wiXCIsIFwibGlnaHRncmF5XCIsIFwibWRpLWFwcGxlLWljbG91ZFwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcImJsYWNrXCIsIFwibWRpLXdhdGVyXCJdLFxuICAgICAgICAgICAgW1wiXCIsIFwiYnJvd25cIiwgXCJtZGktZm9vZC1jcm9pc3NhbnRcIl0sXG4gICAgICAgICAgICBbXCJibHVlXCIsIFwicmVkXCIsIFwibWRpLXNxdWFyZS1jaXJjbGVcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJvcmFuZ2VcIiwgXCJtZGktZm9vZC1kcnVtc3RpY2tcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJwdXJwbGVcIiwgXCJtZGktc29mYVwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcImxpZ2h0Ymx1ZVwiLCBcIm1kaS10c2hpcnQtdlwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcImdyYXlcIiwgXCJtZGktZmlzaFwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcInJlZFwiLCBcIm1kaS1mb29kLWFwcGxlXCJdLFxuICAgICAgICAgICAgW1wiXCIsIFwiZ2FtYm9nZVwiLCBcIm1kaS1ib3R0bGUtc29kYVwiXSxcbiAgICAgICAgICAgIFtcIlwiLCBcImdvbGRcIiwgXCJtZGktY2hlY2tib3gtYmxhbmstY2lyY2xlXCJdLFxuICAgICAgICAgICAgW1wiXCIsIFwiZ29sZFwiLCBcIm1kaS1yaW5nXCJdLFxuICAgICAgICAgICAgW1wiXCIsIFwiYmx1ZVwiLCBcIm1kaS10b3ktYnJpY2tcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJibGFja1wiLCBcIm1kaS1tb3RvcmJpa2VcIl0sXG4gICAgICAgICAgICBbXCJcIiwgXCJicm93blwiLCBcIm1kaS1oYW1idXJnZXJcIl0sXG5cbiAgICAgICAgXTtcbiAgICAgICAgdmFyIGljID0gY29sb3JzW3RoaXMuaWRdLmxlbmd0aCA9PT0gMyA/IGNvbG9yc1t0aGlzLmlkXVsyXSA6IFwibWRpLWNpcmNsZS1tdWx0aXBsZVwiO1xuICAgICAgICByZXR1cm4gXCI8c3BhbiBzdHlsZT0nd2lkdGg6MTRweDtmb250LXNpemU6MTVweDtjb2xvcjpcIiArIGNvbG9yc1t0aGlzLmlkXVsxXSArIFwiO2JhY2tncm91bmQtY29sb3I6XCIgKyBjb2xvcnNbdGhpcy5pZF1bMF0gKyBcIicgY2xhc3M9J21kaSBcIiArIGljICsgXCInPjwvc3Bhbj5cIjtcbiAgICB9XG59XG5cbmV4cG9ydCB2YXIgYWxsUHJvZHVjdHMgPSBbXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMCwgbmFtZTogXCJTdGVpblwiLCBkYWlseVByb2R1Y2U6IDUsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsICBwcmljZVByb2R1Y3Rpb246IDMyLCAgZGlzdHJpYnV0aW9uOiAxNixhbW91bnRGb3JQZW9wbGU6NSB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxLCBuYW1lOiBcIkhvbHpcIiwgZGFpbHlQcm9kdWNlOiA1LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAzMiwgIGRpc3RyaWJ1dGlvbjogMTYgLGFtb3VudEZvclBlb3BsZTo0LjUgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMiwgbmFtZTogXCJHZXRyZWlkZVwiLCBkYWlseVByb2R1Y2U6IDcsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsICBwcmljZVByb2R1Y3Rpb246IDIzLGRpc3RyaWJ1dGlvbjogMTYsYW1vdW50Rm9yUGVvcGxlOjQgIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDMsIG5hbWU6IFwiRWlzZW5cIiwgZGFpbHlQcm9kdWNlOiA1LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAzMiwgZGlzdHJpYnV0aW9uOiAxNixhbW91bnRGb3JQZW9wbGU6MyAgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogNCwgbmFtZTogXCJXb2xsZVwiLCBkYWlseVByb2R1Y2U6IDUsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsICBwcmljZVByb2R1Y3Rpb246IDMyLCBkaXN0cmlidXRpb246IDE2LGFtb3VudEZvclBlb3BsZToyLjUgIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDUsIG5hbWU6IFwiw5ZsXCIsIGRhaWx5UHJvZHVjZTogNSwgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogMCwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgIHByaWNlUHJvZHVjdGlvbjozMiwgIGRpc3RyaWJ1dGlvbjogMTYsYW1vdW50Rm9yUGVvcGxlOjMgIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDYsIG5hbWU6IFwiQnJvdFwiLCBkYWlseVByb2R1Y2U6IDYsIGlucHV0MTogMiwgaW5wdXQxQW1vdW50OiAyLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBwcmljZVByb2R1Y3Rpb246IDQ5LCBkaXN0cmlidXRpb246IDgsYW1vdW50Rm9yUGVvcGxlOjUgIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDcsIG5hbWU6IFwiUGxhc3RlXCIsIGRhaWx5UHJvZHVjZTogNiwgaW5wdXQxOiA1LCBpbnB1dDFBbW91bnQ6IDIsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIHByaWNlUHJvZHVjdGlvbjogNTcsICBkaXN0cmlidXRpb246IDggLGFtb3VudEZvclBlb3BsZTo1IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDgsIG5hbWU6IFwiRmxlaXNjaFwiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogMiwgaW5wdXQxQW1vdW50OiAxLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAxMDksIGRpc3RyaWJ1dGlvbjogOCxhbW91bnRGb3JQZW9wbGU6MiAgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogOSwgbmFtZTogXCJNw7ZiZWxcIiwgZGFpbHlQcm9kdWNlOiAyLCBpbnB1dDE6IDEsIGlucHV0MUFtb3VudDogMC41LCBpbnB1dDI6IDMsIGlucHV0MkFtb3VudDogMSwgIHByaWNlUHJvZHVjdGlvbjogMTE3LCAgZGlzdHJpYnV0aW9uOiA4LGFtb3VudEZvclBlb3BsZToyICB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxMCwgbmFtZTogXCJLbGVpZHVuZ1wiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogNCwgaW5wdXQxQW1vdW50OiAyLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCAgcHJpY2VQcm9kdWN0aW9uOiAyODYsICBkaXN0cmlidXRpb246IDgsYW1vdW50Rm9yUGVvcGxlOjEgIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDExLCBuYW1lOiBcIkZpc2NoXCIsIGRhaWx5UHJvZHVjZTogMywgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogdW5kZWZpbmVkLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBwcmljZVByb2R1Y3Rpb246IDYwLGRpc3RyaWJ1dGlvbjogOCxhbW91bnRGb3JQZW9wbGU6MiAgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTIsIG5hbWU6IFwiQXBmZWxcIiwgZGFpbHlQcm9kdWNlOiA0LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiB1bmRlZmluZWQsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAscHJpY2VQcm9kdWN0aW9uOiA0NSwgIGRpc3RyaWJ1dGlvbjogOCAsYW1vdW50Rm9yUGVvcGxlOjMgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTMsIG5hbWU6IFwiU2FmdFwiLCBkYWlseVByb2R1Y2U6IDMsIGlucHV0MTogMTIsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCxwcmljZVByb2R1Y3Rpb246IDg1LCAgZGlzdHJpYnV0aW9uOiA4ICxhbW91bnRGb3JQZW9wbGU6MyB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxNCwgbmFtZTogXCJHb2xkXCIsIGRhaWx5UHJvZHVjZTogMiwgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogMCwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgIHByaWNlUHJvZHVjdGlvbjogMTAwLCAgZGlzdHJpYnV0aW9uOiA0ICxhbW91bnRGb3JQZW9wbGU6IDF9KSwgXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTUsIG5hbWU6IFwiU2NobXVja1wiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogMTQsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgIHByaWNlUHJvZHVjdGlvbjogMTg0LCBkaXN0cmlidXRpb246IDQgLGFtb3VudEZvclBlb3BsZToyIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDE2LCBuYW1lOiBcIlNwaWVsemV1Z1wiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogNCwgaW5wdXQxQW1vdW50OiAwLjUsIGlucHV0MjogNywgaW5wdXQyQW1vdW50OiAwLjUsICBwcmljZVByb2R1Y3Rpb246IDI3NCwgIGRpc3RyaWJ1dGlvbjogNCxhbW91bnRGb3JQZW9wbGU6MSAgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTcsIG5hbWU6IFwiRmFocnJhZFwiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogMywgaW5wdXQxQW1vdW50OiAxLCBpbnB1dDI6IDcsIGlucHV0MkFtb3VudDogMC41LCAgcHJpY2VQcm9kdWN0aW9uOiAyNzQsICBkaXN0cmlidXRpb246IDQgLGFtb3VudEZvclBlb3BsZToxIH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDE4LCBuYW1lOiBcIkZpc2NoYnJvdFwiLCBkYWlseVByb2R1Y2U6IDEsIGlucHV0MTogMTEsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiA2LCBpbnB1dDJBbW91bnQ6IDEsICBwcmljZVByb2R1Y3Rpb246IDM4MiwgIGRpc3RyaWJ1dGlvbjogNCAsYW1vdW50Rm9yUGVvcGxlOjEgfSlcbl07XG4vKmV4cG9ydCB2YXIgYWxsUHJvZHVjdHMgPSBbXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMCwgbmFtZTogXCJIb2x6XCIsIGRhaWx5UHJvZHVjZTogMi41LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBkYWlseUNvbnN1bXRpb246IDAuMDAxNSwgcHJpY2VQcm9kdWN0aW9uOiAzMywgcHJpY2VQdXJjaGFzZTogNDAsIHByaWNlU2VsbGluZzogNTksIGRpc3RyaWJ1dGlvbjogMTYgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMSwgbmFtZTogXCJaaWVnZWxcIiwgZGFpbHlQcm9kdWNlOiA2LCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBkYWlseUNvbnN1bXRpb246IDAuMDAyOSwgcHJpY2VQcm9kdWN0aW9uOiAzMywgcHJpY2VQdXJjaGFzZTogNDAsIHByaWNlU2VsbGluZzogNTksIGRpc3RyaWJ1dGlvbjogMTYgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMiwgbmFtZTogXCJHZXRyZWlkZVwiLCBkYWlseVByb2R1Y2U6IDUsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDMwNjgsIHByaWNlUHJvZHVjdGlvbjogMzMsIHByaWNlUHVyY2hhc2U6IDQwLCBwcmljZVNlbGxpbmc6IDU5LCBkaXN0cmlidXRpb246IDE2IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDMsIG5hbWU6IFwiSGFuZlwiLCBkYWlseVByb2R1Y2U6IDIuNSwgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogMCwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgZGFpbHlDb25zdW10aW9uOiAwLjAwMTUsIHByaWNlUHJvZHVjdGlvbjogMzMsIHByaWNlUHVyY2hhc2U6IDQwLCBwcmljZVNlbGxpbmc6IDU5LCBkaXN0cmlidXRpb246IDE2IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDQsIG5hbWU6IFwiV29sbGVcIiwgZGFpbHlQcm9kdWNlOiAyLCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBkYWlseUNvbnN1bXRpb246IDAuMDAxMTY4LCBwcmljZVByb2R1Y3Rpb246IDUwLCBwcmljZVB1cmNoYXNlOiA2MCwgcHJpY2VTZWxsaW5nOiA5MCwgZGlzdHJpYnV0aW9uOiA4IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDUsIG5hbWU6IFwiTWV0YWxsZVwiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDExNjgsIHByaWNlUHJvZHVjdGlvbjogNTAsIHByaWNlUHVyY2hhc2U6IDYwLCBwcmljZVNlbGxpbmc6IDkwLCBkaXN0cmlidXRpb246IDggfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogNiwgbmFtZTogXCJIb25pZ1wiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDExNjgsIHByaWNlUHJvZHVjdGlvbjogNTAsIHByaWNlUHVyY2hhc2U6IDYwLCBwcmljZVNlbGxpbmc6IDkwLCBkaXN0cmlidXRpb246IDggfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogNywgbmFtZTogXCJTYWx6XCIsIGRhaWx5UHJvZHVjZTogMSwgaW5wdXQxOiAwLCBpbnB1dDFBbW91bnQ6IDAuMjUsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDA2LCBwcmljZVByb2R1Y3Rpb246IDU4LCBwcmljZVB1cmNoYXNlOiA3MCwgcHJpY2VTZWxsaW5nOiAxMDQsIGRpc3RyaWJ1dGlvbjogOCB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiA4LCBuYW1lOiBcIk1ldGFsbHdhcmVuXCIsIGRhaWx5UHJvZHVjZTogMS41LCBpbnB1dDE6IDAsIGlucHV0MUFtb3VudDogMC41LCBpbnB1dDI6IDUsIGlucHV0MkFtb3VudDogNSwgZGFpbHlDb25zdW10aW9uOiAwLjAwMDksIHByaWNlUHJvZHVjdGlvbjogMTY3LCBwcmljZVB1cmNoYXNlOiAyMDAsIHByaWNlU2VsbGluZzogMzAxLCBkaXN0cmlidXRpb246IDggfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogOSwgbmFtZTogXCJNZXRcIiwgZGFpbHlQcm9kdWNlOiAyLCBpbnB1dDE6IDYsIGlucHV0MUFtb3VudDogMSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgZGFpbHlDb25zdW10aW9uOiAwLjAwMTE2OCwgcHJpY2VQcm9kdWN0aW9uOiAxNTAsIHByaWNlUHVyY2hhc2U6IDE4MCwgcHJpY2VTZWxsaW5nOiAyNzAsIGRpc3RyaWJ1dGlvbjogOCB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxMCwgbmFtZTogXCJUdWNoXCIsIGRhaWx5UHJvZHVjZTogMSwgaW5wdXQxOiA0LCBpbnB1dDFBbW91bnQ6IDEsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDA2LCBwcmljZVByb2R1Y3Rpb246IDE1MCwgcHJpY2VQdXJjaGFzZTogMTgwLCBwcmljZVNlbGxpbmc6IDI3MCwgZGlzdHJpYnV0aW9uOiA4IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDExLCBuYW1lOiBcIkJpZXJcIiwgZGFpbHlQcm9kdWNlOiAzLCBpbnB1dDE6IDIsIGlucHV0MUFtb3VudDogMC4yNSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgZGFpbHlDb25zdW10aW9uOiAwLjAwMTc2OCwgcHJpY2VQcm9kdWN0aW9uOiA3NSwgcHJpY2VQdXJjaGFzZTogOTAsIHByaWNlU2VsbGluZzogMTM1LCBkaXN0cmlidXRpb246IDQgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTIsIG5hbWU6IFwiU3RvY2tmaXNjaFwiLCBkYWlseVByb2R1Y2U6IDMsIGlucHV0MTogNywgaW5wdXQxQW1vdW50OiAwLjUsIGlucHV0MjogMywgaW5wdXQyQW1vdW50OiAzLCBkYWlseUNvbnN1bXRpb246IDAuMDAxNzY4LCBwcmljZVByb2R1Y3Rpb246IDEyOSwgcHJpY2VQdXJjaGFzZTogMTU1LCBwcmljZVNlbGxpbmc6IDIzMiwgZGlzdHJpYnV0aW9uOiA0IH0pLFxuICAgIG5ldyBQcm9kdWN0KHsgaWQ6IDEzLCBuYW1lOiBcIktsZWlkdW5nXCIsIGRhaWx5UHJvZHVjZTogMSwgaW5wdXQxOiAxMCwgaW5wdXQxQW1vdW50OiAxLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBkYWlseUNvbnN1bXRpb246IDAuMDAwNiwgcHJpY2VQcm9kdWN0aW9uOiAzNTAsIHByaWNlUHVyY2hhc2U6IDQyMCwgcHJpY2VTZWxsaW5nOiA2MzAsIGRpc3RyaWJ1dGlvbjogNCB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxNCwgbmFtZTogXCJLw6RzZVwiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogdW5kZWZpbmVkLCBpbnB1dDFBbW91bnQ6IDAsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDExNjgsIHByaWNlUHJvZHVjdGlvbjogMTAwLCBwcmljZVB1cmNoYXNlOiAxMjAsIHByaWNlU2VsbGluZzogMTgwLCBkaXN0cmlidXRpb246IDQgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTUsIG5hbWU6IFwiUGVjaFwiLCBkYWlseVByb2R1Y2U6IDIsIGlucHV0MTogMCwgaW5wdXQxQW1vdW50OiAwLjUsIGlucHV0MjogdW5kZWZpbmVkLCBpbnB1dDJBbW91bnQ6IDAsIGRhaWx5Q29uc3VtdGlvbjogMC4wMDExNjgsIHByaWNlUHJvZHVjdGlvbjogMTE3LCBwcmljZVB1cmNoYXNlOiAxNDAsIHByaWNlU2VsbGluZzogMjExLCBkaXN0cmlidXRpb246IDQgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTYsIG5hbWU6IFwiRmVsbGVcIiwgZGFpbHlQcm9kdWNlOiAxLCBpbnB1dDE6IDMsIGlucHV0MUFtb3VudDogMC41LCBpbnB1dDI6IDgsIGlucHV0MkFtb3VudDogMC41LCBkYWlseUNvbnN1bXRpb246IDAuMDAwNiwgcHJpY2VQcm9kdWN0aW9uOiAzMDAsIHByaWNlUHVyY2hhc2U6IDM2MCwgcHJpY2VTZWxsaW5nOiA1NDAsIGRpc3RyaWJ1dGlvbjogNCB9KSxcbiAgICBuZXcgUHJvZHVjdCh7IGlkOiAxNywgbmFtZTogXCJGbGVpc2NoXCIsIGRhaWx5UHJvZHVjZTogMSwgaW5wdXQxOiA3LCBpbnB1dDFBbW91bnQ6IDEuNSwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgZGFpbHlDb25zdW10aW9uOiAwLjAwMDYsIHByaWNlUHJvZHVjdGlvbjogMjg4LCBwcmljZVB1cmNoYXNlOiAzNDYsIHByaWNlU2VsbGluZzogNTE4LCBkaXN0cmlidXRpb246IDQgfSksXG4gICAgbmV3IFByb2R1Y3QoeyBpZDogMTgsIG5hbWU6IFwiV2VpblwiLCBkYWlseVByb2R1Y2U6IDAuNSwgaW5wdXQxOiB1bmRlZmluZWQsIGlucHV0MUFtb3VudDogMCwgaW5wdXQyOiB1bmRlZmluZWQsIGlucHV0MkFtb3VudDogMCwgZGFpbHlDb25zdW10aW9uOiAwLjAwMDMzNiwgcHJpY2VQcm9kdWN0aW9uOiA0MDAsIHByaWNlUHVyY2hhc2U6IDQ4MCwgcHJpY2VTZWxsaW5nOiA3MjAsIGRpc3RyaWJ1dGlvbjogNCB9KVxuICAgIC8vICAgIG5ldyBQcm9kdWN0KHsgaWQ6MTksIG5hbWU6IFwiR2V3w7xyemVcIiwgZGFpbHlQcm9kdWNlOiAwLCBpbnB1dDE6IHVuZGVmaW5lZCwgaW5wdXQxQW1vdW50OiAwLCBpbnB1dDI6IHVuZGVmaW5lZCwgaW5wdXQyQW1vdW50OiAwLCBkYWlseUNvbnN1bXRpb246IDAuMDAwMzM2LCBwcmljZVByb2R1Y3Rpb246IDAsIHByaWNlUHVyY2hhc2U6IDYwMCwgcHJpY2VTZWxsaW5nOiA5MDAgfSlcbl07Ki9cblxuXG5leHBvcnQgZnVuY3Rpb24gdGVzdCgpIHtcbiAgICB2YXIgcGVvcGxlID0gMzA2NTY7XG4gICAgY29uc29sZS5sb2coYWxsUHJvZHVjdHNbMV0ucHJpY2VQdXJjaGFzZStcIiBcIitNYXRoLnJvdW5kKDIwMCphbGxQcm9kdWN0c1sxXS5kYWlseUNvbnN1bXRpb24qNDApKTtcbiAgICBjb25zb2xlLmxvZyhhbGxQcm9kdWN0c1sxXS5jYWxjUHJpY2UoMjAwLDIsdHJ1ZSkpO1xufVxuXG5cbiJdfQ==