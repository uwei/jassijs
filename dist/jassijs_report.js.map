{"version":3,"file":"jassijs_report.js","sourceRoot":"","sources":["../client/jassijs_report/PDFReport.ts","../client/jassijs_report/PDFViewer.ts","../client/jassijs_report/RColumns.ts","../client/jassijs_report/RComponent.ts","../client/jassijs_report/RDatatable.ts","../client/jassijs_report/RGroupTablerow.ts","../client/jassijs_report/RStack.ts","../client/jassijs_report/RStyle.ts","../client/jassijs_report/RTablerow.ts","../client/jassijs_report/RText.ts","../client/jassijs_report/RTextGroup.ts","../client/jassijs_report/RUnknown.ts","../client/jassijs_report/ReportDesign.ts","../client/jassijs_report/SimpleReportEditor.ts","../client/jassijs_report/modul.ts","../client/jassijs_report/registry.js","../client/jassijs_report/designer/Report.ts","../client/jassijs_report/designer/ReportDesigner.ts","../client/jassijs_report/designer/SimpleReportDesigner.ts","../client/jassijs_report/ext/pdfjs.js","../client/jassijs_report/ext/pdfmake.js","../client/jassijs_report/remote/pdfmakejassi.ts"],"names":[],"mappings":"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AAE,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;gBACtB,EAAE,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC;gBACrB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,GAAG,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;gBACtB,EAAE,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;gBACtB,EAAE,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;gBACtB,EAAE,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;gBACtB,EAAE,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC;gBACrB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,GAAG,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;gBACtB,EAAE,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;gBACtB,EAAE,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;gBACtB,EAAE,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC;gBACrB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;gBACpB,EAAE,EAAE,CAAC,MAAM,EAAE,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","sourcesContent":["import jassijs, { $Class } from \"jassijs/remote/Jassi\";\n//@ts-ignore\nimport pdfMake from \"jassijs_report/ext/pdfmake\";\nimport { PDFViewer } from \"jassijs_report/PDFViewer\";\nimport { Tools } from \"jassijs/util/Tools\";\n\n//@ts-ignore;\nimport {createReportDefinition} from \"jassijs_report/remote/pdfmakejassi\";\n\n\n\n@$Class(\"jassijs_report.PDFReport\")\nexport class PDFReport {\n    report;\n    /**\n     * @member {object} - report definition\n     */\n    value;\n    data;\n    parameter;\n    constructor() {\n        // @member {object} - the generated report\n        this.report = null;\n    }\n\n    layout() {\n        //var me = this.me = {};\n\n    }\n    fill() {\n        var def = createReportDefinition(this.value, this.data, this.parameter)\n        registerFonts(this.value);\n        this.report = pdfMake.createPdf(def);\n    }\n\n\n    open() {\n        this.report.open();\n    }\n    download() {\n        this.report.download();\n    }\n    print() {\n        this.report.print();\n    }\n\n    async getBase64() {\n        var _this = this;\n        return new Promise(\n            function (resolve, reject) {\n                _this.report.getBase64(function (data) {\n                    resolve(data);\n\n                });\n            });\n\n    };\n\n}\n//var available = [\"Alegreya\",    \"AlegreyaSans\",    \"AlegreyaSansSC\",    \"AlegreyaSC\",    \"AlmendraSC\",    \"Amaranth\",    \"Andada\",    \"AndadaSC\",    \"AnonymousPro\",    \"ArchivoNarrow\",    \"Arvo\",    \"Asap\",    \"AveriaLibre\",    \"AveriaSansLibre\",    \"AveriaSerifLibre\",    \"Cambay\",    \"Caudex\",    \"CrimsonText\",    \"Cuprum\",    \"Economica\",    \"Exo2\",    \"Exo\",    \"ExpletusSans\",    \"FiraSans\",    \"JosefinSans\",    \"JosefinSlab\",    \"Karla\",    \"Lato\",    \"LobsterTwo\",    \"Lora\",    \"Marvel\",    \"Merriweather\",    \"MerriweatherSans\",    \"Nobile\",    \"NoticiaText\",    \"Overlock\",    \"Philosopher\",    \"PlayfairDisplay\",    \"PlayfairDisplaySC\",    \"PT_Serif-Web\",    \"Puritan\",    \"Quantico\",    \"QuattrocentoSans\",    \"Quicksand\",    \"Rambla\",    \"Rosario\",    \"Sansation\",    \"Sarabun\",    \"Scada\",    \"Share\",    \"Sitara\",    \"SourceSansPro\",    \"TitilliumWeb\",    \"Volkhov\",    \"Vollkorn\"];\nfunction registerFonts(data) {\n    var fonts = [];\n    var base = \"https://cdn.jsdelivr.net/gh/xErik/pdfmake-fonts-google@master/lib/ofl\"//abeezee/ABeeZee-Italic.ttf\n\n    JSON.stringify(data, (key, value) => {\n        if (key === \"font\" && value !== \"\") {\n            fonts.push(value);\n        }\n        return value;\n    });\n    if (!pdfMake.fonts) {\n        pdfMake.fonts = {\n            Roboto: {\n                normal: 'Roboto-Regular.ttf',\n                bold: 'Roboto-Medium.ttf',\n                italics: 'Roboto-Italic.ttf',\n                bolditalics: 'Roboto-MediumItalic.ttf'\n            }\n        };\n    }\n    fonts.forEach((font: string) => {\n        if (font !== \"Roboto\") {\n            pdfMake.fonts[font] = {};\n            pdfMake.fonts[font].normal = base + \"/\" + font.toLowerCase() + \"/\" + font + \"-Regular.ttf\";\n            pdfMake.fonts[font].bold = base + \"/\" + font.toLowerCase() + \"/\" + font + \"-Bold.ttf\";\n            pdfMake.fonts[font].italics = base + \"/\" + font.toLowerCase() + \"/\" + font + \"-Italic.ttf\";\n            pdfMake.fonts[font].bolditalics = base + \"/\" + font.toLowerCase() + \"/\" + font + \"-BoldItalic.ttf\";\n        }\n    });\n}\n\n\nexport async function test() {\n    var rep = new PDFReport();\n    rep.data = {\n        invoice: {\n            number: 1000,\n            date: \"20.07.2018\",\n            customer: {\n                firstname: \"Henry\",\n                lastname: \"Klaus\",\n                street: \"Hauptstr. 157\",\n                place: \"chemnitz\",\n            },\n            lines: [\n                { pos: 1, text: \"this is the first position, lksjdflgsd er we wer wre er er er re wekfgjslkdfjjdk sgfsdg\", price: 10.00, amount: 50, variante: [{ m: 1 }, { m: 2 }] },\n                { pos: 2, text: \"this is the next position\", price: 20.50, },\n                { pos: 3, text: \"this is an other position\", price: 19.50 },\n                { pos: 4, text: \"this is the last position\", price: 50.00 },\n            ],\n            summary: [\n                { text: \"Subtotal\", value: 100.00 },\n                { text: \"Tax\", value: 19.00 },\n                { text: \"Subtotal\", value: 119.00 },\n            ]\n        }\n    };\n    rep.value = {\n        content: {\n            stack: [{\n                //font: \"ExpletusSans\",\n                columns: [\n                    {\n\n                        stack: [\n                            '${invoice.customer.firstname} ${invoice.customer.lastname}' ,\n                            '${invoice.customer.street}',\n                            '${invoice.customer.place}' \n                        ]\n                    },\n                    {\n                        stack: [\n                            { text: 'Invoice', fontSize: 18 },\n                             \" \" ,\n                            \"Date: ${invoice.date}\",\n                            { text: \"Number: ${invoice.number}\", bold: true },\n                            \" \" ,\n                            \" \" ,\n                        ]\n                    }\n                ]\n            }, {\n                table: {\n                    body: [\n                        ['Item', 'Price'],\n                        {\n                            foreach: \"line in invoice.lines\",\n                            do: [\n                                '${line.text}', '${line.price}'\n                            ]\n                        }\n                    ]\n                }\n            },\n            {\n                datatable: {\n                    header: [{ text: \"Item\" }, { text: \"Price\" }],\n                    dataforeach: \"line in invoice.lines\",\n                    //footer:[{ text:\"Total\"},{ text:\"\"}],\n                    body: ['${line.text}', '${line.price}'],\n                    groups: [\n                        {\n                            field: \"line\",\n                            header: [],\n                            footer: []\n                        }\n                    ]\n\n                }\n            },\n             \" \" ,\n            {\n                foreach: \"sum in invoice.summary\",\n                columns: [\n                     \"${sum.text}\" ,\n                    \"${sum.value}\" ,\n                ]\n\n            },\n            ]\n        }\n    };\n    rep.fill();\n    var viewer = new PDFViewer();\n    viewer.value = await rep.getBase64();\n    viewer.height = 300;\n    return viewer;\n}\n\n\n","import { Button } from \"jassijs/ui/Button\";\n//@ts-ignore\nimport PDFJS from \"jassijs_report/ext/pdfjs\";\nimport { Component } from \"jassijs/ui/Component\";\nimport jassijs, { $Class } from \"jassijs/remote/Jassi\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport { PDFReport } from \"jassijs_report/PDFReport\";\nclass Canavas extends Component {\n    constructor() {\n        super();\n        super.init($('<canvas type=\"pdfviewer\"></canvas>')[0]);\n    }\n}\ntype Me = {\n    canavasPanel?: Canavas;\n    toolbar?: BoxPanel;\n    plus?: Button;\n    minus?: Button;\n    download?: Button;\n};\n@$Class(\"jassijs_report.PDFViewer\")\nexport class PDFViewer extends Panel {\n    _page: number;\n    pdfjsLib: PDFJS;\n    pdfDoc;\n    pageNum: number;\n    pageRendering: boolean;\n    pageNumPending;\n    scale: number;\n    canvas: HTMLCanvasElement;\n    ctx;\n    _data;\n    me: Me;\n    report:PDFReport;\n    constructor() {\n        super();\n        this._page = 1;\n        //super.init(undefined);//$('<canvas type=\"pdfviewer\"></canvas>')[0]);\n        this.pdfjsLib = PDFJS;\n        this.pdfDoc = null;\n        this.pageNum = 1;\n        this.pageRendering = false;\n        this.pageNumPending = null;\n        this.scale = 0.8;\n        this.me = {};\n        this.layout(this.me);\n    }\n    layout(me: Me) {\n        this.css({\n            overflow:\"auto\"\n        });\n        me.toolbar = new BoxPanel();\n        me.canavasPanel = new Canavas();\n        me.plus = new Button();\n        me.minus = new Button();\n        var _this = this;\n        me.download = new Button();\n        //me.canavasPanel.height=\"90%\";\n        //\tme.canavasPanel.width=\"90%\";\n        //\tvar cn=$('<canvas type=\"pdfviewer\"></canvas>')[0]\n        this.canvas = <HTMLCanvasElement>me.canavasPanel.dom;\n        //this.dom.appendChild(cn);\n        //this.canvas = cn;\n        this.ctx = this.canvas.getContext('2d');\n        this.add(me.toolbar);\n        this.add(me.canavasPanel);\n        me.toolbar.add(me.plus);\n        me.toolbar.horizontal = true;\n        me.toolbar.add(me.download);\n        me.toolbar.add(me.minus);\n        me.plus.text = \"+\";\n        me.plus.onclick(function (event) {\n            _this.scale = _this.scale * 1.4;\n            _this.renderPage(_this._page);\n        });\n        me.minus.text = \"-\";\n        me.minus.onclick(function (event) {\n            _this.scale = _this.scale / 1.4;\n            _this.renderPage(_this._page);\n        });\n        me.download.text = \"download\";\n        me.download.onclick(function (event) {\n        \t_this.report.open();\n        });\n    }\n    renderPage(num) {\n        // The workerSrc property shall be specified.\n        this.pageRendering = true;\n        // Using promise to fetch the page\n        var _this = this;\n        this.pdfDoc.getPage(num).then(function (page) {\n            var viewport = page.getViewport({scale:_this.scale});\n            _this.canvas.height = viewport.height;\n            _this.canvas.width = viewport.width;\n         //   _this.width=viewport.width;\n         //   _this.height=viewport.height;\n            \n            // Render PDF page into canvas context\n            var renderContext = {\n                canvasContext: _this.ctx,\n                viewport: viewport\n            };\n            var renderTask = page.render(renderContext);\n            // Wait for rendering to finish\n            renderTask.promise.then(function () {\n                _this.pageRendering = false;\n                if (_this.pageNumPending !== null) {\n                    // New page rendering is pending\n                    _this.renderPage(_this.pageNumPending);\n                    _this.pageNumPending = null;\n                }\n            });\n        });\n    }\n    queueRenderPage(num) {\n        if (this.pageRendering) {\n            this.pageNumPending = num;\n        }\n        else {\n            this.renderPage(num);\n        }\n    }\n    /**\n     * Displays previous page.\n     */\n    onPrevPage() {\n        if (this.pageNum <= 1) {\n            return;\n        }\n        this.pageNum--;\n        this.queueRenderPage(this.pageNum);\n    }\n    /**\n     * Displays next page.\n     */\n    onNextPage() {\n        if (this.pageNum >= this.pdfDoc.numPages) {\n            return;\n        }\n        this.pageNum++;\n        this.queueRenderPage(this.pageNum);\n    }\n    /**\n     * @member {data} - the caption of the button\n     */\n    set value(value) {\n        this._data = value;\n        var pdfData = atob(this._data);\n        var loadingTask = this.pdfjsLib.getDocument({ data: pdfData });\n        var _this = this;\n        loadingTask.promise.then(function (pdf) {\n            _this.pdfDoc = pdf;\n            _this.queueRenderPage(_this._page);\n        }, function (e) {\n            var g = e;\n        });\n    }\n    get value() {\n        return this._data;\n        //return  $(this.checkbox).prop(\"checked\");\n    }\n    /**\n     * @member {number} - the current page number\n     */\n    set page(value) {\n        this._page = value;\n    }\n    get page() {\n        return this._page;\n        //return  $(this.checkbox).prop(\"checked\");\n    }\n}\nexport async function test() {\n    var ret = new PDFViewer();\n    //testdocument\n    var data = 'JVBERi0xLjcKCjEgMCBvYmogICUgZW50cnkgcG9pbnQKPDwKICAvVHlwZSAvQ2F0YWxvZwog' +\n        'IC9QYWdlcyAyIDAgUgo+PgplbmRvYmoKCjIgMCBvYmoKPDwKICAvVHlwZSAvUGFnZXMKICAv' +\n        'TWVkaWFCb3ggWyAwIDAgMjAwIDIwMCBdCiAgL0NvdW50IDEKICAvS2lkcyBbIDMgMCBSIF0K' +\n        'Pj4KZW5kb2JqCgozIDAgb2JqCjw8CiAgL1R5cGUgL1BhZ2UKICAvUGFyZW50IDIgMCBSCiAg' +\n        'L1Jlc291cmNlcyA8PAogICAgL0ZvbnQgPDwKICAgICAgL0YxIDQgMCBSIAogICAgPj4KICA+' +\n        'PgogIC9Db250ZW50cyA1IDAgUgo+PgplbmRvYmoKCjQgMCBvYmoKPDwKICAvVHlwZSAvRm9u' +\n        'dAogIC9TdWJ0eXBlIC9UeXBlMQogIC9CYXNlRm9udCAvVGltZXMtUm9tYW4KPj4KZW5kb2Jq' +\n        'Cgo1IDAgb2JqICAlIHBhZ2UgY29udGVudAo8PAogIC9MZW5ndGggNDQKPj4Kc3RyZWFtCkJU' +\n        'CjcwIDUwIFRECi9GMSAxMiBUZgooSGVsbG8sIHdvcmxkISkgVGoKRVQKZW5kc3RyZWFtCmVu' +\n        'ZG9iagoKeHJlZgowIDYKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwMDEwIDAwMDAwIG4g' +\n        'CjAwMDAwMDAwNzkgMDAwMDAgbiAKMDAwMDAwMDE3MyAwMDAwMCBuIAowMDAwMDAwMzAxIDAw' +\n        'MDAwIG4gCjAwMDAwMDAzODAgMDAwMDAgbiAKdHJhaWxlcgo8PAogIC9TaXplIDYKICAvUm9v' +\n        'dCAxIDAgUgo+PgpzdGFydHhyZWYKNDkyCiUlRU9G';\n    ret.value = data;\n//    ret.height=160;\n    return ret;\n}\n","import { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport jassijs, { $Class } from \"jassijs/remote/Jassi\";\nimport { $UIComponent } from \"jassijs/ui/Component\";\nimport { $Property } from \"jassijs/ui/Property\";\nimport { ReportDesign } from \"jassijs_report/ReportDesign\";\nimport { $ReportComponent, RComponent } from \"jassijs_report/RComponent\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { RText } from \"jassijs_report/RText\";\n\n\n//@$UIComponent({editableChildComponents:[\"this\"]})\n@$ReportComponent({ fullPath: \"report/Columns\", icon: \"mdi mdi-view-parallel-outline\", editableChildComponents: [\"this\"] })\n@$Class(\"jassijs_report.RColumns\")\n\n//@$Property({ hideBaseClassProperties: true })\nexport class RColumns extends RComponent {\n    reporttype: string = \"columns\";\n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties = undefined) {//id connect to existing(not reqired)\n        super(properties);\n        $(this.domWrapper).addClass('BoxPanel').removeClass('Panel');\n       $(this.dom).addClass(\"designerNoResizable\");\n        $(this.dom).css(\"display\", \"table\");\n        $(this.dom).css(\"min-width\", \"50px\");\n        // this.width=\"300px\"\n    }\n   \n    /**\n   * adds a component to the container before an other component\n   * @param {jassijs.ui.Component} component - the component to add\n   * @param {jassijs.ui.Component} before - the component before then component to add\n   */\n    addBefore(component, before) {\n        if(component.addToParent)\n            return component.addToParent(this);\n        if (component[\"reporttype\"] === \"text\") {\n            //(<RText>component).newlineafter=true;\n        }\n        super.addBefore(component, before);\n        $(component.domWrapper).css(\"display\", \"table-cell\");\n         $(component.dom).removeClass(\"designerNoResizable\");\n         $(component.dom).addClass(\"designerNoResizableY\");\n\n    }\n    /**\n  * adds a component to the container\n  * @param {jassijs.ui.Component} component - the component to add\n  */\n    add(component) {\n        if(component.addToParent)\n            return component.addToParent(this);\n        super.add(component);\n        $(component.domWrapper).css(\"display\", \"table-cell\");\n         $(component.dom).removeClass(\"designerNoResizable\");\n         $(component.dom).addClass(\"designerNoResizableY\");\n\n    }\n    toJSON() {\n        var ret = super.toJSON();\n        ret.columns = [];\n        for (let x = 0;x < this._components.length;x++) {\n            if (this._components[x][\"designDummyFor\"])\n                continue;\n            //@ts-ignore\n            ret.columns.push(this._components[x].toJSON());\n        }\n        return ret;\n    }\n\n    fromJSON(ob: any): any {\n        var ret = this;\n        for (let x = 0;x < ob.columns.length;x++) {\n            ret.add(ReportDesign.fromJSON(ob.columns[x]));\n        }\n        delete ob.columns;\n        super.fromJSON(ob);\n        return ret;\n    }\n}\n\n\n\n//    jassijs.register(\"reportcomponent\",\"jassijs_report.Stack\",\"report/Stack\",\"res/boxpanel.ico\");\n\n\n","import { UIComponentProperties } from \"jassijs/ui/Component\";\nimport registry from \"jassijs/remote/Registry\";\nimport jassijs, { $Class } from \"jassijs/remote/Jassi\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { $Property } from \"jassijs/ui/Property\";\nimport { ReportDesign } from \"jassijs_report/ReportDesign\";\nimport { RStyle } from \"jassijs_report/RStyle\";\n\nexport class ReportComponentProperties extends UIComponentProperties {\n\n}\nexport function $ReportComponent(properties: ReportComponentProperties): Function {\n    return function (pclass) {\n        registry.register(\"$ReportComponent\", pclass, properties);\n    }\n}\n\n\n\n@$Class(\"jassijs_report.ReportComponent\")\n@$Property({ hideBaseClassProperties: true })\nexport class RComponent extends Panel {\n    private _colSpan: number;\n    @$Property()\n    foreach: string;\n    private _width: any;\n    private _bold: boolean;\n    private _decoration: string;\n    private _decorationStyle: string;\n    private _decorationColor: string;\n    private _color: string;\n    private _fontSize: number;\n    private _lineHeight: number;\n    private _italics: boolean;\n    private _alignment: string;\n    private _background: string;\n    private _font: string;\n    private _style:string;\n    \n    reporttype: string = \"nothing\";\n    otherProperties: any;\n    constructor(properties = undefined) {\n        super(properties);\n\n    }\n    onstylechanged(func){\n        this.addEvent(\"stylechanged\",func);\n    }\n    @$Property({\n        type: \"string\", isVisible: (component) => {\n            //only in table and column width is posible\n            return component._parent?.reporttype === \"tablerow\";\n        }\n    })\n    get colSpan(): number {\n        /*if(this._parent?.setChildWidth!==undefined)\n            return this._parent.getChildWidth(this);\n        else \n            return this._width;*/\n\n        return this._colSpan;\n    }\n\n    set colSpan(value: number) {\n        $(this.domWrapper).attr(\"colspan\", value === undefined ? \"\" : value);\n\n        /*\tif(this._parent?.setChildWidth!==undefined)\n                this._parent.setChildWidth(this,value);\n            else{\n                this._width = value;\n                console.log(value);\n                super.width = value;\n            }*/\n        this._colSpan = value;\n        if (this._parent)\n            this._parent.correctHideAfterSpan();\n    }\n    @$Property({\n        type: \"string\", isVisible: (component) => {\n            //only in table and column width is posible\n            return component._parent?.setChildWidth || component._parent?.reporttype === \"columns\";\n        }\n    })\n    get width(): any {\n        if (this._parent?.setChildWidth !== undefined)\n            return this._parent.getChildWidth(this);\n        else\n            return this._width;\n    }\n    set width(value: any) {\n        if (this._parent?.setChildWidth !== undefined)\n            this._parent.setChildWidth(this, value);\n        else {\n            this._width = value;\n            console.log(value);\n            super.width = value;\n        }\n    }\n    @$Property()\n    get bold(): boolean {\n        return this._bold;\n    }\n    set bold(value: boolean) {\n        this._bold = value;\n        $(this.dom).css(\"font-weight\", value ? \"bold\" : \"normal\");\n        this.callEvent(\"stylechanged\",\"font-weight\",value);\n    }\n    @$Property()\n    get italics(): boolean {\n        return this._italics;\n    }\n    set italics(value: boolean) {\n        this._italics = value;\n        $(this.dom).css(\"font-style\", value ? \"italic\" : \"normal\");\n        this.callEvent(\"stylechanged\",\"font-style\",value);\n    }\n    @$Property({ chooseFrom: [\"Alegreya\", \"AlegreyaSans\", \"AlegreyaSansSC\", \"AlegreyaSC\", \"AlmendraSC\", \"Amaranth\", \"Andada\", \"AndadaSC\", \"AnonymousPro\", \"ArchivoNarrow\", \"Arvo\", \"Asap\", \"AveriaLibre\", \"AveriaSansLibre\", \"AveriaSerifLibre\", \"Cambay\", \"Caudex\", \"CrimsonText\", \"Cuprum\", \"Economica\", \"Exo2\", \"Exo\", \"ExpletusSans\", \"FiraSans\", \"JosefinSans\", \"JosefinSlab\", \"Karla\", \"Lato\", \"LobsterTwo\", \"Lora\", \"Marvel\", \"Merriweather\", \"MerriweatherSans\", \"Nobile\", \"NoticiaText\", \"Overlock\", \"Philosopher\", \"PlayfairDisplay\", \"PlayfairDisplaySC\", \"PT_Serif-Web\", \"Puritan\", \"Quantico\", \"QuattrocentoSans\", \"Quicksand\", \"Rambla\", \"Rosario\", \"Sansation\", \"Sarabun\", \"Scada\", \"Share\", \"Sitara\", \"SourceSansPro\", \"TitilliumWeb\", \"Volkhov\", \"Vollkorn\"] })\n    get font(): string {\n        return this._font;\n    }\n    set font(value: string) {\n        this._font = value;\n        //copy from CSSProperties\n        var api = 'https://fonts.googleapis.com/css?family=';\n        var sfont = value.replaceAll(\" \", \"+\")\n        if (!document.getElementById(\"-->\" + api + sfont)) {//\"-->https://fonts.googleapis.com/css?family=Aclonica\">\n            jassijs.myRequire(api + sfont);\n        }\n\n        if (value === undefined)\n            $(this.dom).css(\"font_family\", \"\");\n        else\n            $(this.dom).css(\"font_family\", value);\n        this.callEvent(\"stylechanged\",\"font\",value);\n    }\n    @$Property()\n    get fontSize(): number {\n        return this._fontSize;\n    }\n    set fontSize(value: number) {\n        this._fontSize = value;\n        if (value === undefined)\n            $(this.dom).css(\"font-size\", \"\");\n        else\n            $(this.dom).css(\"font-size\", value + \"px\");\n        this.callEvent(\"stylechanged\",\"fontSize\",value);\n    }\n    @$Property({ type: \"color\" })\n    get background(): string {\n        return this._background;\n    }\n    set background(value: string) {\n        this._background = value;\n        $(this.dom).css(\"background-color\", value);\n        this.callEvent(\"stylechanged\",\"background\",value);\n    }\n    @$Property({ type: \"color\" })\n    get color(): string {\n        return this._color;\n    }\n    set color(value: string) {\n        this._color = value;\n        $(this.dom).css(\"color\", value);\n        this.callEvent(\"stylechanged\",\"color\",value);\n    }\n    @$Property({ chooseFrom: [\"left\", \"center\", \"right\"] })\n    get alignment(): string {\n        return this._alignment;\n    }\n    set alignment(value: string) {\n        this._alignment = value;\n        $(this.dom).css(\"text-align\", value);\n         this.callEvent(\"stylechanged\",\"alignment\",value);\n    }\n    @$Property({ chooseFrom: [\"underline\", \"lineThrough\", \"overline\"] })\n    get decoration(): string {\n        return this._decoration;\n    }\n    set decoration(value: string) {\n        this._decoration = value;\n        var val = \"none\";\n        if (value === \"underline\")\n            val = \"underline\";\n        if (value === \"lineThrough\")\n            val = \"line-through\";\n        if (value === \"overline\")\n            val = \"overline\";\n        $(this.dom).css(\"text-decoration\", val);\n        this.callEvent(\"stylechanged\",\"decoration\",value);\n    }\n\n\n    @$Property({ type: \"color\" })\n    get decorationColor(): string {\n        return this._decorationColor;\n    }\n    set decorationColor(value: string) {\n        this._decorationColor = value;\n        $(this.dom).css(\"textDecorationColor\", value);\n        this.callEvent(\"stylechanged\",\"textDecorationColor\",value);\n    }\n    @$Property({ chooseFrom: [\"dashed\", \"dotted\", \"double\", \"wavy\"] })\n    get decorationStyle(): string {\n        return this._decorationStyle;\n    }\n    set decorationStyle(value: string) {\n        this._decorationStyle = value;\n        var val = \"solid\";\n        if (value === \"dashed\")\n            val = \"dashed\";\n        if (value === \"dotted\")\n            val = \"dotted\";\n        if (value === \"double\")\n            val = \"double\";\n        if (value === \"wavy\")\n            val = \"wavy\";\n        $(this.dom).css(\"textDecorationStyle\", val);\n        this.callEvent(\"stylechanged\",\"decorationStyle\",value);\n    }\n    static findReport(parent):ReportDesign{\n        if(parent===undefined)\n            return undefined;\n        if(parent?.reporttype=== \"report\")\n            return parent;\n        else\n            return RComponent.findReport(parent._parent);\n    }\n    @$Property()\n    get style(): string {\n        return this._style;\n    }\n\n    set style(value: string) {\n        var old=this._style ;\n        this._style = value;\n        var report=RComponent.findReport(this);\n        if(report){\n            report.styleContainer._components.forEach((comp:RStyle)=>{\n                if(comp.name===old){\n                    $(this.dom).removeClass(comp.styleid);\n                }\n            });\n            report.styleContainer._components.forEach((comp:RStyle)=>{\n                if(comp.name===value){\n                    $(this.dom).addClass(comp.styleid);\n                }\n            });\n            \n        }\n        \n        //  super.width = value;\n    }\n\n    @$Property({ default: 1 })\n    get lineHeight(): number {\n        return this._lineHeight;\n    }\n    set lineHeight(value: number) {\n        this._lineHeight = value;\n        $(this.dom).css(\"line-height\", value);\n        this.callEvent(\"stylechanged\",\"lineHeight\",value);\n        //  super.width = value;\n    }\n\n    fromJSON(ob: any): RComponent {\n        var ret = this;\n\n        if (ob.foreach) {\n            ret.foreach = ob.foreach;\n            delete ob.foreach;\n        }\n        if (ob.colSpan) {\n            ret.colSpan = ob.colSpan;\n            delete ob.colSpan;\n        }\n        if (ob.width) {\n            ret.width = ob.width;\n            delete ob.width;\n        }\n        if (ob.bold) {\n            ret.bold = ob.bold;\n            delete ob.bold;\n        }\n        if (ob.italics) {\n            ret.italics = ob.italics;\n            delete ob.italics;\n        }\n        if (ob.color) {\n            ret.color = ob.color;\n            delete ob.color;\n        }\n        if (ob.decoration) {\n            ret.decoration = ob.decoration;\n            delete ob.decoration;\n        }\n        if (ob.decorationStyle) {\n            ret.decorationStyle = ob.decorationStyle;\n            delete ob.decorationStyle;\n        }\n        if (ob.decorationColor) {\n            ret.decorationColor = ob.decorationColor;\n            delete ob.decorationColor;\n        }\n        if (ob.fontSize) {\n            ret.fontSize = ob.fontSize;\n            delete ob.fontSize;\n        }\n        if (ob.font) {\n            ret.font = ob.font;\n            delete ob.font;\n        }\n        if (ob.lineHeight) {\n            ret.lineHeight = ob.lineHeight;\n            delete ob.lineHeight;\n        }\n        if (ob.alignment) {\n            ret.alignment = ob.alignment;\n            delete ob.alignment;\n        }\n        if (ob.background) {\n            ret.background = ob.background;\n            delete ob.background;\n        }\n        if (ob.style) {\n            ret.style = ob.style;\n            delete ob.style;\n        }\n        ret.otherProperties = ob;\n        return ret;\n    }\n    toJSON() {\n        var ret: any = {}\n        if (this.colSpan !== undefined)\n            ret.colSpan = this.colSpan;\n        if (this.foreach !== undefined)\n            ret.foreach = this.foreach;\n        if (this.width !== undefined && !this._parent?.setChildWidth)\n            ret.width = this.width;\n        if (this.bold !== undefined)\n            ret.bold = this.bold;\n        if (this.italics !== undefined)\n            ret.italics = this.italics;\n        if (this.color !== undefined)\n            ret.color = this.color;\n        if (this.decoration !== undefined)\n            ret.decoration = this.decoration;\n        if (this.decorationStyle !== undefined)\n            ret.decorationStyle = this.decorationStyle;\n        if (this.decorationColor !== undefined)\n            ret.decorationColor = this.decorationColor;\n        if (this.font !== undefined)\n            ret.font = this.font;\n        if (this.fontSize !== undefined)\n            ret.fontSize = this.fontSize;\n        if (this.lineHeight !== undefined)\n            ret.lineHeight = this.lineHeight;\n        if (this.alignment !== undefined)\n            ret.alignment = this.alignment;\n        if (this.background !== undefined)\n            ret.background = this.background;\n        if (this.style !== undefined)\n            ret.style = this.style;\n        Object.assign(ret, this[\"otherProperties\"]);\n        return ret;\n    }\n\n}","import { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport jassijs, { $Class } from \"jassijs/remote/Jassi\";\nimport { RStack } from \"jassijs_report/RStack\";\nimport { RText } from \"jassijs_report/RText\";\n\nimport registry from \"jassijs/remote/Registry\";\nimport { ReportDesigner } from \"jassijs_report/designer/ReportDesigner\";\nimport { RColumns } from \"jassijs_report/RColumns\";\nimport { RUnknown } from \"jassijs_report/RUnknown\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { Tools } from \"jassijs/util/Tools\";\nimport { $ReportComponent, RComponent } from \"jassijs_report/RComponent\";\nimport { ReportDesign } from \"jassijs_report/ReportDesign\";\nimport { RTablerow } from \"jassijs_report/RTablerow\";\nimport { Component } from \"jassijs/ui/Component\";\nimport { Container } from \"jassijs/ui/Container\";\nimport { $Property } from \"jassijs/ui/Property\";\nimport { JassiError } from \"jassijs/remote/Classes\";\nimport { ComponentDesigner } from \"jassijs_editor/ComponentDesigner\";\nimport { RGroupTablerow } from \"jassijs_report/RGroupTablerow\";\n\n\n\n\n\n\n//@$UIComponent({editableChildComponents:[\"this\"]})\n//@$Property({name:\"horizontal\",hide:true})\n@$ReportComponent({ fullPath: \"report/Datatable\", icon: \"mdi mdi-file-table-box-multiple-outline\", editableChildComponents: [\"this\", \"this.headerPanel\", \"this.bodyPanel\", \"this.footerPanel\"] })\n@$Class(\"jassijs_report.RDatatable\")\n\nexport class RDatatable extends RComponent {\n    _componentDesigner: ComponentDesigner;\n    reporttype: string = \"datatable\";\n    design: any;\n    headerPanel: RTablerow = new RTablerow();\n    groupHeaderPanel: RTablerow[] = [];\n    bodyPanel: RTablerow = new RTablerow();\n    groupFooterPanel: RTablerow[] = [];\n    groupExpression: string[] = [];\n    footerPanel: RTablerow = new RTablerow();\n\n    @$Property()\n    dataforeach: string;\n    widths: any[] = [];\n    /**\n* \n* @param {object} properties - properties to init\n* @param {string} [properties.id] -  connect to existing id (not reqired)\n* @param {boolean} [properties.useSpan] -  use span not div\n* \n*/\n    constructor(properties = undefined) {//id connect to existing(not reqired)\n        super(properties);\n        super.init($(\"<table style='nin-width:50px;table-layout: fixed'></table>\")[0]);\n        //\tthis.backgroundPanel.width=\"500px\";\n        //$(this.backgroundPanel.dom).css(\"min-width\",\"200px\");\n        //$(this.dom).css(\"display\", \"table\");\n        // $(this.dom).css(\"min-width\", \"50px\");\n        $(this.footerPanel.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Tablefooter</text></svg>\" + '\")');\n        $(this.headerPanel.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Tableheader</text></svg>\" + '\")');\n        this.add(this.headerPanel);\n        this.add(this.bodyPanel);\n        this.add(this.footerPanel);\n        $(this.dom).addClass(\"designerNoResizable\");\n        this.headerPanel.parent = this;\n        this.footerPanel.parent = this;\n        this.bodyPanel.parent = this;\n\n    }\n    protected _setDesignMode(enable) {\n        //do nothing - no add button\n    }\n\n   \n    /*\tget design():any{\n            return this.toJSON();\n        };\n        set design(value:any){\n            ReportDesign.fromJSON(value,this);\n        }*/\n\n    private fillTableRow(row: RTablerow, count: number) {\n        if (!row._designMode || count - row._components.length !== 1)\n            return;\n        for (var x = row._components.length; x < count; x++) {\n            var rr = new RText();\n            row.addBefore(rr, row._components[row._components.length - 1]);//after addbutton\n        }\n    }\n    addEmptyCellsIfNeeded(row: RTablerow) {\n        var count = row._components.length;\n        this.fillTableRow(this.headerPanel, count);\n        this.fillTableRow(this.bodyPanel, count);\n        this.fillTableRow(this.footerPanel, count);\n\n    }\n    /**\n    * sets the width of a table cell\n    * @param component - the table cell\n    * @param width - the new width\n    **/\n    setChildWidth(component: Component, width: any) {\n        var max = 0;\n        var found = -1;\n        for (var x = 0; x < this._components.length; x++) {\n            for (var i = 0; i < (<Container>this._components[x])._components.length; i++) {\n                if (i > max)\n                    max = i;\n                var row = (<Container>this._components[x])._components[i];\n                if (row === component)\n                    found = i;\n            }\n        }\n        for (var t = this.widths.length; t < max; t++) {\n            this.widths.push(\"auto\");\n        }\n        if (found !== -1) {\n            this.widths[found] = width;\n            var test = this.headerPanel._components[found].domWrapper;\n            $((<Container>this._components[0])._components[found].domWrapper).attr(\"width\", width);\n        }\n        //this._parent.setChildWidth(component,value);\n    }\n    /**\n     * gets the width of a table cell\n     * @param component - the table cell\n     **/\n    getChildWidth(component: Component): any {\n        var found = -1;\n        for (var x = 0; x < this._components.length; x++) {\n            if ((<Container>this._components[x])._components) {\n                for (var i = 0; i < (<Container>this._components[x])._components.length; i++) {\n                    var row = (<Container>this._components[x])._components[i];\n                    if (row === component)\n                        found = i;\n                }\n            }\n        }\n\n        if (found !== -1)\n            return this.widths[found];\n        //this._parent.setChildWidth(component,value);\n    }\n    private create(ob: any) {\n\n    }\n    extensionCalled(action: ExtensionAction) {\n        if (action.componentDesignerSetDesignMode) {\n            this._componentDesigner = action.componentDesignerSetDesignMode.componentDesigner;\n        }\n        super.extensionCalled(action);\n    }\n    @$Property()\n    set groupCount(value: number) {\n        if (value < 0 || value > 5) {\n            throw new JassiError(\"groupCount must be a value between 0 and 5\");\n        }\n        if (this.groupHeaderPanel.length === value)\n            return;\n        //remove unused\n        while (this.groupHeaderPanel.length > value) {\n            this.remove(this.groupHeaderPanel[this.groupHeaderPanel.length - 1], true);\n            this.groupHeaderPanel.splice(this.groupHeaderPanel.length - 1, 1);\n\n        }\n        while (this.groupFooterPanel.length > value) {\n            this.remove(this.groupFooterPanel[this.groupFooterPanel.length - 1], true);\n            this.groupFooterPanel.splice(this.groupFooterPanel.length - 1, 1);\n        }\n        while (this.groupExpression.length > value) {\n            this.groupExpression.splice(this.groupExpression.length - 1, 1);\n        }\n        //add new\n        while (this.groupHeaderPanel.length < value) {\n            let tr = new RGroupTablerow();\n            tr.parent = this;\n            var id = this.groupHeaderPanel.length + 1;\n            $(tr.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Group\" + id + \"-Header</text></svg>\" + '\")');\n            this.addBefore(tr, this.bodyPanel);\n            this.groupHeaderPanel.push(tr);\n        }\n        while (this.groupFooterPanel.length < value) {\n            let tr = new RGroupTablerow();\n            tr.parent = this;\n            var id = this.groupFooterPanel.length + 1;\n            $(tr.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Group\" + id + \"-Footer</text></svg>\" + '\")');\n            var prev = this.footerPanel;\n            if (this.groupFooterPanel.length > 0)\n                prev = this.groupFooterPanel[this.groupFooterPanel.length - 1];\n            this.addBefore(tr, prev);\n            this.groupFooterPanel.push(tr);\n        }\n        while (this.groupExpression.length < value) {\n            this.groupExpression.push(\"\");\n        }\n        this._componentDesigner?.editDialog(this._componentDesigner.editMode);\n    }\n    get groupCount(): number {\n        return this.groupHeaderPanel.length;\n    }\n    fromJSON(obj: any, target: ReportDesign = undefined): any {\n        var ob = obj.datatable;\n        var ret = this;\n        // this.removeAll();\n        //ret.headerPanel.removeAll();\n        //ret.bodyPanel.removeAll();\n        //ret.footerPanel.removeAll();\n        /* this.add(this.backgroundPanel);\n         this.add(this.headerPanel);\n         this.add(this.content);\n         this.add(this.footerPanel);*/\n        if (ob.header) {\n            let obb = new RTablerow().fromJSON(ob.header);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n\n            all.forEach((obp) => { ret.headerPanel.add(obp) });\n            delete ob.header;\n            obb.destroy();\n        }\n        if (ob.groups) {\n            this.groupCount = ob.groups.length;//create Panels\n\n            for (var x = 0; x < ob.groups.length; x++) {\n                this.groupExpression[x] = ob.groups[x].expression;\n                if (ob.groups[x].header) {\n                    let obb = <RGroupTablerow>new RGroupTablerow().fromJSON(ob.groups[x].header);\n                    obb.parent = ret;\n                    let all = [];\n                    obb._components.forEach((obp) => all.push(obp));\n                    all.forEach((obp) => { ret.groupHeaderPanel[x].add(obp) });\n                    obb.destroy();\n                }\n                if (ob.groups[x].footer) {\n                    let obb = <RGroupTablerow>new RGroupTablerow().fromJSON(ob.groups[x].footer);\n                    obb.parent = ret;\n                    let all = [];\n                    obb._components.forEach((obp) => all.push(obp));\n                    all.forEach((obp) => { ret.groupFooterPanel[x].add(obp) });\n                    obb.destroy();\n                }\n            }\n        }\n        delete ob.groups;\n        if (ob.body) {\n            let obb = new RTablerow().fromJSON(ob.body);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n            all.forEach((obp) => { ret.bodyPanel.add(obp) });\n            delete ob.body;\n            obb.destroy();\n        }\n        if (ob.footer) {\n            let obb = new RTablerow().fromJSON(ob.footer);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n            all.forEach((obp) => { ret.footerPanel.add(obp) });\n            delete ob.footer;\n            obb.destroy();\n        }\n        if (ob.widths) {\n            ret.widths = ob.widths;\n            delete ob.widths;\n\n        }\n        var tr = (<RTablerow>this._components[0]);\n        for (var x = 0; x < tr._components.length; x++) {\n\n            $(tr._components[x].domWrapper).attr(\"width\", this.widths[x]);\n        }\n\n        ret.dataforeach = ob.dataforeach;\n        delete ob.dataforeach;\n        delete ob.datatable;\n        super.fromJSON(ob);\n        for (var x = 0; x < ret._components.length; x++) {\n            (<RTablerow>ret._components[x]).correctHideAfterSpan();\n\n        }\n        return ret;\n    }\n\n    toJSON(): any {\n        var r: any = {\n\n        };\n        var ret: any = super.toJSON();\n        ret.datatable = r;\n        //TODO hack\n        r.groups = ret.groups;\n        delete ret.groups;\n        //var _this = this;\n        if (this.widths && this.widths.length > 0) {\n            r.widths = this.widths;\n            var len = this.headerPanel._components.length;\n            if (this.headerPanel._designMode)\n                len--;\n            for (var t = r.widths.length; t < len; t++) {\n                r.widths.push(\"auto\");\n            }\n            //remove width\n            while (r.widths.length > len) {\n                r.widths.pop();\n            }\n        }\n        if (this.groupHeaderPanel.length > 0) {\n            r.groups = [];\n            for (var x = 0; x < this.groupHeaderPanel.length; x++) {\n                var gheader = undefined;\n                var gfooter = undefined;\n                if (!(this.groupHeaderPanel[x]._components.length === 0 || (this.groupHeaderPanel[x]._designMode && this.groupHeaderPanel[x]._components.length === 1))) {\n                    gheader = this.groupHeaderPanel[x].toJSON();\n                }\n                if (!(this.groupFooterPanel[x]._components.length === 0 || (this.groupFooterPanel[x]._designMode && this.groupFooterPanel[x]._components.length === 1))) {\n                    gfooter = this.groupFooterPanel[x].toJSON();\n                }\n                r.groups.push({\n                    header: gheader,\n                    expression: this.groupExpression[x],\n                    footer: gfooter\n                });\n            }\n        }\n        if (!(this.headerPanel._components.length === 0 || (this.headerPanel._designMode && this.headerPanel._components.length === 1))) {\n            r.header = this.headerPanel.toJSON();\n        }\n        if (!(this.footerPanel._components.length === 0 || (this.footerPanel._designMode && this.footerPanel._components.length === 1))) {\n            r.footer = this.footerPanel.toJSON();\n        }\n        r.dataforeach = this.dataforeach;\n        r.body = this.bodyPanel.toJSON();\n\n        return ret;\n    }\n\n}\n\n\n\nexport async function test() {\n\n\n\n\n}\n\n\n\n","import { RTablerow } from \"jassijs_report/RTablerow\";\r\nimport { $ReportComponent } from \"jassijs_report/RComponent\";\r\nimport { $Class } from \"jassijs/remote/Jassi\";\r\nimport { RDatatable } from \"jassijs_report/RDatatable\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\n\r\n\r\n\r\n@$ReportComponent({ editableChildComponents: [\"this\"] })\r\n@$Class(\"jassijs_report.RTablerow\")\r\n//@$Property({name:\"horizontal\",hide:true})\r\nexport class RGroupTablerow extends RTablerow {\r\n   \r\n    get expression():string{\r\n        var pos=this.parent?.groupFooterPanel.indexOf(this);\r\n        if(pos===-1)\r\n            pos=this.parent?.groupHeaderPanel.indexOf(this);\r\n        if(pos===-1)\r\n            return undefined;\r\n        return this.parent?.groupExpression[pos];\r\n    }\r\n    @$Property()\r\n    set expression(value:string){\r\n        var pos=this.parent?.groupFooterPanel.indexOf(this);\r\n        if(pos===-1)\r\n            pos=this.parent?.groupHeaderPanel.indexOf(this);\r\n        if(pos===-1)\r\n            return;\r\n        this.parent.groupExpression[pos] =value;\r\n    }\r\n    get _editorselectthis(){\r\n\t\treturn this;\r\n\t}\r\n}","import { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport jassijs, { $Class } from \"jassijs/remote/Jassi\";\nimport { $UIComponent } from \"jassijs/ui/Component\";\nimport { $Property } from \"jassijs/ui/Property\";\nimport { ReportDesign } from \"jassijs_report/ReportDesign\";\nimport { $ReportComponent, RComponent } from \"jassijs_report/RComponent\";\nimport { Panel } from \"jassijs/ui/Panel\";\n\n\n//@$UIComponent({editableChildComponents:[\"this\"]})\n@$ReportComponent({ fullPath: \"report/Stack\", icon: \"mdi mdi-view-sequential-outline\", editableChildComponents: [\"this\"] })\n@$Class(\"jassijs_report.RStack\")\n//@$Property({name:\"horizontal\",hide:true})\n\nexport class RStack extends RComponent {\n    reporttype: string = \"stack\";\n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties = undefined) {//id connect to existing(not reqired)\n        super(properties);\n        $(this.dom).css(\"flex-direction\", \"column\");\n        $(this.dom).addClass(\"designerNoResizable\");\n    }\n    /**\n      * adds a component to the container before an other component\n      * @param {jassijs.ui.Component} component - the component to add\n      * @param {jassijs.ui.Component} before - the component before then component to add\n      */\n    addBefore(component, before) {\n        if (component.addToParent)\n            return component.addToParent(this);\n        super.addBefore(component, before);\n    }\n    /**\n  * adds a component to the container\n  * @param {jassijs.ui.Component} component - the component to add\n  */\n    add(component) {\n        if (component.addToParent)\n            return component.addToParent(this);\n        super.add(component);\n    }\n    toJSON() {\n    \t var ret = super.toJSON();\n        ret.stack= [];\n        for (let x = 0;x < this._components.length;x++) {\n            if (this._components[x][\"designDummyFor\"])\n                continue;\n            //@ts-ignore\n            ret.stack.push(this._components[x].toJSON());\n        }\n        var test=0;\n        for(var key in ret){\n            test++;\n        }\n        if(test===1)\n            ret=ret.stack;//short version\n\n        return ret;\n    }\n    fromJSON(ob: any):RStack{\n        var ret= this;\n        var arr=ob;\n        if(ob.stack)\n            arr=ob.stack;\n        for (let x = 0;x < arr.length;x++) {\n            ret.add(ReportDesign.fromJSON(arr[x]));\n        }\n\n        delete ob.stack;\n        if(!Array.isArray(ob))\n             super.fromJSON(ob);\n        return ret;\n    }\n}\n\n\n\n//    jassijs.register(\"reportcomponent\",\"jassijs_report.Stack\",\"report/Stack\",\"res/boxpanel.ico\");\n\n\n","import { $ReportComponent, RComponent } from \"jassijs_report/RComponent\";\r\nimport { $Class } from \"jassijs/remote/Jassi\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nimport { JassiError } from \"jassijs/remote/Classes\";\r\n\r\n\r\n//@$UIComponent({editableChildComponents:[\"this\"]})\r\n@$ReportComponent({ fullPath: \"report/Style\", icon: \"mdi mdi-virus-outline\", editableChildComponents: [\"this\"] })\r\n@$Class(\"jassijs_report.RStyle\")\r\n//@$Property({name:\"horizontal\",hide:true})\r\n\r\nexport class RStyle extends RComponent {\r\n    $isInivisibleComponent = true;//invisible component in designer\r\n    reporttype: string = \"style\";\r\n    private activeComponentDesigner;\r\n    _name:string;\r\n    @$Property()\r\n    set name(value:string){\r\n        var old=this._name;\r\n        this._name=value;\r\n        if(this.activeComponentDesigner){\r\n            if(old){//remove old\r\n                var all=this.activeComponentDesigner.variables.value;\r\n                for(let x=0;x<all.length;x++){\r\n                    if(all[x].name===old){\r\n                        all.splice(x,1);\r\n                        this.activeComponentDesigner.variables.value=all;\r\n                        break;\r\n                    }\r\n                }\r\n                this.activeComponentDesigner.variables.addVariable(value, this,true);\r\n                this.activeComponentDesigner.resize();\r\n            }\r\n            \r\n             \r\n        }\r\n    }\r\n    addToParent(suggestedparent){\r\n        if(suggestedparent===undefined)\r\n            throw new JassiError(\"suggestedparent is undefined\");\r\n        if(suggestedparent.reporttype=== \"report\"){\r\n            suggestedparent.styleContainer.add(this);\r\n            return;\r\n        }\r\n        this.addToParent(suggestedparent._parent);\r\n    }\r\n    get name():string{\r\n        return this._name;\r\n    }\r\n    constructor(properties = undefined) {//id connect to existing(not reqired)\r\n        super(properties);\r\n        var _this = this;\r\n        this.onstylechanged((param1, param2) => {\r\n            _this.update();\r\n        })\r\n    }\r\n\r\n    toJSON() {\r\n        var ret = super.toJSON();\r\n        return ret;\r\n    }\r\n    update() {\r\n        var style: HTMLElement = document.getElementById(this.styleid);\r\n        if (!document.getElementById(this.styleid)) {\r\n            style = $('<style id=' + this.styleid + '></style>')[0];\r\n            document.head.appendChild(style);\r\n        }\r\n        var prop = {};\r\n        var sstyle = \"\\t.\" + this.styleid + \"{\\n\";\r\n        sstyle += this.dom.style.cssText;\r\n\r\n        sstyle = sstyle + \"\\t}\\n\";\r\n        style.innerHTML = sstyle;\r\n\r\n    }\r\n    fromJSON(ob: any): RStyle {\r\n        var ret = this;\r\n        super.fromJSON(ob)\r\n        //delete ob.stack;\r\n        return ret;\r\n    }\r\n    //this.dom.style.cssText\r\n    get styleid() {\r\n        return \"jassistyle\" + this._id;\r\n    }\r\n    extensionCalled(action: ExtensionAction) {\r\n        if (action.componentDesignerSetDesignMode) {\r\n            this.activeComponentDesigner = action.componentDesignerSetDesignMode.componentDesigner;\r\n            return this._setDesignMode(action.componentDesignerSetDesignMode.enable);\r\n        }\r\n        super.extensionCalled(action);\r\n    }\r\n}\r\n\r\nexport function test(){\r\n    var n=new RStyle();\r\n    var hh=Object.getOwnPropertyDescriptor(n,\"name\");\r\n    debugger;\r\n}","import { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport jassijs, { $Class } from \"jassijs/remote/Jassi\";\nimport { $UIComponent, Component } from \"jassijs/ui/Component\";\nimport { $Property } from \"jassijs/ui/Property\";\nimport { ReportDesign } from \"jassijs_report/ReportDesign\";\nimport { $ReportComponent, RComponent } from \"jassijs_report/RComponent\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { RText } from \"jassijs_report/RText\";\nimport { RDatatable } from \"jassijs_report/RDatatable\";\n\n\n//@$UIComponent({editableChildComponents:[\"this\"]})\n@$ReportComponent({ editableChildComponents: [\"this\"] })\n@$Class(\"jassijs_report.RTablerow\")\n//@$Property({name:\"horizontal\",hide:true})\nexport class RTablerow extends RComponent {\n    reporttype: string = \"tablerow\";\n    parent:RDatatable;\n\n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties = undefined) {//id connect to existing(not reqired)\n        super(properties);\n        properties = undefined === properties ? {} : properties;\n        properties.noWrapper = true;\n        super.init($(\"<tr></tr>\")[0], properties);\n        $(this.dom).addClass(\"designerNoResizable\");\n    }\n\n    toJSON() {\n        var columns = [];\n\n        for (let x = 0;x < this._components.length;x++) {\n            if (this._components[x][\"designDummyFor\"])\n                continue;\n            //@ts-ignore\n            columns.push(this._components[x].toJSON());\n        }\n        //Object.assign(ret, this[\"otherProperties\"]);\n\n        return columns;\n    }\n    oncomponentAdded(callback) {\n        this.addEvent(\"componentAdded\", callback);\n    }\n\tget _editorselectthis(){\n\t\treturn this._parent;\n\t}\n    setChildWidth(component: Component, value: any) {\n        this._parent?.setChildWidth(component, value);\n    }\n    getChildWidth(component: Component): any {\n        return this._parent?.getChildWidth(component);\n    }\n    private wrapComponent(component:Component){\n    \tif(component.domWrapper?.tagName===\"TD\")\n    \t    return;//allready wrapped\n    \tvar colspan=\t$(component.domWrapper).attr(\"colspan\");//save colspan\n    \tComponent.replaceWrapper(component,document.createElement(\"td\"));\n    \t$(component.domWrapper).attr(\"colspan\",colspan);\n    \t$(component.domWrapper).css(\"word-break\",\"break-all\");\n    \t$(component.domWrapper).css(\"display\",\"\");\n    }\n     correctHideAfterSpan(){\n        //rowspan\n    \tvar span:number;\n    \tfor(var x=0;x<this._components.length;x++){\n    \t\tif(this._components[x][\"colSpan\"]){\n    \t\t\tspan=this._components[x][\"colSpan\"];\n    \t\t}else{\n    \t\t\tspan--;\n    \t\t\tif(span>0){\n    \t\t\t\t$(this._components[x].domWrapper).addClass(\"invisibleAfterColspan\");\n    \t\t\t}else{\n    \t\t\t\t$(this._components[x].domWrapper).removeClass(\"invisibleAfterColspan\");\n    \t\t\t}\n    \t\t}\n    \t}\n    }\n    /**\n    * adds a component to the container\n    * @param {jassijs.ui.Component} component - the component to add\n    */\n    add(component) {\n        if (component.addToParent)\n            return component.addToParent(this);\n\t\tthis.wrapComponent(component);\n\t\t\n        super.add(component);\n       // $(component.domWrapper).css(\"display\", \"table-cell\");\n        this.callEvent(\"componentAdded\", component, this);\n        if (this._parent)\n            this._parent.addEmptyCellsIfNeeded(this);\n        if(component.designDummyFor){\n        \t$(component.domWrapper).attr(\"colspan\",\"100\");\n        \tif($(this.dom).width()<140){\n        \t\tcomponent.width=140-$(this.dom).width();\n        \t}\n        }\n         $(component.dom).removeClass(\"designerNoResizable\");\n         $(component.dom).addClass(\"designerNoResizableY\");\n         \n    }\n    /**\n  * adds a component to the container before an other component\n  * @param {jassijs.ui.Component} component - the component to add\n  * @param {jassijs.ui.Component} before - the component before then component to add\n  */\n    addBefore(component, before) {\n        if (component.addToParent)\n            return component.addToParent(this);\n    \tthis.wrapComponent(component)\n        \n        if (component[\"reporttype\"] === \"text\") {\n            //(<RText>component).newlineafter = true;\n        }\n        super.addBefore(component, before);\n       // $(component.domWrapper).css(\"display\", \"table-cell\");\n        this.callEvent(\"componentAdded\", component, this);\n        if (this._parent)\n            this._parent.addEmptyCellsIfNeeded(this);\n    }\n    fromJSON(columns: any[]): RTablerow {\n        var ret = this;\n        for (let x = 0;x < columns.length;x++) {\n            ret.add(ReportDesign.fromJSON(columns[x]));\n        }\n        return ret;\n    }\n}\n\n\n\n//    jassijs.register(\"reportcomponent\",\"jassijs_report.Stack\",\"report/Stack\",\"res/boxpanel.ico\");\n\n\n","import jassijs, { $Class } from \"jassijs/remote/Jassi\";\r\nimport { $ReportComponent, RComponent } from \"jassijs_report/RComponent\";\r\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nimport { ReportDesign } from \"jassijs_report/ReportDesign\";\r\nimport { loadFontIfNedded } from \"jassijs/ui/CSSProperties\";\r\n\r\n\r\n\r\nclass InlineStyling {\r\n    bold: boolean;\r\n    italics: boolean;\r\n    color: string;\r\n    background: string;\r\n    underline: boolean;\r\n    fontsize: number;\r\n    font: string;\r\n}\r\n\r\n@$ReportComponent({ fullPath: \"report/Text\", icon: \"mdi mdi-format-color-text\" })\r\n@$Class(\"jassijs_report.RText\")\r\n//@$Property({hideBaseClassProperties:true})\r\n@$Property({ name: \"value\", type: \"string\", description: \"text\" })\r\n\r\nexport class RText extends RComponent {\r\n    reporttype: string = \"text\";\r\n    \r\n    /**\r\n    * \r\n    * @param {object} properties - properties to init\r\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\r\n    * @param {boolean} [properties.useSpan] -  use span not div\r\n    * \r\n    */\r\n    constructor(properties = undefined) {//id connect to existing(not reqired)\r\n        super(properties);\r\n        super.init($('<div class=\"RText mce-content-body jdisableaddcomponents\" ><div  class=\"HTMLPanelContent\"></div></div>')[0]);\r\n        $(this.domWrapper).removeClass(\"jcontainer\");\r\n        $(this.__dom).css(\"text-overflow\", \"ellipsis\");\r\n        $(this.__dom).css(\"overflow\", \"hidden\");\r\n        $(this.dom).addClass(\"designerNoResizable\");\r\n       \r\n        loadFontIfNedded(\"Roboto\");\r\n        //  super.init($('<div class=\"RText\"></div>')[0]);\r\n        var el = this.dom.children[0];\r\n        this._designMode = false;\r\n        $(this.dom).css(\"display\", \"block\");\r\n        // this.css({ font_family: \"inherit\", font_size: \"inherit\" })\r\n        //   $(this.dom.children[0]).css(\"display\",\"inline-block\");\r\n        this.extensionCalled = HTMLPanel.prototype.extensionCalled.bind(this);\r\n        this._setDesignMode = HTMLPanel.prototype._setDesignMode.bind(this);\r\n    }\r\n\r\n    @$Property({\r\n        chooseFrom: function (component) {\r\n            return ReportDesign.getVariables(component);\r\n        }\r\n    })\r\n    get value(): string {\r\n        var el = this.dom.children[0];\r\n        if (el === undefined)\r\n            return \"\";\r\n        var ret = $(el).html();\r\n        return ret;\r\n    }\r\n    set value(code: string) {\r\n        var el: any = this.dom.children[0];\r\n        if (el === undefined) {\r\n            el = document.createTextNode(code);\r\n            this.dom.appendChild(el);\r\n        } else\r\n            $(el).html(code);\r\n    }\r\n\r\n    \r\n\r\n    fromJSON(ob: any): RText {\r\n        var ret = this;\r\n        if (ob.editTogether) {\r\n            delete ob.editTogether;\r\n            ret.convertToHTML(ob.text);\r\n        } else\r\n            ret.value = <string>ob.text.replaceAll(\"\\n\",\"<br/>\");\r\n        delete ob.text;\r\n       \r\n        super.fromJSON(ob);\r\n        // ret.otherProperties = ob;\r\n        return this;\r\n    }\r\n    private convertFromHTMLNode(node: ChildNode, list: any[], style: InlineStyling): any {\r\n        for (var x = 0; x < node.childNodes.length; x++) {\r\n            var child = node.childNodes[x];\r\n            if (child.nodeName === \"#text\") {\r\n                var rt: any = {};\r\n                if (style.bold)\r\n                    rt.bold = true;\r\n                if (style.background)\r\n                    rt.background = style.background;\r\n                if (style.color)\r\n                    rt.color = style.color;\r\n                if (style.fontsize)\r\n                    rt.fontSize = style.fontsize;\r\n                if (style.font)\r\n                    rt.font = style.font;\r\n                if (style.underline)\r\n                    rt.decoration = \"underline\";\r\n                if (style.italics)\r\n                    rt.italics = style.italics;\r\n                rt.text = child[\"data\"];\r\n                list.push(rt);\r\n            } else if (child.nodeName === \"STRONG\") {\r\n                style.bold = true;\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.bold;\r\n            } else if (child.nodeName === \"EM\") {\r\n                style.italics = true;\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.italics;\r\n            }\r\n            if (child.nodeName === \"SPAN\" && child[\"style\"].color !== \"\") {\r\n                style.color = this.fullColorHex(child[\"style\"].color);\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.color;\r\n            } else if (child.nodeName === \"SPAN\" && child[\"style\"][\"background-color\"] !== \"\") {\r\n                style.background = this.fullColorHex(child[\"style\"][\"background-color\"]);\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.background;\r\n            } else if (child.nodeName === \"SPAN\" && child[\"style\"][\"font-size\"] !== \"\") {\r\n                style.fontsize = Number(child[\"style\"][\"font-size\"].replace(\"pt\", \"\"));\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.fontsize;\r\n            } else if (child.nodeName === \"SPAN\" && child[\"style\"][\"text-decoration\"] !== \"\") {\r\n                style.underline = (child[\"style\"][\"text-decoration\"] === \"underline\");\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.underline;\r\n            }\r\n\r\n        }\r\n    }\r\n    private rgbToHex(rgb) {\r\n        var hex = Number(rgb).toString(16);\r\n        if (hex.length < 2) {\r\n            hex = \"0\" + hex;\r\n        }\r\n        return hex;\r\n    };\r\n    //rgb(1,2,3)\r\n    private fullColorHex(text: string) {\r\n        var c = text.split(\"(\")[1].split(\")\")[0].split(\",\");\r\n        var red = this.rgbToHex(c[0]);\r\n        var green = this.rgbToHex(c[1]);\r\n        var blue = this.rgbToHex(c[2]);\r\n        return \"#\" + red + green + blue;\r\n    };\r\n    private convertToHTML(obs: any[]) {\r\n        var html = \"\";\r\n        for (var x = 0; x < obs.length; x++) {\r\n            var ob = obs[x];\r\n            var anz = 0;\r\n            var tagcount = 0;\r\n            if (ob.bold) {\r\n                html += \"<strong>\";\r\n            }\r\n            if (ob.italics) {\r\n                html += \"<em>\";\r\n            }\r\n            if (ob.background || ob.color || ob.decoration === \"underline\" || ob.fontSize) {\r\n\r\n                if (ob.color) {\r\n                    html += \"<span style='color:\" + ob.color + \"'>\"; tagcount++\r\n                }\r\n                if (ob.background) {\r\n                    html += \"<span style='background-color:\" + ob.background + \"'>\"; tagcount++\r\n                }\r\n                if (ob.decoration) {\r\n                    html += \"<span style='text-decoration:\" + ob.decoration + \"'>\"; tagcount++\r\n                }\r\n                if (ob.fontSize) {\r\n                    html += \"<span style='font-size:\" + ob.fontSize + \"pt'>\"; tagcount++\r\n                }\r\n\r\n\r\n            }\r\n            html += ob.text.replaceAll(\"\\n\", \"<br/>\");\r\n            for (var t = 0; t < tagcount; t++) {\r\n                html += \"</span>\";\r\n            }\r\n            if (ob.italics) {\r\n                html += \"</em>\";\r\n            }\r\n            if (ob.bold) {\r\n                html += \"</strong>\";\r\n            }\r\n\r\n        }\r\n        this.value = html;\r\n    }\r\n    private convertFromHTML(ret: any): any {\r\n        var sval = decodeURI(this.value);\r\n        sval = sval.replaceAll(\"<br>\", \"\\n\")\r\n        ret.text = sval//.replaceAll(\"<br>\",\"\\\\n\");\r\n        var node = $(\"<span>\" + ret.text + \"</span>\");\r\n        if (node[0].innerText !== node[0].innerHTML) {//htmltext\r\n            var style = new InlineStyling();\r\n            var list: any[] = [];\r\n            this.convertFromHTMLNode(node[0], list, style);\r\n            ret.editTogether = true;\r\n            ret.text = list;\r\n        }\r\n        return ret;\r\n    }\r\n    toJSON() {\r\n\r\n        var ret = super.toJSON();\r\n        this.convertFromHTML(ret);\r\n        \r\n\r\n        var test=0;\r\n        for(var key in ret){\r\n            test++;\r\n        }\r\n        if(test===1)\r\n            ret=ret.text;//short version\r\n\r\n        return ret;\r\n    }\r\n}\r\nexport function test() {\r\n    var t = new RText();   \r\n    t.value = \"a<em>b<strong>cd</strong>e</em><span style='color: rgb(241, 196, 15);' data-mce-style='color: #f1c40f;'>fg<span style='background-color: rgb(186, 55, 42);' data-mce-style='background-color: #ba372a;'>h</span></span><span style='background-color: rgb(186, 55, 42);' data-mce-style='background-color: #ba372a;'>ij<span style='font-size: 14pt;' data-mce-style='font-size: 14pt;'>k</span></span><span style='font-size: 14pt;' data-mce-style='font-size: 14pt;'>l<span style='text-decoration: underline;' data-mce-style='text-decoration: underline;'>m</span></span><span style='text-decoration: underline;' data-mce-style='text-decoration: underline;'>no</span>\";\r\n\r\n    var obb: RText = t.toJSON();\r\n    //var test = RText.fromJSON(obb);\r\n\r\n\r\n}\r\n","import { BoxPanel } from \"jassijs/ui/BoxPanel\";\r\nimport jassijs, { $Class } from \"jassijs/remote/Jassi\";\r\nimport { $UIComponent, Component } from \"jassijs/ui/Component\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nimport { ReportDesign } from \"jassijs_report/ReportDesign\";\r\nimport { $ReportComponent, RComponent } from \"jassijs_report/RComponent\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { JassiError } from \"jassijs/remote/Classes\";\r\n\r\n\r\n//@$UIComponent({editableChildComponents:[\"this\"]})\r\n@$ReportComponent({ fullPath: \"report/TextGroup\", icon: \"mdi mdi-text-box-multiple-outline\", editableChildComponents: [\"this\"] })\r\n@$Class(\"jassijs_report.RTextGroup\")\r\n//@$Property({name:\"horizontal\",hide:true})\r\n\r\nexport class RTextGroup extends RComponent {\r\n    reporttype: string = \"textgroup\";\r\n    /**\r\n    * \r\n    * @param {object} properties - properties to init\r\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\r\n    * @param {boolean} [properties.useSpan] -  use span not div\r\n    * \r\n    */\r\n    constructor(properties = undefined) {//id connect to existing(not reqired)\r\n        if (!properties)\r\n            properties = {};\r\n        properties.useSpan = true;\r\n        super(properties);\r\n        // $(this.dom).css(\"flex-direction\", \"column\");\r\n        //$(this.dom).addClass(\"designerNoResizable\");\r\n    }\r\n    /**\r\n      * adds a component to the container before an other component\r\n      * @param {jassijs.ui.Component} component - the component to add\r\n      * @param {jassijs.ui.Component} before - the component before then component to add\r\n      */\r\n    addBefore(component, before) {\r\n        if (component.addToParent)\r\n            return component.addToParent(this);\r\n        if (component.reporttype !== \"text\" && component.reporttype !== \"textgroup\" && !component.designDummyFor)\r\n            throw new JassiError(\"only text oder textgroup could be added to TextGroup\");\r\n        super.addBefore(component, before);\r\n      //  $(component.dom).css(\"display\", \"inline\");\r\n        $(component.domWrapper).css(\"display\", \"inline-block\");\r\n    }\r\n    /**\r\n  * adds a component to the container\r\n  * @param {jassijs.ui.Component} component - the component to add\r\n  */\r\n    add(component) {\r\n        if (component.addToParent)\r\n            return component.addToParent(this);\r\n        if (component.reporttype !== \"text\" && component.reporttype !== \"textgroup\" && !component.designDummyFor)\r\n            throw new JassiError(\"only text oder textgroup could be added to TextGroup\");\r\n        super.add(component);\r\n    //  $(component.dom).css(\"display\", \"inline-block\");\r\n        $(component.domWrapper).css(\"display\", \"inline-block\");\r\n    }\r\n    toJSON() {\r\n        var ret = super.toJSON();\r\n        ret.text = [];\r\n        for (let x = 0; x < this._components.length; x++) {\r\n            if (this._components[x][\"designDummyFor\"])\r\n                continue;\r\n            //@ts-ignore\r\n            ret.text.push(this._components[x].toJSON());\r\n        }\r\n        return ret;\r\n    }\r\n    fromJSON(ob: any): RTextGroup {\r\n        var ret = this;\r\n        var arr = ob.text;\r\n        for (let x = 0; x < arr.length; x++) {\r\n            ret.add(ReportDesign.fromJSON(arr[x]));\r\n        }\r\n\r\n        delete ob.text;\r\n        return ret;\r\n    }\r\n}\r\n\r\n\r\n\r\n//    jassijs.register(\"reportcomponent\",\"jassijs_report.Stack\",\"report/Stack\",\"res/boxpanel.ico\");\r\n\r\n\r\n","import jassijs, { $Class } from \"jassijs/remote/Jassi\";\nimport { $ReportComponent, RComponent } from \"jassijs_report/RComponent\";\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\nimport { InvisibleComponent } from \"jassijs/ui/InvisibleComponent\";\nimport { Panel } from \"jassijs/ui/Panel\";\n\n//@$ReportComponent({fullPath:\"report/Text\",icon:\"res/textbox.ico\",initialize:{value:\"text\"}})\n@$Class(\"jassijs_report.RUnknown\")\nexport class RUnknown extends RComponent{\n    horizonzal: boolean;\n    reporttype:string=\"unkown\";\n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties=undefined) {//id connect to existing(not reqired)\n        super(properties);\n        super.init($('<span class=\"InvisibleComponent\"></span>')[0]);\n        this.horizonzal = false;\n    }\n   fromJSON(ob:any){\n        var ret=this;\n        super.fromJSON(ob);\n       // Object.assign(ret,this.otherProperties);\n        return ret;\n    }\n    toJSON(){\n    \tvar ret= super.toJSON();\n    \tObject.assign(ret,this.otherProperties);\n\t\treturn ret;\n    }\n}\n","import { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport  { $Class } from \"jassijs/remote/Jassi\";\nimport { RStack } from \"jassijs_report/RStack\";\nimport { RText } from \"jassijs_report/RText\";\n\n\nimport { RColumns } from \"jassijs_report/RColumns\";\nimport { RUnknown } from \"jassijs_report/RUnknown\";\nimport { Panel } from \"jassijs/ui/Panel\";\n\nimport { $ReportComponent, RComponent } from \"jassijs_report/RComponent\";\n\nimport { RDatatable } from \"jassijs_report/RDatatable\";\nimport { $Property } from \"jassijs/ui/Property\";\n\nimport { RStyle } from \"jassijs_report/RStyle\";\nimport { Container } from \"jassijs/ui/Container\";\nimport { RTextGroup } from \"jassijs_report/RTextGroup\";\n\n\n\n@$Class(\"jassijs_report.InfoProperties\")\nclass InfoProperties {\n    @$Property({ description: \"the title of the document\" })\n    title: string;\n    @$Property({ description: \"the name of the author\" })\n    author: string;\n    @$Property({ description: \"the subject of the document\" })\n    subject: string;\n    @$Property({ description: \"keywords associated with the document\" })\n    keywords: string;\n    @$Property({ description: \"the creator of the document (default is ‘pdfmake’)\" })\n    creator: string;\n    @$Property({ description: \"the producer of the document\" })\n    producer: string;\n}\n@$Class(\"jassijs_report.PermissionProperties\")\nclass PermissionProperties {\n    @$Property({ chooseFrom: [\"lowResolution\", \"highResolution\"], description: 'whether printing is allowed. Specify \"lowResolution\" to allow degraded printing, or \"highResolution\" to allow printing with high resolution' })\n    printing: string;\n    @$Property({ description: \"whether modifying the file is allowed. Specify true to allow modifying document content\" })\n    modifying: boolean = true;\n    @$Property({ description: \"whether copying text or graphics is allowed. Specify true to allow copying\" })\n    copying: boolean = true;\n    @$Property({ description: \"whether annotating, form filling is allowed. Specify true to allow annotating and form filling\" })\n    annotating: boolean = true;\n    @$Property({ description: \"whether form filling and signing is allowed. Specify true to allow filling in form fields and signing\" })\n    fillingForms: boolean = true;\n    @$Property({ description: \"whether copying text for accessibility is allowed. Specify true to allow copying for accessibility\" })\n    contentAccessibility: boolean = true;\n    @$Property({ description: \"whether assembling document is allowed. Specify true to allow document assembly\" })\n    documentAssembly: boolean = true;\n}\n\n\n@$Class(\"jassijs_report.StyleContainer\")\n@$Property({ hideBaseClassProperties: true })\nclass StyleContainer extends Panel{\n    constructor(props){\n        super(props);\n        $(this.dom).removeClass(\"Panel\").removeClass(\"jinlinecomponent\");\n        $(this.domWrapper).removeClass(\"jcomponent\").removeClass(\"jcontainer\");\n        \n        \n        $(this.dom).hide();\n    }\n}\n//@$UIComponent({editableChildComponents:[\"this\"]})\n//@$Property({name:\"horizontal\",hide:true})\n@$ReportComponent({ fullPath: undefined, icon: undefined, editableChildComponents: [\"this\", \"this.backgroundPanel\", \"this.headerPanel\", \"this.contentPanel\", \"this.footerPanel\"] })\n@$Class(\"jassijs_report.ReportDesign\")\n@$Property({ hideBaseClassProperties: true })\nexport class ReportDesign extends BoxPanel {\n    styleContainer:StyleContainer=new StyleContainer(undefined);\n    defaultStyle:RStyle=new RStyle();\n    reporttype: string = \"report\";\n    design: any;\n    otherProperties: any;\n    backgroundPanel: RStack = new RStack();\n    headerPanel: RStack = new RStack();\n    contentPanel: RStack = new RStack();\n    footerPanel: RStack = new RStack();\n    _pageSize: string = undefined;\n    _pageOrientation: string;\n    _pageMargins: number[];\n    @$Property()\n    compress: boolean;\n    @$Property({ description: \"To enable encryption set user password in userPassword (string value). The PDF file will be encrypted when a user password is provided, and users will be prompted to enter the password to decrypt the file when opening it.\" })\n    userPassword: string;\n    @$Property({ description: \"To set access privileges for the PDF file, you need to provide an owner password in ownerPassword (string value) and object permissions with permissions. By default, all operations are disallowed. You need to explicitly allow certain operations.\" })\n    ownerPassword: string;\n    @$Property({ type: \"json\", componentType: \"jassijs_report.InfoProperties\" })\n    info: InfoProperties;\n    @$Property({ type: \"json\", componentType: \"jassijs_report.PermissionProperties\" })\n    permissions: PermissionProperties;\n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties = undefined) {//id connect to existing(not reqired)\n        super(properties);\n        //\tthis.backgroundPanel.width=\"500px\";\n        //$(this.backgroundPanel.dom).css(\"min-width\",\"200px\");\n        $(this.backgroundPanel.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Background</text></svg>\" + '\")');\n        $(this.footerPanel.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Footer</text></svg>\" + '\")');\n        $(this.headerPanel.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Header</text></svg>\" + '\")');\n        //select the Report if the user click the Panel\n        this.backgroundPanel[\"_editorselectthis\"] = this;\n        this.headerPanel[\"_editorselectthis\"] = this;\n        //this.contentPanel[\"_editorselectthis\"]=this;     \n        this.footerPanel[\"_editorselectthis\"] = this;\n        this.add(this.backgroundPanel);\n        this.add(this.headerPanel);\n        this.add(this.contentPanel);\n        this.add(this.footerPanel);\n         this.add(this.styleContainer);\n        //this.pageSize = \"A4\";\n        //this.pageMargins = [40, 40, 40, 40];\n    }\n\n    update(design) {\n        this.design = design;\n        ReportDesign.fromJSON(this.design, this);\n    }\n    @$Property({ type: \"number[]\", default: [40, 40, 40, 40], description: \"margin of the page: left, top, right, bottom\" })\n    get pageMargins(): number[] {\n        return this._pageMargins;\n    }\n    set pageMargins(value: number[]) {\n        this._pageMargins = value;\n        if (value === undefined)\n            value = [40, 40, 40, 40];\n        this.updateWidth();\n        $(this.contentPanel.dom).css(\"margin-left\", value[1] + \"px\");\n        $(this.contentPanel.dom).css(\"margin-right\", value[3] + \"px\");\n\n    }\n    @$Property({ description: \"the size of the page\", default: \"A4\", chooseFrom: ['4A0', '2A0', 'A0', 'A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10', 'B0', 'B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10', 'C0', 'C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'C7', 'C8', 'C9', 'C10', 'RA0', 'RA1', 'RA2', 'RA3', 'RA4', 'SRA0', 'SRA1', 'SRA2', 'SRA3', 'SRA4', 'EXECUTIVE', 'FOLIO', 'LEGAL', 'LETTER', 'TABLOID'] })\n    get pageSize(): string {\n        return this._pageSize;\n    }\n    set pageSize(value: string) {\n        this._pageSize = value;\n        this.updateWidth();\n    }\n\n    @$Property({ chooseFrom: ['landscape', 'portrait'], default: \"portrait\", description: \"the orientation of the page landscape or portrait\" })\n    get pageOrientation(): string {\n        return this._pageOrientation;\n    }\n    set pageOrientation(value: string) {\n        this._pageOrientation = value;\n        this.updateWidth();\n    }\n    private updateWidth() {\n        var ps = this.pageSize === undefined ? \"A4\" : this.pageSize;\n        var po = this.pageOrientation === 'landscape' ? 1 : 0;\n        var pm = this.pageMargins == undefined ? [40, 40, 40, 40] : this.pageMargins;\n        this.width = this.pageSized[ps][po];//-pm[0]-pm[2];\n    }\n    protected _setDesignMode(enable) {\n        //do nothing - no add button\n    }\n\n\n    private static collectForEach(component: RComponent, allforeach: string[]): ReportDesign {\n        if (component.foreach)\n            allforeach.unshift(component.foreach);\n        if (component[\"dataforeach\"])\n            allforeach.unshift(component[\"dataforeach\"]);\n\n        if (component.reporttype === \"report\")\n            return <ReportDesign><any>component;\n        return ReportDesign.collectForEach(component._parent, allforeach);\n\n    }\n    private static getVariable(path: string, data: any) {\n        var mems = path.split(\".\");\n        var curdata = data;\n        for (var x = 0; x < mems.length; x++) {\n            curdata = curdata[mems[x]];\n            if (curdata === undefined)\n                return undefined;\n        }\n        return curdata;\n    }\n    private static addVariablenames(path: string, data: any, names: string[]) {\n        for (var key in data) {\n            var val = data[key];\n            if (Array.isArray(val)) {\n\n            } else if (typeof (val) === \"object\") {\n                ReportDesign.addVariablenames(path + (path === \"\" ? \"\" : \".\") + key, val, names);\n            } else {\n                names.push(\"${\" + path + (path === \"\" ? \"\" : \".\") + key + \"}\");\n            }\n        }\n    }\n    //get all possible variabelnames\n    public static getVariables(component: RComponent) {\n        var allforeach: string[] = [];\n        var report = ReportDesign.collectForEach(component, allforeach);\n        var data = {};\n        Object.assign(data, report.otherProperties.data);\n        for (var x = 0; x < allforeach.length; x++) {\n            var fe = allforeach[x].split(\" in \");\n            if (fe.length !== 2)\n                continue;\n            var test = ReportDesign.getVariable(fe[1], data);\n            if (test && test.length > 0)\n                data[fe[0]] = test[0];\n        }\n        Object.assign(data, report.otherProperties.data);\n        var ret: string[] = [];\n        ReportDesign.addVariablenames(\"\", data, ret);\n        return ret;\n    }\n    static fromJSON(ob: any, target: ReportDesign = undefined): any {\n        var ret = undefined;\n        if (ob.content !== undefined) {\n            ret = target;\n            if (ret === undefined)\n                ret = new ReportDesign();\n            ret.create(ob);\n        } else if (typeof ob === 'string' || ob instanceof String) {\n            ret = new RText();\n            ret.value = ob;\n        } else if (ob.text !== undefined&&!Array.isArray(ob.text)) {\n            ret = new RText().fromJSON(ob);\n        } else if (ob.text !== undefined&&Array.isArray(ob.text)) {\n            ret = new RTextGroup().fromJSON(ob);\n        } else if (ob.stack !== undefined || Array.isArray(ob)) {\n            ret = new RStack().fromJSON(ob);\n        } else if (ob.columns !== undefined) {\n            ret = new RColumns().fromJSON(ob);\n        } else if (ob.datatable !== undefined) {\n            ret = new RDatatable().fromJSON(ob);\n        } else {\n            ret = new RUnknown().fromJSON(ob);\n        }\n\n        return ret;\n    }\n\n    private create(ob: any) {\n        var _this = this;\n        // this.removeAll();\n        this.defaultStyle=new RStyle();\n        this._pageSize = undefined;\n        this._pageOrientation = undefined;\n        this._pageMargins = undefined;\n        this.compress = undefined;\n        this.userPassword = undefined;\n        this.ownerPassword = undefined;\n        this.info = undefined;\n        this.permissions = undefined;\n        this.backgroundPanel.removeAll();\n        this.headerPanel.removeAll();\n        this.contentPanel.removeAll();\n        this.footerPanel.removeAll();\n        if(ob.defaultStyle){\n            this.defaultStyle=new RStyle().fromJSON(ob.defaultStyle);\n            this.defaultStyle.name=\"defaultStyle\";\n            $(this.dom).addClass(this.defaultStyle.styleid);\n            delete ob.defaultStyle;\n        }\n        if(ob.styles){\n            for(var st in ob.styles){\n                var rs=new RStyle().fromJSON(ob.styles[st]);\n                rs.name=st;\n                this.styleContainer.add(rs);\n            }\n            delete ob.styles;\n        }\n        if (ob.background) {\n            let obb: RStack = ReportDesign.fromJSON(ob.background);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n            all.forEach((obp) => { _this.backgroundPanel.add(obp) });\n            delete ob.background;\n            obb.destroy();\n        }\n        if (ob.header) {\n            let obb = ReportDesign.fromJSON(ob.header);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n            all.forEach((obp) => { _this.headerPanel.add(obp) });\n            delete ob.header;\n            obb.destroy();\n        }\n        let obb = ReportDesign.fromJSON(ob.content);\n        let all = [];\n        obb._components.forEach((obp) => all.push(obp));\n        all.forEach((obp) => { _this.contentPanel.add(obp) });\n        delete ob.content;\n        obb.destroy();\n        if (ob.footer) {\n            let obb = ReportDesign.fromJSON(ob.footer);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n            all.forEach((obp) => { _this.footerPanel.add(obp) });\n            delete ob.footer;\n            obb.destroy();\n        }\n        if (ob.pageOrientation) {\n            this.pageOrientation = ob.pageOrientation;\n            delete ob.pageOrientation;\n        }\n        if (ob.pageMargins) {\n            this.pageMargins = ob.pageMargins;\n            delete ob.pageMargins;\n        }\n        if (ob.pageSize) {\n            this.pageSize = ob.pageSize;\n            delete ob.pageSize;\n        }\n        if (ob.info) {\n            this.info = ob.info;\n            delete ob.info;\n        }\n        if (ob.compress) {\n            this.compress = ob.compress;\n            delete ob.compress;\n        }\n        if (ob.userPassword) {\n            this.userPassword = ob.userPassword;\n            delete ob.userPassword;\n        }\n        if (ob.ownerPassword) {\n            this.ownerPassword = ob.ownerPassword;\n            delete ob.ownerPassword;\n        }\n        if (ob.permissions) {\n            this.permissions = ob.permissions;\n            delete ob.permissions;\n        }\n\n        //delete ob.data;//should not be to json\n\n\n        this.otherProperties = ob;\n        ReportDesign.linkStyles(this);\n    }\n    private static linkStyles(parent:Container){\n        for(var x=0;x<parent._components.length;x++){\n            var comp=parent._components[x];\n            if(comp[\"style\"]){\n                comp[\"style\"]=comp[\"style\"]\n            }\n            if(comp[\"_components\"]){\n                ReportDesign.linkStyles(<Container>comp);\n            }\n        }\n    }\n    toJSON(): any {\n\n        var r: any = {\n\n        };\n        if(JSON.stringify(this.defaultStyle)!==\"{}\"){\n            r.defaultStyle=this.defaultStyle.toJSON();\n        }\n        if(this.styleContainer._components.length>0){\n            r.styles={};\n            for(var x=0;x<this.styleContainer._components.length;x++){\n                r.styles[this.styleContainer._components[x][\"name\"]]=(<RStyle>this.styleContainer._components[x]).toJSON();\n            }\n        }\n        //var _this = this;\n        if (!(this.backgroundPanel._components.length === 0 || (this.backgroundPanel._designMode && this.backgroundPanel._components.length === 1))) {\n            r.background = this.backgroundPanel.toJSON();\n        }\n        if (!(this.headerPanel._components.length === 0 || (this.headerPanel._designMode && this.headerPanel._components.length === 1))) {\n            r.header = this.headerPanel.toJSON();\n        }\n        if (!(this.footerPanel._components.length === 0 || (this.footerPanel._designMode && this.footerPanel._components.length === 1))) {\n            r.footer = this.footerPanel.toJSON();\n        }\n        r.content = this.contentPanel.toJSON();\n        if (this.pageOrientation) {\n            r.pageOrientation = this.pageOrientation;\n\n        }\n        if (this.pageMargins)\n            r.pageMargins = this.pageMargins;\n        if (this.pageSize)\n            r.pageSize = this.pageSize;\n        if (this.info)\n            r.info = this.info;\n        if (this.compress)\n            r.compress = this.compress;\n        if (this.userPassword)\n            r.userPassword = this.userPassword;\n        if (this.ownerPassword)\n            r.ownerPassword = this.ownerPassword;\n        if (this.permissions)\n            r.permissions = this.permissions;\n        Object.assign(r, this[\"otherProperties\"]);\n        //delete r.data;\n        return r;\n    }\n    /**\n   * adds a component to the container\n   * @param {jassijs.ui.Component} component - the component to add\n   */\n    /* add(component) {\n         if (component[\"designPanel\"])\n             super.add(component);\n         else\n             super.addBefore(component, this.footerPanel);\n \n     }*/\n    private pageSized = { //https://github.com/bpampuch/pdfmake/blob/master/src/standardPageSizes.js\n        '4A0': [4767.87, 6740.79],\n        '2A0': [3370.39, 4767.87],\n        A0: [2383.94, 3370.39],\n        A1: [1683.78, 2383.94],\n        A2: [1190.55, 1683.78],\n        A3: [841.89, 1190.55],\n        A4: [595.28, 841.89],\n        A5: [419.53, 595.28],\n        A6: [297.64, 419.53],\n        A7: [209.76, 297.64],\n        A8: [147.40, 209.76],\n        A9: [104.88, 147.40],\n        A10: [73.70, 104.88],\n        B0: [2834.65, 4008.19],\n        B1: [2004.09, 2834.65],\n        B2: [1417.32, 2004.09],\n        B3: [1000.63, 1417.32],\n        B4: [708.66, 1000.63],\n        B5: [498.90, 708.66],\n        B6: [354.33, 498.90],\n        B7: [249.45, 354.33],\n        B8: [175.75, 249.45],\n        B9: [124.72, 175.75],\n        B10: [87.87, 124.72],\n        C0: [2599.37, 3676.54],\n        C1: [1836.85, 2599.37],\n        C2: [1298.27, 1836.85],\n        C3: [918.43, 1298.27],\n        C4: [649.13, 918.43],\n        C5: [459.21, 649.13],\n        C6: [323.15, 459.21],\n        C7: [229.61, 323.15],\n        C8: [161.57, 229.61],\n        C9: [113.39, 161.57],\n        C10: [79.37, 113.39],\n        RA0: [2437.80, 3458.27],\n        RA1: [1729.13, 2437.80],\n        RA2: [1218.90, 1729.13],\n        RA3: [864.57, 1218.90],\n        RA4: [609.45, 864.57],\n        SRA0: [2551.18, 3628.35],\n        SRA1: [1814.17, 2551.18],\n        SRA2: [1275.59, 1814.17],\n        SRA3: [907.09, 1275.59],\n        SRA4: [637.80, 907.09],\n        EXECUTIVE: [521.86, 756.00],\n        FOLIO: [612.00, 936.00],\n        LEGAL: [612.00, 1008.00],\n        LETTER: [612.00, 792.00],\n        TABLOID: [792.00, 1224.00]\n    };\n}\n//jassijs.myRequire(modul.css[\"jassijs_report.css\"]);\n\n\nexport async function test() {\n\n\n\n\n}\n\n\n\n","import { $Class } from \"jassijs/remote/Jassi\";\r\nimport { Runlater } from \"jassijs/util/Runlater\";\r\nimport { SimpleReportDesigner } from \"jassijs_report/designer/SimpleReportDesigner\";\r\nimport { AcePanelSimple } from \"jassijs_editor/AcePanelSimple\";\r\nimport { ReportDesign } from \"jassijs_report/ReportDesign\";\r\nimport { Panel, PanelCreateProperties } from \"jassijs/ui/Panel\";\r\nimport { ReportDesigner } from \"jassijs_report/designer/ReportDesigner\";\r\nimport windows from \"jassijs/base/Windows\";\r\nimport { DockingContainer } from \"jassijs/ui/DockingContainer\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\nimport { VariablePanel } from \"jassijs/ui/VariablePanel\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nclass SimpleCodeEditor extends Panel {\r\n    _main: DockingContainer;\r\n    _codeView: Panel;\r\n    _codeToolbar: Panel;\r\n    _codePanel: CodePanel;\r\n    _file: string;\r\n    variables: VariablePanel;\r\n    _design: Panel;\r\n    editMode: boolean;\r\n    __evalToCursorReached: boolean;\r\n    private _line: number;\r\n    constructor(codePanel: CodePanel) {\r\n        super();\r\n        this.maximize();\r\n        this._main = new DockingContainer();\r\n        this._codeView = new Panel();\r\n        this._codeToolbar = new Panel();\r\n        //if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n        this._codePanel = codePanel;\r\n        this._file = \"\";\r\n        this.variables = new VariablePanel();\r\n        this._design = new Panel();\r\n        this._init();\r\n        this.editMode = true;\r\n    }\r\n    private _initCodePanel() {\r\n        this._codePanel.width = \"100%\";\r\n        this._codePanel.mode = \"typescript\";\r\n        this._codePanel.height = \"calc(100% - 31px)\";\r\n    }\r\n    private _init() {\r\n        var _this = this;\r\n        this._initCodePanel();\r\n        this._codeView[\"horizontal\"] = true;\r\n        this._codeView.add(this._codePanel);\r\n        this._main.width = \"calc(100% - 1px)\";\r\n        this._main.height = \"99%\";\r\n        this._main.onresize = function () {\r\n            setTimeout(function () {\r\n                _this._codePanel.resize();\r\n            }, 1000);\r\n        };\r\n        super.add(this._main);\r\n        this._installView();\r\n        //this.variables.createTable();\r\n    }\r\n    _installView() {\r\n        this._main.add(this._codeView, \"Code..\", \"code\");\r\n        this._main.add(this.variables, \"Variables\", \"variables\");\r\n        this._main.add(this._design, \"Design\", \"design\");\r\n        //this._main.layout = '{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\"},\"dimensions\":{\"borderWidth\":5,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":100,\"content\":[{\"type\":\"stack\",\"width\":33.333333333333336,\"height\":80.34682080924856,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":19.653179190751445,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":50,\"width\":50,\"content\":[{\"title\":\"Errors\",\"type\":\"component\",\"componentName\":\"errors\",\"componentState\":{\"title\":\"Errors\",\"name\":\"errors\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"width\":50,\"content\":[{\"title\":\"Variables\",\"type\":\"component\",\"componentName\":\"variables\",\"componentState\":{\"title\":\"Variables\",\"name\":\"variables\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}'\r\n    }\r\n    private async _save(code) {\r\n    }\r\n    /**\r\n    * save the code to server\r\n    */\r\n    save() {\r\n        var code = this._codePanel.value;\r\n        var _this = this;\r\n        this._save(code);\r\n    }\r\n    /**\r\n     * goto to the declariation on cursor\r\n     */\r\n    async gotoDeclaration() {\r\n    }\r\n    /**\r\n     * search text in classes at the given text\r\n     * @param {string} text - the text to search\r\n     * @returns {jassijs_editor.CodeEditor} - the editor instance\r\n     */\r\n    static async search(text) {\r\n        return undefined;\r\n    }\r\n    /**\r\n     * extract lines from code\r\n     * @param {string} code - the code\r\n     * @returns {[string]} - all lines\r\n     */\r\n    _codeToLines(code) {\r\n        var lines = code.split(\"\\n\");\r\n        for (var x = 0; x < lines.length; x++) {\r\n            while (lines[x].startsWith(\"/\") || lines[x].startsWith(\" \")\r\n                || lines[x].startsWith(\"*\") || lines[x].startsWith(\"\\t\")) {\r\n                lines[x] = lines[x].substring(1);\r\n            }\r\n        }\r\n        return lines;\r\n    }\r\n    /**\r\n     * add variables to variabelpanel\r\n     * @param Object<string,object> variables [\"name\"]=value\r\n     */\r\n    addVariables(variables) {\r\n        this.variables.addAll(variables);\r\n    }\r\n    /**\r\n     * execute the current code\r\n     * @param {boolean} toCursor -  if true the variables were inspected on cursor position,\r\n     *                              if false at the end of the layout() function or at the end of the code\r\n     */\r\n    async evalCode(toCursor = undefined) {\r\n    }\r\n    /**\r\n     * switch view\r\n     * @member {string} view - \"design\" or \"code\"\r\n     */\r\n    set viewmode(view) {\r\n        this._main.show(view);\r\n    }\r\n    /**\r\n    * get all known instances for type\r\n    * @param {type} type - the type we are interested\r\n    * @returns {[string]}\r\n    */\r\n    getVariablesForType(type) {\r\n        return this.variables.getVariablesForType(type);\r\n    }\r\n    /**\r\n     * gets the name of the variabel that holds the object\r\n     * @param {object} ob - the\r\n     */\r\n    getVariableFromObject(ob) {\r\n        return this.variables.getVariableFromObject(ob);\r\n    }\r\n    /**\r\n     * gets the name object of the given variabel\r\n     * @param {string} ob - the name of the variable\r\n     */\r\n    getObjectFromVariable(varname) {\r\n        return this.variables.getObjectFromVariable(varname);\r\n    }\r\n    /**\r\n      * renames a variable in design\r\n      * @param {string} oldName\r\n      * @param {string} newName\r\n      */\r\n    renameVariable(oldName, newName) {\r\n        this.variables.renameVariable(oldName, newName);\r\n        if (this._design !== undefined && this._design[\"_componentExplorer\"] !== undefined)\r\n            this._design[\"_componentExplorer\"].update();\r\n    }\r\n    /**\r\n     * @member {string} - the code\r\n     */\r\n    set value(value) {\r\n        this._codePanel.file = this._file;\r\n        this._codePanel.value = value;\r\n    }\r\n    get value() {\r\n        return this._codePanel.value;\r\n    }\r\n    setCursorPorition(position: number) {\r\n        this.cursorPosition = this._codePanel.numberToPosition(position);\r\n    }\r\n    /**\r\n    * @param {object} position - the current cursor position {row= ,column=}\r\n    */\r\n    set cursorPosition(cursor: {\r\n        row: number;\r\n        column: number;\r\n    }) {\r\n        this._codePanel.cursorPosition = cursor;\r\n    }\r\n    get cursorPosition() {\r\n        return this._codePanel.cursorPosition;\r\n    }\r\n    /**\r\n     * @member {string} - title of the component\r\n     */\r\n    get title() {\r\n        var s = this.file.split(\"/\");\r\n        return s[s.length - 1];\r\n    }\r\n    /**\r\n    * @member {string} - the url to edit\r\n    */\r\n    set file(value: string) {\r\n        this._file = value;\r\n        this.openFile(value);\r\n    }\r\n    @$Property({ isUrlTag: true, id: true })\r\n    get file(): string {\r\n        return this._file;\r\n    }\r\n    /**\r\n    * goes to the line number\r\n    * @param {object} value - the line number\r\n    */\r\n    set line(value: number) {\r\n        this._line = Number(value);\r\n        this.cursorPosition = { row: this._line, column: 1 };\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.cursorPosition = { row: _this._line, column: 1 };\r\n        }, 300);\r\n        /*setTimeout(function() {\r\n            _this.cursorPosition = { row: value, column: 0 };\r\n        }, 1000);//start takes one second....*/\r\n    }\r\n    @$Property({ isUrlTag: true })\r\n    get line(): number {\r\n        return this.cursorPosition.row;\r\n    }\r\n    /**\r\n     * open the file\r\n     */\r\n    async openFile(_file) {\r\n    }\r\n    destroy() {\r\n        this._codeView.destroy();\r\n        this._codeToolbar.destroy();\r\n        this._codePanel.destroy();\r\n        this.variables.destroy();\r\n        this._design.destroy();\r\n        //this._main.destroy();\r\n        super.destroy();\r\n    }\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        this._codePanel.undo();\r\n    }\r\n}\r\n@$Class(\"jassi_report.SimpleReportEditor\")\r\nexport class SimpleReportEditor extends Panel {\r\n    codeEditor: SimpleCodeEditor;\r\n    acePanel: AcePanelSimple;\r\n    reportPanel: ReportDesign;\r\n    reportDesigner: ReportDesigner;\r\n    value:string;\r\n    constructor(properties?: PanelCreateProperties) {\r\n        super(properties);\r\n        var _this = this;\r\n        this.acePanel = new AcePanelSimple();\r\n        this.codeEditor = new SimpleCodeEditor(this.acePanel);\r\n        this.add(this.codeEditor);\r\n        this.codeEditor.width = \"100%\";\r\n        this.codeEditor.height = \"100%\";\r\n        this.reportPanel = new ReportDesign();\r\n        this.reportDesigner = new SimpleReportDesigner();\r\n        var compileTask: Runlater = undefined;\r\n        this.codeEditor.variables.addVariable(\"this\", this.reportPanel);\r\n        this.codeEditor.evalCode = async function () {\r\n            if (compileTask === undefined) {\r\n                compileTask = new Runlater(() => {\r\n                    _this.codeEditor.variables.clear();\r\n                    var code = _this.acePanel.value;\r\n                    var func = new Function(\"\", \"return \" + code.substring(code.indexOf(\"=\") + 1));\r\n                    var ob = func();\r\n                    _this.reportDesign = ob;\r\n                }, 800);\r\n            }\r\n            else\r\n                compileTask.runlater();\r\n        };\r\n        this.acePanel.onchange((obj, editor) => {\r\n            if (!_this.reportDesigner.propertyIsChanging)\r\n                _this.codeEditor.evalCode();\r\n        });\r\n        //designer[\"codeEditor\"]._main.add(designer, \"Design\", \"design\");\r\n        this.reportPanel.design = { content: [] };\r\n        this.codeEditor._design = this.reportDesigner;\r\n        this.codeEditor._main.add(this.codeEditor._design, \"Design\", \"design\");\r\n        this.reportDesigner.codeEditor = this.codeEditor;\r\n        this.reportDesigner.designedComponent = this.reportPanel;\r\n    }\r\n    get reportDesign() {\r\n        return this.reportPanel?.design;\r\n    }\r\n    set reportDesign(design) {\r\n        this.reportPanel = new ReportDesign();\r\n        this.reportPanel.design = design;\r\n        this.reportDesigner.designedComponent = this.reportPanel;\r\n    }\r\n}\r\nexport function test() {\r\n    var reportdesign = {\r\n        content: [\r\n            {\r\n                text: \"Hallo Herr {{nachname}}\"\r\n            },\r\n            {\r\n                text: \"ok\"\r\n            },\r\n            {\r\n                columns: [\r\n                    {\r\n                        text: \"text\"\r\n                    },\r\n                    {\r\n                        text: \"text\"\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        data: {\r\n            nachname: \"Meier\"\r\n        }\r\n    };\r\n    var editor = new SimpleReportEditor();\r\n    editor.reportDesign = reportdesign;\r\n    editor.width = \"100%\";\r\n    editor.height = \"100%\";\r\n\r\n    editor.value = \"aHallo Herr {{nachname}}\";\r\n    windows.add(editor, \"Testtt\");\r\n    //return editor;\r\n}\r\n","export default {\r\n    \"css\":{\"jassijs_report.css\":\"jassijs_report.css\"},\r\n    \"require\": {\r\n        paths: {\r\n            'pdfjs-dist/build/pdf': '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min',\r\n            'pdfjs-dist/build/pdf.worker': '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.worker.min',\r\n            'vfs_fonts': '//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.70/vfs_fonts',// '../../lib/vfs_fonts',\r\n            'pdfMake': '//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.70/pdfmake'  //'../../lib/pdfmake'\r\n        },\r\n        shim: {\r\n            'pdfjs-dist/build/pdf': ['pdfjs-dist/build/pdf.worker'],\r\n            \"vfs_fonts\":[\"pdfMake\"]\r\n            //\"pdfMake\":[\"vfs_fonts\"]\r\n        },\r\n\r\n    }\r\n}","//this file is autogenerated don't modify\ndefine(\"jassijs_report/registry\",[\"require\"], function(require) {\n return {\n  default: {\n\t\"jassijs_report/designer/Report.ts\": {\n\t\t\"date\": 1622998616949,\n\t\t\"jassijs_report.Report\": {}\n\t},\n\t\"jassijs_report/designer/ReportDesigner.ts\": {\n\t\t\"date\": 1632525377915,\n\t\t\"jassijs_report.designer.ReportDesigner\": {}\n\t},\n\t\"jassijs_report/modul.ts\": {\n\t\t\"date\": 1631469504879\n\t},\n\t\"jassijs_report/PDFReport.ts\": {\n\t\t\"date\": 1632679267836,\n\t\t\"jassijs_report.PDFReport\": {}\n\t},\n\t\"jassijs_report/PDFViewer.ts\": {\n\t\t\"date\": 1623863773400,\n\t\t\"jassijs_report.PDFViewer\": {}\n\t},\n\t\"jassijs_report/RColumns.ts\": {\n\t\t\"date\": 1632518300076,\n\t\t\"jassijs_report.RColumns\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"report/Columns\",\n\t\t\t\t\t\"icon\": \"mdi mdi-view-parallel-outline\",\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\"jassijs_report/RDatatable.ts\": {\n\t\t\"date\": 1632518425342,\n\t\t\"jassijs_report.RDatatable\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"report/Datatable\",\n\t\t\t\t\t\"icon\": \"mdi mdi-file-table-box-multiple-outline\",\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\",\n\t\t\t\t\t\t\"this.headerPanel\",\n\t\t\t\t\t\t\"this.bodyPanel\",\n\t\t\t\t\t\t\"this.footerPanel\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"dataforeach\": {\n\t\t\t\t\t\"$Property\": []\n\t\t\t\t},\n\t\t\t\t\"groupCount\": {\n\t\t\t\t\t\"$Property\": []\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_report/ReportDesign.ts\": {\n\t\t\"date\": 1632679895637,\n\t\t\"jassijs_report.InfoProperties\": {\n\t\t\t\"@members\": {\n\t\t\t\t\"title\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"the title of the document\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"author\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"the name of the author\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"subject\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"the subject of the document\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"keywords\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"keywords associated with the document\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"creator\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"the creator of the document (default is ‘pdfmake’)\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"producer\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"the producer of the document\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"jassijs_report.PermissionProperties\": {\n\t\t\t\"@members\": {\n\t\t\t\t\"printing\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"chooseFrom\": [\n\t\t\t\t\t\t\t\t\"lowResolution\",\n\t\t\t\t\t\t\t\t\"highResolution\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"description\": \"whether printing is allowed. Specify \\\"lowResolution\\\" to allow degraded printing, or \\\"highResolution\\\" to allow printing with high resolution\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"modifying\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"whether modifying the file is allowed. Specify true to allow modifying document content\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"copying\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"whether copying text or graphics is allowed. Specify true to allow copying\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"annotating\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"whether annotating, form filling is allowed. Specify true to allow annotating and form filling\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"fillingForms\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"whether form filling and signing is allowed. Specify true to allow filling in form fields and signing\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"contentAccessibility\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"whether copying text for accessibility is allowed. Specify true to allow copying for accessibility\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"documentAssembly\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"whether assembling document is allowed. Specify true to allow document assembly\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"jassijs_report.StyleContainer\": {\n\t\t\t\"$Property\": [\n\t\t\t\t{\n\t\t\t\t\t\"hideBaseClassProperties\": true\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t\"jassijs_report.ReportDesign\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"undefined\",\n\t\t\t\t\t\"icon\": \"undefined\",\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\",\n\t\t\t\t\t\t\"this.backgroundPanel\",\n\t\t\t\t\t\t\"this.headerPanel\",\n\t\t\t\t\t\t\"this.contentPanel\",\n\t\t\t\t\t\t\"this.footerPanel\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"$Property\": [\n\t\t\t\t{\n\t\t\t\t\t\"hideBaseClassProperties\": true\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"compress\": {\n\t\t\t\t\t\"$Property\": []\n\t\t\t\t},\n\t\t\t\t\"userPassword\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"To enable encryption set user password in userPassword (string value). The PDF file will be encrypted when a user password is provided, and users will be prompted to enter the password to decrypt the file when opening it.\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"ownerPassword\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"To set access privileges for the PDF file, you need to provide an owner password in ownerPassword (string value) and object permissions with permissions. By default, all operations are disallowed. You need to explicitly allow certain operations.\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"info\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"json\",\n\t\t\t\t\t\t\t\"componentType\": \"jassijs_report.InfoProperties\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"permissions\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"json\",\n\t\t\t\t\t\t\t\"componentType\": \"jassijs_report.PermissionProperties\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"pageMargins\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"number[]\",\n\t\t\t\t\t\t\t\"default\": [\n\t\t\t\t\t\t\t\t40,\n\t\t\t\t\t\t\t\t40,\n\t\t\t\t\t\t\t\t40,\n\t\t\t\t\t\t\t\t40\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"description\": \"margin of the page: left, top, right, bottom\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"pageSize\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"description\": \"the size of the page\",\n\t\t\t\t\t\t\t\"default\": \"A4\",\n\t\t\t\t\t\t\t\"chooseFrom\": [\n\t\t\t\t\t\t\t\t\"4A0\",\n\t\t\t\t\t\t\t\t\"2A0\",\n\t\t\t\t\t\t\t\t\"A0\",\n\t\t\t\t\t\t\t\t\"A1\",\n\t\t\t\t\t\t\t\t\"A2\",\n\t\t\t\t\t\t\t\t\"A3\",\n\t\t\t\t\t\t\t\t\"A4\",\n\t\t\t\t\t\t\t\t\"A5\",\n\t\t\t\t\t\t\t\t\"A6\",\n\t\t\t\t\t\t\t\t\"A7\",\n\t\t\t\t\t\t\t\t\"A8\",\n\t\t\t\t\t\t\t\t\"A9\",\n\t\t\t\t\t\t\t\t\"A10\",\n\t\t\t\t\t\t\t\t\"B0\",\n\t\t\t\t\t\t\t\t\"B1\",\n\t\t\t\t\t\t\t\t\"B2\",\n\t\t\t\t\t\t\t\t\"B3\",\n\t\t\t\t\t\t\t\t\"B4\",\n\t\t\t\t\t\t\t\t\"B5\",\n\t\t\t\t\t\t\t\t\"B6\",\n\t\t\t\t\t\t\t\t\"B7\",\n\t\t\t\t\t\t\t\t\"B8\",\n\t\t\t\t\t\t\t\t\"B9\",\n\t\t\t\t\t\t\t\t\"B10\",\n\t\t\t\t\t\t\t\t\"C0\",\n\t\t\t\t\t\t\t\t\"C1\",\n\t\t\t\t\t\t\t\t\"C2\",\n\t\t\t\t\t\t\t\t\"C3\",\n\t\t\t\t\t\t\t\t\"C4\",\n\t\t\t\t\t\t\t\t\"C5\",\n\t\t\t\t\t\t\t\t\"C6\",\n\t\t\t\t\t\t\t\t\"C7\",\n\t\t\t\t\t\t\t\t\"C8\",\n\t\t\t\t\t\t\t\t\"C9\",\n\t\t\t\t\t\t\t\t\"C10\",\n\t\t\t\t\t\t\t\t\"RA0\",\n\t\t\t\t\t\t\t\t\"RA1\",\n\t\t\t\t\t\t\t\t\"RA2\",\n\t\t\t\t\t\t\t\t\"RA3\",\n\t\t\t\t\t\t\t\t\"RA4\",\n\t\t\t\t\t\t\t\t\"SRA0\",\n\t\t\t\t\t\t\t\t\"SRA1\",\n\t\t\t\t\t\t\t\t\"SRA2\",\n\t\t\t\t\t\t\t\t\"SRA3\",\n\t\t\t\t\t\t\t\t\"SRA4\",\n\t\t\t\t\t\t\t\t\"EXECUTIVE\",\n\t\t\t\t\t\t\t\t\"FOLIO\",\n\t\t\t\t\t\t\t\t\"LEGAL\",\n\t\t\t\t\t\t\t\t\"LETTER\",\n\t\t\t\t\t\t\t\t\"TABLOID\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"pageOrientation\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"chooseFrom\": [\n\t\t\t\t\t\t\t\t\"landscape\",\n\t\t\t\t\t\t\t\t\"portrait\"\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\"default\": \"portrait\",\n\t\t\t\t\t\t\t\"description\": \"the orientation of the page landscape or portrait\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_report/RStack.ts\": {\n\t\t\"date\": 1632518449870,\n\t\t\"jassijs_report.RStack\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"report/Stack\",\n\t\t\t\t\t\"icon\": \"mdi mdi-view-sequential-outline\",\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\"jassijs_report/RTablerow.ts\": {\n\t\t\"date\": 1632518474110,\n\t\t\"jassijs_report.RTablerow\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\"jassijs_report/RText.ts\": {\n\t\t\"date\": 1632681829067,\n\t\t\"jassijs_report.RText\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"report/Text\",\n\t\t\t\t\t\"icon\": \"mdi mdi-format-color-text\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"$Property\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"value\",\n\t\t\t\t\t\"type\": \"string\",\n\t\t\t\t\t\"description\": \"text\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"value\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"chooseFrom\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_report/RUnknown.ts\": {\n\t\t\"date\": 1632503057676,\n\t\t\"jassijs_report.RUnknown\": {}\n\t},\n\t\"jassijs_report/designer/SimpleReportDesigner.ts\": {\n\t\t\"date\": 1632315583768,\n\t\t\"jassijs_report.designer.SimpleReportDesigner\": {}\n\t},\n\t\"jassijs_report/SimpleReportEditor.ts\": {\n\t\t\"date\": 1632521317213,\n\t\t\"jassi_report.SimpleReportEditor\": {}\n\t},\n\t\"jassijs_report/remote/pdfmakejassi.ts\": {\n\t\t\"date\": 1631999034767\n\t},\n\t\"jassijs_report/RGroupTablerow.ts\": {\n\t\t\"date\": 1632503038034,\n\t\t\"jassijs_report.RTablerow\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"expression\": {\n\t\t\t\t\t\"$Property\": []\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_report/RComponent.ts\": {\n\t\t\"date\": 1632527768355,\n\t\t\"jassijs_report.ReportComponent\": {\n\t\t\t\"$Property\": [\n\t\t\t\t{\n\t\t\t\t\t\"hideBaseClassProperties\": true\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"foreach\": {\n\t\t\t\t\t\"$Property\": []\n\t\t\t\t},\n\t\t\t\t\"colSpan\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"string\",\n\t\t\t\t\t\t\t\"isVisible\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"width\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"string\",\n\t\t\t\t\t\t\t\"isVisible\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"bold\": {\n\t\t\t\t\t\"$Property\": []\n\t\t\t\t},\n\t\t\t\t\"italics\": {\n\t\t\t\t\t\"$Property\": []\n\t\t\t\t},\n\t\t\t\t\"font\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"chooseFrom\": [\n\t\t\t\t\t\t\t\t\"Alegreya\",\n\t\t\t\t\t\t\t\t\"AlegreyaSans\",\n\t\t\t\t\t\t\t\t\"AlegreyaSansSC\",\n\t\t\t\t\t\t\t\t\"AlegreyaSC\",\n\t\t\t\t\t\t\t\t\"AlmendraSC\",\n\t\t\t\t\t\t\t\t\"Amaranth\",\n\t\t\t\t\t\t\t\t\"Andada\",\n\t\t\t\t\t\t\t\t\"AndadaSC\",\n\t\t\t\t\t\t\t\t\"AnonymousPro\",\n\t\t\t\t\t\t\t\t\"ArchivoNarrow\",\n\t\t\t\t\t\t\t\t\"Arvo\",\n\t\t\t\t\t\t\t\t\"Asap\",\n\t\t\t\t\t\t\t\t\"AveriaLibre\",\n\t\t\t\t\t\t\t\t\"AveriaSansLibre\",\n\t\t\t\t\t\t\t\t\"AveriaSerifLibre\",\n\t\t\t\t\t\t\t\t\"Cambay\",\n\t\t\t\t\t\t\t\t\"Caudex\",\n\t\t\t\t\t\t\t\t\"CrimsonText\",\n\t\t\t\t\t\t\t\t\"Cuprum\",\n\t\t\t\t\t\t\t\t\"Economica\",\n\t\t\t\t\t\t\t\t\"Exo2\",\n\t\t\t\t\t\t\t\t\"Exo\",\n\t\t\t\t\t\t\t\t\"ExpletusSans\",\n\t\t\t\t\t\t\t\t\"FiraSans\",\n\t\t\t\t\t\t\t\t\"JosefinSans\",\n\t\t\t\t\t\t\t\t\"JosefinSlab\",\n\t\t\t\t\t\t\t\t\"Karla\",\n\t\t\t\t\t\t\t\t\"Lato\",\n\t\t\t\t\t\t\t\t\"LobsterTwo\",\n\t\t\t\t\t\t\t\t\"Lora\",\n\t\t\t\t\t\t\t\t\"Marvel\",\n\t\t\t\t\t\t\t\t\"Merriweather\",\n\t\t\t\t\t\t\t\t\"MerriweatherSans\",\n\t\t\t\t\t\t\t\t\"Nobile\",\n\t\t\t\t\t\t\t\t\"NoticiaText\",\n\t\t\t\t\t\t\t\t\"Overlock\",\n\t\t\t\t\t\t\t\t\"Philosopher\",\n\t\t\t\t\t\t\t\t\"PlayfairDisplay\",\n\t\t\t\t\t\t\t\t\"PlayfairDisplaySC\",\n\t\t\t\t\t\t\t\t\"PT_Serif-Web\",\n\t\t\t\t\t\t\t\t\"Puritan\",\n\t\t\t\t\t\t\t\t\"Quantico\",\n\t\t\t\t\t\t\t\t\"QuattrocentoSans\",\n\t\t\t\t\t\t\t\t\"Quicksand\",\n\t\t\t\t\t\t\t\t\"Rambla\",\n\t\t\t\t\t\t\t\t\"Rosario\",\n\t\t\t\t\t\t\t\t\"Sansation\",\n\t\t\t\t\t\t\t\t\"Sarabun\",\n\t\t\t\t\t\t\t\t\"Scada\",\n\t\t\t\t\t\t\t\t\"Share\",\n\t\t\t\t\t\t\t\t\"Sitara\",\n\t\t\t\t\t\t\t\t\"SourceSansPro\",\n\t\t\t\t\t\t\t\t\"TitilliumWeb\",\n\t\t\t\t\t\t\t\t\"Volkhov\",\n\t\t\t\t\t\t\t\t\"Vollkorn\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"fontSize\": {\n\t\t\t\t\t\"$Property\": []\n\t\t\t\t},\n\t\t\t\t\"background\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"color\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"color\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"color\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"alignment\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"chooseFrom\": [\n\t\t\t\t\t\t\t\t\"left\",\n\t\t\t\t\t\t\t\t\"center\",\n\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"decoration\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"chooseFrom\": [\n\t\t\t\t\t\t\t\t\"underline\",\n\t\t\t\t\t\t\t\t\"lineThrough\",\n\t\t\t\t\t\t\t\t\"overline\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"decorationColor\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"color\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"decorationStyle\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"chooseFrom\": [\n\t\t\t\t\t\t\t\t\"dashed\",\n\t\t\t\t\t\t\t\t\"dotted\",\n\t\t\t\t\t\t\t\t\"double\",\n\t\t\t\t\t\t\t\t\"wavy\"\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"style\": {\n\t\t\t\t\t\"$Property\": []\n\t\t\t\t},\n\t\t\t\t\"lineHeight\": {\n\t\t\t\t\t\"$Property\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"default\": 1\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_report/RStyle.ts\": {\n\t\t\"date\": 1632523398308,\n\t\t\"jassijs_report.RStyle\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"report/Style\",\n\t\t\t\t\t\"icon\": \"mdi mdi-virus-outline\",\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"name\": {\n\t\t\t\t\t\"$Property\": []\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_report/RTextGroup.ts\": {\n\t\t\"date\": 1632681423053,\n\t\t\"jassijs_report.RTextGroup\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"report/TextGroup\",\n\t\t\t\t\t\"icon\": \"mdi mdi-text-box-multiple-outline\",\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n}\n }\n});","import jassijs, { $Class } from \"jassijs/remote/Jassi\";\nimport {BoxPanel} from \"jassijs/ui/BoxPanel\";\n\n@$Class(\"jassijs_report.Report\")\n//@$UIComponent({editableChildComponents:[\"this\"]})\n//@$Property({name:\"horizontal\",hide:true})\nexport class Report extends BoxPanel {\n\n   \n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties) {//id connect to existing(not reqired)\n        super(properties);\n    }\n}\n//jassijs.register(\"reportcomponent\", \"jassijs_report.Report\", \"report/Report\", \"res/report.ico\");\n\n   // return CodeEditor.constructor;\n\n","import jassijs, { $Class } from \"jassijs/remote/Jassi\";\r\n\r\nimport { PropertyEditor } from \"jassijs/ui/PropertyEditor\";\r\nimport { ComponentExplorer } from \"jassijs_editor/ComponentExplorer\";\r\nimport { ComponentPalette } from \"jassijs_editor/ComponentPalette\";\r\nimport { CodeEditorInvisibleComponents } from \"jassijs_editor/CodeEditorInvisibleComponents\";\r\nimport { ComponentDesigner } from \"jassijs_editor/ComponentDesigner\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport { Container } from \"jassijs/ui/Container\";\r\nimport { Property } from \"jassijs/ui/Property\";\r\nimport { PDFReport } from \"jassijs_report/PDFReport\";\r\nimport { PDFViewer } from \"jassijs_report/PDFViewer\";\r\nimport { ReportDesign } from \"jassijs_report/ReportDesign\";\r\nimport { Tools } from \"jassijs/util/Tools\";\r\n\r\n\r\n@$Class(\"jassijs_report.designer.ReportDesigner\")\r\nexport class ReportDesigner extends ComponentDesigner {\r\n    constructor() {\r\n        super();\r\n\r\n    }\r\n    propertyIsChanging = false;\r\n    pdfviewer: PDFViewer = new PDFViewer();\r\n    allComponents: { [name: string]: Component };\r\n    nextComponentvariable: { [typ: string]: number };\r\n    lastView: Component = undefined;\r\n    private _codeChanger: PropertyEditor = undefined;\r\n    mainLayout: string = '{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\"},\"dimensions\":{\"borderWidth\":5,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"content\":[{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":81.04294066258988,\"content\":[{\"type\":\"stack\",\"width\":80.57491289198606,\"height\":71.23503465658476,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":19.42508710801394,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":19.844357976653697,\"content\":[{\"title\":\"Palette\",\"type\":\"component\",\"componentName\":\"componentPalette\",\"componentState\":{\"title\":\"Palette\",\"name\":\"componentPalette\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":80.1556420233463,\"content\":[{\"title\":\"Properties\",\"type\":\"component\",\"componentName\":\"properties\",\"componentState\":{\"title\":\"Properties\",\"name\":\"properties\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]},{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":18.957059337410122,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":18.957059337410122,\"width\":77.70034843205575,\"content\":[{\"title\":\"Variables\",\"type\":\"component\",\"componentName\":\"variables\",\"componentState\":{\"title\":\"Variables\",\"name\":\"variables\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Errors\",\"type\":\"component\",\"componentName\":\"errors\",\"componentState\":{\"title\":\"Errors\",\"name\":\"errors\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"width\":22.299651567944256,\"content\":[{\"title\":\"Components\",\"type\":\"component\",\"componentName\":\"components\",\"componentState\":{\"title\":\"Components\",\"name\":\"components\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}';\r\n    set codeEditor(value) {\r\n        var _this = this;\r\n        this._codeEditor = value;\r\n        this.variables = this._codeEditor.variables;\r\n        this._propertyEditor = new PropertyEditor(undefined, undefined);\r\n        this._codeChanger = new PropertyEditor(this._codeEditor, undefined);\r\n        this._errors = this._codeEditor._errors;\r\n        this._componentPalette = new ComponentPalette();\r\n        this._componentExplorer = new ComponentExplorer(value, this._propertyEditor);\r\n        this._invisibleComponents = new CodeEditorInvisibleComponents(value);\r\n        this.add(this._invisibleComponents);\r\n        this._initComponentExplorer();\r\n        this._installView();\r\n        this._codeEditor._codePanel.onblur(function (evt) {\r\n            _this._propertyEditor.updateParser();\r\n        });\r\n        this._propertyEditor.readPropertyValueFromDesign = true;\r\n\r\n        this._propertyEditor.addEvent(\"propertyChanged\", function () {\r\n            _this.propertyChanged();\r\n        });\r\n        this._propertyEditor.addEvent(\"codeChanged\", function () {\r\n            _this.propertyChanged();\r\n        });\r\n        $(this.__dom).addClass(\"ReportDesigner\");\r\n        $(this.dom).css(\"overflow\", \"scroll\");\r\n        $(this.dom).css(\"width\", \"\");\r\n\r\n    }\r\n    connectParser(parser){\r\n        this._propertyEditor.parser=parser;\r\n        var Parser = classes.getClass(\"jassijs_editor.base.Parser\");\r\n        this._codeChanger.parser=new Parser();\r\n    }\r\n    editDialog(enable) {\r\n\r\n        if (enable === false) {\r\n            super.editDialog(enable);\r\n            var rep = new PDFReport();\r\n            //rep.content=this.designedComponent[\"design];\r\n            var data;\r\n            try {\r\n                data = (<ReportDesign>this._codeChanger.value).toJSON();\r\n                rep.value = data;//Tools.copyObject(data);// designedComponent[\"design\"];\r\n                rep.fill();\r\n                  rep.getBase64().then((data) => {\r\n                    this.pdfviewer.report = rep;\r\n                    //make a copy because the data would be modified \r\n                    this.pdfviewer.value = data;\r\n                })\r\n            } catch (err) {\r\n                console.error(err);\r\n                //viewer.value = await rep.getBase64();\r\n              \r\n            }\r\n\r\n            this.lastView = this._designPlaceholder._components[0];\r\n            if (this._designPlaceholder._components.length > 0)\r\n                this._designPlaceholder.remove(this._designPlaceholder._components[0], false);\r\n            this._designPlaceholder.add(this.pdfviewer);\r\n        } else if (this.lastView) {\r\n            if (this._designPlaceholder._components.length > 0)\r\n                this._designPlaceholder.remove(this._designPlaceholder._components[0], false);\r\n            this._designPlaceholder.add(this.lastView);\r\n            this.lastView = undefined;\r\n            super.editDialog(enable);\r\n        } else\r\n            super.editDialog(enable);\r\n    }\r\n    propertyChanged() {\r\n        this.propertyIsChanging = true;\r\n        if (this._codeChanger.parser.sourceFile === undefined)\r\n            this._codeChanger.updateParser();\r\n        //@ts-ignore\r\n        let job = this.designedComponent.toJSON();\r\n        delete job.parameter;\r\n        delete job.data;\r\n        let ob = Tools.objectToJson(job, undefined, false,80);\r\n        if (this._codeChanger.parser.variables[\"reportdesign\"]) {\r\n            var s = this._codeChanger.parser.code.substring(0, this._codeChanger.parser.variables[\"reportdesign\"].pos) +\r\n                \" reportdesign = \" + ob + this._codeChanger.parser.code.substring(this._codeChanger.parser.variables[\"reportdesign\"].end);\r\n            this.codeEditor.value = s;\r\n            this._codeChanger.updateParser();\r\n            this._codeChanger.callEvent(\"codeChanged\", {});\r\n            //this.callEvent(\"codeChanged\", {});\r\n        } else\r\n            this._codeChanger.setPropertyInCode(\"reportdesign\", ob);\r\n        this.propertyIsChanging = false;\r\n    }\r\n    createComponent(type, component, top, left, newParent, beforeComponent) {\r\n        //this.variables.updateCache();\r\n        //this._componentExplorer.update();\r\n        var ret = super.createComponent(type, component, top, left, newParent, beforeComponent);\r\n        this.addVariables(ret,true);\r\n        \r\n        this._componentExplorer.update();\r\n        this.propertyChanged();\r\n        this._updateInvisibleComponents();\r\n        return ret;\r\n    }\r\n    private addVariables(component: Component,doupdate=false) {\r\n        var name = component[\"reporttype\"];\r\n        if (this.nextComponentvariable[name] === undefined) {\r\n            this.nextComponentvariable[name] = 0;\r\n        }\r\n        this.nextComponentvariable[name]++;\r\n        var sname=component[\"name\"];\r\n        if(sname===undefined){\r\n            sname=name + this.nextComponentvariable[name];\r\n            if(Object.getOwnPropertyDescriptor(component[\"__proto__\"],\"name\")){//write back the name\r\n                component[\"name\"]=sname;\r\n            }\r\n        }\r\n        this._codeEditor.variables.addVariable(sname, component, false);\r\n        this.allComponents[name + this.nextComponentvariable[name]] = component;\r\n        if (component[\"_components\"]) {\r\n            for (let x = 0; x < component[\"_components\"].length; x++) {\r\n                this.addVariables(component[\"_components\"][x]);\r\n            }\r\n        }\r\n        if (component === this||doupdate)\r\n            this._codeEditor.variables.update();\r\n    }\r\n    /**\r\n      * @member {jassijs.ui.Component} - the designed component\r\n      */\r\n    set designedComponent(component: ReportDesign) {\r\n        //create _children\r\n        ReportDesign.fromJSON(component[\"design\"], component);\r\n        //populate Variables\r\n        this.allComponents = {};\r\n        this.nextComponentvariable = {};\r\n        this.allComponents[\"this\"] = component;\r\n        this._codeEditor.variables.addVariable(\"this\", component);\r\n        this.addVariables(<Container>component);\r\n        this._propertyEditor.value = component;\r\n        this._codeChanger.parser = this._propertyEditor.parser;\r\n        super.designedComponent = component;\r\n        //@ts.ignore\r\n        this._codeChanger.value = component;\r\n\r\n    }\r\n    /**\r\n       * undo action\r\n       */\r\n    undo() {\r\n        this._codeEditor.undo();\r\n        this._codeEditor.evalCode();\r\n    }\r\n    get designedComponent(): ReportDesign {\r\n        return <ReportDesign>super.designedComponent;\r\n    }\r\n    //    \t_this.variables.addVariable(\"this\", rep);\r\n    get codeEditor() {\r\n        return this._codeEditor;\r\n    }\r\n    _installView() {\r\n        this._componentPalette = new ComponentPalette();\r\n        this._componentPalette.service = \"$ReportComponent\";\r\n        this._codeEditor._main.add(this._propertyEditor, \"Properties\", \"properties\");\r\n        this._codeEditor._main.add(this._componentExplorer, \"Components\", \"components\");\r\n        this._codeEditor._main.add(this._componentPalette, \"Palette\", \"componentPalette\");\r\n        if (this.mainLayout)\r\n            this._codeEditor._main.layout = this.mainLayout;\r\n    }\r\n\r\n    destroy() {\r\n        //\tthis._codeChanger.destroy();\r\n        this.pdfviewer.destroy();\r\n        super.destroy();\r\n\r\n    }\r\n\r\n    _initComponentExplorer() {\r\n        var _this = this;\r\n        this._componentExplorer.onclick(function (data) {\r\n            var ob = data.data;\r\n            _this._propertyEditor.value = ob;\r\n        });\r\n        this._componentExplorer.getComponentName = function (item) {\r\n            var varname = _this._codeEditor.getVariableFromObject(item);\r\n            if (varname === undefined)\r\n                return;\r\n            if (varname.startsWith(\"this.\"))\r\n                return varname.substring(5);\r\n            return varname;\r\n        };\r\n    }\r\n}\r\n\r\nexport async function test2() {\r\n    var rep = new PDFReport();\r\n    var def = {\r\n\r\n        content: {\r\n            stack: [{\r\n                columns: [\r\n                    {\r\n                        stack: [\r\n                            { text: '${invoice.customer.firstname} ${invoice.customer.lastname}' },\r\n                            { text: '${invoice.customer.street}' },\r\n                            { text: '${invoice.customer.place}' }\r\n                        ]\r\n                    },\r\n                    {\r\n                        stack: [\r\n                            { text: 'Invoice', fontSize: 18 },\r\n                            { text: \" \" },\r\n                            { text: \"Date: ${invoice.date}\" },\r\n                            { text: \"Number: ${invoice.number}\", bold: true },\r\n                            { text: \" \" },\r\n                            { text: \" \" },\r\n                        ]\r\n                    }\r\n                ]\r\n            }\r\n            ]\r\n        },\r\n        data: {\r\n            invoice: {\r\n                number: 1000,\r\n                date: \"20.07.2018\",\r\n                customer: {\r\n                    firstname: \"Henry\",\r\n                    lastname: \"Klaus\",\r\n                    street: \"Hauptstr. 157\",\r\n                    place: \"chemnitz\"\r\n                }\r\n            }\r\n        }\r\n    };\r\n    //\tdef.content=replaceTemplates(def.content,def.data);\r\n    rep.value = def;\r\n    var viewer = new PDFViewer();\r\n    viewer.value = await rep.getBase64();\r\n    viewer.height = \"200\";\r\n    return viewer;\r\n\r\n};\r\n\r\nexport async function test() {\r\n    var CodeEditor = (await import(\"jassijs_editor/CodeEditor\")).CodeEditor;\r\n    var editor = new CodeEditor();\r\n    //var url = \"jassijs_editor/AcePanel.ts\";\r\n    editor.height = 300;\r\n    editor.width = \"100%\";\r\n    //await editor.openFile(url);\r\n    editor.value = `import { ReportDesign } from \"jassijs_report/ReportDesign\";\r\n\r\nimport { $Class } from \"jassijs/remote/Jassi\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\n\r\nexport class SampleReport extends ReportDesign {\r\n    me = {};\r\n    constructor() {\r\n        super();\r\n        this.layout(this.me);\r\n    }\r\n    async setdata() {\r\n    }\r\n    layout(me) {\r\n        this.design = { \"content\": { \"stack\": [{ \"text\": \"Hallo\" }, { \"text\": \"ok\" }, { \"columns\": [{ \"text\": \"text\" }, { \"text\": \"text\" }] }] } };\r\n    }\r\n}\r\nexport async function test() {\r\n    var dlg = new SampleReport();\r\n    return dlg;\r\n}\r\n\r\n`;\r\n    editor.evalCode();\r\n    return editor;\r\n\r\n};","import { $Class } from \"jassijs/remote/Jassi\";\r\nimport { ReportDesigner } from \"jassijs_report/designer/ReportDesigner\";\r\n\r\nimport { Tools } from \"jassijs/util/Tools\";\r\n\r\n\r\n@$Class(\"jassijs_report.designer.SimpleReportDesigner\")\r\nexport class SimpleReportDesigner extends ReportDesigner {\r\n    codePrefix = \"var ttt=\";\r\n    constructor() {\r\n        super();\r\n        this.mainLayout = JSON.stringify({\r\n            \"settings\": { \"hasHeaders\": true, \"constrainDragToContainer\": true, \"reorderEnabled\": true, \"selectionEnabled\": false, \"popoutWholeStack\": false, \"blockedPopoutsThrowError\": true, \"closePopoutsOnUnload\": true, \"showPopoutIcon\": false, \"showMaximiseIcon\": true, \"showCloseIcon\": true, \"responsiveMode\": \"onload\" }, \"dimensions\": { \"borderWidth\": 5, \"minItemHeight\": 10, \"minItemWidth\": 10, \"headerHeight\": 20, \"dragProxyWidth\": 300, \"dragProxyHeight\": 200 }, \"labels\": { \"close\": \"close\", \"maximise\": \"maximise\", \"minimise\": \"minimise\", \"popout\": \"open in new window\", \"popin\": \"pop in\", \"tabDropdown\": \"additional tabs\" }, \"content\": [{\r\n                \"type\": \"column\", \"isClosable\": true, \"reorderEnabled\": true, \"title\": \"\", \"content\": [{\r\n                    \"type\": \"row\", \"isClosable\": true, \"reorderEnabled\": true, \"title\": \"\", \"height\": 81.04294066258988,\r\n                    \"content\": [{\r\n                        \"type\": \"stack\", \"width\": 80.57491289198606, \"height\": 71.23503465658476, \"isClosable\": true, \"reorderEnabled\": true, \"title\": \"\", \"activeItemIndex\": 0,\r\n                        \"content\": [\r\n                            { \"title\": \"Code..\", \"type\": \"component\", \"componentName\": \"code\", \"componentState\": { \"title\": \"Code..\", \"name\": \"code\" }, \"isClosable\": true, \"reorderEnabled\": true },\r\n                            { \"title\": \"Design\", \"type\": \"component\", \"componentName\": \"design\", \"componentState\": { \"title\": \"Design\", \"name\": \"design\" }, \"isClosable\": true, \"reorderEnabled\": true }]\r\n                    },\r\n                    {\r\n                        \"type\": \"column\", \"isClosable\": true, \"reorderEnabled\": true, \"title\": \"\", \"width\": 19.42508710801394,\r\n                        \"content\": [\r\n                            {\r\n                                \"type\": \"stack\", \"header\": {}, \"isClosable\": true, \"reorderEnabled\": true, \"title\": \"\", \"activeItemIndex\": 0, \"height\": 19.844357976653697,\r\n                                \"content\": [{ \"title\": \"Palette\", \"type\": \"component\", \"componentName\": \"componentPalette\", \"componentState\": { \"title\": \"Palette\", \"name\": \"componentPalette\" }, \"isClosable\": true, \"reorderEnabled\": true }]\r\n                            },\r\n                            {\r\n                                \"type\": \"stack\", \"header\": {}, \"isClosable\": true, \"reorderEnabled\": true, \"title\": \"\", \"activeItemIndex\": 0, \"height\": 80.1556420233463,\r\n                                \"content\": [{ \"title\": \"Properties\", \"type\": \"component\", \"componentName\": \"properties\", \"componentState\": { \"title\": \"Properties\", \"name\": \"properties\" }, \"isClosable\": true, \"reorderEnabled\": true }]\r\n                            },\r\n                            {\r\n                                \"type\": \"stack\", \"header\": {}, \"isClosable\": true, \"reorderEnabled\": true, \"title\": \"\", \"activeItemIndex\": 0, \"height\": 19.844357976653697,\r\n                                \"content\": [{ \"title\": \"Components\", \"type\": \"component\", \"componentName\": \"components\", \"componentState\": { \"title\": \"Components\", \"name\": \"components\" }, \"isClosable\": true, \"reorderEnabled\": true }]\r\n                            }\r\n                        ]\r\n                    }]\r\n                }\r\n                ]\r\n            }], \"isClosable\": true, \"reorderEnabled\": true, \"title\": \"\", \"openPopouts\": [], \"maximisedItemId\": null\r\n        });\r\n        this._designToolbar.remove(this.saveButton);\r\n        this._designToolbar.remove(this.runButton);\r\n        this.editButton.icon=\"mdi mdi-18px mdi-file-pdf-outline\";\r\n//        this._designToolbar.remove(this.);\r\n        \r\n        //'{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\",\"tabOverlapAllowance\":0,\"reorderOnTabMenuClick\":true,\"tabControlOffset\":10},\"dimensions\":{\"borderWidth\":5,\"borderGrabWidth\":15,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":100,\"content\":[{\"type\":\"stack\",\"width\":80.57491289198606,\"height\":71.23503465658476,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":1,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Components\",\"type\":\"component\",\"componentName\":\"components\",\"componentState\":{\"title\":\"Components\",\"name\":\"components\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":19.42508710801394,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":50,\"width\":19.42508710801394,\"content\":[{\"title\":\"Properties\",\"type\":\"component\",\"componentName\":\"properties\",\"componentState\":{\"title\":\"Properties\",\"name\":\"properties\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":50,\"content\":[{\"title\":\"Palette\",\"type\":\"component\",\"componentName\":\"componentPalette\",\"componentState\":{\"title\":\"Palette\",\"name\":\"componentPalette\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}';        //'{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\",\"tabOverlapAllowance\":0,\"reorderOnTabMenuClick\":true,\"tabControlOffset\":10},\"dimensions\":{\"borderWidth\":5,\"borderGrabWidth\":15,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":100,\"content\":[{\"type\":\"stack\",\"width\":80.57491289198606,\"height\":71.23503465658476,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":1,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":19.42508710801394,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":9.78603688012232,\"content\":[{\"title\":\"Palette\",\"type\":\"component\",\"componentName\":\"componentPalette\",\"componentState\":{\"title\":\"Palette\",\"name\":\"componentPalette\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":61.55066380085299,\"content\":[{\"title\":\"Properties\",\"type\":\"component\",\"componentName\":\"properties\",\"componentState\":{\"title\":\"Properties\",\"name\":\"properties\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":28.663299319024677,\"content\":[{\"title\":\"Components\",\"type\":\"component\",\"componentName\":\"components\",\"componentState\":{\"title\":\"Components\",\"name\":\"components\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}';\r\n    }\r\n   \r\n\r\n    propertyChanged() {\r\n        this.propertyIsChanging = true;\r\n        let job = this.designedComponent.toJSON();\r\n        delete job.parameter;\r\n        delete job.data;\r\n        let ob = Tools.objectToJson(job, undefined, false,80);\r\n        this._codeEditor._codePanel.value = this.codePrefix + ob + \";\";\r\n        this.propertyIsChanging = false;\r\n\r\n        /*  let job=this.designedComponent.toJSON();\r\n          delete job.parameter;\r\n          delete job.data;\r\n          let ob=Tools.objectToJson(job,undefined,false);\r\n          if(this._codeChanger.parser.variables[\"reportdesign\"]){\r\n              var s=this._codeChanger.parser.code.substring(0,this._codeChanger.parser.variables[\"reportdesign\"].pos)+\r\n                  \" reportdesign = \"+ob+this._codeChanger.parser.code.substring(this._codeChanger.parser.variables[\"reportdesign\"].end);\r\n                  this.codeEditor.value = s;\r\n              this._codeChanger.updateParser(); \r\n              this._codeChanger.callEvent(\"codeChanged\", {});\r\n          //this.callEvent(\"codeChanged\", {});\r\n          }else\r\n              this._codeChanger.setPropertyInCode(\"reportdesign\",ob);*/\r\n    }\r\n   \r\n}\r\n\r\nexport function test() {\r\n    var reportdesign={\r\n            content: [\r\n                {\r\n                    text: \"Hallo Herr {{nachname}}\"\r\n                },\r\n                {\r\n                    text: \"ok\"\r\n                },\r\n                {\r\n                    columns: [\r\n                        {\r\n                            text: \"text\"\r\n                        },\r\n                        {\r\n                            text: \"text\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            data: {\r\n                nachname: \"Meier\"\r\n            }\r\n        };\r\n    \r\n}","/*require.config(\r\n    {\r\n       // 'pdfjs-dist/build/pdf': 'myfolder/pdf.min',\r\n       // 'pdfjs-dist/build/pdf.worker': 'myfolder/pdf.worker.min'\r\n      paths: {\r\n          'pdfjs-dist/build/pdf': '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min',\r\n          'pdfjs-dist/build/pdf.worker': '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.worker.min',\r\n        //  'pdf.worker.entry': '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.worker.entry.min'\r\n         },\r\n      shim: {\r\n        'pdfjs-dist/build/pdf': ['pdfjs-dist/build/pdf.worker'],\r\n        }\r\n  });*/\r\n\r\ndefine(\"jassijs_report/ext/pdfjs\",[\"pdfjs-dist/build/pdf\",\"pdfjs-dist/build/pdf.worker\"],function(pdfjs,worker,pdfjsWorker){\r\n    pdfjs.GlobalWorkerOptions.workerSrc = '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.worker.min.js';\r\n    //pdfjs.GlobalWorkerOptions.workerSrc = pdfjsWorker;\r\n    return {\r\n                default:pdfjs\r\n            }\r\n    });\r\n","/*require.config(\r\n    {\r\n      paths :\r\n      {\r\n          'pdfmake' : '//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/vfs_fonts',// '../../lib/vfs_fonts',\r\n          'pdfMakeLib' :'//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/pdfmake'  //'../../lib/pdfmake'\r\n      },\r\n      shim :\r\n      {    \r\n          pdfMakeLib :\r\n          {           \r\n              exports: 'pdfMake'\r\n          },\r\n          pdfmake : \r\n          {\r\n              deps: ['pdfMakeLib'],\r\n              exports: 'pdfMake'\r\n          }\r\n      }\r\n    });*/\r\ndefine(\"jassijs_report/ext/pdfmake\",['pdfMake',\"vfs_fonts\"],function(ttt,vfs){\r\n        var fonts=require(\"vfs_fonts\");\r\n\r\n            return {\r\n                default:pdfMake\r\n            }\r\n    });\r\n","\r\nfunction clone(obj) {\r\n\tif (obj === null || typeof (obj) !== 'object' || 'isActiveClone' in obj)\r\n\t\treturn obj;\r\n\r\n\tif (obj instanceof Date || typeof obj === \"object\")\r\n\t\tvar temp = new obj.constructor(); //or new Date(obj);\r\n\telse\r\n\t\tvar temp = obj.constructor();\r\n\r\n\tfor (var key in obj) {\r\n\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n\t\t\tobj['isActiveClone'] = null;\r\n\t\t\ttemp[key] = clone(obj[key]);\r\n\t\t\tdelete obj['isActiveClone'];\r\n\t\t}\r\n\t}\r\n\treturn temp;\r\n}\r\n\r\ndeclare global {\r\n\tinterface String {\r\n\t\t//@ts-ignore\r\n\t\treplaceTemplate: any;\r\n\t}\r\n}\r\n//@ts-ignore\r\nString.prototype.replaceTemplate = function (params, returnValues) {\r\n\tconst names = Object.keys(params);\r\n\tconst vals = Object.values(params);\r\n\r\n\tfor (let x = 0; x < vals.length; x++) {\r\n\t\tif (typeof vals[x] === \"function\") {\r\n\t\t\tvals[x] = (<any>vals[x]).bind(params);\r\n\t\t}\r\n\t}\r\n\tlet stag = \"\";\r\n\tif (returnValues) {\r\n\t\tnames.push(\"tag\");\r\n\t\tstag = \"tag\";\r\n\t\tvals.push(function tag(strings, values) {\r\n\t\t\treturn values;\r\n\t\t});\r\n\t}\r\n\tvar func = funccache[names.join(\",\") + this];\r\n\tif (func === undefined) {//create functions is slow so cache\r\n\t\tfunc = new Function(...names, `return ${stag}\\`${this}\\`;`);\r\n\t\tfunccache[names.join(\",\") + this] = func;\r\n\t}\r\n\treturn func(...vals);\r\n}\r\n/*function replace(str, data, member) {\r\n\tvar ob = getVar(data, member);\r\n\treturn str.split(\"{{\" + member + \"}}\").join(ob);\r\n}*/\r\nfunction getVar(data, member: string) {\r\n\tvar ergebnis = member.toString().match(/\\$\\{(\\w||\\.)*\\}/g);\r\n\tif (!ergebnis)\r\n\t\tmember = \"${\" + member + \"}\";\r\n\tvar ob = member.replaceTemplate(data, true);\r\n\t/*\tvar names = member.split(\".\");\r\n\t\tvar ob = data[names[0]];\r\n\t\tfor (let x = 1; x < names.length; x++) {\r\n\t\r\n\t\t\tif (ob === undefined)\r\n\t\t\t\treturn undefined;\r\n\t\t\tob = ob[names[x]];\r\n\t\t}*/\r\n\treturn ob;\r\n}\r\n//replace {{currentPage}} {{pageWidth}} {{pageHeight}} {{pageCount}} in header,footer, background\r\nfunction replacePageInformation(def) {\r\n\r\n\tif (def.background && typeof def.background !== \"function\") {\r\n\t\tlet d = JSON.stringify(def.background);\r\n\t\tdef.background = function (currentPage, pageSize) {\r\n\t\t\tlet sret = d.replaceAll(\"{{currentPage}}\", currentPage);\r\n\t\t\tsret = sret.replaceAll(\"{{pageWidth}}\", pageSize.width);\r\n\t\t\tsret = sret.replaceAll(\"{{pageHeight}}\", pageSize.height);\r\n\t\t\treturn JSON.parse(sret);\r\n\t\t}\r\n\t}\r\n\tif (def.header && typeof def.header !== \"function\") {\r\n\t\tlet d = JSON.stringify(def.header);\r\n\t\tdef.header = function (currentPage, pageCount) {\r\n\t\t\tlet sret = d.replaceAll(\"{{currentPage}}\", currentPage);\r\n\t\t\tsret = sret.replaceAll(\"{{pageCount}}\", pageCount);\r\n\t\t\treturn JSON.parse(sret);\r\n\t\t}\r\n\t}\r\n\tif (def.footer && typeof def.footer !== \"function\") {\r\n\t\tlet d = JSON.stringify(def.footer);\r\n\r\n\t\tdef.footer = function (currentPage, pageCount, pageSize) {\r\n\t\t\tlet sret = d.replaceAll(\"{{currentPage}}\", currentPage);\r\n\t\t\tsret = sret.replaceAll(\"{{pageCount}}\", pageCount);\r\n\t\t\tsret = sret.replaceAll(\"{{pageWidth}}\", pageSize.width);\r\n\t\t\tsret = sret.replaceAll(\"{{pageHeight}}\", pageSize.height);\r\n\t\t\treturn JSON.parse(sret);\r\n\t\t}\r\n\t}\r\n}\r\nfunction groupSort(group, name, groupfields, groupid = 0) {\r\n\tvar ret = { entries: [], name: name };\r\n\tif (groupid > 0)\r\n\t\tret[\"groupfield\"] = groupfields[groupid - 1];\r\n\tif (Array.isArray(group)) {\r\n\t\tgroup.forEach((neu) => ret.entries.push(neu));\r\n\r\n\t} else {\r\n\t\tfor (var key in group) {\r\n\t\t\tvar neu = group[key];\r\n\t\t\tret.entries.push(groupSort(neu, key, groupfields, groupid + 1));\r\n\t\t}\r\n\t\tret.entries = ret.entries.sort((a, b) => {\r\n\t\t\treturn a.name.localeCompare(b.name);\r\n\t\t});\r\n\r\n\t}\r\n\treturn ret;\r\n}\r\nexport function doGroup(entries, groupfields: string[]) {\r\n\tvar ret: any = {};\r\n\tfor (var e = 0; e < entries.length; e++) {\r\n\t\tvar entry = entries[e];\r\n\t\tlet parent = ret;\r\n\t\tfor (var x = 0; x < groupfields.length; x++) {\r\n\t\t\tvar groupname = entry[groupfields[x]];\r\n\t\t\tif (x < groupfields.length - 1) {//undergroups does exists\r\n\t\t\t\tif (!parent[groupname])\r\n\t\t\t\t\tparent[groupname] = {};\r\n\t\t\t} else { //last group contaons the data\r\n\t\t\t\tif (!parent[groupname])\r\n\t\t\t\t\tparent[groupname] = [];\r\n\t\t\t\tparent[groupname].push(entry);\r\n\t\t\t}\r\n\t\t\tparent = parent[groupname];\r\n\t\t}\r\n\t}\r\n\t//sort\r\n\tvar sorted = groupSort(ret, \"main\", groupfields);\r\n\r\n\treturn sorted;\r\n}\r\nfunction replaceDatatable(def, data) {\r\n\r\n\tvar header = def.datatable.header;\r\n\tvar footer = def.datatable.footer;\r\n\tvar dataexpr = def.datatable.dataforeach;\r\n\tvar groups = def.datatable.groups;\r\n\tvar body = def.datatable.body;\r\n\tvar groupexpr: string[] = [];\r\n\tdef.table = {\r\n\t\tbody: []\r\n\t};\r\n\tif (header)\r\n\t\tdef.table.body.push(header);\r\n\tif (groups === undefined || groups.length === 0) {\r\n\t\tdef.table.body.push({\r\n\t\t\tforeach: dataexpr,\r\n\t\t\tdo: body\r\n\t\t});\r\n\t} else {\r\n\t\tvar parent: any = {};\r\n\t\tvar toadd = {\r\n\t\t\tforeach: \"group1 in datatablegroups.entries\",\r\n\t\t\tdo: parent\r\n\t\t}\r\n\t\tdef.table.body.push(toadd);\r\n\t\tfor (var x = 0; x < groups.length; x++) {\r\n\t\t\tgroupexpr.push(groups[x].expression);\r\n\t\t\tif (x < groups.length - 1) {\r\n\t\t\t\tparent.foreach = \"group\" + (x + 2).toString() + \" in group\" + (x + 1).toString() + \".entries\";\r\n\t\t\t}else{\r\n\t\t\t\tparent.foreach = dataexpr.split(\" \")[0] + \" in group\" + (x + 1).toString() + \".entries\";\r\n\t\t\t}\r\n\t\t\tif (groups[x].header && groups[x].header.length > 0) {\r\n\t\t\t\tparent.dofirst = groups[x].header;\r\n\t\t\t}\r\n\t\t\tif (groups[x].footer && groups[x].footer.length > 0) {\r\n\t\t\t\tparent.dolast = groups[x].footer;\r\n\t\t\t}\r\n\t\t\tif (x < groups.length - 1) {\r\n\t\t\t\tparent.do={};\r\n\t\t\t\tparent=parent.do;\r\n\t\t\t}else{\r\n\t\t\t\tparent.do=body;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar arr = getArrayFromForEach(def.datatable.dataforeach, data);\r\n\t\tdata.datatablegroups = doGroup(arr, groupexpr);\r\n\t}\r\n\r\n\tdelete def.datatable.dataforeach;\r\n\r\n\t/*var variable = dataexpr.split(\" in \")[0];\r\n\tvar sarr = dataexpr.split(\" in \")[1];\r\n\tvar arr = getVar(data, sarr);\r\n\t\r\n\tfor (let x = 0;x < arr.length;x++) {\r\n\t\tdata[variable] = arr[x];\r\n\t\tvar copy = JSON.parse(JSON.stringify(body));//deep copy\r\n\t\tcopy = replaceTemplates(copy, data);\r\n\t\tdef.table.body.push(copy);\r\n\t}*/\r\n\tif (footer)\r\n\t\tdef.table.body.push(footer);\r\n\t//delete data[variable];\r\n\tdelete def.datatable.header;\r\n\tdelete def.datatable.footer;\r\n\tdelete def.datatable.foreach;\r\n\tdelete def.datatable.groups;\r\n\tdelete def.datatable.body;\r\n\r\n\tfor (var key in def.datatable) {\r\n\t\tdef.table[key] = def.datatable[key];\r\n\t}\r\n\tdelete def.datatable;\r\n\t/*header:[{ text:\"Item\"},{ text:\"Price\"}],\r\n\t\t\t\t\tdata:\"line in invoice.lines\",\r\n\t\t\t\t\t//footer:[{ text:\"Total\"},{ text:\"\"}],\r\n\t\t\t\t\tbody:[{ text:\"Text\"},{ text:\"price\"}],\r\n\t\t\t\t\tgroups:*/\r\n\r\n\r\n}\r\nfunction getArrayFromForEach(foreach, data) {\r\n\tvar sarr = foreach.split(\" in \")[1];\r\n\tvar arr;\r\n\tif (sarr === undefined) {\r\n\t\tarr = data?.items;//we get the main array\r\n\t} else {\r\n\t\tarr = getVar(data, sarr);\r\n\t}\r\n\treturn arr;\r\n}\r\nfunction replaceTemplates(def, data, param = undefined) {\r\n\tif (def === undefined)\r\n\t\treturn;\r\n\tif (def.datatable !== undefined) {\r\n\t\treplaceDatatable(def, data);\r\n\r\n\t}\r\n\tif (def.foreach !== undefined) {\r\n\t\t//resolve foreach\r\n\t\t//\t{ foreach: \"line in invoice.lines\", do: ['{{line.text}}', '{{line.price}}', 'OK?']\t\r\n\t\tif (param?.parentArray === undefined) {\r\n\t\t\tthrow \"foreach is not surounded by an Array\";\r\n\t\t}\r\n\t\tvar variable = def.foreach.split(\" in \")[0];\r\n\t\tvar arr: any[] = getArrayFromForEach(def.foreach, data);\r\n\r\n\t\tif (param?.parentArrayPos === undefined) {\r\n\t\t\tparam.parentArrayPos = param?.parentArray.indexOf(def);\r\n\t\t\tparam?.parentArray.splice(param.parentArrayPos, 1);\r\n\t\t}\r\n\r\n\t\tfor (let x = 0; x < arr.length; x++) {\r\n\t\t\tdata[variable] = arr[x];\r\n\t\t\tdelete def.foreach;\r\n\t\t\tvar copy;\r\n\t\t\tif (def.dofirst && x === 0) {//render only forfirst\r\n\t\t\t\tcopy = clone(def.dofirst);\r\n\t\t\t\tcopy = replaceTemplates(copy, data, param);\r\n\t\t\t\tif (copy !== undefined)\r\n\t\t\t\t\tparam.parentArray.splice(param.parentArrayPos++, 0, copy);\r\n\t\t\t}\r\n\t\t\tif (def.do)\r\n\t\t\t\tcopy = clone(def.do);\r\n\t\t\telse\r\n\t\t\t\tcopy = clone(def);\r\n\r\n\t\t\tcopy = replaceTemplates(copy, data, param);\r\n\t\t\tif (copy !== undefined)\r\n\t\t\t\tparam.parentArray.splice(param.parentArrayPos++, 0, copy);\r\n\r\n\t\t\tif (def.dolast && x === arr.length - 1) {//render only forlast\r\n\t\t\t\tcopy = clone(def.dolast);\r\n\t\t\t\tcopy = replaceTemplates(copy, data, param);\r\n\t\t\t\tif (copy !== undefined)\r\n\t\t\t\t\tparam.parentArray.splice(param.parentArrayPos++, 0, copy);\r\n\t\t\t}\r\n\t\t}\r\n\t\tdelete data[variable];\r\n\t\treturn undefined;\r\n\t} else if (Array.isArray(def)) {\r\n\t\tfor (var a = 0; a < def.length; a++) {\r\n\t\t\tif (def[a].foreach !== undefined) {\r\n\t\t\t\treplaceTemplates(def[a], data, { parentArray: def });\r\n\t\t\t\ta--;\r\n\t\t\t} else\r\n\t\t\t\tdef[a] = replaceTemplates(def[a], data, { parentArray: def });\r\n\t\t}\r\n\t\treturn def;\r\n\t} else if (typeof def === \"string\") {\r\n\t\tvar ergebnis = def.toString().match(/\\$\\{(\\w||\\.)*\\}/g);\r\n\t\tif (ergebnis !== null) {\r\n\t\t\tdef = def.replaceTemplate(data);\r\n\t\t\t//\tfor (var e = 0; e < ergebnis.length; e++) {\r\n\t\t\t//\t\tdef = replace(def, data, ergebnis[e].substring(2, ergebnis[e].length - 2));\r\n\t\t\t//\t}\r\n\t\t}\r\n\t\treturn def;\r\n\t} else {//object\t\r\n\t\tfor (var key in def) {\r\n\t\t\tdef[key] = replaceTemplates(def[key], data);\r\n\r\n\t\t}\r\n\t\tdelete def.editTogether;//RText\r\n\t}\r\n\treturn def;\r\n}\r\n\r\n\r\nexport function createReportDefinition(definition, data, parameter) {\r\n\tdefinition = clone(definition);//this would be modified\r\n\tif (data !== undefined)\r\n\t\tdata = clone(data);//this would be modified\r\n\r\n\tif (data === undefined && definition.data !== undefined) {\r\n\t\tdata = definition.data;\r\n\t}\r\n\t//parameter could be in data\r\n\tif (data !== undefined && data.parameter !== undefined && parameter !== undefined) {\r\n\t\tthrow new Error(\"parameter would override data.parameter\");\r\n\t}\r\n\tif (Array.isArray(data)) {\r\n\t\tdata = { items: data };//so we can do data.parameter\r\n\t}\r\n\tif (parameter !== undefined) {\r\n\r\n\t\tdata.parameter = parameter;\r\n\t}\r\n\t//parameter could be in definition\r\n\tif (data !== undefined && data.parameter !== undefined && definition.parameter !== undefined) {\r\n\t\tthrow new Error(\"definition.parameter would override data.parameter\");\r\n\t}\r\n\tif (definition.parameter !== undefined) {\r\n\t\tdata.parameter = definition.parameter;\r\n\t}\r\n\r\n\r\n\r\n\tdefinition.content = replaceTemplates(definition.content, data);\r\n\tif (definition.background)\r\n\t\tdefinition.background = replaceTemplates(definition.background, data);\r\n\tif (definition.header)\r\n\t\tdefinition.header = replaceTemplates(definition.header, data);\r\n\tif (definition.footer)\r\n\t\tdefinition.footer = replaceTemplates(definition.footer, data);\r\n\r\n\t//definition.content = replaceTemplates(definition.content, data);\r\n\treplacePageInformation(definition);\r\n\tdelete definition.data;\r\n\treturn definition;\r\n\t// delete definition.parameter;\r\n}\r\nvar funccache: any = {};\r\n\r\nexport function test() {\r\n\tvar h = {\r\n\t\tk: 5,\r\n\t\tho() {\r\n\t\t\treturn this.k + 1;\r\n\t\t}\r\n\t}\r\n\t//@ts-ignore\r\n\tvar s = \"${ho()}\".replaceTemplate(h, true);\r\n\th.k = 60;\r\n\ts = \"${ho()}\".replaceTemplate(h, true);\r\n\tconsole.log(s + 2);\r\n}\r\n"]}