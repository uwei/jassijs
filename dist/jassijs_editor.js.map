{"version":3,"file":"jassijs_editor.js","sourceRoot":"","sources":["../client/jassijs_editor/AcePanel.ts","../client/jassijs_editor/AcePanelSimple.ts","../client/jassijs_editor/ChromeDebugger.ts","../client/jassijs_editor/CodeEditor.ts","../client/jassijs_editor/CodeEditorInvisibleComponents.ts","../client/jassijs_editor/CodePanel.ts","../client/jassijs_editor/ComponentDesigner.ts","../client/jassijs_editor/ComponentExplorer.ts","../client/jassijs_editor/ComponentPalette.ts","../client/jassijs_editor/ComponentSpy.ts","../client/jassijs_editor/DatabaseDesigner.ts","../client/jassijs_editor/Debugger.ts","../client/jassijs_editor/ErrorPanel.ts","../client/jassijs_editor/ext/monaco.ts","../client/jassijs_editor/FileExplorer.ts","../client/jassijs_editor/HtmlDesigner.ts","../client/jassijs_editor/modul.ts","../client/jassijs_editor/MonacoPanel.ts","../client/jassijs_editor/registry.js","../client/jassijs_editor/SearchExplorer.ts","../client/jassijs_editor/StartEditor.ts","../client/jassijs_editor/template/TemplateDBDialog.ts","../client/jassijs_editor/template/TemplateDBObject.ts","../client/jassijs_editor/template/TemplateEmptyDialog.ts","../client/jassijs_editor/template/TemplateRemoteObject.ts","../client/jassijs_editor/util/DatabaseSchema.ts","../client/jassijs_editor/util/DragAndDropper.ts","../client/jassijs_editor/util/Parser.ts","../client/jassijs_editor/util/Resizer.ts","../client/jassijs_editor/util/Tests.ts","../client/jassijs_editor/util/TSSourceMap.ts","../client/jassijs_editor/util/Typescript.ts","../jassijs_editor/registry.js"],"names":[],"mappings":"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","sourcesContent":["/// <amd-dependency path=\"ace/ace\" name=\"ace\"/>\r\ndeclare var ace;\r\nimport 'ace/ext/language_tools';\r\nimport \"jassijs_editor/Debugger\";\r\nimport typescript, { Typescript } from \"jassijs_editor/util/Typescript\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\nimport { Runlater } from \"jassijs/util/Runlater\";\r\nimport { Component } from 'jassijs/ui/Component';\r\n\r\n\r\n\r\n/**\r\n* wrapper for the Ace-Code editor with Typesccript-Code-Completion an other features\r\n* @class jassijs.ui.CodePanel\r\n*/\r\n@$Class(\"jassijs.ui.AcePanel\")\r\nexport class AcePanel extends CodePanel {\r\n    private _mode: string;\r\n    private _editor;\r\n    private _isInited: boolean;\r\n    //   private _lastCursorPosition;\r\n    declare file: string;\r\n    private static _tooltipdiv: HTMLElement;\r\n    private _lastTooltipRefresh;\r\n    checkErrorTask: Runlater;\r\n    constructor() {\r\n        super();\r\n        var _this = this;\r\n        var test = '<div class=\"CodePanel\" style=\"height: 500px; width: 500px\"></div>';\r\n        super.init(test);\r\n        this.domWrapper.style.display = \"\";\r\n        this._editor = ace.edit(this._id);\r\n        this.file = \"\";\r\n        this.checkErrorTask = new Runlater(function () {\r\n            _this._checkCode();\r\n        }, 900);\r\n        this._editor.setOptions({\r\n            enableBasicAutocompletion: true,\r\n            //   maxLines:Infinity,\r\n            useSoftTabs: false,\r\n            autoScrollEditorIntoView: false\r\n            //      enableMultiselect: false,\r\n            //    enableLinking: true\r\n        });\r\n\r\n        // this._editor.setAutoScrollEditorIntoView(false);\r\n        this._editor.session.setOption(\"useWorker\", false)\r\n        this._editor.$blockScrolling = Infinity;\r\n        this._editor.jassi = this;\r\n        this._installLangTools();\r\n        var include = /[a-z.]/i;\r\n        this._addEvents();\r\n        this._addCommands();\r\n        //editor.$blockScrolling = Infinity;\r\n    }\r\n    private _addEvents() {\r\n        var _this = this;\r\n        this._editor.on('change', (obj, editor) => {\r\n            switch (obj.action) {\r\n                case 'insert':\r\n                    let lines = obj.lines;\r\n                    let char = lines[0];\r\n                    if ((lines.length === 1) && (char.length === 1) && char === \".\") {\r\n                        setTimeout(() => {\r\n                            this._editor.commands.byName.startAutocomplete.exec(this._editor);\r\n                        }, 50);\r\n                    }\r\n                    if (lines.length == 1 && lines[0].length > 1 && lines[0].indexOf(\" \") < 0) {\r\n                        //no check after .\r\n                        var idx = _this.positionToNumber(obj.start);\r\n                        var test = _this.value[idx - 1];\r\n                        if (test !== \".\") {\r\n                            setTimeout(() => {\r\n                                _this._doRequiredImports(obj.end, lines);\r\n\r\n                            }, 500);\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            _this.checkErrorTask.runlater();\r\n            var lineHeight = this._editor.renderer.lineHeight;\r\n            var editorDiv = document.getElementById(_this._id);\r\n            editorDiv.style.height = lineHeight * _this._editor.getSession().getDocument().getLength() + \" px\";\r\n            _this._editor.resize();\r\n        });\r\n\r\n        _this._editor.on(\"guttermousedown\", function (e) {\r\n\r\n            var row = e.getDocumentPosition().row;\r\n            var breakpoints = e.editor.session.getBreakpoints(row, 0);\r\n            var type = \"debugpoint\";\r\n            if (e.domEvent.ctrlKey)\r\n                type = \"checkpoint\";\r\n            var column = _this._editor.session.getLine(row).length;\r\n            if (typeof breakpoints[row] === typeof undefined) {\r\n                e.editor.session.setBreakpoint(row);\r\n                _this.callEvent(\"breakpointChanged\", row, column, true, type);\r\n            } else {\r\n                e.editor.session.clearBreakpoint(row, false, undefined);\r\n                _this.callEvent(\"breakpointChanged\", row, column, false, type);\r\n            }\r\n        });\r\n        this._editor.on(\"mousemove\", function (e) {\r\n            _this._manageTooltip(e);\r\n        })\r\n    }\r\n    autocomplete() {\r\n        this._editor.commands.byName.startAutocomplete.exec(this._editor);\r\n    }\r\n    /**\r\n     * add commands to Ace Editor\r\n     **/\r\n    private _addCommands() {\r\n        var _this = this;\r\n        this._editor.commands.addCommand({\r\n            name: \"formatDocument\",\r\n            bindKey: { win: \"Shift-Alt-f\", mac: \"Shift-Alt-f\" },\r\n            exec: function (editor) {\r\n                typescript.formatDocument(_this.file, _this.value).then((val) => {\r\n                    _this.value = val;\r\n                });\r\n            }\r\n        });\r\n        this._editor.commands.addCommand({\r\n            name: \"goToDeclaration\",\r\n            bindKey: { win: \"Ctrl-F12\", mac: \"Ctrl-F12\" },\r\n            exec: function (editor) {\r\n                _this.gotoDeclaration();\r\n            }\r\n        })\r\n    }\r\n    private _tooltiprefresh(event) {\r\n\r\n        if (this._lastTooltipRefresh === undefined)\r\n            return;\r\n        if (this._lastTooltipRefresh + 400 < Date.now()) {\r\n            var pos = event.getDocumentPosition();\r\n            if (pos.row === 0 || pos.column == 0)\r\n                return;\r\n            let lpos = this.positionToNumber({\r\n                column: pos.column + 1,\r\n                row: pos.row + 1\r\n            }) - 1;\r\n            if (!typescript.isInited(this.file))\r\n                return;\r\n            var p;\r\n            typescript.getQuickInfoAtPosition(this.file, lpos, this.value).then((p) => {\r\n                if (p !== undefined) {\r\n                    var text = \"<div style='font-size:12px'>\";\r\n                    for (let x = 0; x < p.displayParts.length; x++) {\r\n                        text = text + p.displayParts[x].text;\r\n                    }\r\n                    if (p.documentation !== undefined) {\r\n                        for (let x = 0; x < p.documentation.length; x++) {\r\n                            text = text + \"<br>\" + p.documentation[x].text;\r\n                        }\r\n                    }\r\n                    text = text + \"<br>\" + (p.documentation === undefined ? \"\" : p.documentation) + \"<div>\";\r\n                    AcePanel._tooltipdiv.innerHTML = text;\r\n                    AcePanel._tooltipdiv.style[\"background-color\"] = \"#f7f4a5\";\r\n                    AcePanel._tooltipdiv.style.display = \"block\";\r\n                    AcePanel._tooltipdiv.style.position = \"absolute\";\r\n                    AcePanel._tooltipdiv.style.top = event.y + \"px\";\r\n                    AcePanel._tooltipdiv.style.left = event.x + \"px\";\r\n                }\r\n            })\r\n        }\r\n    }\r\n    /**\r\n     * show tooltip\r\n     */\r\n    private _manageTooltip(event) {\r\n        if (AcePanel._tooltipdiv === undefined) {\r\n            AcePanel._tooltipdiv = Component.createHTMLElement('<div id=\"tt\">hallo</div>');\r\n            document.body.append(AcePanel._tooltipdiv);\r\n        }\r\n        if (event !== undefined) {\r\n            AcePanel._tooltipdiv.style.display = \"none\";\r\n            AcePanel._tooltipdiv.style.position = \"absolute\";\r\n            AcePanel._tooltipdiv.style.top = event.y + \"px\";\r\n            AcePanel._tooltipdiv.style.left = event.x + \"px\";\r\n        }\r\n        this._lastTooltipRefresh = Date.now();\r\n        event = event;\r\n        window.setTimeout(this._tooltiprefresh.bind(this), 400, event);\r\n    }\r\n\r\n    public insert(pos: number, text: string) {\r\n        this._editor.session.insert(pos, text);\r\n    }\r\n    /**\r\n     * check if imports are neded and do so \r\n     **/\r\n    _doRequiredImports(pos: { row: number, column: number }, name: string) {\r\n        if (!typescript.isInited(this.file))\r\n            return;\r\n        if (this.value.indexOf(\"import \" + name + \" \") === -1 && this.value.indexOf(\"import {\" + name + \"} \") === -1) {\r\n\r\n            let lpos = this.positionToNumber({\r\n                column: pos.column + 1,\r\n                row: pos.row + 1\r\n            }) - 1;\r\n            CodePanel.getAutoimport(lpos, this.file, this.value).then((data) => {\r\n                if (data !== undefined) {\r\n                    this._editor.session.insert(data.pos, data.text);\r\n                    typescript.setCode(this.file, this.value);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * check for errors or warnings\r\n     */\r\n    private _checkCode() {\r\n        if (this.file !== undefined && !this.file.toLowerCase().endsWith(\".ts\"))\r\n            return;\r\n        var _this = this;\r\n        typescript.waitForInited.then(() => {\r\n            if (_this._editor !== undefined && _this._editor.getSession() !== undefined) {\r\n                _this._editor.getSession().setAnnotations([{\r\n                    row: 1,\r\n                    column: 1,\r\n                    text: \"typescript initialization still in progress...\",\r\n                    type: \"information\" // also warning and information\r\n                }]);\r\n\r\n            }\r\n            typescript.setCode(_this.file, _this.value).then((tt) => {\r\n                if (_this.file === undefined)\r\n                    return;\r\n                typescript.getDiagnostics(_this.file, _this.value).then((diag) => {\r\n                    var annotaions = [];\r\n                    var iserror = false;\r\n                    for (var x = 0; x < diag.semantic.length; x++) {\r\n                        // if (diag.semantic[x].file === undefined)\r\n                        //   continue;\r\n                        // if (diag.semantic[x].file === undefined||diag.semantic[x].file.fileName === (\"file:///\" + _this.file) {\r\n                        var err = _this.numberToPosition(diag.semantic[x].start);\r\n                        annotaions.push({\r\n                            row: err.row - 1,\r\n                            column: err.column - 1,\r\n                            text: diag.semantic[x].messageText[\"messageText\"] === undefined ? diag.semantic[x].messageText : diag.semantic[x].messageText[\"messageText\"],//Bug\r\n                            type: \"error\" // also warning and information\r\n                        })\r\n                        iserror = true;\r\n                        //  }\r\n                    }\r\n                    for (var y = 0; y < diag.suggestion.length; y++) {\r\n                        //if (diag.suggestion[y].file === undefined)\r\n                        //    continue;\r\n                        //   if (diag.suggestion[y].file === undefined||diag.suggestion[y].file.fileName === _this.file) {\r\n                        var err = _this.numberToPosition(diag.suggestion[y].start);\r\n                        annotaions.push({\r\n                            row: err.row - 1,\r\n                            column: err.column - 1,\r\n                            text: diag.suggestion[y].messageText,\r\n                            type: \"warning\" // also warning and information\r\n                        })\r\n                        //  }\r\n                    }\r\n                    for (var x = 0; x < diag.syntactic.length; x++) {\r\n                        //  if (diag.syntactic[x].file === undefined)\r\n                        //    continue;\r\n                        // if (iag.syntactic[x].file === undefined||diag.syntactic[x].file.fileName === _this.file) {\r\n                        var err = _this.numberToPosition(diag.syntactic[x].start);\r\n                        annotaions.push({\r\n                            row: err.row - 1,\r\n                            column: err.column - 1,\r\n                            text: diag.syntactic[x].messageText[\"messageText\"] === undefined ? diag.syntactic[x].messageText : diag.syntactic[x].messageText[\"messageText\"],//Bug\r\n                            type: \"error\" // also warning and information\r\n                        })\r\n                        iserror = true;\r\n                        //}\r\n                    }\r\n                    _this._editor.getSession().setAnnotations(annotaions);\r\n                    if (_this.dom) {\r\n                        if (iserror) {\r\n                            (<HTMLElement>_this.dom.querySelector(\".ace_gutter\")).style.background = \"#ffbdb9\";\r\n                        } else {\r\n                            (<HTMLElement>_this.dom.querySelector(\".ace_gutter\")).style.background = \"\";\r\n                        }\r\n                    }\r\n\r\n\r\n                })\r\n            });\r\n        });\r\n\r\n\r\n    }\r\n    /**\r\n     * text changes\r\n     * @param {function} handler\r\n     */\r\n    onchange(handler) {\r\n        this._editor.on('change', handler);\r\n    }\r\n    /**\r\n     * initialize the Ace language Tools (only once)\r\n     */\r\n    private _installLangTools() {\r\n        var aceLangTools = ace.require(\"ace/ext/language_tools\");\r\n        var _this = this;\r\n        if (aceLangTools.jassi === undefined) {\r\n            aceLangTools.jassi = {\r\n                constructor: {\r\n\r\n                },\r\n                getDocTooltip: function (item) {\r\n                    return item.codePanel.getDocTooltip(item);\r\n                    // if (item.jassi !== undefined && item.jassijs.getDocTooltip !== undefined)\r\n                    //     return item.jassijs.getDocTooltip(item);\r\n                },\r\n                getCompletions: function (editor, session, pos, prefix, callback) {\r\n                    return _this.getCompletions(editor, session, pos, prefix, callback);\r\n                }\r\n            }\r\n\r\n        }\r\n        aceLangTools.setCompleters([aceLangTools.jassi, aceLangTools.keyWordCompleter]);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n    * get the completion entrys for the Ace-Code-Editor\r\n    * @param editor - the editor instance\r\n    * @param session - the editor session\r\n    * @param pos - the current code position\r\n    * @param prefix - the word before the code position\r\n    * @param callback - the function to transfer the completions\r\n    */\r\n    getCompletions(editor, session, pos: { row: number, column: number }, prefix, callback) {\r\n        /*   var ret = [];\r\n           var entry = { caption: caption, name: sname, value: sname, score: 10, meta: \"object\", parent: ob };\r\n           ret.push(entry);\r\n           callback(null, ret);*/\r\n        var ret = [];\r\n        var _this = this;\r\n        var p = _this.positionToNumber({\r\n            column: pos.column + 1,\r\n            row: pos.row + 1\r\n        });\r\n        var code = this.value;\r\n\r\n        if (typescript.isInited(this.file) !== true) {\r\n            let entry = { caption: \"please try later ... loading in progress\", name: \"loading\", value: \"empty\", score: 10, meta: \"object\", parent: \"otto\", codePanel: _this };\r\n            ret.push(entry);\r\n            return;\r\n        }\r\n        if (_this.file.endsWith(\".js\"))\r\n            return;\r\n        typescript.getCompletion(_this.file, p, code, { includeExternalModuleExports: true }).then((data) => {\r\n            if (data !== undefined) {\r\n                for (let e = 0; e < data.entries.length; e++) {\r\n                    let entr = data.entries[e];\r\n                    var icon = \"variableicon\";\r\n                    if (entr.kind === \"method\" || entr.kind === \"function\")\r\n                        icon = \"functionicon\";\r\n                    if (entr.kind === \"property\" || entr.kind === \"getter\" || entr.kind === \"setter\")\r\n                        icon = \"membericon\";\r\n                    if (entr.name.startsWith(\"$\") && entr.kind === \"function\") {\r\n                        icon = \"annotationicon\";\r\n                    }\r\n                    if (entr.kind === \"class\")\r\n                        icon = \"classicon\";\r\n                    var entry = {\r\n                        caption: entr.name, name: entr.name, value: entr.name,\r\n                        score: 10, meta: entr.kind, codePanel: _this, pos: p, file: _this.file, className: icon, icon: \"method\"\r\n                    };\r\n                    ret.push(entry);\r\n                }\r\n            } else {\r\n                let entry = { caption: \"empty\", name: \"empty\", value: \"empty\", score: 10, meta: \"object\", parent: \"otto\", codePanel: _this };\r\n                ret.push(entry);\r\n            }\r\n            callback(null, ret);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n    * get the documentation for a member for the Ace-Code-Editor\r\n    * @param {object} item - the member to describe\r\n    */\r\n    getDocTooltip(item) {\r\n        if (item.file === undefined)\r\n            return \"\";\r\n        var _id = \"j\" + registry.nextID();\r\n        item.docHTML = \"<span id='\" + _id + \"'> please try later ... loading in progress<span>\";\r\n\r\n        typescript.getCompletionEntryDetails(item.file, item.pos, item.name, {}, undefined, {}).then((ret) => {\r\n            if (ret === undefined)\r\n                return;\r\n            var doc = \"<b>\";\r\n            if (ret.displayParts !== undefined) {\r\n                for (var x = 0; x < ret.displayParts.length; x++) {\r\n                    doc = doc + ret.displayParts[x].text;//+ret.tags[x].text;\r\n                }\r\n            }\r\n            //doc = \"<div style='width:50px;word-wrap: break-word'>\"+doc + \"</div></b><br>\";\r\n            doc = \"<div style='word-wrap: break-word'>\" + doc + \"</div></b><br>\";\r\n            if (ret.documentation !== undefined) {\r\n                for (var x = 0; x < ret.documentation.length; x++) {\r\n                    doc = doc + ret.documentation[x].text + \"<br>\";//+ret.tags[x].text;\r\n                }\r\n            }\r\n            doc = doc;\r\n            if (ret.tags !== undefined) {\r\n                for (var x = 0; x < ret.tags.length; x++) {\r\n                    var text = ret.tags[x].text;\r\n                    if (Array.isArray(text)) {\r\n                        var t = \"\";\r\n                        text.forEach((e) => t += e.text);\r\n                        text = t;\r\n                    }\r\n                    doc = doc + \"<b>\" + ret.tags[x].name + \" </b> \" + (text === undefined ? \"\" : text.replaceAll(\"<\", \"&#60;\").replaceAll(\">\", \"&#62;\") + \"<br>\");\r\n                }\r\n            }\r\n            doc = doc;\r\n            var html = \"<div style='font-size:12px'>\" + doc + \"<div>\";//this._getDescForMember(item.parent, item.name);\r\n            //window.setTimeout(()=>{\r\n            document.getElementById(_id).outerHTML = html;\r\n\r\n            // },10);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * gets a list of all lines with breakpoint\r\n     * @returns {Object.<number, boolean>}\r\n     */\r\n    getBreakpoints(): { [line: number]: boolean } {\r\n        var ret = {};\r\n        var breakpoints = this._editor.session.getBreakpoints(0, 0);\r\n        for (var x = 0; x < breakpoints.length; x++) {\r\n            if (breakpoints[x] !== undefined) {\r\n                ret[x] = true;\r\n            }\r\n            //\tdebugger;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    /**\r\n     * component get focus\r\n     * @param {function} handler\r\n     */\r\n    onfocus(handler) {\r\n        return this._editor.on(\"focus\", handler);\r\n    }\r\n    /**\r\n     * component lost focus\r\n     * @param {function} handler\r\n     */\r\n    onblur(handler) {\r\n        return this._editor.on(\"blur\", handler);\r\n    }\r\n    /**\r\n     * @param - the codetext\r\n     */\r\n    set value(value: string) { //the Code\r\n        var lastcursor = this.cursorPosition;\r\n        this._editor.setValue(value);\r\n        this._editor.clearSelection();\r\n        //force ctrl+z not shows an empty document\r\n        if (this._isInited === undefined) {\r\n            this._isInited = true;\r\n            this._editor.getSession().setUndoManager(new ace.UndoManager());\r\n        }\r\n        if (lastcursor !== undefined) {\r\n            //this.cursorPosition = lastcursor;\r\n        }\r\n        var _this = this;\r\n        //asynchron\r\n        window.setTimeout(() => {\r\n            this._checkCode();\r\n\r\n        }, 10);\r\n    }\r\n    get value(): string {\r\n        return this._editor.getValue();\r\n    }\r\n    /**\r\n     * @param {object} position - the current cursor position {row= ,column=}\r\n     */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._editor.focus();\r\n        this._editor.gotoLine(cursor.row, cursor.column, true);\r\n        var r = cursor.row;\r\n        if (r > 5)\r\n            r = r - 5;\r\n        var _this = this;\r\n        //_this._editor.renderer.scrollToRow(r);\r\n        // _this._editor.renderer.scrollCursorIntoView({ row: cursor.row, column: cursor.column  }, 0.5);\r\n    }\r\n    get cursorPosition(): { row: number, column: number } {\r\n        var ret = this._editor.getCursorPosition();\r\n        ret.row++;\r\n        ret.column++;\r\n        return ret;\r\n    }\r\n    /**\r\n     * returns a single line\r\n     * @param {number} line - the line number\r\n     */\r\n    getLine(line) {\r\n        return this._editor.getSession().getLine(line);\r\n    }\r\n    /**\r\n     * @member {string} - the language of the editor e.g. \"ace/mode/javascript\"\r\n     */\r\n    set mode(mode) {\r\n        //  alert(mode);\r\n        this._mode = mode;\r\n        this._editor.getSession().setMode(\"ace/mode/\" + mode);\r\n    }\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n    destroy() {\r\n        this._editor.destroy();\r\n        super.destroy();\r\n    }\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        this._editor.undo();\r\n    }\r\n    /**\r\n     * resize the editor\r\n     * */\r\n    resize() {\r\n        this._editor.resize();\r\n    }\r\n}\r\n\r\nexport async function test() {\r\n\r\n    var dlg = new AcePanel();\r\n    dlg.value = \"var h;\\r\\nvar k;\\r\\nvar k;\\r\\nvar k;\\r\\nconsole.debug('ddd');\";\r\n    dlg.mode = \"typescript\";\r\n    dlg.height = 100;\r\n\r\n    //dlg._editor.renderer.setShowGutter(false);\t\t\r\n    //dlg._editor.getSession().addGutterDecoration(1,\"error_line\");\r\n    //  dlg._editor.getSession().setBreakpoint(1);\r\n    // dlg._editor.getSession().setBreakpoint(2);\r\n    var h = dlg.getBreakpoints();\r\n    return dlg;\r\n}\r\n\r\n","/// <amd-dependency path=\"ace/ace\" name=\"ace\"/>\r\ndeclare var ace;\r\nimport 'ace/ext/language_tools';\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\n\r\n\r\n\r\n/**\r\n* wrapper for the Ace-Code editor with Typesccript-Code-Completion an other features\r\n* @class jassijs.ui.CodePanel\r\n*/\r\n@$Class(\"jassijs.ui.AcePanelSimple\")\r\nexport class AcePanelSimple extends CodePanel{\r\n    private _mode: string;\r\n    private _editor;\r\n    private _isInited: boolean;\r\n    constructor() {\r\n        super();\r\n        var _this = this;\r\n        var test = '<div class=\"CodePanel\" style=\"height: 500px; width: 500px\"></div>';\r\n        super.init(test);\r\n        this.domWrapper.style.display=\"\";\r\n        this._editor = ace.edit(this._id);\r\n        this.file = \"\";\r\n        this._editor.setOptions({\r\n            enableBasicAutocompletion: true,\r\n            //   maxLines:Infinity,\r\n            useSoftTabs: false,\r\n            autoScrollEditorIntoView: false\r\n            //      enableMultiselect: false,\r\n            //    enableLinking: true\r\n        });\r\n\r\n        // this._editor.setAutoScrollEditorIntoView(false);\r\n        this._editor.session.setOption(\"useWorker\", false)\r\n        this._editor.$blockScrolling = Infinity;\r\n        this._editor.jassi = this;\r\n        this._addEvents();\r\n        //editor.$blockScrolling = Infinity;\r\n    }\r\n    private _addEvents() {\r\n        var _this = this;\r\n   /*     this._editor.on('change', (obj, editor) => {\r\n            var lineHeight = this._editor.renderer.lineHeight;\r\n            var editorDiv = document.getElementById(_this._id);\r\n            editorDiv.style.height = lineHeight * _this._editor.getSession().getDocument().getLength() + \" px\";\r\n            _this._editor.resize();\r\n        });*/\r\n\r\n\r\n    }\r\n    autocomplete(){\r\n        console.log(\"not implemented\");\r\n    }\r\n\tpublic insert(pos:number,text:string){\r\n\t\tthis._editor.session.insert(pos, text);\r\n\t}\r\n\t/**\r\n     * text changes\r\n     * @param {function} handler\r\n     */\r\n    onchange(handler) {\r\n       this._editor.on('change', handler);\r\n    }\r\n  \r\n    \r\n    /**\r\n     * component get focus\r\n     * @param {function} handler\r\n     */\r\n    onfocus(handler) {\r\n        return this._editor.on(\"focus\", handler);\r\n    }\r\n    /**\r\n     * component lost focus\r\n     * @param {function} handler\r\n     */\r\n    onblur(handler) {\r\n        return this._editor.on(\"blur\", handler);\r\n    }\r\n    /**\r\n     * @param - the codetext\r\n     */\r\n    set value(value: string) { //the Code\r\n        var lastcursor = this.cursorPosition;\r\n        this._editor.setValue(value);\r\n        this._editor.clearSelection();\r\n        //force ctrl+z not shows an empty document\r\n        if (this._isInited === undefined) {\r\n            this._isInited = true;\r\n            this._editor.getSession().setUndoManager(new ace.UndoManager());\r\n        }\r\n        if (lastcursor !== undefined) {\r\n            //this.cursorPosition = lastcursor;\r\n        }\r\n        var _this = this;\r\n        \r\n    }\r\n    get value(): string {\r\n        return this._editor.getValue();\r\n    }\r\n    /**\r\n     * @param {object} position - the current cursor position {row= ,column=}\r\n     */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._editor.focus();\r\n        this._editor.gotoLine(cursor.row, cursor.column, true);\r\n        var r = cursor.row;\r\n        if (r > 5)\r\n            r = r -5;\r\n        var _this = this;\r\n        //_this._editor.renderer.scrollToRow(r);\r\n       // _this._editor.renderer.scrollCursorIntoView({ row: cursor.row, column: cursor.column  }, 0.5);\r\n    }\r\n    get cursorPosition(): { row: number, column: number } {\r\n        var ret= this._editor.getCursorPosition();\r\n        ret.row++;\r\n        ret.column++;\r\n        return ret;\r\n    }\r\n    /**\r\n     * returns a single line\r\n     * @param {number} line - the line number\r\n     */\r\n    getLine(line) {\r\n        return this._editor.getSession().getLine(line);\r\n    }\r\n    /**\r\n     * @member {string} - the language of the editor e.g. \"ace/mode/javascript\"\r\n     */\r\n    set mode(mode) {\r\n        //  alert(mode);\r\n        this._mode = mode;\r\n        this._editor.getSession().setMode(\"ace/mode/\" + mode);\r\n    }\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n    destroy() {\r\n        this._editor.destroy();\r\n        super.destroy();\r\n    }\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        this._editor.undo();\r\n    }\r\n    /**\r\n     * resize the editor\r\n     * */\r\n    resize() {\r\n        this._editor.resize();\r\n    }\r\n}\r\nexport async function test() {\r\n\r\n    var dlg = new AcePanelSimple();\r\n    dlg.value = \"var h;\\r\\nvar k;\\r\\nvar k;\\r\\nvar k;\\r\\nconsole.debug('ddd');\";\r\n    dlg.mode = \"typescript\";\r\n    dlg.height=100;\r\n\r\n    //dlg._editor.renderer.setShowGutter(false);\t\t\r\n    //dlg._editor.getSession().addGutterDecoration(1,\"error_line\");\r\n    //  dlg._editor.getSession().setBreakpoint(1);\r\n    // dlg._editor.getSession().setBreakpoint(2);\r\n    var h = dlg.getBreakpoints();\r\n    return dlg;\r\n}\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Debugger } from \"jassijs_editor/Debugger\";\nimport { CodeEditor } from \"jassijs_editor/CodeEditor\";\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\nimport { TSSourceMap } from \"jassijs_editor/util/TSSourceMap\";\nimport { Reloader } from \"jassijs/util/Reloader\";\nimport { Server } from \"jassijs/remote/Server\";\nimport windows from \"jassijs/base/Windows\";\nimport { notify, notifyAddStyle } from \"jassijs/ui/Notify\";\nvar installed = undefined;\n\n\n/**\n * debugging in Chrome\n */\n@$Class(\"jassijs_editor.ChromeDebugger\")\nexport class ChromeDebugger extends Debugger {\n    private static mid = 0;\n    private responseList = {};\n    allBreakPoints: { [file: string]: string[] } = {};\n    constructor() {\n        super();\n        //listen to code changes\n        this.sendChromeMessage({ name: \"getCodeChange\" });\n        window.addEventListener(\"message\", (event) => {\n            // console.log(\"mess\"+JSON.stringify(event));\n            this.onChromeMessage(event);\n        });\n    }\n    public static showHintExtensionNotInstalled() {\n        notifyAddStyle('downloadlink', {\n            html: \"<div><a href='https://uwei.github.io/jassijs/jassichrome/jassijsext.zip'><span data-notify-text/></a></div>\",\n            classes: {\n                base: {\n                    \"color\": \"white\",\n                    \"background-color\": \"lightblue\"\n                }\n            }\n        });\n\n        notify(\"Jassi Debugger Chrome extension not installed. Click here to download.\", { position: \"right bottom\", style: 'downloadlink', autoHideDelay: 7000 });\n\n    }\n    //on receiving messages from chrome extension\n    private onChromeMessage(event) {\n        var _this = this;\n        //console.log(\"Website received message: \" + JSON.stringify(event.data));\n        if (event?.data?.event === \"onResourceContentCommitted\") {\n            _this.saveCode(event.data.url.url, event.data.data);\n        }\n        if (event.data.fromJassiExtension && event.data.connected) {\n            installed = true;\n            //clearTimeout(checkExtensionInstalled);\n            if (jassijs.debugger !== undefined)\n                jassijs.debugger.destroy();\n            jassijs.debugger = this;\n        }\n        if (event.data.fromJassiExtension && event.data.mid) {\n            var test = this.responseList[event.data.mid];\n            if (test) {\n                test(event);\n                delete this.responseList[event.data.mid];\n            }\n        }\n    }\n    //send message to chrome extension\n    private sendChromeMessage(msg, response = undefined) {\n        msg.toJassiExtension = true;\n        msg.mid = ChromeDebugger.mid++;\n        if (response)\n            this.responseList[msg.mid] = response;\n        window.postMessage(msg, \"*\");\n    }\n    urlToFile(url) {\n        var file = url;\n        var wurl = window.location.href.split(\"/index.html\")[0];\n        file = file.replace(wurl + \"/\", \"\");\n        file = file.split(\"?\")[0];\n        return file;\n    }\n    async saveCode(url, code) {\n        //alert(code);\n        var file: string = this.urlToFile(url);\n        var filename: string = file.replace(\"$temp\", \"\");\n        var _this = this;\n        //give the user the option to reload the changes in codeeditor\n        var editor = windows.findComponent(\"jassijs_editor.CodeEditor-\" + filename);\n        if (editor !== undefined) {\n\n            if (editor._codeToReload === undefined) {\n\n                OptionDialog.show(\"The source was updated in Chrome. Do you want to load this modification?\", [\"Yes\", \"No\"], editor, false).then(function (data) {\n                    if (data.button === \"Yes\")\n                        editor.value = editor._codeToReload;\n                    delete editor._codeToReload;\n                });\n            }\n            //remove temporary debugpoints\n            if (file.indexOf(\"$temp\") > -1) {\n                var reg = new RegExp(\"{var debug_editor.*debug_editor\\\\.addVariables\\\\(_variables_\\\\)\\\\;}\");\n                var ret = reg.exec(code);\n                while (ret !== null) {\n                    code = code.substring(0, ret.index) + code.substring(ret.index + ret[0].length);\n                    ret = reg.exec(code);\n                }\n            }\n            editor._codeToReload = code;\n\n        }\n        if (file.indexOf(\"$temp\") > -1) {\n            return;\n        }\n        new Server().saveFile(file, code).then(function () {\n            Reloader.instance.reloadJS(file.replace(\".ts\", \"\"));\n            if (code.indexOf(\"jassijs.register(\") > -1) {\n                jassijs.registry.reload();\n            }\n        });\n    }\n\n    /**\n     * remove all breakpoints for the file\n     * @param file \n     */\n    async removeBreakpointsForFile(file: string) {\n        var bps = this.allBreakPoints[file];\n        if (bps === undefined)\n            return;\n        while (bps.length > 0) {\n            await this.breakpointChanged(file, Number(bps[0].split(\":\")[0]), Number(bps[0].split(\":\")[1]), false);\n        }\n    }\n    /**\n     * sets a breakpoint for debugging\n     * @param {string} file\n     * @param {number} line\n     * @param {number} enable - if true then breakpoint is set if false then removed\n     * @param {string} type - the type default undefined->stop debugging \n     **/\n    async breakpointChanged(file, line, column, enable, type = undefined) {\n        if (!installed)\n            ChromeDebugger.showHintExtensionNotInstalled();\n        if (this.allBreakPoints[file] === undefined) {\n            this.allBreakPoints[file] = [];\n        }\n        if (enable) {\n            this.allBreakPoints[file].push(line + \":\" + column);\n        } else {\n            var pos = this.allBreakPoints[file].indexOf(line + \":\" + column);\n            this.allBreakPoints[file].splice(pos, 1);\n        }\n        var _this = this;\n        var newline = await new TSSourceMap().getLineFromTS(file, line, column);\n        var ret = new Promise(function (resolve) {\n            //http://localhost/jassijs/public_html/demo/TreeTable.js?bust=1551539152470\n            var sfile = newline.jsfilename;//file.replace(\".ts\", \".js\");\n            var root = window.location.origin + window.location.pathname;\n            root = root.substring(0, root.lastIndexOf(\"/\"));\n            var url = root + \"/\" + newline.jsfilename;//+\"?bust=\"+window.jassiversion;\n            if (newline.jsfilename.indexOf(\":\") > -1)\n                url = newline.jsfilename;//load module from js-file\n            _this.sendChromeMessage({\n                name: \"breakpointChanged\",\n                url: url,\n                line: newline.line,\n                enable: enable,\n                condition: \"1===1\",\n                type: type\n            }, (data) => {\n                resolve(data);\n            });\n        })\n        return ret;\n    }\n    /**\n    * add debugpoints in code\n    * @param {[string]} lines - code\n    * @param {Object.<number, boolean>} debugpoints - the debugpoints\n    * @param {jassijs_editor.CodeEditor} codeEditor\n    */\n    addDebugpoints(lines, debugpoints, codeEditor) {\n        //added directly\n\n    }\n    /**\n     * report current variable scope\n     * @param {numer} url - url of the script\n     * @param {[Object.<string,object>]} variables \n     */\n    reportVariables(url, variables, type = undefined) {\n        return;\n        var file = this.urlToFile(url);\n        var _this = this;\n\n        var editor = jassijs.windows.findComponent(\"jassijs_editor.CodeEditor-\" + file);\n        if (editor !== undefined) {\n            editor.addVariables(variables);\n        }\n\n    }\n    destroy() {\n        //\tchrome.runtime.sendMessage(extensionId,{name: \"disconnect\"},undefined);\n        this.destroyed = true;\n    }\n\n}\n\n\n//if connected then this instance is registred to jassijs.debugger;\nnew ChromeDebugger();\nwindow.postMessage({ toJassiExtension: true, name: \"connect\" }, \"*\");\nexport function test(){\n    ChromeDebugger.showHintExtensionNotInstalled();\n}","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\nimport { VariablePanel } from \"jassijs/ui/VariablePanel\";\r\nimport { DockingContainer } from \"jassijs/ui/DockingContainer\";\r\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { Reloader } from \"jassijs/util/Reloader\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\n\r\nimport { AcePanel } from \"jassijs_editor/AcePanel\";\r\nimport typescript, { Typescript } from \"jassijs_editor/util/Typescript\";\r\nimport { MonacoPanel } from \"jassijs_editor/MonacoPanel\";\r\nimport { $SettingsDescriptor, Settings } from \"jassijs/remote/Settings\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\nimport { currentsettings } from \"jassijs/base/CurrentSettings\";\r\nimport windows from \"jassijs/base/Windows\";\r\nimport { notify } from \"jassijs/ui/Notify\";\r\n\r\njassijs.includeCSSFile(\"jassijs_editor.css\");\r\n\r\ndeclare global {\r\n    export interface KnownSettings {\r\n        Development_DefaultEditor: \"ace\" | \"monaco\" | \"aceOnBrowser\";\r\n        Development_MoanacoEditorTheme: \"vs-dark\" | \"vs-light\" | \"hc-black\";\r\n    }\r\n}\r\n@$SettingsDescriptor()\r\n@$Class(\"jassijs_editor.CodeEditorSettingsDescriptor\")\r\nclass CodeEditorSettingsDescriptor {\r\n    @$Property({ chooseFrom: [\"ace\", \"monaco\", \"aceOnBrowser\"], default: \"aceOnBrowser\", chooseFromStrict: true })\r\n    Development_DefaultEditor: string;\r\n    @$Property({ chooseFrom: [\"vs-dark\", \"vs-light\", \"hc-black\"], default: \"vs-light\", chooseFromStrict: true })\r\n    Development_MoanacoEditorTheme: string;\r\n}\r\n\r\n\r\n/**\r\n * Panel for editing sources\r\n * @class jassijs_editor.CodeEditor\r\n */\r\n@$Class(\"jassijs_editor.CodeEditor\")\r\nexport class CodeEditor extends Panel {\r\n    _main: DockingContainer;\r\n    _codeView: Panel;\r\n    _codeToolbar: Panel;\r\n    _codePanel: CodePanel;\r\n    _errors: ErrorPanel;\r\n    _file: string;\r\n    variables: VariablePanel;\r\n    _design: Panel;\r\n    editMode: boolean;\r\n    __evalToCursorReached: boolean;\r\n    autoCompleteButton: Button;\r\n\r\n    private _line: number;\r\n    constructor(properties: { codePanel?: CodePanel, hideToolbar?: boolean } = undefined) {\r\n        super();\r\n        this.maximize();\r\n        this._main = new DockingContainer();\r\n        this._codeView = new Panel();\r\n        this._codeToolbar = new Panel();\r\n        //if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n        let mobil = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n        let sett = currentsettings.gets(Settings.keys.Development_DefaultEditor);\r\n        if (properties?.codePanel) {\r\n            this._codePanel = properties.codePanel;\r\n        } else {\r\n            CodePanel.typescript = typescript;\r\n            if (sett === \"ace\" || (mobil && (sett === \"aceOnBrowser\" || sett === undefined))) {\r\n                this._codePanel = new AcePanel();\r\n\r\n            } else {\r\n                this._codePanel = new MonacoPanel();\r\n                // this._codePanel = new AcePanel(); \r\n\r\n            }\r\n\r\n        }\r\n        this._errors = new ErrorPanel();\r\n        this._file = \"\";\r\n        this.variables = new VariablePanel();\r\n        this._design = new Panel();\r\n        this._init(properties?.hideToolbar);\r\n\r\n        this.editMode = true;\r\n    }\r\n    private _initCodePanel() {\r\n        this._codePanel.width = \"100%\";\r\n        this._codePanel.mode = \"typescript\";\r\n        this._codePanel.height = \"calc(100% - 31px)\";\r\n        let _this = this;\r\n        this._codePanel.onBreakpointChanged(function (line, column, enable, type) {\r\n            jassijs.debugger.breakpointChanged(_this._file, line, column, enable, type);\r\n        });\r\n    }\r\n\r\n    private _init(hideToolbar: boolean) {\r\n        var _this = this;\r\n        this._initCodePanel();\r\n        this._codeView[\"horizontal\"] = true;\r\n\r\n        if (hideToolbar !== true) {\r\n            this._codeView.add(this._codeToolbar);\r\n            this._codeToolbar[\"horizontal\"] = true;\r\n            this._codeToolbar.height = \"30\";\r\n\r\n            var run = new Button();\r\n            run.icon = \"mdi mdi-car-hatchback mdi-18px\";\r\n            run.tooltip = \"Run(F4)\";\r\n            run.onclick(function () {\r\n                _this.evalCode();\r\n            });\r\n            this._codeToolbar.add(run);\r\n\r\n\r\n            var save = new Button();\r\n            save.tooltip = \"Save(Ctrl+S)\";\r\n            save.icon = \"mdi mdi-content-save mdi-18px\";\r\n            save.onclick(function () {\r\n                _this.save();\r\n            });\r\n            this._codeToolbar.add(save);\r\n\r\n\r\n            var undo = new Button();\r\n            undo.icon = \"mdi mdi-undo mdi-18px\";\r\n            undo.tooltip = \"Undo (Strg+Z)\";\r\n            undo.onclick(function () {\r\n                _this._codePanel.undo();\r\n            });\r\n            this._codeToolbar.add(undo);\r\n\r\n            var goto = new Button();\r\n            goto.icon = \"mdi mdi-ray-start-arrow mdi-18px\";\r\n            goto.tooltip = \"Goto\";\r\n            goto.onclick(function () {\r\n                _this.gotoDeclaration();\r\n            });\r\n            this._codeToolbar.add(goto);\r\n            this.autoCompleteButton = new Button();\r\n            this.autoCompleteButton.icon = \"mdi mdi-robot-happy-outline mdi-18px\";\r\n            this.autoCompleteButton.tooltip = \"autocomplete (ctrl space)\";\r\n            this.autoCompleteButton.onclick(function () {\r\n                _this._codePanel.autocomplete();\r\n            });\r\n            this._codeToolbar.add(this.autoCompleteButton);\r\n            jassijs[\"$CodeEditor\"] = CodeEditor;\r\n            // $(goto.dom).attr(\"ondrop\", \"event.preventDefault();jassijs.$CodeEditor.search(event.dataTransfer.getData('text'));\");\r\n            //  $(goto.dom).attr(\"ondragover\", \"event.preventDefault();\");\r\n\r\n        }\r\n        this._codeView.add(this._codePanel);\r\n\r\n        this._main.width = \"calc(100% - 1px)\";\r\n        this._main.height = \"99%\";\r\n        this._main.onresize = function () {\r\n            setTimeout(function () {\r\n                _this._codePanel.resize();\r\n\r\n            }, 1000);\r\n        }\r\n        /*var test = new Button();\r\n        test.icon = \"mdi mdi-bug mdi-18px\";\r\n        test.tooltip = \"Test\";\r\n        test.onclick(function () {\r\n            var kk = _this._main.layout;\r\n        });\r\n        this._codeToolbar.add(test);*/\r\n\r\n\r\n        super.add(this._main);\r\n\r\n        this._installView();\r\n        this.registerKeys();\r\n\r\n        this.variables.createTable();\r\n        //   this._codePanel.setCompleter(this);\r\n        setTimeout(() => {\r\n            //_this.editorProvider=\"ace\";\r\n        }, 100);\r\n    }\r\n    static async addFilesToCompletion(filenames: string[]) {\r\n        // await typescript.initService();\r\n\r\n\r\n    }\r\n\r\n    _installView() {\r\n        this._main.add(this._codeView, \"Code..\", \"code\");\r\n        this._main.add(this.variables, \"Variables\", \"variables\");\r\n        this._main.add(this._design, \"Design\", \"design\");\r\n        this._main.add(this._errors, \"Errors\", \"errors\");\r\n        this._main.layout = '{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\"},\"dimensions\":{\"borderWidth\":5,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":100,\"content\":[{\"type\":\"stack\",\"width\":33.333333333333336,\"height\":80.34682080924856,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":19.653179190751445,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":50,\"width\":50,\"content\":[{\"title\":\"Errors\",\"type\":\"component\",\"componentName\":\"errors\",\"componentState\":{\"title\":\"Errors\",\"name\":\"errors\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"width\":50,\"content\":[{\"title\":\"Variables\",\"type\":\"component\",\"componentName\":\"variables\",\"componentState\":{\"title\":\"Variables\",\"name\":\"variables\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}'\r\n\r\n    }\r\n\r\n    /*set editorProvider(value: \"ace\" | \"monaco\") {\r\n        if (value !== this.editorProvider) {\r\n            //switch to new provider\r\n            let pos = this.cursorPosition;\r\n            let val = this.value;\r\n            let old = this._codePanel;\r\n            \r\n            if (value === \"ace\") {\r\n                this._codePanel = new AcePanel();\r\n            } else {\r\n                this._codePanel = new MonacoPanel();\r\n            }\r\n            this._initCodePanel();\r\n            this._codeView.remove(old);\r\n            this._codeView.add(this._codePanel);\r\n            this.value=val;\r\n            this.cursorPosition=pos;\r\n            old.destroy();\r\n        }\r\n        \r\n    }*/\r\n\r\n\r\n    private async _save(code) {\r\n        await new Server().saveFile(this._file, code);\r\n\r\n\r\n        var f = this._file.replace(\".tsx\", \"\").replace(\".ts\", \"\");\r\n        if (this._file?.startsWith(\"$serverside/\")) {\r\n\r\n        } else {\r\n            if (code.indexOf(\"@$\") > -1) {\r\n                await registry.reload();\r\n            }\r\n            await Reloader.instance.reloadJS(f);\r\n        }\r\n\r\n    }\r\n    /**\r\n    * save the code to server\r\n    */\r\n    save() {\r\n        var code = this._codePanel.value;\r\n        var _this = this;\r\n        this._save(code);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * goto to the declariation on cursor\r\n     */\r\n    async gotoDeclaration() {\r\n        this._codePanel.gotoDeclaration();\r\n    }\r\n\r\n    /**\r\n     * search text in classes at the given text\r\n     * @param {string} text - the text to search\r\n     * @returns {jassijs_editor.CodeEditor} - the editor instance\r\n     */\r\n    static async search(text) {\r\n        //TODO ask typescript service\r\n        /* var found = undefined;\r\n         text = text.replaceAll(\"\\r\\n\", \"\\n\");\r\n         var content = undefined;\r\n         //Fast search\r\n         for (var file in classes.getCache()) {\r\n             var fname = file.replaceAll(\".\", \"/\");\r\n             var cl = classes.getCache()[file];\r\n             var code = cl.toString().replaceAll(\"\\r\\n\", \"\\n\");\r\n             if (code.indexOf(text) > -1) {\r\n                 found = fname + \".js\";\r\n                 content = code;\r\n                 break;\r\n             }\r\n         }\r\n         if (found === undefined) {\r\n             //Deep search (slow)\r\n             var files = registry.getAllFilesForService(\"classes\");\r\n             if (files !== undefined) {\r\n                 for (var x = 0; x < files.length; x++) {\r\n                     let code:string = await new Server().loadFile(files[x]);\r\n                     code = code.replaceAll(\"\\r\\n\", \"\\n\");\r\n                     if (code.indexOf(text) > -1) {\r\n                         found = files[x];\r\n                         content = code;\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n         if (found !== undefined) {\r\n             var line = code.substring(0, content.indexOf(text)).split(\"\\n\").length + 1;\r\n             router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + found + \"&line=\" + line.toString());\r\n             //                return await jassijs_editor.CodeEditor.open(found+\":\"+line.toString()+\":0\");\r\n         }*/\r\n        return undefined;\r\n    }\r\n\r\n\r\n    /**\r\n     * manage shortcuts\r\n     */\r\n    registerKeys() {\r\n        var _this = this;\r\n        this._codePanel.dom.addEventListener(\"keydown\", function (evt) {\r\n            if (evt.keyCode === 115 && evt.shiftKey) {//F4\r\n                // var thiss=this._this._id;\r\n                // var editor = ace.edit(this._this._id);\r\n                _this.evalCode(true);\r\n                evt.preventDefault();\r\n                return false;\r\n            } else if (evt.keyCode === 115) {//F4\r\n                _this.evalCode(false);\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 116) {//F5\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n\r\n            if ((String.fromCharCode(evt.which).toLowerCase() === 's' && evt.ctrlKey)/* && (evt.which == 19)*/) {//Str+s\r\n                _this.save();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n\r\n        });\r\n\r\n\r\n    }\r\n    /**\r\n     * extract lines from code\r\n     * @param {string} code - the code\r\n     * @returns {[string]} - all lines\r\n     */\r\n    _codeToLines(code) {\r\n        var lines = code.split(\"\\n\");\r\n        for (var x = 0; x < lines.length; x++) {\r\n            while (lines[x].startsWith(\"/\") || lines[x].startsWith(\" \")\r\n                || lines[x].startsWith(\"*\") || lines[x].startsWith(\"\\t\")) {\r\n                lines[x] = lines[x].substring(1);\r\n            }\r\n        }\r\n        return lines;\r\n    }\r\n\r\n\r\n    _evalToCursorReached() {\r\n        if (this.__evalToCursorReached !== true)\r\n            this._main.show('code');\r\n        this.__evalToCursorReached = true;\r\n    }\r\n    /**\r\n     * add variables to variabelpanel\r\n     * @param Object<string,object> variables [\"name\"]=value\r\n     */\r\n    addVariables(variables) {\r\n        this.variables.addAll(variables);\r\n    }\r\n    private async fillVariablesAndSetupParser(url: string, root: Component, thecomponent: Component, cache: { [componentid: string]: [{ component: Component, line: number, column: number, pos: number, name: string }] }, parser, codePositions) {\r\n        \r\n        var useThis = false;\r\n        var connectedComponents = [thecomponent];\r\n        if (thecomponent.__dom._thisOther)\r\n            thecomponent.__dom._thisOther.forEach(e => connectedComponents.push(e));\r\n        for (var i = 0; i < connectedComponents.length; i++) {\r\n            var component = connectedComponents[i];\r\n\r\n            if (cache[component._id] === undefined && component[\"__stack\"] !== undefined && component?.dom?.classList && !component.dom.classList.contains(\"designdummy\")) {\r\n                var lines = component[\"__stack\"]?.split(\"\\n\");\r\n                for (var x = 0; x < lines.length; x++) {\r\n                    var sline: string = lines[x];\r\n                    if (sline.indexOf(\"$temp.js\") > 0) {\r\n                        var spl = sline.split(\":\");\r\n                        var entr = {\r\n\r\n                        }\r\n                        if (cache[component._id] === undefined)\r\n                            cache[component._id] = <any>[];\r\n                        var data = {\r\n                            line: Number(spl[spl.length - 2]),\r\n                            column: Number(spl[spl.length - 1].replace(\")\", \"\")),\r\n                            component: component,\r\n                            pos: 0,\r\n                            name: undefined\r\n                        };\r\n                        if (codePositions[data.line + \",\" + data.column] === undefined) {//we collect first position in the scourecode file\r\n                            codePositions[data.line + \",\" + data.column] = data;\r\n                        }\r\n                        cache[component._id].push(data);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this.file.toLocaleLowerCase().endsWith(\".tsx\")) {\r\n            for (var x = 0; x < thecomponent.dom.children.length; x++) {\r\n                var ch = thecomponent.dom.children[x];\r\n                if (ch._this) {\r\n                    this.fillVariablesAndSetupParser(url, root, ch._this, cache, parser, codePositions);\r\n                }\r\n            }\r\n        } else {\r\n            if (thecomponent[\"_components\"]) {\r\n                for (var x = 0; x < thecomponent[\"_components\"].length; x++) {\r\n                    this.fillVariablesAndSetupParser(url, root, thecomponent[\"_components\"][x], cache, parser, codePositions);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (thecomponent === root) {\r\n            //fertig\r\n            var hh = 0;\r\n            var TSSourceMap = await classes.loadClass(\"jassijs_editor.util.TSSourceMap\");\r\n            var values = [];\r\n\r\n            //@ts-ignore\r\n            Object.values(cache).forEach((e) => {\r\n                e.forEach(f => values.push(f));\r\n            });\r\n\r\n            var tmap = await new TSSourceMap().getLinesFromJS(\"js/\" + url.replace(\".tsx\", \".js\").replace(\".ts\", \".js\"), values)\r\n            for (var x = 0; x < tmap.length; x++) {\r\n                var val = values[x];\r\n                val.column = tmap[x].column;\r\n                val.line = tmap[x].line;\r\n                val.pos = this._codePanel.positionToNumber({\r\n                    row: val.line,\r\n                    column: val.column\r\n                });\r\n\r\n            }\r\n            //setupClasscope\r\n            var foundscope;\r\n            for (var xx = 0; xx < cache[root._id].length; xx++) {\r\n                foundscope = parser.getClassScopeFromPosition(this._codePanel.value, cache[root._id][xx].pos);\r\n                if (foundscope)\r\n                    break;\r\n            }\r\n            var scope = [{ classname: root?.constructor?.name, methodname: \"layout\" }];\r\n            if (foundscope)\r\n                scope = [{ classname: root?.constructor?.name, methodname: \"layout\" }, foundscope];\r\n            if (this.file.toLowerCase().endsWith(\".tsx\")) {\r\n                values = Object.values(codePositions);\r\n                parser.parse(this._codePanel.value, undefined, values);\r\n                for (var x = 0; x < values.length; x++) {\r\n                    this.variables.addVariable(values[x].name, values[x].component, false);\r\n                }\r\n                // this.variables.addVariable(sname, val.component, false);\r\n\r\n            } else {\r\n                parser.parse(this._codePanel.value, scope);\r\n                //if layout is rendered and an other variable is assigned to this, then remove ths variable\r\n                if (parser.classes[root?.constructor?.name] && parser.classes[root?.constructor?.name].members[\"layout\"]) {\r\n                    useThis = true;\r\n                    this.variables.addVariable(\"this\", root);\r\n                }\r\n                for (var key in parser.data) {\r\n                    var com = parser.data[key];\r\n                    var _new_ = com[\"_new_\"];\r\n                    if (_new_) {\r\n                        var pos = _new_[0].node.pos;\r\n                        var end = _new_[0].node.end;\r\n                        for (var x = 0; x < values.length; x++) {\r\n                            var val = values[x];\r\n                            if (val.pos >= pos && val.pos <= end) {\r\n                                val.name = key;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                var ignoreVar = [];\r\n                for (var x = 0; x < values.length; x++) {\r\n                    var val = values[x];\r\n                    var sname = val.name;\r\n\r\n                    var found = false;\r\n                    this.variables.value.forEach((it) => {\r\n                        if (it.name === sname)\r\n                            found = true;\r\n                    });\r\n                    //sometimes does a constructor create other Components so we need the first one\r\n                    if (found)\r\n                        continue;\r\n\r\n                    if (sname && this.variables.getObjectFromVariable(sname) === undefined) {\r\n                        if (ignoreVar.indexOf(sname) === -1) {\r\n                            if (useThis && root === val.component)\r\n                                ignoreVar.push(sname);//do nothing\r\n                            else\r\n                                this.variables.addVariable(sname, val.component, false);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            this.variables.updateCache();\r\n            this.variables.update();\r\n            // parser.parse(,)\r\n        }\r\n        return parser;\r\n\r\n\r\n    }\r\n    /**\r\n     * load the right editor for the returned value\r\n     */\r\n    private async _processEvalResult(ret, filename) {\r\n        //_this.variables.addVariable(\"me\", ret.me);\r\n        var _this = this;\r\n        _this.variables.updateCache();\r\n        if (ret instanceof Component && ret[\"reporttype\"] === undefined) {\r\n            //require([\"jassijs_editor/ComponentDesigner\", \"jassijs_editor/util/Parser\"], function () {\r\n            //    var ComponentDesigner = classes.getClass(\"jassijs_editor.ComponentDesigner\");\r\n            //   var Parser = classes.getClass(\"jassijs_editor.base.Parser\");\r\n\r\n            var ComponentDesigner;\r\n            if (this.file.toLowerCase().endsWith(\".tsx\"))\r\n                ComponentDesigner = await classes.loadClass(\"jassijs_editor.HtmlDesigner\");\r\n            else\r\n                ComponentDesigner = await classes.loadClass(\"jassijs_editor.ComponentDesigner\");\r\n\r\n            var Parser = await classes.loadClass(\"jassijs_editor.util.Parser\");\r\n            var parser = new Parser();\r\n            // await _this.fillVariablesAndSetupParser(filename, ret, ret, {},parser);\r\n            if (!((_this._design) instanceof ComponentDesigner)) {\r\n                _this._design = new ComponentDesigner();\r\n\r\n                _this._main.add(_this._design, \"Design\", \"design\");\r\n                _this._design[\"codeEditor\"] = _this;\r\n            }\r\n            //@ts-ignore\r\n            _this._design.connectParser(parser);\r\n           \r\n            var codePositions = {};\r\n            await _this.fillVariablesAndSetupParser(filename, ret, ret, {}, parser, codePositions);\r\n             (<any>_this._design).designedComponent = ret;\r\n            (<any>_this._design).editDialog(true);\r\n            //});\r\n        } else if (ret[\"reportdesign\"] !== undefined) {\r\n            var Parser = await classes.loadClass(\"jassijs_editor.util.Parser\");\r\n            var ReportDesigner = await classes.loadClass(\"jassijs_report.designer.ReportDesigner\");\r\n            var ReportDesign = await classes.loadClass(\"jassijs_report.ReportDesign\");\r\n            if (!((_this._design) instanceof ReportDesigner)) {\r\n                _this._design = new ReportDesigner();\r\n                _this._main.add(_this._design, \"Design\", \"design\");\r\n                _this._design[\"codeEditor\"] = _this;\r\n                parser = new Parser();\r\n                parser.classScope = undefined;// [{ classname: _this._design?.constructor?.name, methodname: \"layout\" }, { classname: undefined, methodname: \"test\" }];\r\n                //@ts-ignore\r\n                _this._design.connectParser(parser);\r\n\r\n            }\r\n            var rep = new ReportDesign();\r\n            rep.design = Object.assign({}, ret.reportdesign);\r\n            if (ret.value && rep.design.data === undefined)\r\n                rep.design.data = ret.value;\r\n            else if (ret.data && rep.design.data === undefined)\r\n                rep.design.data = ret.data;\r\n\r\n            if (ret.parameter && rep.design.parameter === undefined)\r\n                rep.design.parameter = ret.parameter;\r\n            _this._design[\"designedComponent\"] = rep;\r\n\r\n            /*   require([\"jassijs_report/ReportDesign\"], function() {\r\n                   var rd = classes.getClass(\"jassijs_report.ReportDesign\");\r\n                   let rep = rd[\"fromJSON\"](ret);\r\n                   \r\n                   _this._design[\"designedComponent\"] = rep;\r\n               });*/\r\n\r\n\r\n        }/*else if (ret[\"reporttype\"] !== undefined) {\r\n                    require([\"jassijs_report/designer/ReportDesigner\"], function () {\r\n                        var ReportDesigner = classes.getClass(\"jassijs_report.designer.ReportDesigner\");\r\n                        if (!((_this._design) instanceof ReportDesigner)) {\r\n                            _this._design = new ReportDesigner();\r\n                            _this._main.add(_this._design, \"Design\", \"design\");\r\n                            _this._design[\"codeEditor\"] = _this;\r\n                        }\r\n                        _this._design[\"designedComponent\"] = ret;\r\n\r\n             \r\n                    });\r\n                }*/\r\n    }\r\n    private async _evalCodeOnLoad(data) {\r\n        this.variables.clear();\r\n        var code = this._codePanel.value;\r\n        var lines = code.split(\"\\n\");\r\n        var _this = this;\r\n        var breakpoints = _this._codePanel.getBreakpoints();\r\n        var filename = \"\";\r\n        if (_this._file.endsWith(\".tsx\"))\r\n            filename = _this._file.replace(\".tsx\", \"$temp.tsx\");\r\n        else\r\n            filename = _this._file.replace(\".ts\", \"$temp.ts\");\r\n        await jassijs.debugger.removeBreakpointsForFile(filename);\r\n        for (var line in breakpoints) {\r\n            if (breakpoints[line]) {\r\n                var row = lines[line].length;\r\n                await jassijs.debugger.breakpointChanged(filename, line, row, true, \"debugpoint\");\r\n            }\r\n        }\r\n\r\n        var islocaldb = classes.getClass(\"jassijs_localserver.DBManager\");\r\n        if (islocaldb && code.indexOf(\"@$DBObject(\") > -1) {\r\n\r\n            (<any>islocaldb).destroyConnection();\r\n        }\r\n        //@ts-ignore\r\n        if (data.test !== undefined || window.reportdesign) {\r\n            //capure created Components\r\n            function hook(name, component: Component, react) {\r\n                if (name === \"create\") {\r\n                    var ex = new Error();\r\n                    if (ex?.stack?.indexOf(\"$temp.js\") != -1) {\r\n                        if (react === \"React.createElement\") {\r\n                            if (component?.props === undefined)\r\n                                component.props = {};\r\n                            component.props[\"__stack\"] = ex.stack;\r\n                        } else {\r\n                            //\r\n                            if (component?.props?.[\"__stack\"]) {\r\n                                component[\"__stack\"] = component.props[\"__stack\"];\r\n                                delete component.props[\"__stack\"];\r\n                            } else\r\n                                component[\"__stack\"] = ex.stack;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            try {\r\n                Component.onComponentCreated(hook);\r\n                var ret;\r\n                if (data.test) {\r\n                    ret = await data.test(new Test());\r\n                } else {\r\n                    //@ts-ignore\r\n                    if (window.reportdesign) {\r\n                        ret = {\r\n                            //@ts-ignore\r\n                            reportdesign: window.reportdesign\r\n                        }\r\n                    } else {\r\n                        Component.offComponentCreated(hook);\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                // Promise.resolve(ret).then(async function(ret) {\r\n                if (ret !== undefined) {\r\n\r\n                    await this._processEvalResult(ret, filename);\r\n                    // Component.offComponentCreated(hook);\r\n\r\n                }\r\n\r\n                //  });\r\n            } finally {\r\n                Component.offComponentCreated(hook);\r\n            }\r\n        }\r\n\r\n    }\r\n    private async saveTempFile(file: string, code: string) {\r\n\r\n        //@ts-ignore \r\n        var tss = await import(\"jassijs_editor/util/Typescript\");\r\n        //@ts-ignore \r\n        var settings = Object.assign({}, Typescript.compilerSettings);\r\n        settings[\"inlineSourceMap\"] = true;\r\n        settings[\"inlineSources\"] = true;\r\n        var files;\r\n        if (this.file.endsWith(\".tsx\"))\r\n            files = await tss.default.transpile(file + \".tsx\", code, settings);\r\n        else\r\n            files = await tss.default.transpile(file + \".ts\", code, settings);\r\n\r\n        var codets = -1;\r\n        var codemap = -1;\r\n        var codejs = -1;\r\n        for (var x = 0; x < files.fileNames.length; x++) {\r\n            if (files.fileNames[x].endsWith(\".ts\") || files.fileNames[x].endsWith(\".tsx\")) {\r\n                codets = x;\r\n            }\r\n            if (files.fileNames[x].endsWith(\".js.map\")) {\r\n                codemap = x;\r\n            }\r\n            if (files.fileNames[x].endsWith(\".js\")) {\r\n                codejs = x;\r\n            }\r\n        }\r\n        /*  var all = JSON.parse(files.contents[codemap]);\r\n          all[\"sourcesContent\"] = [files.contents[codets]];\r\n          files.contents[codemap] = JSON.stringify(all);\r\n          var b64 = btoa(unescape(encodeURIComponent(files.contents[codemap])));\r\n          var pos = files.contents[codejs].indexOf(\"//\" + \"# sourceMappingURL=\");\r\n          files.contents[codejs] = files.contents[codejs].substring(0, pos);\r\n          files.contents[codejs] = files.contents[codejs] + \"//\" + \"# sourceMappingURL=data:application/json;charset=utf8;base64,\" + b64;\r\n          */\r\n        const channel = new MessageChannel();\r\n\r\n        var ret = new Promise((res, rej) => {\r\n            channel.port1.onmessage = (evt) => {\r\n                channel.port1.close();\r\n                res(evt);\r\n            };\r\n        });\r\n        let abspath = location.origin + location.pathname;\r\n        abspath = abspath.substring(0, abspath.lastIndexOf(\"/\") + 1);\r\n        navigator.serviceWorker.controller.postMessage({\r\n            type: 'SAVE_FILE',\r\n            filename: abspath + files.fileNames[codejs],\r\n            code: files.contents[codejs]\r\n        }, [channel.port2]);\r\n        var test = await ret;\r\n    }\r\n    async evalServerside() {\r\n        var code = this._codePanel.value;\r\n        var testcode = await new Server().loadFile(this.file);\r\n        var hasModified = testcode !== code;\r\n        if (hasModified) {\r\n            notify(\"please save code before test\", \"error\");\r\n            return undefined;\r\n        }\r\n        var res = await new Server().testServersideFile(this._file.substring(0, this._file.length - 3));\r\n        return res;\r\n    }\r\n    /**\r\n     * execute the current code\r\n     * @param {boolean} toCursor -  if true the variables were inspected on cursor position, \r\n     *                              if false at the end of the layout() function or at the end of the code\r\n     */\r\n    async evalCode(toCursor = undefined) {\r\n        this.__evalToCursorReached = false;\r\n        this.variables.clear();\r\n\r\n        var code = this._codePanel.value;\r\n        var lines = code.split(\"\\n\");\r\n\r\n        var _this = this;\r\n        if (this.file?.startsWith(\"$serverside/\")) {\r\n\r\n            var res = await this.evalServerside();\r\n            await this._processEvalResult(res, undefined);\r\n\r\n            return;\r\n        }\r\n\r\n        window[\"test\"] = undefined;\r\n\r\n        code = \"\";\r\n        for (var x = 0; x < lines.length; x++) {\r\n            code = code + lines[x] + \"\\n\";\r\n        }\r\n        code = code;\r\n        var _this = this;\r\n        var tmp = new Date().getTime();\r\n        var jsfile = _this._file.replace(\".tsx\", \"\").replace(\".ts\", \"\") + \"$temp\";\r\n        //await new Server().saveFile(\"tmp/\" + _this._file, code);\r\n        //only local - no TS File in Debugger\r\n        await this.saveTempFile(jsfile, code);\r\n        //@ts-ignore\r\n        window.reportdesign = undefined;\r\n        try { requirejs.undef(\"js/\" + jsfile + \".js\"); } catch (ex) { };\r\n        var onload = function (data) {\r\n\r\n            _this._evalCodeOnLoad(data).catch((err) => {\r\n                throw err;\r\n            });\r\n\r\n        }\r\n        //await new Promise(resolve => setTimeout(resolve, 1000));\r\n        //if this is the first save for the tmpfile then it fails - I dont know why, give it a second try\r\n        //@ts-ignore\r\n        require([\"js/\" + jsfile + \".js\"], onload,/*error*/function (err) {\r\n            //console.log(\"reload\");\r\n            window.setTimeout(function () {\r\n                //@ts-ignore\r\n                require([\"js/\" + jsfile + \".js\"], onload, function (err) {\r\n                    throw err;\r\n                });\r\n            }, 20);\r\n        });\r\n\r\n\r\n\r\n    }\r\n    /**\r\n     * switch view\r\n     * @member {string} view - \"design\" or \"code\"\r\n     */\r\n    set viewmode(view) {\r\n        this._main.show(view);\r\n    }\r\n\r\n    /**\r\n    * get all known instances for type\r\n    * @param {type} type - the type we are interested\r\n    * @returns {[string]}\r\n    */\r\n    getVariablesForType(type) {\r\n        return this.variables.getVariablesForType(type);\r\n    }\r\n    /**\r\n     * gets the name of the variabel that holds the object\r\n     * @param {object} ob - the\r\n     */\r\n    getVariableFromObject(ob) {\r\n        return this.variables.getVariableFromObject(ob);\r\n    }\r\n\r\n    /**\r\n     * gets the name object of the given variabel\r\n     * @param {string} ob - the name of the variable\r\n     */\r\n    getObjectFromVariable(varname) {\r\n        return this.variables.getObjectFromVariable(varname);\r\n    }\r\n\r\n    /**\r\n      * renames a variable in design\r\n      * @param {string} oldName\r\n      * @param {string} newName\r\n      */\r\n    renameVariable(oldName, newName) {\r\n        this.variables.renameVariable(oldName, newName);\r\n        if (this._design !== undefined && this._design[\"_componentExplorer\"] !== undefined)\r\n            this._design[\"_componentExplorer\"].update();\r\n    }\r\n\r\n    /**\r\n     * gets the name object of the given variabel\r\n     * @param {string} ob - the name of the variable\r\n     */\r\n    removeVariableInDesign(varname) {\r\n        return this.variables.removeVariable(varname);\r\n    }\r\n\r\n    /**\r\n     * @member {string} - the code\r\n     */\r\n    set value(value) {\r\n        this._codePanel.file = this._file;\r\n        this._codePanel.value = value;\r\n\r\n    }\r\n    get value() {\r\n        return this._codePanel.value;\r\n    }\r\n    setCursorPorition(position: number) {\r\n        this.cursorPosition = this._codePanel.numberToPosition(position);\r\n    }\r\n    /**\r\n    * @param {object} position - the current cursor position {row= ,column=}\r\n    */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._codePanel.cursorPosition = cursor;\r\n    }\r\n    get cursorPosition() {\r\n        return this._codePanel.cursorPosition;\r\n    }\r\n\r\n    /**\r\n     * @member {string} - title of the component\r\n     */\r\n    get title() {\r\n        var s: any = this.file.split(\"/\");\r\n        s = s[s.length - 1];\r\n        if (this.file?.startsWith(\"$serverside\"))\r\n            s = s + \"(s)\";\r\n        return s;\r\n    }\r\n    /**\r\n    * @member {string} - the url to edit\r\n    */\r\n    set file(value: string) { //the Code\r\n        this._file = value;\r\n        this.openFile(value);\r\n\r\n    }\r\n    @$Property({ isUrlTag: true, id: true })\r\n    get file(): string {\r\n        return this._file;\r\n    }\r\n    /**\r\n    * goes to the line number \r\n    * @param {object} value - the line number \r\n    */\r\n    set line(value: number) {\r\n        this._line = Number(value);\r\n        this.cursorPosition = { row: this._line, column: 1 };\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.cursorPosition = { row: _this._line, column: 1 };\r\n        }, 300);\r\n        /*setTimeout(function() {\r\n            _this.cursorPosition = { row: value, column: 0 };\r\n        }, 1000);//start takes one second....*/\r\n    }\r\n    @$Property({ isUrlTag: true })\r\n    get line(): number {\r\n        return this.cursorPosition.row;\r\n    }\r\n    /**\r\n     * open the file\r\n     */\r\n    async openFile(_file) {\r\n        this._file = _file;\r\n        var content = await new Server().loadFile(this._file);\r\n        this._codePanel.file = _file;\r\n        this._codePanel.value = content;\r\n        this._codePanel.width = \"100%\";\r\n        //  this._codePanel.height=\"100%\";\r\n        this._main.update();\r\n        if (this._line)\r\n            this.line = this._line;\r\n\r\n    }\r\n    destroy() {\r\n        this._codeView.destroy();\r\n        this._codeToolbar.destroy();\r\n        this._codePanel.destroy();\r\n        this._errors.destroy();\r\n        this.variables.destroy();\r\n        this._design.destroy();\r\n        //this._main.destroy();\r\n        super.destroy();\r\n    }\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        this._codePanel.undo();\r\n    }\r\n\r\n}\r\n\r\nexport async function test() {\r\n    var editor = new CodeEditor();\r\n    //var url = \"jassijs_editor/AcePanel.ts\";\r\n    editor.height = \"100%\";\r\n    editor.width = \"100%\";\r\n    //await editor.openFile(url);\r\n    editor.file = \"$serverside/jassijs_report/TestServerreport.ts\";//\"tests/TestDialog.ts\";\r\n    setTimeout(() => {\r\n        editor.evalCode();\r\n\r\n    }, 500);\r\n    windows.add(editor, editor.title);\r\n    // debugger;\r\n    // var k=await new Server().testServersideFile(\"$serverside/jassijs_report/TestServerreport\");\r\n};\r\n//jassijs.myRequire(modul.css[\"jassijs_editor.css\"]);","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\r\nimport \"jassijs/ui/Image\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { InvisibleComponent } from \"jassijs/ui/InvisibleComponent\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Component, $UIComponent, UIComponentProperties } from \"jassijs/ui/Component\";\r\n//import {CodeEditor} from \"jassijs_editor/CodeEditor\";//could be removed\r\n\r\n\r\n@$Class(\"jassijs_editor.CodeEditorInvisibleComponents\")\r\nexport class CodeEditorInvisibleComponents extends Panel {\r\n\r\n    codeeditor;\r\n    constructor(codeeditor) {\r\n        super();\r\n        super.init('<span class=\"Panel\" style=\"border:1px solid #ccc;\"/>');\r\n        /** \r\n       * @member {jassijs_editor.CodeEditor} - the parent CodeEditor\r\n       * */\r\n\r\n        this.codeeditor = codeeditor;\r\n        this.layout();\r\n    }\r\n    layout() {\r\n        this.update();\r\n    }\r\n    update() {\r\n\r\n        var _this = this;\r\n        while (_this._components.length > 0) {\r\n            _this.remove(_this._components[0]);\r\n        }\r\n        var elements = _this.codeeditor.getVariablesForType(\"$isInivisibleComponent\");//InvisibleComponent);\r\n        for (var x = 0; x < elements.length; x++) {\r\n            var img = new Button();\r\n            var name = elements[x];\r\n            img.tooltip = name;\r\n            //                    img.height=24;\r\n            //  img.width=24;\r\n            img.text = name.startsWith(\"me.\") ? name.substring(3) : name;\r\n            var ob = _this.codeeditor.getObjectFromVariable(name);\r\n            img.dom[\"ob\"] = ob;\r\n            img.onclick(function (evt) {\r\n                _this.codeeditor._design._propertyEditor.value = evt.currentTarget.ob;\r\n                var ac = evt.currentTarget.ob.extensionCalled;\r\n                if (ac !== undefined) {\r\n                    evt.currentTarget.ob.extensionCalled({ componentDesignerInvisibleComponentClicked: { codeEditor: _this.codeeditor, designButton: img } });\r\n                }\r\n            });\r\n            var cn = classes.getClassName(ob);\r\n            //search icon\r\n            registry.getJSONData(\"$UIComponent\").then((regdata) => {\r\n                regdata.forEach(function (val) {\r\n                    if (val.classname === cn) {\r\n                        img.icon = val.params[0].icon;\r\n                    }\r\n                });\r\n            });\r\n\r\n            _this.add(img);\r\n        }\r\n        /* if(entries===undefined)\r\n              return;\r\n          for(var key in entries){\r\n              var entry=entries[key].data;\r\n              var img=new jassijs.ui.Image();\r\n              var name=entry[1].split(\"/\");\r\n              name=name[name.length-1];\r\n              img.tooltip=name;\r\n              img.src=entry[2];\r\n              img.height=24;\r\n              img.width=24;\r\n              img.createFromType=entry[0];\r\n              _this._makeDraggable(img);\r\n              _this.add(img);\r\n          }*/\r\n\r\n    }\r\n    /**\r\n     * install the draggable\r\n     * @param {jassijs.ui.Component} component\r\n     */\r\n    _makeDraggable(component) {\r\n        var helper = new (classes.getClass(component.createFromType))();\r\n        document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n        $(component.dom).draggable({\r\n            cancel: \"false\", revert: \"invalid\",\r\n            appendTo: \"body\",\r\n            helper: function (event) {\r\n                return $(helper.dom);\r\n            }\r\n            /*   drag:function(event,ui){\r\n                   var mouse=event.target._this.dom.style.cursor;\r\n                   if(mouse===\"e-resize\"||mouse===\"s-resize\"||mouse===\"se-resize\")\r\n                       return false;\r\n                   else\r\n                       return true;\r\n               }*/\r\n\r\n        });\r\n    }\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\n//import typescript from \"jassijs_editor/util/Typescript\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { notify } from \"jassijs/ui/Notify\";\r\n\r\n@$Class(\"jassijs_editor.CodePanel\")\r\nexport abstract class CodePanel extends Panel {\r\n    static typescript:any;\r\n    file: string;\r\n\r\n\r\n    resize() {\r\n\r\n    }\r\n    undo() {\r\n\r\n    }\r\n    abstract set mode(mode: string);\r\n    abstract get mode(): string;\r\n    abstract set value(value: string);\r\n    abstract get value(): string;\r\n    abstract autocomplete();\r\n    /**\r\n     * breakpoint changed\r\n     * @param {function} handler - function(line,enabled,type)\r\n     */\r\n    onBreakpointChanged(handler) {\r\n        this.addEvent(\"breakpointChanged\", handler);\r\n    }\r\n\r\n    /**\r\n    * gets a list of all lines with breakpoint\r\n    * @returns {Object.<number, boolean>}\r\n    */\r\n    getBreakpoints(): { [line: number]: boolean } {\r\n        return undefined;\r\n    }\r\n    public numberToPosition(pos: number): { row: number, column: number } {\r\n\t\treturn CodePanel.numberToPosition(this.file,pos,this.value);\r\n        /*var ret = typescript.getLineAndCharacterOfPosition(this.file, pos);\r\n        return {\r\n            row: ret.line,\r\n            column: ret.character\r\n        };*/\r\n    }\r\n    public static numberToPosition(file:string,pos: number,code:string): { row: number, column: number } {\r\n\t\tif(code!==undefined)\r\n        CodePanel.typescript.setCode(file,code);\r\n        var ret = CodePanel.typescript.getLineAndCharacterOfPosition(file, pos);\r\n        return {\r\n            row: ret.line,\r\n            column: ret.character\r\n        };\r\n    }\r\n    public positionToNumber(pos: { row: number, column: number }): number {\r\n    \tCodePanel.typescript.setCode(this.file,this.value);\r\n        var ret = CodePanel.typescript.getPositionOfLineAndCharacter(this.file, {\r\n            line: pos.row,\r\n            character: pos.column\r\n        });\r\n        return ret;\r\n    }\r\n    public static async getAutoimport(lpos:number,file:string,code:string):Promise<{text:string,pos:{ row: number, column: number }}> {\r\n       \r\n        //var lpos = this.positionToNumber(this.cursorPosition);\r\n        //@ts-ignore\r\n        var change=await CodePanel.typescript.getCodeFixesAtPosition(file, code, lpos, lpos, [2304]);\r\n            if (change === undefined)\r\n                return;\r\n            for (let x = 0;x < change.length;x++) {\r\n                if (change[x].changes[0].textChanges[0].newText === \"const \") {\r\n                    change.splice(x, 1);\r\n                }\r\n            }\r\n            if (change.length > 0) {\r\n                var entr = change[0].changes[0].textChanges[0];\r\n                let insertPos = CodePanel.numberToPosition(file,entr.span.start,code);\r\n                insertPos.row = insertPos.row - 1;\r\n                //Bug duplicate insert {Kunde,Kunde}\r\n                if (entr.newText.indexOf(\",\")>-1) {\r\n                    var thisline = code.substring(1 + code.lastIndexOf(\"{\", entr.span.start), code.indexOf(\"}\", entr.span.start));\r\n                    thisline=\"*\"+thisline.replaceAll(\" \",\"*\").replaceAll(\"}\",\"*\").replaceAll(\",\",\"*\")+\"*\";\r\n                    \r\n                    var cl = entr.newText.split(\",\")[0];\r\n                    if (thisline.indexOf(\"*\"+cl+\"*\")>0) {\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                //relative to absolute\r\n                var words = entr.newText.split(\"\\\"\");\r\n                var oldPath: string = words[1];\r\n\r\n                var path = file.split(\"/\");\r\n                path.splice(-1, 1);//remove last\r\n                if (oldPath !== undefined && oldPath.startsWith(\".\")) {//convert relative to absolute\r\n                    if (oldPath.startsWith(\"./\"))\r\n                        oldPath = oldPath.substring(2);\r\n                    while (oldPath.startsWith(\"../\")) {\r\n                        oldPath = oldPath.substring(3);\r\n                        path.splice(-1, 1);\r\n                    }\r\n                    var newPath = \"\";\r\n                    for (let x = 0;x < path.length;x++) {\r\n                        newPath = newPath + path[x] + \"/\";\r\n                    }\r\n                    newPath = newPath + oldPath;\r\n                    return {\r\n                    \ttext:words[0] + \"\\\"\" + newPath + \"\\\"\" + words[2],\r\n                    \tpos:insertPos\r\n                    }\r\n                  //  this.insert(this.positionToNumber(insertPos), words[0] + \"\\\"\" + newPath + \"\\\"\" + words[2]);\r\n                } else {\r\n                \t return {\r\n                    \ttext:entr.newText,\r\n                    \tpos:insertPos\r\n                    }\r\n                    //this.insert(this.positionToNumber(insertPos), entr.newText);\r\n                }\r\n               // typescript.setCode(this.file, this.value);\r\n            }\r\n            return undefined;\r\n\r\n    }\r\n\r\n    /**\r\n   * @param {object} position - the current cursor position {row= ,column=}\r\n   */\r\n    abstract set cursorPosition(cursor: { row: number, column: number });\r\n\r\n    abstract get cursorPosition(): { row: number, column: number };\r\n    /**\r\n         * goes to the declaration under cursor\r\n         */\r\n    gotoDeclaration() {\r\n        var pos = this.positionToNumber(this.cursorPosition)\r\n        var test = this.numberToPosition(pos);\r\n        if (!CodePanel.typescript.isInited(this.file)) {\r\n            notify(\"please try later ... loading in progress\", \"info\", { position: \"bottom right\" });\r\n            return;\r\n        }\r\n        CodePanel.typescript.getDefinitionAtPosition(this.file, pos).then((def) => {\r\n            if (def !== undefined && def.length > 0) {\r\n                var entr = def[0];\r\n                var file = entr.fileName?.replace(\"file:///\", \"\");\r\n                var p = entr.textSpan.start;\r\n                var newPos = CodePanel.numberToPosition(file,p,undefined);\r\n                var line = newPos.row;\r\n                router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + file + \"&line=\" + line);\r\n            }\r\n\r\n        });\r\n    }\r\n}\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { VariablePanel } from \"jassijs/ui/VariablePanel\";\r\nimport { PropertyEditor } from \"jassijs/ui/PropertyEditor\";\r\nimport { ComponentExplorer } from \"jassijs_editor/ComponentExplorer\";\r\nimport { ComponentPalette } from \"jassijs_editor/ComponentPalette\";\r\nimport { Resizer } from \"jassijs_editor/util/Resizer\";\r\n//import DragAndDropper from \"jassijs/ui/helper/DragAndDropper\";\r\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\r\nimport { CodeEditorInvisibleComponents } from \"jassijs_editor/CodeEditorInvisibleComponents\";\r\nimport { Repeater } from \"jassijs/ui/Repeater\";\r\nimport \"jassijs/ui/Databinder\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport { DragAndDropper } from \"jassijs_editor/util/DragAndDropper\";\r\nimport { ComponentDescriptor } from \"jassijs/ui/ComponentDescriptor\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Container } from \"jassijs/ui/Container\";\r\nimport { BoxPanel } from \"jassijs/ui/BoxPanel\";\r\n\r\n//import { Parser } from \"./util/Parser\";\r\n\r\n\r\n\r\nclass ClipboardData {\r\n    varNamesToCopy: string[] = [];\r\n    children: { [name: string]: string[] } = {};\r\n    properties: { [name: string]: { [propname: string]: any[] } } = {};\r\n    types: { [name: string]: string } = {};\r\n    allChilds: string[] = [];\r\n}\r\n\r\n\r\n@$Class(\"jassijs_editor.ComponentDesigner\")\r\nexport class ComponentDesigner extends Panel {\r\n    _codeEditor;\r\n    editMode: boolean;\r\n    variables: VariablePanel;\r\n    _propertyEditor: PropertyEditor;\r\n    _errors: ErrorPanel;\r\n    _componentPalette: ComponentPalette;\r\n    _componentExplorer: ComponentExplorer; dummy\r\n    _invisibleComponents: CodeEditorInvisibleComponents;\r\n    _designToolbar: Panel;\r\n    _designPlaceholder: Panel;\r\n    _resizer: Resizer;\r\n    _draganddropper: DragAndDropper;\r\n    saveButton: Button;\r\n    runButton: Button;\r\n    lassoButton: Button;\r\n    undoButton: Button;\r\n    editButton: Button;\r\n    cutButton: Button;\r\n    inlineEditorPanel: Panel;\r\n    copyButton: Button;\r\n    pasteButton: Button;\r\n    dummyHolder: HTMLSpanElement;\r\n    private _lastComponent;\r\n    constructor() {\r\n        super();\r\n        this._codeEditor = undefined;\r\n        this._initDesign();\r\n        this.editMode = true;\r\n\r\n    }\r\n\r\n    connectParser(parser) {\r\n        this._propertyEditor.parser = parser;\r\n    }\r\n    set codeEditor(value) {\r\n        var _this = this;\r\n        this._codeEditor = value;\r\n        this.variables = this._codeEditor.variables;\r\n        this._propertyEditor = new PropertyEditor(value, undefined);\r\n        //   this._propertyEditor=new PropertyEditor(undefined);\r\n        this._errors = this._codeEditor._errors;\r\n        this._componentPalette = new ComponentPalette();\r\n        this._componentPalette.service = \"$UIComponent\";\r\n        this._componentExplorer = new ComponentExplorer(value, this._propertyEditor);\r\n        this._invisibleComponents = new CodeEditorInvisibleComponents(value);\r\n        this.add(this._invisibleComponents);\r\n        this._initComponentExplorer();\r\n        this._installView();\r\n        this._codeEditor._codePanel.onblur(function (evt) {\r\n            _this._propertyEditor.updateParser();\r\n        });\r\n        this.registerKeys();\r\n\r\n    }\r\n    get codeEditor() {\r\n        return this._codeEditor;\r\n    }\r\n    _initDesign() {\r\n        var _this = this;\r\n        this._designToolbar = new Panel();\r\n        this._designPlaceholder = new Panel();\r\n        this.editButton = new Button();\r\n        this.editButton.icon = \"mdi mdi-run mdi-18px\";\r\n        this.editButton.tooltip = \"Test Dialog\";\r\n        this.editButton.onclick(function () {\r\n            _this.editDialog(!_this.editMode);\r\n\r\n        });\r\n\r\n        this._designToolbar.add(this.editButton);\r\n\r\n        this.saveButton = new Button();\r\n        this.saveButton.tooltip = \"Save(Ctrl+S)\";\r\n        this.saveButton.icon = \"mdi mdi-content-save mdi-18px\";\r\n        this.saveButton.onclick(function () {\r\n            _this.save();\r\n        });\r\n        this._designToolbar.add(this.saveButton);\r\n\r\n        /*  this.runButton = new Button();\r\n          this.runButton.icon = \"mdi mdi-car-hatchback mdi-18px\";\r\n          this.runButton.tooltip = \"Run(F4)\";\r\n          this.runButton.onclick(function () {\r\n              _this.evalCode();\r\n          });\r\n          this._designToolbar.add(this.runButton);*/\r\n\r\n        this.undoButton = new Button();\r\n        this.undoButton.icon = \"mdi mdi-undo mdi-18px\";\r\n        this.undoButton.tooltip = \"Undo (Strg+Z)\";\r\n        this.undoButton.onclick(function () {\r\n            _this.undo();\r\n        });\r\n        this._designToolbar.add(this.undoButton);\r\n\r\n        /*  var test=new Button();\r\n         test.icon=\"mdi mdi-bug mdi-18px\";\r\n         test.tooltip=\"Test\";\r\n         test.onclick(function(){\r\n                     //var kk=_this._codeView.layout;\r\n         });\r\n         this._designToolbar.add(test);*/\r\n\r\n\r\n\r\n\r\n        this.lassoButton = new Button();\r\n        this.lassoButton.icon = \"mdi mdi-lasso mdi-18px\";\r\n        this.lassoButton.tooltip = \"Select rubberband\";\r\n        this.lassoButton.onclick(function () {\r\n            var val = _this.lassoButton.toggle();\r\n            _this._resizer.setLassoMode(val);\r\n            _this._draganddropper.enableDraggable(!val);\r\n            //_this._draganddropper.activateDragging(!val);\r\n        });\r\n        this._designToolbar.add(this.lassoButton);\r\n\r\n        this.cutButton = new Button();\r\n        this.cutButton.icon = \"mdi mdi-content-cut mdi-18px\";\r\n        this.cutButton.tooltip = \"Cut selected Controls (Ctrl+Shift+X)\";\r\n        this.cutButton.onclick(function () {\r\n            _this.cutComponent();\r\n        });\r\n        this._designToolbar.add(this.cutButton);\r\n\r\n\r\n        this.copyButton = new Button();\r\n        this.copyButton.icon = \"mdi mdi-content-copy mdi-18px\";\r\n        this.copyButton.tooltip = \"Copy (Ctrl+Shift+C)\";\r\n        this.copyButton.onclick(function () {\r\n            _this.copy();\r\n        });\r\n        this._designToolbar.add(this.copyButton);\r\n        this.pasteButton = new Button();\r\n        this.pasteButton.icon = \"mdi mdi-content-paste mdi-18px\";\r\n        this.pasteButton.tooltip = \"Paste (Ctrl+Shift+V)\";\r\n        this.pasteButton.onclick(function () {\r\n            _this.paste();\r\n        });\r\n        this._designToolbar.add(this.pasteButton);\r\n        var box = new BoxPanel();\r\n        box.horizontal = true;\r\n\r\n        this.inlineEditorPanel = new Panel();\r\n        this.inlineEditorPanel._id = \"i\" + this.inlineEditorPanel._id;\r\n        this.inlineEditorPanel.dom.setAttribute(\"id\", this.inlineEditorPanel._id);\r\n        this.inlineEditorPanel.dom.style.display = \"inline\";\r\n        this.inlineEditorPanel.domWrapper.style.display = \"inline\";\r\n        this.inlineEditorPanel.dom.classList.add(\"InlineEditorPanel\");\r\n\r\n        //   box.height=40;\r\n        box.add(this._designToolbar);\r\n        box.add(this.inlineEditorPanel);\r\n        this.add(box);\r\n        this._designPlaceholder.domWrapper.style.position = \"relative\";\r\n        this.dummyHolder = document.createElement(\"span\");\r\n        this.__dom.append(this.dummyHolder);\r\n        this.add(this._designPlaceholder);\r\n\r\n    }\r\n    /**\r\n   * manage shortcuts\r\n   */\r\n    registerKeys() {\r\n        var _this = this;\r\n        this._codeEditor._design.dom.tabindex = \"1\";\r\n        this._codeEditor._design.dom.addEventListener(\"keydown\", function (evt) {\r\n            if (evt.keyCode === 115 && evt.shiftKey) {//F4\r\n                // var thiss=this._this._id;\r\n                // var editor = ace.edit(this._this._id);\r\n                _this.evalCode(true);\r\n                evt.preventDefault();\r\n                return false;\r\n            } else if (evt.keyCode === 115) {//F4\r\n                _this.evalCode(false);\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 90 && evt.ctrlKey) {//Ctrl+Z\r\n                _this.undo();\r\n            }\r\n            if (evt.keyCode === 116) {//F5\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 46 || (evt.keyCode === 88 && evt.ctrlKey && evt.shiftKey)) {//Del or Ctrl X)\r\n                _this.cutComponent();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 67 && evt.ctrlKey && evt.shiftKey) {//Ctrl+C\r\n                _this.copy();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 86 && evt.ctrlKey && evt.shiftKey) {//Ctrl+V\r\n                _this.paste();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if ((String.fromCharCode(evt.which).toLowerCase() === 's' && evt.ctrlKey)/* && (evt.which == 19)*/) {//Str+s\r\n                _this.save();\r\n                event.preventDefault();\r\n                return false;\r\n            }\r\n\r\n        });\r\n    }\r\n    resize() {\r\n        this._updateInvisibleComponents();\r\n    }\r\n    _installView() {\r\n        this._codeEditor._main.add(this._propertyEditor, \"Properties\", \"properties\");\r\n        this._codeEditor._main.add(this._componentExplorer, \"Components\", \"components\");\r\n        this._codeEditor._main.add(this._componentPalette, \"Palette\", \"componentPalette\");\r\n        this._codeEditor._main.layout = '{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\"},\"dimensions\":{\"borderWidth\":5,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"content\":[{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":81.04294066258988,\"content\":[{\"type\":\"stack\",\"width\":80.57491289198606,\"height\":71.23503465658476,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":19.42508710801394,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":19.844357976653697,\"content\":[{\"title\":\"Palette\",\"type\":\"component\",\"componentName\":\"componentPalette\",\"componentState\":{\"title\":\"Palette\",\"name\":\"componentPalette\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":80.1556420233463,\"content\":[{\"title\":\"Properties\",\"type\":\"component\",\"componentName\":\"properties\",\"componentState\":{\"title\":\"Properties\",\"name\":\"properties\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]},{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":18.957059337410122,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":18.957059337410122,\"width\":77.70034843205575,\"content\":[{\"title\":\"Variables\",\"type\":\"component\",\"componentName\":\"variables\",\"componentState\":{\"title\":\"Variables\",\"name\":\"variables\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Errors\",\"type\":\"component\",\"componentName\":\"errors\",\"componentState\":{\"title\":\"Errors\",\"name\":\"errors\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"width\":22.299651567944256,\"content\":[{\"title\":\"Components\",\"type\":\"component\",\"componentName\":\"components\",\"componentState\":{\"title\":\"Components\",\"name\":\"components\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}';\r\n    }\r\n\r\n    _updateInvisibleComponents() {\r\n        var _this = this;\r\n        this._invisibleComponents.update();\r\n    }\r\n\r\n    _initComponentExplorer() {\r\n        var _this = this;\r\n        this._componentExplorer.onselect(function (data) {\r\n\r\n            // console.log(_this._componentExplorer.selection);\r\n            //  var ob = data.data;\r\n            setTimeout(() => {\r\n                var sel = _this._componentExplorer.tree.selection;\r\n                if (sel.length === 1)\r\n                    sel = sel[0];\r\n                _this._propertyEditor.value = sel;\r\n            }, 10);\r\n        });\r\n        this._componentExplorer.getComponentName = function (item) {\r\n            var varname = _this._codeEditor.getVariableFromObject(item);\r\n            if (varname === undefined)\r\n                return;\r\n            if (varname.startsWith(\"this.\"))\r\n                return varname.substring(5);\r\n            return varname;\r\n        };\r\n    }\r\n    /**\r\n     * removes the selected component\r\n     */\r\n    async cutComponent() {\r\n        var text = await this.copy();\r\n        if (await navigator.clipboard.readText() !== text) {\r\n            alert(\"could not copy to Clipboard.\")\r\n            return;\r\n        }\r\n        var clip: ClipboardData = JSON.parse(text);//to Clipboard\r\n\r\n        var all = [];\r\n        for (var x = 0; x < clip.allChilds.length; x++) {\r\n            var varname = clip.allChilds[x];//this._codeEditor.getVariableFromObject(todel);\r\n            var todel = this._codeEditor.getObjectFromVariable(varname);\r\n            if (varname !== \"this\") {\r\n                if (todel?.domWrapper?._parent !== undefined) {\r\n                    todel.domWrapper._parent.remove(todel);\r\n                }\r\n                all.push(varname);\r\n                this._propertyEditor.removeVariableInDesign(varname);\r\n            }\r\n        }\r\n        this._propertyEditor.removeVariablesInCode(all);\r\n        this._updateInvisibleComponents();\r\n        this._componentExplorer.update();\r\n\r\n    }\r\n    private copyProperties(clip: ClipboardData, component: Component) {\r\n        var varname = this._codeEditor.getVariableFromObject(component);\r\n        var parserdata = this._propertyEditor.parser.data[varname];\r\n        clip.allChilds.push(varname);\r\n        clip.types[varname] = classes.getClassName(component);\r\n        if (!clip.properties[varname]) {\r\n            clip.properties[varname] = {};\r\n        }\r\n        var editorfields = {};\r\n        ComponentDescriptor.describe(component.constructor)?.fields.forEach((f) => { editorfields[f.name] = f });\r\n        for (var key in parserdata) {\r\n            if (editorfields[key] || key === \"_new_\" || key === \"add\") {\r\n                if (!clip.properties[varname][key]) {\r\n                    clip.properties[varname][key] = []\r\n                }\r\n                for (var i = 0; i < parserdata[key].length; i++) {\r\n                    //only add fields in Propertydescriptor\r\n                    clip.properties[varname][key].push(parserdata[key][i].value);\r\n                }\r\n            }\r\n        }\r\n        if (component[\"_components\"]) {\r\n            for (var x = 0; x < component[\"_components\"].length; x++) {\r\n                var childname = this._codeEditor.getVariableFromObject(component[\"_components\"][x]);\r\n                if (childname) {\r\n                    if (clip.children[varname] === undefined) {\r\n                        clip.children[varname] = [];\r\n                    }\r\n                    clip.children[varname].push(childname);\r\n                    this.copyProperties(clip, component[\"_components\"][x]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    async copy(): Promise<string> {\r\n\r\n        var components = this._propertyEditor.value;\r\n        if (!Array.isArray(components)) {\r\n            components = [components];\r\n        }\r\n\r\n        var clip = new ClipboardData();\r\n        clip.varNamesToCopy = [];\r\n        for (var x = 0; x < components.length; x++) {\r\n            var component: Component = components[x];\r\n            var varname = this._codeEditor.getVariableFromObject(component);\r\n            clip.varNamesToCopy.push(varname);\r\n            this.copyProperties(clip, component);\r\n        }\r\n\r\n\r\n\r\n        var text = JSON.stringify(clip);\r\n        await navigator.clipboard.writeText(text);\r\n        return text;\r\n    }\r\n    private async pasteComponent(clip: ClipboardData, target: Container, before: Component, varname: string, variablelistold: any[], variablelistnew: any[]) {\r\n        var _this = this;\r\n        var created: Component;\r\n        if (clip.properties[varname] !== undefined && clip.properties[varname][\"_new_\"] !== undefined) {\r\n\r\n            var vartype = clip.properties[varname][\"_new_\"][0];\r\n            if (variablelistold.indexOf(varname) > -1)\r\n                return;\r\n            vartype = vartype.split(\"(\")[0].split(\"new \")[1];\r\n\r\n            var targetname = _this._codeEditor.getVariableFromObject(target);\r\n            var newcomp = { createFromType: clip.types[varname] };\r\n            await classes.loadClass(clip.types[varname]);\r\n            var svarname = varname.split(\".\")[varname.split(\".\").length - 1];\r\n\r\n            created = _this.createComponent(clip.types[varname], newcomp, undefined, undefined, target, before, false, svarname);\r\n            variablelistold.push(varname);\r\n            var newvarname = _this._codeEditor.getVariableFromObject(created);\r\n            variablelistnew.push(newvarname);\r\n            //correct designdummy\r\n            for (var t = 0; t < target._components.length; t++) {\r\n                var ch = target._components[t];\r\n                if (ch[\"type\"] === \"atEnd\") {\r\n                    target.remove(ch);\r\n                    // target.add(ch);\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            //component is already created outside the code\r\n            created = _this._codeEditor.getObjectFromVariable(varname);\r\n        }\r\n        if (clip.children[varname] !== undefined) {\r\n            for (var k = 0; k < clip.children[varname].length; k++) {\r\n                await _this.pasteComponent(clip, <Container>created, undefined, clip.children[varname][k], variablelistold, variablelistnew);\r\n            }\r\n        }\r\n        return created;\r\n    }\r\n    async paste() {\r\n        var text = await navigator.clipboard.readText();\r\n        var created\r\n        var clip: ClipboardData = JSON.parse(text);\r\n        var _this = this;\r\n        var variablelistold = [];\r\n        var variablelistnew = [];\r\n        //create Components\r\n        for (var x = 0; x < clip.varNamesToCopy.length; x++) {\r\n            var varname = clip.varNamesToCopy[x];\r\n            var target: Container = _this._propertyEditor.value;\r\n            if (target._components !== undefined)\r\n                await _this.pasteComponent(clip, target, undefined, varname, variablelistold, variablelistnew);\r\n            else {\r\n                // if(x===0)\r\n                //    before=target;\r\n                await _this.pasteComponent(clip, target._parent, target, varname, variablelistold, variablelistnew);\r\n            }\r\n            //set properties\r\n        }\r\n        //in the new Text the variables are renamed\r\n        var textnew = text;\r\n        for (var x = 0; x < variablelistnew.length; x++) {\r\n            var oldName = variablelistold[x];\r\n            var newName = variablelistnew[x];\r\n            if (oldName !== newName) {\r\n\r\n                var reg = new RegExp(\"\\\\W\" + oldName + \"\\\\W\");\r\n                var found = true;\r\n                while (found == true) {\r\n                    found = false;\r\n                    textnew = textnew.replace(reg, function replacer(match, offset, string) {\r\n                        // p1 is nondigits, p2 digits, and p3 non-alphanumerics\r\n                        found = true;\r\n                        return match.substring(0, 1) + newName + match.substring(match.length - 1, match.length);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        clip = JSON.parse(textnew);\r\n\r\n        //set properties\r\n        for (var x = 0; x < variablelistnew.length; x++) {\r\n            var variablename = variablelistnew[x]\r\n            for (var key in clip.properties[variablename]) {\r\n                if (key !== \"_new_\" && key !== \"config\" && key != \"add\") {\r\n                    var propdata = clip.properties[variablename][key];\r\n                    for (var v = 0; v < propdata.length; v++) {\r\n                        var svalue: string = propdata[v];\r\n                        var component = _this._codeEditor.getObjectFromVariable(variablename);\r\n                        var argnames = [];\r\n                        var args = [];\r\n                        var allvars = _this.codeEditor.variables.value;\r\n                        //introduce variables replace me.textbox1->me_textbox1\r\n                        for (var vv = 0; vv < allvars.length; vv++) {\r\n\r\n                            var newvarname = allvars[vv].name.replaceAll(\".\", \"_\");\r\n                            svalue = svalue.replaceAll(allvars[vv].name, newvarname);\r\n                            if (newvarname !== \"this\") {\r\n                                argnames.push(newvarname);\r\n                                args.push(allvars[vv].value);\r\n                            }\r\n                        }\r\n                        try {\r\n                            //set value in Designer\r\n                            var realvalue = new Function(...argnames, \"return (\" + svalue + \");\").bind(_this._codeEditor.getObjectFromVariable(\"this\"))(...args);\r\n                            if (typeof (component[key]) === \"function\") {\r\n                                component[key](realvalue);\r\n                            } else {\r\n                                component[key] = realvalue;\r\n                            }\r\n                        } catch {\r\n\r\n                        }\r\n                        //_this._propertyEditor.setPropertyInDesign(key,value);\r\n                        _this._propertyEditor.setPropertyInCode(key, propdata[v], propdata.length > 0, variablename, undefined, undefined, false);\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        _this._propertyEditor.value = created;\r\n        _this._propertyEditor.codeEditor.value = _this._propertyEditor.parser.getModifiedCode();\r\n        _this._propertyEditor.updateParser();\r\n        _this._propertyEditor.callEvent(\"codeChanged\", {});\r\n        //include the new element\r\n        _this.editDialog(true);\r\n        _this._componentExplorer.update();\r\n        _this._updateInvisibleComponents();\r\n\r\n    }\r\n    /**\r\n    * execute the current code\r\n    * @param {boolean} toCursor -  if true the variables were inspected on cursor position, \r\n    *                              if false at the end of the layout() function or at the end of the code\r\n    */\r\n    evalCode(toCursor = undefined) {\r\n        this._codeEditor.evalCode(toCursor);\r\n\r\n    }\r\n    /**\r\n    * save the code to server\r\n    */\r\n    save() {\r\n        this._codeEditor.save();\r\n\r\n    }\r\n\r\n    /**\r\n     * undo action\r\n     */\r\n    undo() {\r\n        this._codeEditor.undo();\r\n    }\r\n    private getComponentIDsInDesign(component: Component, collect: string[]) {\r\n\r\n        collect.push(\"#\" + component._id);\r\n        var childs = component[\"_components\"];\r\n        if (childs !== undefined) {\r\n            for (let x = 0; x < childs.length; x++) {\r\n                this.getComponentIDsInDesign(childs[x], collect);\r\n            }\r\n        }\r\n    }\r\n    createDragAndDropper(): DragAndDropper {\r\n        return new DragAndDropper();\r\n    }\r\n    /**\r\n     * dialog edit mode\r\n     * @param {boolean} enable - if true allow resizing and drag and drop \r\n     */\r\n    editDialog(enable) {\r\n        var _this = this;\r\n        this.editMode = enable;\r\n        this.editButton.toggle(!this.editMode);\r\n        this.undoButton.hidden = !enable;\r\n        this.lassoButton.hidden = !enable;\r\n        this.cutButton.hidden = !enable;\r\n        this.copyButton.hidden = !enable;\r\n        this.pasteButton.hidden = !enable;\r\n        var component = this._designPlaceholder._components[0];\r\n        //switch designmode\r\n        var comps = component.dom.querySelectorAll(\".jcomponent\");\r\n        comps.forEach((c) => c.classList.add(\"jdesignmode\"));\r\n        for (var c = 0; c < comps.length; c++) {\r\n\r\n            if (comps[c]._this[\"extensionCalled\"] !== undefined) {\r\n                comps[c]._this[\"extensionCalled\"]({\r\n                    componentDesignerSetDesignMode: { enable, componentDesigner: this }\r\n                });\r\n                //comps[c]._this[\"setDesignMode\"](enable,this);\r\n            }\r\n        }\r\n        if (component[\"extensionCalled\"] !== undefined) {\r\n            component[\"extensionCalled\"]({\r\n                componentDesignerSetDesignMode: { enable, componentDesigner: this }\r\n            });\r\n\r\n        }\r\n        //if(component[\"setDesignMode\"]!==undefined){\r\n        //        component[\"setDesignMode\"](enable,this);\r\n        //    }\r\n        this.variables.updateCache();//variables can be added with Repeater.setDesignMode\r\n        if (this._resizer !== undefined) {\r\n            this._resizer.uninstall();\r\n        }\r\n        if (this._draganddropper !== undefined) {\r\n            this._draganddropper.uninstall();\r\n        }\r\n\r\n        if (enable === true) {\r\n            var _this = this;\r\n            var allcomponents = this.variables.getEditableComponents(component);\r\n            if (this._propertyEditor.codeEditor === undefined) {\r\n                var ret = [];\r\n\r\n                this.getComponentIDsInDesign(component, ret);\r\n                allcomponents = ret.join(\",\");\r\n            } else\r\n                allcomponents = this.variables.getEditableComponents(component);\r\n            //this._installTinyEditor();\r\n            this._draganddropper = this.createDragAndDropper();\r\n            this._resizer = new Resizer();\r\n            this._resizer.draganddropper = this._draganddropper;\r\n\r\n            this._resizer.onelementselected = function (elementIDs, e) {\r\n                var ret = [];\r\n                for (var x = 0; x < elementIDs.length; x++) {\r\n                    var ob = document.getElementById(elementIDs[x])._this;\r\n                    if (ob[\"editorselectthis\"])\r\n                        ob = ob[\"editorselectthis\"];\r\n                    ret.push(ob);\r\n                }\r\n                if (ret.length === 1)\r\n                    _this._propertyEditor.value = ret[0];\r\n                else if (ret.length > 0) {\r\n                    _this._propertyEditor.value = ret;\r\n                }\r\n            };\r\n\r\n            this._resizer.onpropertychanged = function (comp: Component, prop: string, value: any) {\r\n                if (_this._propertyEditor.value !== comp)\r\n                    _this._propertyEditor.value = comp;\r\n                _this._propertyEditor.setPropertyInCode(prop, value + \"\", true);\r\n                _this._propertyEditor.value = _this._propertyEditor.value;\r\n            };\r\n            this._resizer.install(component, allcomponents);\r\n            allcomponents = this.variables.getEditableComponents(component, true);\r\n            if (this._draganddropper) {\r\n                this._draganddropper.install(component, allcomponents);\r\n                this._draganddropper.onpropertychanged = function (component, top, left, oldParent, newParent, beforeComponent) {\r\n                    _this.moveComponent(component, top, left, oldParent, newParent, beforeComponent);\r\n                }\r\n                this._draganddropper.onpropertyadded = function (type, component, top, left, newParent, beforeComponent) {\r\n                    _this.createComponent(type, component, top, left, newParent, beforeComponent);\r\n\r\n                }\r\n\r\n                this._draganddropper.isDragEnabled = function (event, ui) {\r\n                    if (_this._resizer === undefined)\r\n                        return false;\r\n                    return _this._resizer.componentUnderCursor !== undefined;\r\n                }\r\n            }\r\n        } else {\r\n\r\n        }\r\n        this._componentExplorer.update();\r\n    }\r\n\r\n    /**\r\n     * move a component\r\n     * @param {jassijs.ui.Component} component - the component to move\r\n     * @param {number} top - the top absolute position\r\n     * @param {number} left - the left absolute position\r\n     * @param {jassijs.ui.Container} newParent - the new parent container where the component move to\r\n     * @param {jassijs.ui.Component} beforeComponent - insert the component before beforeComponent\r\n     **/\r\n    moveComponent(component, top, left, oldParent, newParent, beforeComponent) {\r\n        var _this = this;\r\n        /*if(beforeComponent!==undefined&&beforeComponent.designDummyFor!==undefined){\r\n            beforeComponent=undefined;\r\n        }*/\r\n        var oldName = _this._codeEditor.getVariableFromObject(oldParent);\r\n        var newName = _this._codeEditor.getVariableFromObject(newParent);\r\n        var compName = _this._codeEditor.getVariableFromObject(component);\r\n        if (top !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"x\", top + \"\", true);\r\n        } else {\r\n            _this._propertyEditor.removePropertyInCode(\"x\");\r\n        }\r\n        if (left !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"y\", left + \"\", true);\r\n        } else {\r\n            _this._propertyEditor.removePropertyInCode(\"y\");\r\n        }\r\n\r\n        if (oldParent !== newParent || beforeComponent !== undefined || top === undefined) {//top=undefined ->on relative position at the end call the block\r\n            //get Position\r\n            var oldVal = _this._propertyEditor.removePropertyInCode(\"add\", compName, oldName, false);\r\n            var before;\r\n            if (beforeComponent !== undefined && beforeComponent.type !== \"atEnd\") {//designdummy atEnd\r\n                var on = _this._codeEditor.getVariableFromObject(beforeComponent);\r\n                var par = _this._codeEditor.getVariableFromObject(beforeComponent._parent);\r\n                before = { variablename: par, property: \"add\", value: on };\r\n            }\r\n            _this._propertyEditor.setPropertyInCode(\"add\", /*compName*/oldVal, false, newName, before);\r\n\r\n        }\r\n        /* if(newParent._components.length>1){//correct dummy\r\n             var dummy=\tnewParent._components[newParent._components.length-2];\r\n             if(dummy.designDummyFor!==undefined){\r\n                 //var tmp=newParent._components[newParent._components.length-1];\r\n                 newParent.remove(dummy);//._components[newParent._components.length-1]=newParent._components[newParent._components.length-2];\r\n                 newParent.add(dummy);//._components[newParent._components.length-1]=tmp;\r\n             }\r\n         }*/\r\n        _this.variables.updateCache();\r\n        _this._propertyEditor.value = _this._propertyEditor.value;\r\n        _this._componentExplorer.value = _this._componentExplorer.value;\r\n    }\r\n    /**\r\n     * create a new component\r\n     * @param {string} type - the type of the new component\r\n     * @param {jassijs.ui.Component} component - the component themself\r\n     * @param {number} top - the top absolute position\r\n     * @param {number} left - the left absolute position\r\n     * @param {jassijs.ui.Container} newParent - the new parent container where the component is placed\r\n     * @param {jassijs.ui.Component} beforeComponent - insert the new component before beforeComponent\r\n     **/\r\n    createComponent(type, component, top, left, newParent, beforeComponent, doUpdate = true, suggestedName: string = undefined): Component {\r\n        var _this = this;\r\n        /*if(beforeComponent!==undefined&&beforeComponent.designDummyFor&&beforeComponent.type===\"atEnd\"){\r\n            beforeComponent=undefined;\r\n        }*/\r\n        var file = type.replaceAll(\".\", \"/\");\r\n        var stype = file.split(\"/\")[file.split(\"/\").length - 1];\r\n        _this._propertyEditor.addImportIfNeeded(stype, file);\r\n        var repeater = _this._hasRepeatingContainer(newParent);\r\n        var scope = undefined;\r\n        if (repeater !== undefined) {\r\n            var repeatername = _this._codeEditor.getVariableFromObject(repeater);\r\n            var test = _this._propertyEditor.parser.getPropertyValue(repeatername, \"createRepeatingComponent\");\r\n            scope = { variablename: repeatername, methodname: \"createRepeatingComponent\" };\r\n            if (test === undefined) {\r\n                var sfunc = \"function(me:Me){\\n\\t\" + repeatername + \".design.config({});\\n}\";\r\n                var vardatabinder = _this._propertyEditor.getNextVariableNameForType(\"jassijs.ui.Databinder\");\r\n                if (!_this._propertyEditor.parser.getPropertyValue(repeatername, \"config\")) {\r\n                    sfunc = \"function(me:Me){\\n\\t\\n}\";\r\n                }\r\n                _this._propertyEditor.setPropertyInCode(\"createRepeatingComponent\", sfunc, true, repeatername);\r\n                _this._propertyEditor.updateParser();\r\n                repeater.createRepeatingComponent(function (me) {\r\n                    if (this._designMode !== true)\r\n                        return;\r\n                    //_this.variables.addVariable(vardatabinder,databinder);\r\n                    _this.variables.updateCache();\r\n                });\r\n                /*var db=new jassijs.ui.Databinder();\r\n                if(repeater.value!==undefined&&repeater.value.length>0)\r\n                    db.value=repeater.value[0];\r\n                _this.variables.add(vardatabinder,db);\r\n                _this.variables.updateCache();*/\r\n            }\r\n        }\r\n        var varvalue;\r\n        if (classes.getClassName(component) === type)\r\n            varvalue = component;\r\n        else\r\n            varvalue = new (classes.getClass(type));\r\n        var varname = _this.createVariable(type, scope, varvalue, suggestedName);\r\n        if (this._propertyEditor.codeEditor !== undefined) {\r\n\r\n            var newName = _this._codeEditor.getVariableFromObject(newParent);\r\n            console.log(\"newName\"+newName);\r\n            console.log(newParent);\r\n            var before;\r\n            if (beforeComponent !== undefined && beforeComponent.type !== \"atEnd\") {//Designdummy atEnd\r\n                //if(beforeComponent.type===\"beforeComponent\")\r\n                //   beforeComponent=beforeComponent.designDummyFor;\r\n                var on = _this._codeEditor.getVariableFromObject(beforeComponent);\r\n                var par = _this._codeEditor.getVariableFromObject(beforeComponent._parent);\r\n                before = { variablename: par, property: \"add\", value: on };\r\n            }\r\n            _this._propertyEditor.setPropertyInCode(\"add\", varname, false, newName, before, scope);\r\n        }\r\n\r\n        if (beforeComponent !== undefined) {\r\n            newParent.addBefore(varvalue, beforeComponent);\r\n        } else {\r\n            newParent.add(varvalue);\r\n        }\r\n        /* if(newParent._components.length>1){//correct dummy\r\n             if(newParent._designDummy){\r\n                 //var tmp=newParent._components[newParent._components.length-1];\r\n                 newParent.dom.removeChild(newParent._designDummy.domWrapper)\r\n                 newParent.dom.append(newParent._designDummy.domWrapper)\r\n             }\r\n         }*/\r\n        _this.variables.updateCache();\r\n\r\n        //set initial properties for the new component\r\n        if (component.createFromParam !== undefined) {\r\n            for (var key in component.createFromParam) {\r\n                var val = component.createFromParam[key];\r\n                if (typeof val === 'string')\r\n                    val = '\"' + val + '\"';\r\n                _this._propertyEditor.setPropertyInCode(key, val, true, varname);\r\n            }\r\n            $.extend(varvalue, component.createFromParam);\r\n        }\r\n        if (top !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"x\", top + \"\", true, varname);\r\n            varvalue.x = top;\r\n        }\r\n        if (left !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"y\", left + \"\", true, varname);\r\n            varvalue.y = left;\r\n        }\r\n\r\n        //notify componentdescriptor \r\n        var ac = varvalue.extensionCalled;\r\n        if (ac !== undefined) {\r\n            varvalue.extensionCalled({\r\n                componentDesignerComponentCreated: {\r\n                    newParent: newParent\r\n                }\r\n            });\r\n        }\r\n        if (doUpdate) {\r\n            _this._propertyEditor.value = varvalue;\r\n            //include the new element\r\n            _this.editDialog(true);\r\n            _this._componentExplorer.update();\r\n            _this._updateInvisibleComponents();\r\n        }\r\n        return varvalue;\r\n    }\r\n    createVariable(type, scope, varvalue, suggestedName: string = undefined) {\r\n        if (this._propertyEditor.codeEditor === undefined)\r\n            return;\r\n        var varname = this._propertyEditor.addVariableInCode(type, scope, suggestedName);\r\n\r\n        /* if (varname.startsWith(\"me.\") && this._codeEditor.getObjectFromVariable(\"me\") !== undefined) {\r\n             var me = this._codeEditor.getObjectFromVariable(\"me\");\r\n             me[varname.substring(3)] = varvalue;\r\n         } else if (varname.startsWith(\"this.\")) {\r\n             var th = this._codeEditor.getObjectFromVariable(\"this\");\r\n             th[varname.substring(5)] = varvalue;\r\n         } else*/\r\n        this.variables.addVariable(varname, varvalue);\r\n        return varname;\r\n    }\r\n    /**\r\n     * is there a parent that acts a repeating container?\r\n     **/\r\n    _hasRepeatingContainer(component) {\r\n        if (component === undefined)\r\n            return undefined;\r\n        if (this._codeEditor.getVariableFromObject(component) === undefined)\r\n            return undefined;\r\n        if (component instanceof Repeater) {\r\n            return component;\r\n        }\r\n        return this._hasRepeatingContainer(component._parent);\r\n    }\r\n\r\n    private fillVariables(root: Component, component: Component, cache: { [componentid: string]: { line: number, column: number } }) {\r\n        if (cache[component._id] === undefined && component[\"__stack\"] !== undefined) {\r\n            var lines = component[\"__stack\"]?.split(\"\\n\");\r\n            for (var x = 0; x < lines.length; x++) {\r\n                var sline: string = lines[x];\r\n                if (sline.indexOf(\"$temp.js\") > 0) {\r\n                    var spl = sline.split(\":\");\r\n                    var entr = {\r\n\r\n                    }\r\n                    cache[component._id] = {\r\n                        line: Number(spl[spl.length - 2]),\r\n                        column: Number(spl[spl.length - 1].replace(\")\", \"\"))\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            if (component[\"_components\"]) {\r\n                for (var x = 0; x < component[\"_components\"].length; x++) {\r\n                    this.fillVariables(root, component[\"_components\"][x], cache);\r\n                }\r\n            }\r\n            if (component === root) {\r\n                //fertig\r\n                var hh = 0;\r\n            }\r\n        }\r\n\r\n    }\r\n    createPreDummy() {\r\n        var _this=this;\r\n        var dummy: HTMLSpanElement;\r\n        //  if (ComponentDesigner.beforeDummy === undefined) {\r\n        dummy = <HTMLSpanElement>document.createElement(\"span\");\r\n        dummy.contentEditable = \"false\";\r\n        dummy.draggable = true;\r\n        dummy.classList.add(\"_dummy_\");\r\n        dummy.onclick = (ev) => console.log(ev);\r\n        dummy.ondrop = (ev) => { \r\n             ev.preventDefault(); \r\n             \r\n             var data = ev.dataTransfer.getData(\"text\");\r\n             if(data.indexOf('\"createFromType\":')>-1){\r\n                var toCreate:{ createFromType : string,createFromParam :string}=<any> JSON.parse(data);\r\n                var cl = classes.getClass(toCreate.createFromType);\r\n                var newComponent=new cl();\r\n                var beforeComponent:Component = (<any>ev.target).nd._this;\r\n                var newParent=beforeComponent._parent;\r\n                _this.createComponent(toCreate.createFromType, newComponent, undefined, undefined, newParent,beforeComponent);// beforeComponent);\r\n                _this.updateDummies();\r\n             }\r\n        };\r\n        dummy.ondragover = (ev) => ev.preventDefault();\r\n        dummy.ondragstart = ev => {\r\n            ev.dataTransfer.setDragImage((<any>event.target).nd, 20, 20);\r\n            ev.dataTransfer.setData(\"text\", \"Hallo\");\r\n        }\r\n        dummy.style.zIndex = \"10000\";\r\n        dummy.style.backgroundColor = \"rgba(245,234,39,0.6)\";\r\n        dummy.innerHTML = \"&nbsp;&nbsp;&nbsp;&nbsp;\";\r\n        dummy.style.fontSize = \"7px\";\r\n        dummy.style.position = \"absolute\";\r\n        dummy.onmouseenter = (e) => {\r\n            (<any>e.target).nd._sicbgc_ = (<any>e.target).nd.style.backgroundColor;\r\n            (<any>e.target).nd.style.backgroundColor = \"rgba(245,234,39,0.2)\";\r\n        }\r\n        dummy.onmouseleave = (e) => (<any>e.target).nd.style.backgroundColor = (<any>e.target).nd._sicbgc_;\r\n        //   ComponentDesigner.beforeDummy = dummy;\r\n        // }\r\n        // dummy = ComponentDesigner.beforeDummy.cloneNode(true);\r\n        return dummy;\r\n    }\r\n     createPostDummy() {\r\n         var _this=this;\r\n        var dummy: HTMLSpanElement;\r\n        //  if (ComponentDesigner.beforeDummy === undefined) {\r\n        dummy = <HTMLSpanElement>document.createElement(\"span\");\r\n        dummy.contentEditable = \"false\";\r\n        dummy.draggable = true;\r\n        dummy.classList.add(\"_dummy_\");\r\n        dummy.classList.add(\"ui-droppable\");\r\n        //dummy.onclick = (ev) => console.log(ev);\r\n        dummy.ondrop = (ev) => {\r\n             ev.preventDefault(); \r\n             var data = ev.dataTransfer.getData(\"text\");\r\n             if(data.indexOf('\"createFromType\":')>-1){\r\n                var toCreate:{ createFromType : string,createFromParam :string}=<any> JSON.parse(data);\r\n                var cl = classes.getClass(toCreate.createFromType);\r\n                var newComponent=new cl();\r\n                var newParent = (<any>ev.target).nd._this;\r\n                _this.createComponent(toCreate.createFromType, newComponent, undefined, undefined, newParent,undefined);// beforeComponent);\r\n                _this.updateDummies();\r\n             }\r\n         };\r\n        dummy.ondragover = (ev) =>{\r\n            ev.preventDefault();\r\n          //  ev.dataTransfer.dropEffect = \"move\";\r\n        } /*\r\n        dummy.ondragstart = ev => {\r\n            ev.dataTransfer.setDragImage((<any>event.target).nd, 20, 20);\r\n            ev.dataTransfer.setData(\"text\", \"Hallo\");\r\n        }*/\r\n        dummy.style.zIndex = \"10000\";\r\n        dummy.style.backgroundColor = \"rgba(56, 146, 232, 0.2)\";\r\n        dummy.innerHTML = \"&nbsp;&nbsp;&nbsp;&nbsp;\";\r\n        dummy.style.fontSize = \"30px\";\r\n        dummy.style.position = \"absolute\";\r\n        dummy.onmouseenter = (e) => {\r\n            (<any>e.target).nd._sicbgc_ = (<any>e.target).nd.style.backgroundColor;\r\n            (<any>e.target).nd.style.backgroundColor = \"rgba(56, 146, 232, 0.2)\";\r\n        }\r\n        dummy.onmouseleave = (e) => (<any>e.target).nd.style.backgroundColor = (<any>e.target).nd._sicbgc_;\r\n        //   ComponentDesigner.beforeDummy = dummy;\r\n        // }\r\n        // dummy = ComponentDesigner.beforeDummy.cloneNode(true);\r\n        return dummy;\r\n    }\r\n    private insertDummies(node: HTMLElement, root: HTMLElement, arr, rootRect: DOMRect) {\r\n        if ((<any>node)._dummyholder === true)\r\n            return;\r\n        if (root === undefined) \r\n            root = node;\r\n        //only elements with varaiables can have dummies\r\n        var varname = this._codeEditor.getVariableFromObject(node._this);\r\n        var comp = node._this;\r\n        if (!varname && node._thisOther) {\r\n            for (var x = 0; x < node._thisOther.length; x++) {\r\n                varname = this._codeEditor.getVariableFromObject(node._thisOther[x]);\r\n                if (varname) {\r\n                    comp = node._thisOther[x];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (!varname){\r\n            if(node.contentEditable!==\"false\")\r\n                node.contentEditable=\"false\";\r\n            return;\r\n        }\r\n        var hasChildren = false;\r\n        var desc = ComponentDescriptor.describe(comp.constructor);\r\n        var fnew = desc.findField(\"children\");\r\n        if (fnew) {\r\n            hasChildren=true;\r\n        }\r\n        if (node.getClientRects === undefined)\r\n            return;\r\n\r\n        var rect = node.getClientRects()[0];\r\n        if (rect === undefined)\r\n            return;\r\n        rect = <any>{\r\n            left: rect.left - rootRect.left + window.scrollX,\r\n            top: rect.top - rootRect.top + window.scrollY,\r\n            right: rect.right - rootRect.left + window.scrollX,\r\n            bottom: rect.bottom - rootRect.top + window.scrollY\r\n        }\r\n        if ((<any>node)?.nd)\r\n            return;\r\n        var preDummy = (<any>node)._preDummy_;\r\n        if (!(<any>node)._preDummy_) {\r\n            preDummy = this.createPreDummy();\r\n            (<any>preDummy).nd = node;\r\n            preDummy.title = node.outerHTML;\r\n            (<any>node)._preDummy_ = preDummy;\r\n            arr.push(preDummy);\r\n        }\r\n        var newTop = rect.top;\r\n        var newLeft = rect.left;\r\n        (<any>node).myTop = rect.top;\r\n        (<any>node).myLeft = rect.left;\r\n\r\n        if ((<any>node.parentNode)._preDummy_) {\r\n            const rp = {\r\n                top: (<any>node.parentNode).myTop,\r\n                left: (<any>node.parentNode).myLeft,\r\n            }\r\n            if (rect.top > rp.top - 5 && rect.top < rp.top + 5 && rect.left > rp.left - 5 && rect.left < rp.left + 5) {\r\n                newLeft = parseInt((<any>node.parentNode)._preDummy_.style.left.replace(\"px\", \"\")) + 8;\r\n            }\r\n        }\r\n        preDummy.style.top = newTop + \"px\";\r\n        preDummy.style.left = newLeft + \"px\";\r\n        if (hasChildren) {\r\n            var postDummy = (<any>node)._postDummy_;\r\n            if (!(<any>node)._postDummy_) {\r\n                postDummy = this.createPostDummy();\r\n                (<any>postDummy).nd = node;\r\n                postDummy.title = node.outerHTML;\r\n                (<any>node)._postDummy_ = postDummy;\r\n                arr.push(postDummy);\r\n            }\r\n            var newBottom = rect.bottom;\r\n            var newRight = rect.right;\r\n            (<any>node).myBottom = rect.bottom;\r\n            (<any>node).myRight = rect.right;\r\n\r\n            if ((<any>node.parentNode)._postDummy_) {\r\n                const rp= {\r\n                    bottom: (<any>node.parentNode).newBottom,\r\n                    right: (<any>node.parentNode).newRight,\r\n                }\r\n                if (rect.bottom > rp.bottom - 5 && rect.bottom < rp.bottom + 5 && rect.right > rp.right - 5 && rect.right < rp.right + 5) {\r\n                    newRight = parseInt((<any>node.parentNode)._postDummy_.style.left.replace(\"px\", \"\")) - 8;\r\n                }\r\n            }\r\n            postDummy.style.top = (newBottom-8) + \"px\";\r\n            postDummy.style.left = (newRight-8) + \"px\";\r\n        }\r\n        for (var x = 0; x < node.childNodes.length; x++) {\r\n            if(node._this!==node.childNodes[x]._this)//Wrapper\r\n                this.insertDummies(<any>node.childNodes[x], root, arr, rootRect);\r\n        }\r\n\r\n    }\r\n    /**\r\n     * @member {jassijs.ui.Component} - the designed component\r\n     */\r\n    set designedComponent(component) {\r\n        this.fillVariables(component, component, {});\r\n        var com = component;\r\n        if (com[\"isAbsolute\"] !== true && com.width === \"0\" && com.height === \"0\") {\r\n            component.width = \"calc(100% - 1px)\";\r\n            component.height = \"calc(100% - 1px)\";\r\n        }\r\n        if (this._codeEditor.__evalToCursorReached !== true) {\r\n            this._codeEditor._main.show(\"design\");\r\n        }\r\n        if (this._designPlaceholder._components.length > 0)\r\n            this._designPlaceholder.remove(this._designPlaceholder._components[0], true);\r\n        this._designPlaceholder.add(component);\r\n        // \r\n        this._propertyEditor.updateParser();\r\n        this.editDialog(this.editMode === undefined ? true : this.editMode);\r\n\r\n        this._componentExplorer.value = component;\r\n\r\n        this.dom.focus();\r\n\r\n\r\n        this._updateInvisibleComponents();\r\n        while (this.inlineEditorPanel.dom.firstChild) {\r\n            this.inlineEditorPanel.dom.firstChild.remove();\r\n        }\r\n        this.updateDummies();\r\n\r\n        //var parser=new jassijs.ui.PropertyEditor.Parser();\r\n        //parser.parse(_this.value);\r\n    }\r\n    updateDummies() {\r\n        var arr = [];\r\n        var component = this.designedComponent;//this._componentExplorer.value;\r\n        if (this._lastComponent !== component) {//delete dummies if the designedComponent has changed\r\n            //if((<any>this.dom).dummyholder)\r\n            //  (<any>this.dom).dummyholder.innerHTML=\"\";\r\n            this.dummyHolder.innerHTML = \"\";//delete all\r\n            this._lastComponent = component;\r\n        }\r\n        /* if ((<any>this.dom).dummyholder === undefined) {\r\n             (<any>this.dom).dummyholder = document.createElement(\"span\");\r\n             (<any>this.dom).dummyholder._dummyholder = true;\r\n             this.dom.prepend((<any>component.dom).dummyholder);\r\n         }*/\r\n        this.insertDummies(component.dom, this.dummyHolder, arr, this.dom.getClientRects()[0]);\r\n        this.dummyHolder.append(...arr);\r\n        component.dom.contentEditable=\"true\";\r\n        this._designPlaceholder.domWrapper.contentEditable=\"false\";\r\n        this._designPlaceholder.dom.contentEditable=\"false\";\r\n    }\r\n    get designedComponent() {\r\n        return this._designPlaceholder._components[0];\r\n    }\r\n    destroy() {\r\n        if (this._resizer !== undefined) {\r\n            this._resizer.uninstall();\r\n        }\r\n        if (this._draganddropper !== undefined) {\r\n            this._draganddropper.isDragEnabled = undefined;\r\n            this._draganddropper.uninstall();\r\n        }\r\n        this._propertyEditor?.destroy();\r\n        this._componentPalette?.destroy();\r\n        this._componentExplorer?.destroy();\r\n        this._invisibleComponents?.destroy();\r\n        super.destroy();\r\n    }\r\n\r\n}\r\nexport async function test() {\r\n    return new ComponentDesigner();\r\n\r\n};\r\n\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { Tree } from \"jassijs/ui/Tree\";\nimport { ComponentDescriptor } from \"jassijs/ui/ComponentDescriptor\";\nimport { ContextMenu } from \"jassijs/ui/ContextMenu\";\nimport { Action, Actions } from \"jassijs/base/Actions\";\nimport { Container } from \"jassijs/ui/Container\";\n//import { CodeEditor } from \"jassijs_editor/CodeEditor\";\nimport { ComponentDesigner } from \"jassijs_editor/ComponentDesigner\";\nimport { PropertyEditor } from \"jassijs/ui/PropertyEditor\";\nimport { propertyeditor } from \"jassijs/base/PropertyEditorService\";\nimport { classes } from \"jassijs/remote/Classes\";\nimport { Component } from \"jassijs/ui/Component\";\n\n@$Class(\"jassijs_editor.ComponentExplorer\")\nexport class ComponentExplorer extends Panel {\n    codeEditor;//:CodeEditor;\n    propertyEditor: PropertyEditor;\n    tree: Tree;\n    //contextMenu:ContextMenu;\n    _value;\n    /**\n    * edit object properties\n    */\n    constructor(codeEditor, propertyEditor: PropertyEditor) {\n        super();\n        /** @member {jassijs_editor.CodeEditor} - the parent CodeEditor */\n        this.codeEditor = codeEditor;\n        this.tree = new Tree();\n        this.tree.height = \"100%\";\n        this.contextMenu = new ContextMenu();\n        this.add(this.contextMenu);\n        this.layout();\n        this.propertyEditor = propertyEditor;\n    }\n    /**\n     * @member {jassijs.ui.Component}  - the rendered object \n     */\n    set value(value) {\n        this._value = value;\n        this.tree.items = (value === undefined ? [] : value);\n        this.tree.expandAll();\n    }\n    get value() {\n        return this._value;\n    }\n    /**\n     * get the displayname of the item\n     * must be override\n     * @param {object} item\n     */\n    getComponentName(item) {\n        return item;\n    }\n\n    /**\n     * get the child components\n     * must be override\n     * @param {object} item\n     */\n    getComponentChilds(item) {\n        if (this.codeEditor === undefined)\n            return this.getComponentChildsOld(item);\n        if (item === undefined)\n            return [];\n        var ret = []; \n        if (item.dom?.childNodes) {\n            for (var x = 0; x < item.dom.childNodes.length; x++) {\n                var nd = item.dom.childNodes[x];\n                var varname = this.codeEditor.getVariableFromObject(nd._this);\n                if (varname)\n                    ret.push(nd._this);\n            }\n        }\n        return ret;\n    }\n    getComponentChildsOld(item) {\n        if (item === undefined)\n            return [];\n        if (item === this.value && item._components) {\n            var all = [];\n            (<Component[]>item._components).forEach((e) => {\n                if (!e[\"designDummyFor\"])\n                    all.push(e);\n            });\n            return all;\n        }\n        var comps = ComponentDescriptor.describe(item.constructor).resolveEditableComponents(item);\n\n        var ret = [];\n        for (var name in comps) {\n            var comp = comps[name];\n            if (comp === undefined)\n                continue;\n            var complist = comp._components;\n            if (name !== \"this\" && this.getComponentName(comp) !== undefined) {\n                if (ret.indexOf(comp) === -1)\n                    ret.push(comp);\n            }\n            if (complist !== undefined) {\n                for (var y = 0; y < complist.length; y++) {\n                    if (this.getComponentName(complist[y]) !== undefined) {\n                        if (ret.indexOf(complist[y]) === -1)\n                            ret.push(complist[y]);\n                    }\n                }\n            }\n        }\n        return ret;\n    }\n    layout() {\n        var _this = this;\n        this.tree.width = \"100%\";\n        this.tree.height = \"100%\";\n        this.tree.propChilds = function (item) {\n            return _this.getComponentChilds(item);\n        }\n\n        this.tree.propDisplay = function (item) {\n            return _this.getComponentName(item);\n        }\n        this.contextMenu.getActions = async function (data: any[]): Promise<Action[]> {\n            var ret = [];\n            var parent = <Container>data[0]._parent;\n\n            if (parent !== undefined && parent._components !== undefined) {\n                var hasDummy = (parent._components[parent._components.length - 1][\"designDummyFor\"] !== undefined ? 1 : 0);\n                if ((parent._components.length > 1 + hasDummy) && parent._components.indexOf(data[0]) !== 0) {\n                    var ac: Action = {\n                        call: function () {\n\n                            _this.propertyEditor.swapComponents(parent._components[parent._components.indexOf(data[0]) + -1], data[0]);\n                            _this.tree.items = _this.tree.items;\n                            _this.tree.value = data[0];\n                        },\n                        name: \"move up\"\n                    };\n                    ret.push(ac)\n                }\n                if (parent._components.length > 1 + hasDummy &&\n                    parent._components.indexOf(data[0]) + hasDummy + 1 < parent._components.length) {\n                    var ac: Action = {\n                        call: function () {\n                            _this.propertyEditor.swapComponents(data[0], parent._components[parent._components.indexOf(data[0]) + 1]);\n                            _this.tree.items = _this.tree.items;\n                            _this.tree.value = data[0];\n                        },\n                        name: \"move down\"\n                    };\n                    ret.push(ac)\n                }\n            }\n            return ret;\n        }\n        this.tree.contextMenu = this.contextMenu;\n        this.add(this.tree);\n    }\n    update() {\n        this.value = this.value;\n    }\n    onselect(handler) {\n        this.tree.onselect(handler);\n    }\n    onclick(handler) {\n        this.tree.addEvent(\"click\", handler);\n    }\n    destroy() {\n        this._value = undefined;\n        super.destroy();\n    }\n}\nexport async function test() {\n    var dlg = new ComponentExplorer(undefined, undefined);\n    dlg.getComponentName = function (item) {\n        return classes.getClassName(item);\n    };\n    dlg.value = dlg;\n    return dlg;\n}\n\n\n","import \"jassijs/ext/jquerylib\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\r\nimport { Image } from \"jassijs/ui/Image\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { $UIComponent, UIComponentProperties } from \"jassijs/ui/Component\";\r\n\r\n@$Class(\"jassijs_editor.ComponentPalette\")\r\nexport class ComponentPalette extends Panel {\r\n    _service: string;\r\n    constructor() {\r\n        super();\r\n        this.layout();\r\n    }\r\n    layout() {\r\n    }\r\n    /**\r\n     * @member {string} - the service where the palette-items are registred\r\n     **/\r\n    set service(value) {\r\n        var _this = this;\r\n        this._service = value;\r\n        while (this._components.length > 0) {\r\n            this.remove(this._components[0]);\r\n        }\r\n        registry.getJSONData(this._service).then((jdata) => {\r\n            for (var x = 0; x < jdata.length; x++) {\r\n                var mdata = jdata[x];\r\n                var data: UIComponentProperties = mdata.params[0];\r\n                if (data.fullPath === undefined || data.fullPath === \"undefined\")\r\n                    continue;\r\n                var img = new Image();\r\n                var name = data.fullPath.split(\"/\");\r\n                var sname = name[name.length - 1];\r\n                img.tooltip = sname;\r\n\r\n                img.src = data.icon === undefined ? \"mdi mdi-chart-tree mdi-18px\" : data.icon + (data.icon.startsWith(\"mdi\") ? \" mdi-18px\" : \"\");\r\n                //img.height = 24;\r\n                //img.width = 24;\r\n                img[\"createFromType\"] = mdata.classname;\r\n                img[\"createFromParam\"] = data.initialize;\r\n                _this._makeDraggable(img);\r\n                _this.add(img);\r\n            }\r\n         /*   for (var x = 0; x < jdata.length; x++) {\r\n                var mdata = jdata[x];\r\n                var data: UIComponentProperties = mdata.params[0];\r\n                if (data.fullPath === undefined || data.fullPath === \"undefined\")\r\n                    continue;\r\n                var img = new Image();\r\n                var name = data.fullPath.split(\"/\");\r\n                var sname = name[name.length - 1];\r\n                img.tooltip = sname;\r\n                img.dom.style.color = \"blue\";\r\n                img.src = data.icon === undefined ? \"mdi mdi-chart-tree mdi-18px\" : data.icon + (data.icon.startsWith(\"mdi\") ? \" mdi-18px\" : \"\");\r\n                //img.height = 24;\r\n                //img.width = 24;\r\n                img[\"createFromType\"] = mdata.classname;\r\n                img[\"createFromParam\"] = data.initialize;\r\n                _this._makeDraggable2(img);\r\n                _this.add(img);\r\n            }*/\r\n        });\r\n\r\n\r\n\r\n        registry.loadAllFilesForService(this._service).then(function(){\r\n            registry.getData(_this._service).forEach(function(mdata){\r\n                var data:UIComponentProperties=mdata.params[0];\r\n                var img=new Image();\r\n                var name=data.fullPath.split(\"/\");\r\n                var sname=name[name.length-1];\r\n                img.tooltip=sname;\r\n                img.src=data.icon===undefined?\"res/unknowncomponent.png\":data.icon;\r\n                img.height=24;\r\n                img.width=24;\r\n                img[\"createFromType\"]=classes.getClassName(mdata.oclass);\r\n                img[\"createFromParam\"]=data.initialize;\r\n                _this._makeDraggable(img);\r\n                _this.add(img);\r\n            });\r\n       });\r\n    }\r\n    get service() {\r\n        return this._service;\r\n    }\r\n    /**\r\n     * install the draggable\r\n     * @param {jassijs.ui.Image} component\r\n     */\r\n    _makeDraggable(component) {\r\n        var helper = undefined;\r\n\r\n\r\n        $(component.dom).draggable({\r\n            cancel: \"false\", revert: \"invalid\",\r\n\r\n            appendTo: \"body\",\r\n            helper: function (event) {\r\n                if (helper === undefined) {\r\n                    var cl = classes.getClass(component.createFromType);\r\n                    if (cl === undefined) {\r\n                        classes.loadClass(component.createFromType);//for later\r\n                        cl = Panel;\r\n                    }\r\n                    helper = new cl();\r\n                    var img = new Image();\r\n                    img.src = component.src;\r\n                    img.height = \"24\";\r\n                    img.width = \"24\";\r\n                    img.x = component.x;\r\n                    img.y = component.y;\r\n                    helper._position = img;\r\n                    component._helper = helper;\r\n                    if (component.createFromParam !== undefined) {\r\n                        $.extend(helper, component.createFromParam);\r\n                    }\r\n                    document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n                    document.getElementById(\"jassitemp\").removeChild(helper._position.domWrapper);\r\n                }\r\n                return helper._position.dom;\r\n            }\r\n        });\r\n    }\r\n    _makeDraggable2(component) {\r\n        var helper = undefined;\r\n\r\n        var cl = classes.getClass(component.createFromType);\r\n        if (cl === undefined) {\r\n            classes.loadClass(component.createFromType);//for later\r\n            cl = Panel;\r\n        }\r\n\r\n        /*   var img = new Image();\r\n           (<any>img).native=true;\r\n           img.src = component.src;\r\n           img.dom.style.color = \"blue\";\r\n           img.height = \"24\";\r\n           img.width = \"24\";\r\n           img.x = component.x;\r\n           img.y = component.y;*/\r\n        component.dom.draggable = true;\r\n        component.dom.ondragstart = ev => {\r\n        /*    helper = new cl();\r\n            var img = new Image();\r\n            img.src = component.src;\r\n            img.height = \"24\";\r\n            img.width = \"24\";\r\n            img.x = component.x;\r\n            img.y = component.y;\r\n            helper._position = img;\r\n            component._helper = helper;\r\n            if (component.createFromParam !== undefined) {\r\n                $.extend(helper, component.createFromParam);\r\n            }*/\r\n          //  ev.dataTransfer.setDragImage(img.dom, 20, 20);\r\n            ev.dataTransfer.setData(\"text\", JSON.stringify({\r\n               createFromType : component[\"createFromType\"],\r\n               createFromParam : component[\"createFromParam\"]                       \r\n            }));\r\n            //document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n            //document.getElementById(\"jassitemp\").removeChild(helper._position.domWrapper);\r\n        }\r\n \r\n        //helper._position = img;\r\n        //component._helper = helper;\r\n        // if (component.createFromParam !== undefined) {\r\n        //   $.extend(helper, component.createFromParam);\r\n        //  }\r\n\r\n        /* $(component.dom).draggable({\r\n             cancel: \"false\", revert: \"invalid\",\r\n \r\n             appendTo: \"body\",\r\n             helper: function (event) {\r\n                 if (helper === undefined) {\r\n                     var cl = classes.getClass(component.createFromType);\r\n                     if (cl === undefined) {\r\n                         classes.loadClass(component.createFromType);//for later\r\n                         cl = Panel;\r\n                     }\r\n                     helper = new cl();\r\n                     var img = new Image();\r\n                     img.src = component.src;\r\n                     img.height = \"24\";\r\n                     img.width = \"24\";\r\n                     img.x = component.x;\r\n                     img.y = component.y;\r\n                     helper._position = img;\r\n                     component._helper = helper;\r\n                     if (component.createFromParam !== undefined) {\r\n                         $.extend(helper, component.createFromParam);\r\n                     }\r\n                     document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n                     document.getElementById(\"jassitemp\").removeChild(helper._position.domWrapper);\r\n                 }\r\n                 return helper._position.dom;\r\n             }\r\n         });*/\r\n    }\r\n    destroy() {\r\n\r\n        for (var x = 0; x < this._components.length; x++) {\r\n            var comp = this._components[x];\r\n            if ((<any>comp).native !== true) {\r\n                $(comp.dom).draggable({});\r\n                $(comp.dom).draggable(\"destroy\");\r\n                if (comp[\"_helper\"] !== undefined)\r\n                    comp[\"_helper\"].destroy();\r\n            }\r\n        }\r\n        super.destroy();\r\n    }\r\n}\r\nexport function test() {\r\n    var comp = new ComponentPalette();\r\n    comp.service = \"$UIComponent\";\r\n    return comp;\r\n}","import { $Class } from \"jassijs/remote/Registry\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\nimport {Table} from \"jassijs/ui/Table\";\r\nimport {HTMLPanel} from \"jassijs/ui/HTMLPanel\";\r\nimport {Repeater} from \"jassijs/ui/Repeater\";\r\nimport {Button} from \"jassijs/ui/Button\";\r\nimport {BoxPanel} from \"jassijs/ui/BoxPanel\";\r\nimport {Select} from \"jassijs/ui/Select\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\n\r\nclass Me {\r\n    IDText? : ErrorPanel;\r\n    boxpanel1? : BoxPanel;\r\n    IDUpdate? : Button;\r\n    IDClear ?: Button;\r\n    IDTable?:Table;\r\n}\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs_editor.ui.ComponentSpy\")\r\nexport class ComponentSpy extends Panel {\r\n    ids;\r\n    labelids;\r\n    me:Me;\r\n    hook=undefined;\r\n    constructor() {\r\n        super();\r\n        var _this=this;\r\n        this.hook=Component.onComponentCreated((name,comp)=>{\r\n            if(name===\"create\"){\r\n                _this.watch(comp);\r\n            }\r\n            if(name===\"precreate\"||name===\"destroy\"){\r\n                _this.unwatch(comp);\r\n            }\r\n        });\r\n        this.ids = {};\r\n        this.labelids = {};\r\n        this.layout();\r\n    }\r\n\r\n    @$Action ({\r\n        name: \"Administration\",\r\n        icon: \"mdi mdi-account-cog-outline\",\r\n    })\r\n    static async dummy() {\r\n        \r\n    }\r\n    \r\n\r\n    @$Action ({\r\n        name: \"Administration/Spy Components\",\r\n        icon: \"mdi mdi-police-badge\",\r\n    })\r\n    static async showDialog() {\r\n        router.navigate(\"#do=jassijs.ui.ComponentSpy\");\r\n    }\r\n    layout() {\r\n        var me:Me = this.me = {};\r\n\r\n        me.IDText = new  ErrorPanel();//HTMLPanel();\r\n        this.css={overflow: \"scroll\"};\r\n        var _this = this;\r\n        me.boxpanel1 = new BoxPanel();\r\n        me.IDUpdate = new Button();\r\n        me.IDClear = new Button();\r\n        me.IDTable = new Table();\r\n        this.add(me.boxpanel1);\r\n        this.add(me.IDTable);\r\n        this.add(me.IDText);\r\n        me.boxpanel1.add(me.IDUpdate);\r\n        me.boxpanel1.add(me.IDClear);\r\n        me.boxpanel1.horizontal = false;\r\n        me.IDClear.text = \"clear\";\r\n        me.IDUpdate.text = \"update\";\r\n        me.IDUpdate.onclick(function (event) {\r\n            _this.update();\r\n        });\r\n        me.IDClear.onclick(function (event) {\r\n            _this.clear();\r\n        });\r\n        me.IDText.height=100;\r\n        me.IDUpdate.text = \"Update\";\r\n        me.IDTable.width = \"100%\";\r\n        me.IDTable.height = \"400\";\r\n       \r\n        me.IDTable.onchange(function (ob) {\r\n            me.IDText.addError({error:ob.data});//.stack.replaceAll(\"\\n\", \"<br>\");\r\n        });\r\n       \r\n    }\r\n    update() {\r\n        \r\n        var data = [];\r\n        for (var k in jassijs.componentSpy.ids) {\r\n            data.push(jassijs.componentSpy.ids[k]);\r\n        }\r\n        this.me.IDTable.items = data;\r\n    }\r\n    clear() {\r\n        jassijs.componentSpy.ids = {};\r\n        jassijs.componentSpy.labelids = {};\r\n        this.update();\r\n    }\r\n\r\n    watch(component) {\r\n    \r\n    \t\t\r\n            var ob = {\r\n                type: classes.getClassName(component),\r\n                id: component._id,\r\n                labelid: component.domWrapper === undefined ? 0 : component.domWrapper._id,\r\n                stack: new Error().stack\r\n            }\r\n            this.ids[ob.id] = ob\r\n            this.labelids[ob.labelid] = ob;\r\n        \r\n    }\r\n    stack(id) {\r\n        var test = this.ids[id];\r\n        if (test === undefined)\r\n            test = this.labelids[id];\r\n        if (test !== undefined)\r\n            return test.stack;\r\n        else\r\n            return \"empty\";\r\n    }\r\n    unwatch(component) {\r\n        var ob = this.ids[component._id];\r\n        if (ob !== undefined) {\r\n            delete this.ids[ob.id];\r\n            delete this.labelids[ob.labelid];\r\n        }\r\n    }\r\n    list() {\r\n        var test = [\"jj\", \"kkk\"];\r\n        return test;\r\n    }\r\n    destroy() {\r\n        super.destroy();\r\n        Component.offComponentCreated(this.hook);\r\n        this.hook=undefined;\r\n    }\r\n}\r\nexport function test() {\r\n    var sp=new ComponentSpy();\r\n    sp.update();\r\n    sp.height=100;\r\n    return sp;\r\n}\r\njassijs.componentSpy = new ComponentSpy();\r\n","import { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport { Button } from \"jassijs/ui/Button\";\nimport { Databinder } from \"jassijs/ui/Databinder\";\nimport { Select } from \"jassijs/ui/Select\";\nimport { Table } from \"jassijs/ui/Table\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { Panel } from \"jassijs/ui/Panel\";\n\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\"; \nimport { router } from \"jassijs/base/Router\";\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\nimport windows from \"jassijs/base/Windows\";  \nimport { DatabaseClass, DatabaseField, DatabaseSchema } from \"jassijs_editor/util/DatabaseSchema\";\ntype Me = { \n    table?: Table;\n    select?: Select;\n    databinder?: Databinder;\n    newclass?: Button;\n    boxpanel1?: BoxPanel;\n    save?: Button;\n    boxpanel2?: BoxPanel;\n    newfield?: Button;\n    removefield?: Button;\n    boxpanel3?: BoxPanel;\n};\n\n@$ActionProvider(\"jassijs.base.ActionNode\")\n@$Class(\"jassijs_editor/DatabaseDesigner\")\nexport class DatabaseDesigner extends Panel {\n    me: Me;\n    currentSchema: DatabaseSchema;\n    currentClass: DatabaseClass;\n    allTypes = { values: [\"\"] };\n    posibleRelations = { values: [\"\"] };\n    constructor(readShema=true) {\n        super();\n        this.me = {};\n        this.layout(this.me,readShema);\n    }\n    @$Action({\n        name: \"Administration/Database Designer\",\n        icon: \"mdi mdi-database-edit\",\n    })\n    static async showDialog() {\n        router.navigate(\"#do=jassijs_editor/DatabaseDesigner\");\n    }\n    \n    layout(me: Me,readShema=true) {\n        me.newclass = new Button();\n        me.boxpanel1 = new BoxPanel();\n        me.save = new Button();\n        me.boxpanel2 = new BoxPanel(false);\n        me.newfield = new Button();\n        me.removefield = new Button();\n        me.boxpanel3 = new BoxPanel();\n        me.boxpanel1.horizontal = true;\n        var _this = this;\n        var xxx = 0;\n        var params = { values: [\"hall\", \"du\"] };\n        me.table = new Table({\n            autoColumns: false,\n            columns: [\n                //@ts-ignore\n                { title: \"name\", field: \"name\", editor: \"input\", editable: true },\n                //@ts-ignore\n                { title: \"type\", field: \"type\", editor: \"select\", editorParams: this.allTypes },\n                //@ts-ignore\n                { title: \"nullable\", field: \"nullable\", editor: \"tickCross\", editorParams: { tristate: false } },\n                \n                {\n                    //@ts-ignore\n                    title: \"relationinfo\", field: \"relationinfo\", editor: \"select\",\n                    editorParams: this.posibleRelations,\n                    cellEditing: function (cell) {\n                        _this.updatePossibleRelations(cell);\n                    }\n                }\n            ]\n        });\n        me.select = new Select();\n        me.databinder = new Databinder();\n        this.add(me.databinder);\n        me.table.width = 565;\n        me.table.height = \"300\";\n        me.table.onchange(function (event?: JQueryEventObject, data?: any/*Tabulator.RowComponent*/) {\n        });\n        me.select.display = \"name\";\n        me.select.selectComponent = me.databinder;\n        me.select.onchange(function (event) {\n            _this.update();\n        });\n        me.select.width = 210;\n        if(readShema){\n            this.readSchema();\n        }\n        this.width = 719;\n        this.height = 386;\n        this.add(me.boxpanel1);\n        this.add(me.boxpanel2);\n        me.newclass.text = \"Create DBClass\";\n        me.newclass.onclick(function (event) {\n            _this.addClass();\n        });\n        me.newclass.icon = \"mdi mdi-note-plus-outline\";\n        me.newclass.tooltip = \"new DBClass\";\n        me.newclass.width = \"150\";\n        me.boxpanel1.add(me.select);\n        me.boxpanel1.width = 365;\n        me.boxpanel1.height = 25;\n        me.boxpanel1.add(me.newclass);\n        me.boxpanel1.add(me.save);\n        me.save.text = \"Save all Classes\";\n        me.save.onclick(function (event) {\n            _this.saveAll().then((s)=>{\n                if(s!==\"\"){\n                    alert(s);\n                }\n            })\n        });\n        me.save.width = 150;\n        me.save.icon = \"mdi mdi-content-save\";\n        me.save.width = 180;\n        me.boxpanel2.height = 115;\n        me.boxpanel2.horizontal = true;\n        me.boxpanel2.width = 55;\n        me.newfield.text = \"Create Field\";\n        me.newfield.icon = \"mdi mdi-playlist-plus\";\n        me.newfield.onclick(function (event) {\n            _this.addField();\n        });\n        me.newfield.width = \"120\";\n        me.newfield.height = 25;\n        me.newfield.css={\n            text_align: \"left\"\n        };\n        me.boxpanel2.add(me.table);\n        me.boxpanel2.add(me.boxpanel3);\n        me.removefield.text = \"Remove Field\";\n        me.removefield.icon = \"mdi mdi-playlist-minus\";\n        me.removefield.width = \"120\";\n        me.removefield.css={\n            text_align: \"left\"\n        };\n        me.removefield.onclick(function (event) {\n            var field = me.table.value;\n            if (field) {\n                var pos = _this.currentClass.fields.indexOf(field);\n                _this.currentClass.fields.splice(pos, 1);\n                me.table.items = _this.currentClass.fields;\n                me.table.value = undefined;\n            }\n        });\n        me.boxpanel3.add(me.newfield);\n        me.boxpanel3.add(me.removefield);\n    }\n    \n    async saveAll(showChanges=undefined):Promise<string> {\n        try {\n            var text = await this.currentSchema.updateSchema(true);\n            if (text !== \"\") {\n                if (showChanges===false|| (await OptionDialog.show(\"Do you won't this changes?<br/>\" + text.replaceAll(\"\\n\", \"<br/>\"), [\"Yes\", \"Cancel\"])).button === \"Yes\") {\n                    await this.currentSchema.updateSchema(false);\n                    //@ts-ignore\n                    windows.findComponent(\"Files\")?.refresh();\n                }\n            }\n            else {\n                return \"no changes detected\";\n            }\n        }\n        catch (err) {\n           \n            return err.message+\"\\r\\n\"+err.stack;\n        }\n        return \"\";\n    }\n    \n    addField(typename:string=undefined,name:string=undefined,nullable:boolean=undefined,relation:string=undefined){\n            var field = new DatabaseField();\n            //@ts-ignore\n            field.parent = this.currentClass;\n            if(name)\n                field.name=name;\n            if(nullable)\n                field.nullable=nullable;\n            if(typename)\n                field.type = typename;\n            if(relation)\n                field.relation = relation;\n            this.currentClass.fields.push(field);\n            this.me.table.items = this.currentClass.fields;\n    }\n    \n    async addClass(classname:string=undefined) {\n        var sub = this.currentClass.name.substring(0, this.currentClass.name.lastIndexOf(\".\"));\n        var res;\n        if(classname){\n            res={\n                button:\"OK\",\n                text:classname\n            }\n        }else\n            res=await OptionDialog.show(\"Enter classname\", [\"OK\", \"Cancel\"], undefined, true, sub + \".MyOb\");\n        if (res.button === \"OK\") {\n            this.currentClass = new DatabaseClass();\n            this.currentClass.name = res.text;\n            this.currentClass.parent = this.currentSchema;\n            var f = new DatabaseField();\n            f.name = \"id\";\n            f.type = \"int\";\n            f.relation = \"PrimaryColumn\";\n            this.currentClass.fields = [f];\n            this.currentSchema.databaseClasses.push(this.currentClass);\n            this.me.select.items = this.currentSchema.databaseClasses;\n            this.me.select.value = this.currentClass;\n            this.update();\n        }\n    }\n    \n    updatePossibleRelations(cell:any /*Tabulator.CellComponent*/) {\n        var _this = this;\n        var tp: DatabaseField = <DatabaseField>cell.getData();\n        this.posibleRelations.values = tp.getPossibleRelations();\n    }\n    updateTypes() {\n        var _this = this;\n        this.allTypes.values = [];\n        DatabaseSchema.basicdatatypes.forEach((e) => {\n            _this.allTypes.values.push(e);\n        });\n        this.currentSchema.databaseClasses.forEach((cl) => {\n            _this.allTypes.values.push(cl.name);\n            _this.allTypes.values.push(cl.name + \"[]\");\n        });\n    }\n    update() {\n        this.currentClass = this.me.select.value;\n        this.me.table.items = this.currentClass.fields;\n        this.updateTypes();\n    }\n    async readSchema() {\n        this.currentSchema = new DatabaseSchema();\n        await this.currentSchema.loadSchemaFromCode();\n        this.me.select.items = this.currentSchema.databaseClasses;\n        this.me.select.value = this.currentSchema.databaseClasses[0];\n        this.update();\n    }\n}\n\nexport async function test() {\n    var ret = new DatabaseDesigner();\n   \n    return ret;\n}\n","import { $Class } from \"jassijs/remote/Registry\";\n\n//https://developer.chrome.com/extensions/messaging\n@$Class(\"jassijs_editor.Debugger\")\nexport class Debugger\n{\n        destroyed:boolean;\n        debugpoints;\n        /**\n         * routing of url\n         * @class jassijs.base.Debugger\n         */\n\t\tconstructor(){\n   \n\t\t}\n\t\t/**\n\t\t * @param {string} file - the file to save\n\t\t * @param {string} code - the code to Transform\n\t\t * @param [number] debuglines - lines which updates the variables\n\t\t * @param {Object.<int,string>}  debuglinesConditions - is the breakpoint in line conitionally [line]->condition\n\t\t **/\n\t\tasync debugCode(file,code,debuglines,debuglinesConditions,evalToCursorPosition){\n        }\n        /**\n         * remove all breakpoints for the file\n         * @param file \n         */\n        async removeBreakpointsForFile(file:string){\n        }\n\t\t /**\n         * extract all variables in code\n         * @param {string} code - the code to inspect\n         */\n        _extractVariables(code){\n            var pos=0;\n            var ret=[];\n            while(pos!==-1){\n                pos=code.indexOf(\"var\"+\" \",pos);\n                if(pos!==-1){\n                    var p1=code.indexOf(\" \",pos+4);\n                    var p2=code.indexOf(\";\",pos+4);\n                    var p3=code.indexOf(\"=\",pos+4);\n                    var p=Math.min(p1===-1?999999999:p1,p2===-1?999999999:p2,p3===-1?999999999:p3);\n                    var variabel=code.substring(pos+4,p);\n                    var patt = new RegExp(\"\\\\W\");\n                    if(!patt.test(variabel))\n                        ret.push(variabel);\n                     pos=pos+1;\n                }\n               \n            }\n            return ret;\n        }\n        /**\n         * sets a breakpoint for debugging\n         * @param {string} file\n         * @param {number} line\n         * @param {number} enable - if true then breakpoint is set if false then removed\n         * @param {string} type - the type default undefined->stop debugging \n         **/\n        breakpointChanged(file,line,column,enable,type){\n            if(navigator.userAgent.indexOf(\"Chrome\")>-1){\n                (import(\"jassijs_editor/ChromeDebugger\")).then((deb)=>{\n                    deb.ChromeDebugger.showHintExtensionNotInstalled();\n\n                });\n            }\n        //\tconsole.log(\"break on\"+file);\n        }\n        /**\n         * report current variable scope\n         * @param {numer} id - id of the variablepanel\n         * @param {[Object.<string,object>]} variables \n         */\n    \treportVariables(id,variables){\n    \t\tvar editor=document.getElementById(id)._this;\n    \t\talert(editor);\n    \t    \t\n    \t\n    \t\teditor[\"addVariables\"](variables);\n    \t}\n    \t /**\n         * add debugpoints in code\n         * @param {[string]} lines - code\n         * @param {Object.<number, boolean>} debugpoints - the debugpoints\n         * @param {jassijs_editor.CodeEditor} codeEditor\n         */\n        addDebugpoints(lines,debugpoints,codeEditor){\n        \tjassijs.d[codeEditor._id]=undefined;\n//        \tjassijs.ui.VariablePanel.get(this._id).__db=undefined;\n        \tvar hassome=undefined;\n        \tthis.debugpoints=debugpoints;\n        \tfor(var point in debugpoints){\n        \t\tif(debugpoints[point]===true){\n        \t\t\t//lines[point]=\"if(jassijs.ui.VariablePanel.get(\"+this._id+\").__db===undefined){ jassijs.ui.VariablePanel.get(\"+this._id+\").__db=true;debugger;}\"+lines[point];\n        \t\t\tlines[point]=\"if(jassijs.d(\"+codeEditor._id+\")) debugger;\"+lines[point];\n \n        \t\t}\n        \t}\n        }\n\t\t/**\n         * \n         * @param {string} code - full source code\n         * @param {jassijs_editor.CodeEditor} codeEditor\n         * @returns {string}\n         */\n        getCodeForBreakpoint(code,codeEditor){\n        /*\tvar reg = /([\\w]*)[\\(][^\\)]*[\\)]/g;\n        \tvar test=reg.exec(code);\n        \ttest=reg.exec();\n        \talert(test);*/\n        \t\n            var vars=this._extractVariables(code);\n            var reg=/[A-Z,a-z,0-9,\\_]*[/w]*[\\(][A-Z,a-z,0-9,\\_,\\,]*\\)\\{/g;\n            var test=reg.exec(code);\n            while(test){\n                \n                \n                if(!test[0].startsWith(\"while\")&&!test[0].startsWith(\"if\")){\n                    var params=test[0].substring(test[0].indexOf(\"(\")+1,test[0].indexOf(\")\"));\n                    if(params.length>0){\n                        var ps=params.split(\",\");\n                        for(var p=0;p<ps.length;p++){\n                            if(vars.indexOf(ps[p])===-1)\n                                vars.push(ps[p]);\n                        }\n                    }\n                }\n                test=reg.exec(code);\n            }\n            var svars=\"{var debug_editor=document.getElementById(\"+codeEditor._id+\")._this;var _variables_={} ;try{if(this!==jassi)_variables_['this']=this;}catch(ex){};\";\n            //svars=svars+\"try{_variables_.addParameters(arguments);}catch(ex){};\";\n            for(var x=0;x<vars.length;x++){\n        //        alert(vars[x]);\n                svars=svars+\"try{_variables_['\"+vars[x]+\"']=\"+vars[x]+\";}catch(ex){};\";\n            }\n            svars=svars+\"debug_editor.addVariables(_variables_);}\";\n            return svars;\n        }\n         destroy(){\n\t\t\tthis.destroyed=true;\n        }\n}\n\t   \n\t   if(jassijs.debugger===undefined)\n           jassijs.debugger=new Debugger();\n           //@ts-ignore\n        require([\"jassijs_editor/ChromeDebugger\"]);\n\n\n\n   ","\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { errors, Errors } from \"jassijs/base/Errors\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\n\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport { notify } from \"jassijs/ui/Notify\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport { config } from \"jassijs/remote/Config\";\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs_editor.ui.ErrorPanel\")\r\nexport class ErrorPanel extends Panel {\r\n    IDClear: Button;\r\n    _container;\r\n    IDToolbar: Panel;\r\n    IDSearch: Button;\r\n    withControls: boolean;\r\n    withLastErrors: boolean;\r\n    withNewErrors: boolean;\r\n    /**\r\n * shows errors \r\n * @class jassijs.ui.ErrorPanel\r\n */\r\n    constructor(withControls = true, withLastErrors = true, withNewErrors = true) {\r\n        super();\r\n        this.withControls = withControls;\r\n        this.withLastErrors = withLastErrors;\r\n        this.withNewErrors = withNewErrors;\r\n        this.layout();\r\n    }\r\n    @$Action({\r\n        name: \"Administration/Errors\",\r\n        icon: \"mdi mdi-emoticon-confused-outline\",\r\n    })\r\n    static async showDialog() {\r\n        router.navigate(\"#do=jassijs.ui.ErrorPanel\");\r\n    }\r\n    layout() {\r\n        var _this = this;\r\n        if (this.withControls) {\r\n            this.IDClear = new Button();\r\n            this.IDClear.tooltip = \"Clear log\";\r\n            this.IDClear.icon = \"mdi mdi-delete\";\r\n            this.IDClear.onclick(function () {\r\n                _this.clear();\r\n                errors.items = [];\r\n            });\r\n            this.IDClear.width = 35;\r\n            this.IDSearch = new Button();\r\n            this.IDSearch.tooltip = \"search errors\";\r\n            this.IDSearch.icon = \"mdi mdi-file-search-outline\";\r\n            this.IDSearch.onclick(function () {\r\n                _this.search();\r\n\r\n            });\r\n            this.IDToolbar = new Panel();\r\n            this.IDToolbar.width = \"99%\";\r\n\r\n            this.IDToolbar.add(this.IDClear);\r\n            this.IDToolbar.add(this.IDSearch);\r\n            this.IDToolbar.height = 20;\r\n            super.add(this.IDToolbar);\r\n        }\r\n        var value = Component.createHTMLElement('<div><font  size=\"2\"><div class=\"errorpanel\"></div></font></div>');\r\n        this.dom.appendChild(value);\r\n        this._container = this.dom.querySelector(\".errorpanel\");\r\n        if (this.withNewErrors)\r\n            this.registerError();\r\n        if (this.withLastErrors) {\r\n            //old Errors\r\n            for (var x = 0; x < errors.items.length; x++) {\r\n                this.addError(errors.items[x]);\r\n            }\r\n        }\r\n        if (window[\"jassijs_debug\"] === undefined)\r\n            window[\"jassijs_debug\"] = { variables: [] };\r\n\r\n    }\r\n    /**\r\n     * search Errors in code\r\n     **/\r\n    async search() {\r\n        var typescript = (await import(\"jassijs_editor/util/Typescript\")).default;\r\n        await typescript.initService();\r\n       \r\n        var all = await typescript.getDiagnosticsForAll();\r\n        \r\n        if (all.length === 0)\r\n            notify(\"no Errors found\", \"info\", { position: \"right\" });\r\n        for (var x = 0; x < all.length; x++) {\r\n            var diag = all[x];\r\n            var s = diag.file.fileName;\r\n            var pos = typescript.getLineAndCharacterOfPosition(diag.file.fileName, diag.start);\r\n            var href = window.location.origin;\r\n            var err = {\r\n                filename: diag.file.fileName,\r\n                lineno: pos.line,\r\n                colno: pos.character,\r\n                error: {\r\n\r\n                    message: diag.messageText,\r\n                    stack: \"\"//href + \"/\" + diag.file.fileName + \":\" + pos.line + \":\" + pos.character\r\n\r\n                }\r\n\r\n\r\n            }\r\n            Errors.errors.addError(err);\r\n        }\r\n\r\n    }\r\n    /**\r\n     * adds a new error\r\n     * @param {object} error - the error\r\n     */\r\n    async addError(error) {\r\n        var msg = \"\";\r\n        if (error.infoMsg !== undefined) {\r\n            msg = error.infoMsg + \"<br>\";\r\n        } else {\r\n            var sstack = \"\";\r\n            var m = error.error?.message;\r\n            if (!m)\r\n                m = \"\";\r\n            if (m.messageText)\r\n                m = m.messageText;\r\n            if (error.error) {\r\n                sstack = m.replaceAll(\":\", \"\") + \"(\" + error.filename + \":\" + error.lineno + \":\" + error.colno + \")\\n\";\r\n                if (error.error.stack !== undefined)\r\n                    sstack = sstack + error.error.stack;\r\n            }\r\n            if (error.reason !== undefined) {\r\n                sstack = error.reason.message + \":::\\n\";\r\n                if (error.reason.stack !== undefined)\r\n                    sstack = sstack + error.reason.stack;\r\n            }\r\n            var stack = sstack.split('\\n');\r\n            msg = \"\";\r\n            for (var i = 0; i < stack.length; i++) {\r\n                var line = stack[i];\r\n                if (line.indexOf(\".ts:\") > 0) {\r\n                    msg = msg + '<div>' + line.substring(0, line.lastIndexOf(\"(\")) +\r\n                        '<a href=\"#\" onclick=\"jassijs.ErrorPanel.prototype.onsrclink(this);\">' +\r\n                        line.substr(line.lastIndexOf(\"(\") + 1, line.length - 1) + '</a>)' + \"\" + '</div>';\r\n\r\n                } else {\r\n                    if (line.split(\":\").length < 4)\r\n                        continue;//edge and chrome insert message in stack->ignore\r\n                    var poshttp = line.indexOf(\"http\");\r\n                    var url: string = await this._convertURL(line.substring(poshttp, line.length));\r\n                    line = line.replace(\"\\n\", \"\");\r\n                    var ident = (i === 0 ? \"0\" : \"20\");\r\n                    msg = msg + '<div style=\"text-indent:' + ident + 'px;\">' + line.substring(0, poshttp) +\r\n                        '<a href=\"#\" onclick=\"jassijs.ErrorPanel.prototype.onsrclink(this);\">' +\r\n                        url + '</a>' + (line.endsWith(\")\") ? \")\" : \"\") + '</div>';\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n        var value = Component.createHTMLElement('<span>' + msg + '</span>');\r\n        this._container.prepend(value);\r\n        //  this.dom.appendChild(value);\r\n    }\r\n    async _convertURL(url: string) {\r\n        var wurl = window.location.href.split(\"/index.html\")[0];\r\n        if (url.endsWith(\")\"))\r\n            url = url.substring(0, url.length - 1);\r\n        var wurl = url.substring(0, url.indexOf(\"#\"));\r\n\r\n\r\n        var aurl = url.split(\":\");\r\n        if (aurl.length >= 3) {\r\n            var line = aurl[aurl.length - 2];\r\n            var col = aurl[aurl.length - 1];\r\n            var u = url.substring(0, url.length - 2 - line.length - col.length);\r\n            if (line === \"\" || col === \"\" || u === \"\")\r\n                return url;\r\n            var ismodul = false;\r\n            for (var mod in config.modules) {\r\n                if (config.modules[mod] === u)\r\n                    ismodul = true;\r\n            }\r\n            if (u.indexOf(\"/js/\") > -1 || ismodul) {\r\n                try {\r\n                    //@ts-ignore\r\n                    var TSSourceMap = (await import(\"jassijs_editor/util/TSSourceMap\")).TSSourceMap;\r\n                var map=new TSSourceMap();\r\n                    var pos = await map.getLineFromJS(u, Number(line), Number(col));\r\n                    if (pos) {\r\n                        return pos.source.replace(\"../client/\", \"\").replaceAll(\"../\", \"\").replace(\"$temp\", \"\") +\r\n                            \":\" + pos.line + \":\" + pos.column;\r\n                    }\r\n                } catch (err) {\r\n                    return url;\r\n                }\r\n            }\r\n\r\n        }\r\n        /* if (!url.startsWith(\"/\"))\r\n             url = \"/\" + url;\r\n         if (url.startsWith(\"/js\") && url.indexOf(\".js\") > -1) {\r\n             var aurl = url.substring(1).split(\":\");\r\n             var newline = await new TSSourceMap().getLineFromJS(aurl[0], Number(aurl[1]), Number(aurl[2]));\r\n             url = aurl[0].substring(3).replace(\".js\", \".ts\") + \":\" + newline + \":\" + aurl[2];\r\n             if (url.startsWith(\"tmp/\"))\r\n                 url = url.substring(4);\r\n         }*/\r\n        return url;\r\n    }\r\n    /**\r\n     * deletes all errors\r\n     */\r\n    clear() {\r\n        while (this._container.firstChild) {\r\n            this._container.removeChild(this._container.firstChild);\r\n        }\r\n    }\r\n    registerError() {\r\n        var _this = this;\r\n        errors.onerror(function (err) {\r\n            _this.addError(err);\r\n\r\n        }, this._id);\r\n    }\r\n    unregisterError() {\r\n        errors.offerror(this._id);\r\n    }\r\n    destroy() {\r\n        this.unregisterError();\r\n        super.destroy();\r\n        //this._container\r\n    }\r\n\r\n    /*  set value(value){ //the Code\r\n          //this.table.value=value;\r\n      }\r\n      get value(){\r\n          //return this.table.value;\r\n      }*/\r\n}\r\nexport function test2() {\r\n    var ret = new ErrorPanel();\r\n    return ret;\r\n};\r\n\r\n\r\n\r\nErrorPanel.prototype[\"onsrclink\"] = function (param) {\r\n    var data = param.text.split(\":\");\r\n    if (data[1] === \"\")\r\n        return;\r\n    router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + data[0] + \"&line=\" + data[1]);\r\n    // jassijs_editor.CodeEditor.open(param.text);\r\n}\r\njassijs.ErrorPanel = ErrorPanel;\r\n","\r\n/// <amd-dependency path=\"vs/editor/editor.main\" name=\"_monaco\"/>\r\n/// <amd-dependency path=\"vs/language/typescript/tsWorker\" name=\"tsWorker\"/>\r\ndeclare var _monaco;\r\ndeclare var tsWorker;\r\ndeclare var require;\r\n\r\nimport modul from \"jassijs_editor/modul\";\r\n//hack to make autocompletion for autoimports from other modules\r\n//let monacopath=\"https://cdn.jsdelivr.net/npm/monaco-editor@0.21.2/dev\";\r\nlet monacopath = modul.require.paths.vs.replace(\"/vs\", \"\");\r\n\r\nvar platform_1 = require(\"vs/base/common/platform\");\r\nplatform_1.globals.MonacoEnvironment = {};\r\n\r\nfunction myfunc() {\r\n    if (require.getConfig().baseUrl === \"\") {\r\n        setTimeout(() => { myfunc(); }, 10);\r\n    } else {\r\n        require(['vs/language/typescript/tsWorker'], function (tsWorker) {\r\n            tsWorker.TypeScriptWorker.prototype.getCompletionsAtPosition = async function (fileName, position, properties) {\r\n\r\n                return await this._languageService.getCompletionsAtPosition(fileName, position, properties);\r\n            }\r\n        });\r\n    }\r\n    //   }\r\n\r\n}\r\nplatform_1.globals.MonacoEnvironment.getWorker = function (workerId, label) {\r\n    const myPath = 'vs/base/worker/defaultWorkerFactory.js';\r\n    //\"https://cdn.jsdelivr.net/npm/monaco-editor@0.26.1/dev/vs/base/worker/workerMain.js\"\r\n    let scriptPath = monacopath + \"/vs/base/worker/workerMain.js\";// require.toUrl('./' + workerId);\r\n    //\"https://cdn.jsdelivr.net/npm/monaco-editor@0.26.1/dev/\"\r\n    const workerBaseUrl = require.toUrl(myPath).slice(0, -myPath.length); // explicitly using require.toUrl(), see https://github.com/microsoft/vscode/issues/107440#issuecomment-698982321\r\n    let js = `/*${label}*/self.MonacoEnvironment={baseUrl: '${workerBaseUrl}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${scriptPath}') ?? '${scriptPath}');/*${label}*/;`;\r\n    if (label === \"typescript\")\r\n        js += myfunc.toString() + \";myfunc();\";\r\n    const blob = new Blob([js], { type: 'application/javascript' });\r\n    var workerUrl = URL.createObjectURL(blob);\r\n\r\n    //var workerUrl=URL.createObjectURL(blob);\r\n    return new Worker(workerUrl, { name: label });\r\n}\r\n\r\nexport { };","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Tree } from \"jassijs/ui/Tree\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { Textbox } from \"jassijs/ui/Textbox\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { $ActionProvider, $Action, Actions } from \"jassijs/base/Actions\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { Menu } from \"jassijs/ui/Menu\";\r\nimport { MenuItem } from \"jassijs/ui/MenuItem\";\r\n\r\nimport { ContextMenu } from \"jassijs/ui/ContextMenu\";\r\nimport { CSSProperties } from \"jassijs/ui/CSSProperties\";\r\nimport windows from \"jassijs/base/Windows\";\r\nimport { config } from \"jassijs/remote/Config\";\r\n\r\nimport { Reloader } from \"jassijs/util/Reloader\";\r\n//drag from Desktop https://www.html5rocks.com/de/tutorials/file/dndfiles/\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs_editor.ui.FileActions\")\r\nexport class FileActions {\r\n\r\n    @$Action({\r\n        name: \"New/File\",\r\n        icon: \"mdi mdi-file\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[], fileName: string = undefined, code: string = \"\", open: boolean = false) {\r\n        if (all.length === 0 || !all[0].isDirectory())\r\n            return;\r\n        var path = all[0].fullpath;\r\n        if (fileName === undefined) {\r\n            var res = await OptionDialog.show(\"Enter file name:\", [\"ok\", \"cancel\"], undefined, true, \".ts\");\r\n            if (res.button === \"ok\" && res.text !== all[0].name) {\r\n                fileName = res.text;\r\n            } else\r\n                return;\r\n        }\r\n        //console.log(\"create \" + fileName);\r\n        var key = FileExplorer.instance?.tree?.getKeyFromItem(all[0]);\r\n        var newfile = path + (path===\"\"?\"\":\"/\") + fileName;\r\n\r\n        var ret = await new Server().createFile(newfile, code);\r\n        var newkey = path + (path===\"\"?\"\":\"|\")+ fileName;\r\n        if (ret !== \"\") {\r\n            alert(ret);\r\n            return;\r\n        }\r\n        try {\r\n            await FileExplorer.instance?.refresh();\r\n            await FileExplorer.instance?.tree.activateKey(newkey);\r\n            if (open)\r\n                router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + newkey.replaceAll(\"|\", \"/\"));\r\n        } catch (err) {\r\n            debugger;\r\n        }\r\n    }\r\n    @$Action({\r\n        name: \"Download\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async download(all: FileNode[]) {\r\n\r\n        var path = all[0].fullpath;\r\n        var byteCharacters = atob(<string>await new Server().zip(path));\r\n        const byteNumbers = new Array(byteCharacters.length);\r\n        for (let i = 0; i < byteCharacters.length; i++) {\r\n            byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n        }\r\n        const byteArray = new Uint8Array(byteNumbers);\r\n        // If you want to use the image in your DOM:\r\n        var blob = new Blob([byteArray], { type: \"application/zip\" });\r\n        var url = URL.createObjectURL(blob);\r\n        var link = document.createElement('a');\r\n        document.body.appendChild(link);\r\n        link.href = url;\r\n        link.click();\r\n        link.remove();\r\n    }\r\n\r\n    @$Action({\r\n        name: \"New/Folder\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFolder(all: FileNode[], filename: string = undefined) {\r\n        if (all.length === 0 || !all[0].isDirectory())\r\n            return;\r\n        var path = all[0].fullpath;\r\n\r\n        var res;\r\n        if (filename) {\r\n            res = { button: \"ok\", text: filename };\r\n        } else\r\n            res = await OptionDialog.show(\"Enter file name:\", [\"ok\", \"cancel\"], undefined, true, \"\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n           // console.log(\"create Folder\" + res.text);\r\n            var key = FileExplorer.instance?.tree.getKeyFromItem(all[0]);\r\n            var newfile = path + (path===\"\"?\"\":\"/\") + res.text;\r\n            var ret = await new Server().createFolder(newfile);\r\n            var newkey = path + (path===\"\"?\"\":\"|\") + res.text;\r\n            if (ret !== \"\") {\r\n                alert(ret);\r\n                return;\r\n            }\r\n            await FileExplorer.instance?.refresh();\r\n            FileExplorer.instance?.tree.activateKey(newkey);\r\n        }\r\n\r\n    }\r\n    @$Action({\r\n        name: \"New/Module\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].name === \"client\" && all[0].fullpath === \"\";\r\n        }\r\n    })\r\n    static async newModule(all: FileNode[]) {\r\n        if (all.length === 0 || !all[0].isDirectory())\r\n            return;\r\n        var path = all[0].fullpath;\r\n\r\n        var res = await OptionDialog.show(\"Enter file name:\", [\"ok\", \"cancel\"], undefined, true, \"\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n            var smodule = res.text.toLocaleLowerCase();\r\n            if (config.modules[smodule]) {\r\n                alert(\"modul allready exists\");\r\n                return;\r\n            }\r\n            var key = FileExplorer.instance.tree.getKeyFromItem(all[0]);\r\n\r\n            var ret = await new Server().createModule(smodule);\r\n            var newkey = path + (path===\"\"?\"\":\"|\") + smodule;\r\n            if (ret !== \"\") {\r\n                alert(ret);\r\n                return;\r\n            } else {\r\n                config.modules[smodule] = smodule;\r\n            }\r\n            await FileExplorer.instance.refresh();\r\n            FileExplorer.instance.tree.activateKey(newkey);\r\n        }\r\n\r\n    }\r\n    @$Action({ name: \"Delete\" })\r\n    static async dodelete(all: FileNode[], withwarning = true) {\r\n        var s = \"\";\r\n        all.forEach((node) => {\r\n            s = s + \"\" + node.fullpath + \"<br/>\";\r\n        })\r\n        var res;\r\n        if (withwarning) {\r\n            res = await OptionDialog.show(\"Delete this?<br/>\" + s, [\"ok\", \"cancel\"], undefined, true);\r\n        }\r\n        if (!withwarning || (res.button === \"ok\" && res.text !== all[0].name)) {\r\n            var ret = await new Server().delete(all[0].fullpath);\r\n            if (ret !== \"\") {\r\n                alert(ret);\r\n                return;\r\n            }\r\n            var key = FileExplorer.instance?.tree.getKeyFromItem(all[0].parent);\r\n            await FileExplorer.instance?.refresh();\r\n            FileExplorer.instance?.tree.activateKey(key);\r\n        }\r\n    }\r\n    private static async  reloadFilesystem(enableLocalFS) {\r\n        await new Promise((resolve)=>{\r\n            config.serverrequire([\"jassijs/server/NativeAdapter\",\"jassijs/server/LocalFS\",\"jassijs/server/FS\"],(native,localFS,FS)=>{\r\n                if(enableLocalFS){\r\n                native.myfs=new localFS.LocalFS();\r\n                native.exists=localFS.exists;\r\n                }else{\r\n                    native.myfs=new FS.FS();\r\n                    native.exists=FS.exists;\r\n                        \r\n                }\r\n                    resolve(undefined);\r\n               \r\n            })\r\n    \r\n        });\r\n    } \r\n    @$Action({ name: \"Map local folder\",isEnabled:(entr)=>entr[0].name===\"client\"&&config.serverrequire!==undefined})\r\n    static async mapLocalFolder(all: FileNode[], foldername = undefined) {\r\n        await new Promise((resolve)=>{\r\n            config.serverrequire([\"jassijs/server/LocalFS\"],(localFS)=>{\r\n                localFS.createHandle().then((res)=>{\r\n                    resolve(undefined);\r\n                })\r\n            })\r\n    \r\n        });\r\n        config.isLocalFolderMapped=true;\r\n        await FileActions.reloadFilesystem(true);\r\n        await FileActions.refresh(all);\r\n    }\r\n    @$Action({ name: \"Close local folder\",isEnabled:(entr)=>entr[0].name===\"client\"&&config.isLocalFolderMapped})\r\n    static async closeLocalFolder(all: FileNode[], foldername = undefined) {\r\n        await new Promise((resolve)=>{\r\n            config.serverrequire([\"jassijs/server/LocalFS\"],(localFS)=>{\r\n                localFS.deleteHandle().then((res)=>{\r\n                    resolve(undefined);\r\n                })\r\n            })\r\n    \r\n        });\r\n        config.isLocalFolderMapped=true;\r\n        await FileActions.reloadFilesystem(false);\r\n        await FileActions.refresh(all);\r\n    }\r\n    @$Action({ name: \"Rename\" })\r\n    static async rename(all: FileNode[], foldername = undefined) {\r\n        if (all.length !== 1)\r\n            alert(\"only one file could be renamed\");\r\n        else {\r\n            var res;\r\n            if (foldername) {\r\n                res = { button: \"ok\", text: foldername };\r\n            } else\r\n                res = await OptionDialog.show(\"Enter new name:\", [\"ok\", \"cancel\"], undefined, true, all[0].name);\r\n            if (res.button === \"ok\" && res.text !== all[0].name) {\r\n                //console.log(\"rename \" + all[0].name + \" to \" + res.text);\r\n                var key = FileExplorer.instance?.tree.getKeyFromItem(all[0]);\r\n                var path = all[0].parent !== undefined ? all[0].parent.fullpath : \"\";\r\n                var newfile = path + (path===\"\"?\"\":\"/\") + res.text;\r\n                var ret = await new Server().rename(all[0].fullpath, newfile);\r\n                var newkey = key?.replace(all[0].name, res.text);\r\n                if (ret !== \"\") {\r\n                    alert(ret);\r\n                    return;\r\n                }\r\n                if (!all[0].isDirectory()){\r\n\r\n                    let tss = (await import(\"jassijs_editor/util/\"+\"Typescript\")).default;//modul jassijs could not comp\r\n                    await tss?.renameFile(all[0].fullpath, newfile);\r\n                }\r\n                await FileExplorer.instance?.refresh();\r\n                FileExplorer.instance?.tree.activateKey(newkey);\r\n            }\r\n        }\r\n    }\r\n    @$Action({ name: \"Refresh\" })\r\n    static async refresh(all: FileNode[]) {\r\n        var key = FileExplorer.instance.tree.getKeyFromItem(all[0]);\r\n        await FileExplorer.instance.refresh();\r\n        FileExplorer.instance.tree.activateKey(key);\r\n    }\r\n    @$Action({\r\n        name: \"Open\", isEnabled: function (all: FileNode[]): boolean {\r\n            return !all[0].isDirectory();\r\n        }\r\n    })\r\n    static async open(all: FileNode[]) {\r\n        var node: FileNode = all[0];\r\n        if (node.isDirectory())\r\n            return;\r\n        router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + node.fullpath);\r\n    }\r\n\r\n}\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs.ui.FileExplorer\")\r\nexport class FileExplorer extends Panel {\r\n    tree: Tree;\r\n    _files: any;\r\n    search: Textbox;\r\n    static instance: FileExplorer = undefined;\r\n    constructor() {\r\n        super();\r\n        FileExplorer.instance = this;\r\n        //this.maximize();\r\n        this.dom.style.width=\"calc(100% - 8px)\";\r\n        this.dom.style.height=\"calc(100% - 25px)\";//why 25????\r\n        this.tree = new Tree();\r\n        this.search = new Textbox();\r\n        this.layout();\r\n        this.tree.propStyle = node => { return this.getStyle(node) };\r\n    }\r\n    @$Action({\r\n        name: \"Windows/Development/Files\",\r\n        icon: \"mdi mdi-file-tree\",\r\n    })\r\n    static async show() {\r\n        if (windows.contains(\"Files\"))\r\n            var window = windows.show(\"Files\");\r\n        else\r\n            windows.addLeft(new FileExplorer(), \"Files\");\r\n    }\r\n    getStyle(node: FileNode): CSSProperties {\r\n        var ret: CSSProperties = undefined;\r\n        if (node.flag?.indexOf(\"fromMap\") > -1) {\r\n            ret = {\r\n                color: \"green\"\r\n            }\r\n        }\r\n        if (node.flag?.indexOf(\"module\") > -1) {\r\n            ret = {\r\n                color: \"blue\"\r\n            }\r\n        }\r\n\r\n        return ret;\r\n    }\r\n    async refresh() {\r\n        let root = (await new Server().dir());\r\n        root.fullpath = \"\";\r\n        root.name = \"client\";\r\n        //flag modules\r\n        for (let x = 0; x < root.files.length; x++) {\r\n\r\n            if (config.modules[root.files[x].name] !== undefined) {\r\n                root.files[x].flag = (root.files[x].flag?.length > 0) ? \"module\" : root.files[x].flag + \" module\";\r\n            }\r\n        }\r\n        var keys = this.tree.getExpandedKeys();\r\n        this.tree.items = [root];\r\n        if (keys.indexOf(\"client\") === -1)\r\n            keys.push(\"client\");\r\n        await this.tree.expandKeys(keys);\r\n\r\n    }\r\n    async layout() {\r\n        var _this = this;\r\n        this.tree.width = \"100%\"\r\n        this.tree.height = \"100%\";\r\n        super.add(this.search);\r\n        super.add(this.tree);\r\n        this.tree.propDisplay = \"name\";\r\n        this.tree.propChilds = \"files\";\r\n        let context = new ContextMenu();\r\n        this.tree.contextMenu = context;\r\n        context.includeClassActions = true;\r\n        this.refresh();\r\n        this.add(this.tree);\r\n        // this._files.files;\r\n        this.tree.onclick(function (evt) {\r\n\r\n            if (evt.data !== undefined) {\r\n                FileActions.open([evt.data]);\r\n\r\n            }\r\n        });\r\n        //@ts-ignore\r\n        this.dom.style.flow=\"visible\";\r\n        this.search.onkeydown(function (evt) {\r\n            window.setTimeout(() => {\r\n                _this.tree.filter(<string>_this.search.value);\r\n                if (evt.code === \"Enter\") {\r\n                    //_this.tree.\r\n                }\r\n            }, 100);\r\n        });\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\nexport function test() {\r\n    var exp = new FileExplorer();\r\n    exp.height = 100;\r\n    return exp;\r\n\r\n}\r\n\r\n\r\n","import { ComponentDesigner } from \"jassijs_editor/ComponentDesigner\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Component, createComponent, HTMLComponent, TextComponent } from \"jassijs/ui/Component\";\r\nimport { Container } from \"jassijs/ui/Container\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\n\r\n@$Class(\"jassijs_editor.HtmlDesigner\")\r\nexport class HtmlDesigner extends ComponentDesigner {\r\n\r\n    constructor() {\r\n        super();\r\n        var _this = this;\r\n        this._designPlaceholder.dom.addEventListener(\"keydown\", (ev => _this.keydown(ev)));\r\n        this._designPlaceholder.dom.contentEditable = \"true\";\r\n        this._designPlaceholder.dom.addEventListener(\"drop\", (ev) => _this.ondrop(ev));\r\n    }\r\n    private getParentList(node: Node, list: Node[]) {\r\n        list.push(node);\r\n        if (node !== <any>document)\r\n            this.getParentList(<any>node.parentNode, list);\r\n    }\r\n    ondrop(ev: DragEvent) {\r\n        var _this = this;\r\n\r\n\r\n        ev.preventDefault();\r\n        var data = ev.dataTransfer.getData(\"text\");\r\n        var range;\r\n        if (document.caretRangeFromPoint) {\r\n            // edge, chrome, android\r\n            range = document.caretRangeFromPoint(ev.clientX, ev.clientY)\r\n        } else {\r\n            // firefox\r\n            var pos = [ev.rangeParent, ev.rangeOffset]\r\n            range = document.createRange()\r\n            range.setStart(...pos);\r\n            range.setEnd(...pos);\r\n        }\r\n        var selection = document.getSelection();\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);\r\n        if (data.indexOf('\"createFromType\":') > -1) {\r\n\r\n\r\n            var toCreate: { createFromType: string, createFromParam: string } = <any>JSON.parse(data);\r\n            var cl = classes.getClass(toCreate.createFromType);\r\n            var newComponent = new cl();\r\n            _this.insertComponent(newComponent, selection);\r\n            _this.updateDummies();\r\n        }\r\n\r\n    }\r\n\r\n    /*set designedComponent(component) {\r\n        alert(8);\r\n        super.designedComponent=component;\r\n        \r\n    }*/\r\n    registerKeys() {\r\n        return;\r\n        var _this = this;\r\n        this._codeEditor._design.dom.tabindex = \"1\";\r\n        this._codeEditor._design.dom.addEventListener(\"keydown\", function (evt) {\r\n            if (evt.keyCode === 115 && evt.shiftKey) {//F4\r\n                // var thiss=this._this._id;\r\n                // var editor = ace.edit(this._this._id);\r\n                _this.evalCode(true);\r\n                evt.preventDefault();\r\n                return false;\r\n            } else if (evt.keyCode === 115) {//F4\r\n                _this.evalCode(false);\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 90 && evt.ctrlKey) {//Ctrl+Z\r\n                _this.undo();\r\n            }\r\n            if (evt.keyCode === 116) {//F5\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 46 || (evt.keyCode === 88 && evt.ctrlKey && evt.shiftKey)) {//Del or Ctrl X)\r\n                _this.cutComponent();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 67 && evt.ctrlKey && evt.shiftKey) {//Ctrl+C\r\n                _this.copy();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 86 && evt.ctrlKey && evt.shiftKey) {//Ctrl+V\r\n                _this.paste();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if ((String.fromCharCode(evt.which).toLowerCase() === 's' && evt.ctrlKey)/* && (evt.which == 19)*/) {//Str+s\r\n                _this.save();\r\n                event.preventDefault();\r\n                return false;\r\n            }\r\n\r\n        });\r\n    }\r\n    private deleteNodeBetween(node1: Node, node2: Node) {\r\n        var list1 = [];\r\n        var list2 = [];\r\n        this.getParentList(node1, list1);\r\n        this.getParentList(node2, list2);\r\n        var pos = 0;\r\n        var test = list1[pos];\r\n        while (list2.indexOf(list1[pos]) === -1) {\r\n            pos++;\r\n        }\r\n        var par1 = list1[pos - 1];\r\n        var par2 = list2[list2.indexOf(list1[pos]) - 1];\r\n        var todel = par1.nextSibling;\r\n        while (todel !== par2) {\r\n            var del = todel;\r\n            todel = todel.nextSibling;\r\n            del.remove();\r\n        }\r\n\r\n    }\r\n    editDialog(enable) {\r\n        super.editDialog(enable);\r\n    }\r\n    createDragAndDropper() {\r\n        return undefined;\r\n    }\r\n    private removeNode(from: Node, frompos: number, to: Node, topos: number) {\r\n        if (from === to) {\r\n            var neu = to.textContent;\r\n            this.changeText(to, neu.substring(0, frompos) + \"\" + neu.substring(topos));\r\n        } else {\r\n            this.deleteNodeBetween(from, to);\r\n            this.changeText(from, from.textContent.substring(0, frompos));\r\n            this.changeText(to, to.textContent.substring(topos));\r\n        }\r\n        var range = document.createRange();\r\n        var selection = getSelection();\r\n        range.setStart(from, frompos);\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);;\r\n    }\r\n    private changeText(node: Node, text: string) :Node{\r\n        var varname = this._propertyEditor.getVariableFromObject((<any>node)._this);\r\n        this._propertyEditor.setPropertyInCode(\"text\", '\"' + text + '\"', true, varname);\r\n        if (text === \"&nbsp;\")\r\n            (<HTMLHtmlElement>node).innerHTML = text\r\n        else\r\n            node.textContent = text;\r\n        return node;\r\n    }\r\n    private insertComponent(component: Component, sel: Selection = document.getSelection(), suggestedvarname: string = undefined) {\r\n        var anchorNode = sel.anchorNode;\r\n        var old = anchorNode.textContent;\r\n        var node = anchorNode;\r\n        var v1 = old.substring(0, sel.anchorOffset);\r\n        var v2 = old.substring(sel.focusOffset);\r\n        this.changeText(node, v2);\r\n        var comp: Component = (<any>node)._this;\r\n        var br = this.createComponent(classes.getClassName(component), component, undefined, undefined, comp._parent, comp, true, suggestedvarname);\r\n        if (v1 === \"\")\r\n            v1 = \"&nbsp;\";\r\n        var nd = document.createTextNode(v1);\r\n        var comp2 = new TextComponent();\r\n        comp2.init(<any>nd, { noWrapper: true });\r\n        var text2 = this.createComponent(\"jassijs.ui.TextComponent\", comp2, undefined, undefined, comp._parent, br, true, \"text\");\r\n\r\n        this.changeText(text2.dom, v1);\r\n        this.updateDummies();\r\n    }\r\n    private keydown(e: KeyboardEvent) {\r\n        var sel = document.getSelection();\r\n        var position = sel.anchorNode.compareDocumentPosition(sel.focusNode);\r\n        var anchorNode = sel.anchorNode;\r\n        var anchorOffset = sel.anchorOffset;\r\n        var focusNode = sel.focusNode;\r\n        var focusOffset = sel.focusOffset;\r\n\r\n\r\n        // selection has wrong direction\r\n        if (!position && sel.anchorOffset > sel.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            anchorOffset = sel.focusOffset;\r\n            anchorNode = sel.focusNode;\r\n            focusNode = sel.anchorNode;\r\n            focusOffset = sel.anchorOffset;\r\n        }\r\n\r\n        if (e.keyCode === 13) {\r\n            e.preventDefault();\r\n            var enter = createComponent(React.createElement(\"br\"));\r\n            this.insertComponent(enter, sel, \"br\");\r\n            //var enter = node.parentNode.insertBefore(document.createElement(\"br\"), node);\r\n            // var textnode = enter.parentNode.insertBefore(document.createTextNode(v1), enter);\r\n            return;\r\n        }\r\n        if (e.code === \"Delete\") {\r\n            e.preventDefault();\r\n            if (anchorNode === focusNode && anchorOffset === focusOffset) {//no selection\r\n                (<any>sel).modify(\"extend\", \"right\", \"character\");\r\n                var newsel = document.getSelection();\r\n                this.removeNode(anchorNode, anchorOffset, newsel.focusNode, newsel.focusOffset);\r\n            } else {\r\n                this.removeNode(anchorNode, anchorOffset, focusNode, focusOffset);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (e.code === \"Backspace\") {\r\n            e.preventDefault();\r\n            if (anchorNode === focusNode && anchorOffset === focusOffset) {//no selection\r\n                (<any>sel).modify(\"extend\", \"left\", \"character\");\r\n                var newsel = document.getSelection();\r\n                this.removeNode(newsel.focusNode, newsel.focusOffset, anchorNode, anchorOffset);\r\n            } else {\r\n                this.removeNode(anchorNode, anchorOffset, focusNode, focusOffset);\r\n            }\r\n            return;\r\n        }\r\n        if (e.key.length === 1) {\r\n            \r\n            var end = focusOffset;\r\n            if (anchorNode !== focusNode) {\r\n                end = anchorNode.textContent.length;\r\n            }\r\n            if (anchorNode === focusNode && anchorOffset === focusOffset) {//no selection\r\n\r\n            } else {\r\n                this.removeNode(anchorNode, anchorOffset, focusNode, focusOffset);\r\n\r\n            }\r\n            var neu = anchorNode.textContent.substring(0, anchorOffset) + e.key + anchorNode.textContent.substring(end);\r\n            if (anchorNode.nodeType !== anchorNode.TEXT_NODE) {//there is no Textnode here we create one\r\n                var before = undefined;\r\n                if (anchorNode.childNodes.length > 0) {\r\n                    before = anchorNode.childNodes[0]._this;\r\n                }\r\n                var comp2 = new TextComponent();\r\n                 var newone = document.createTextNode(e.key);\r\n                 var par=anchorNode._this;\r\n                 comp2.init(<any>newone, { noWrapper: true });\r\n                var text2 = this.createComponent(\"jassijs.ui.TextComponent\", comp2, undefined, undefined, par, before, true, \"text\");\r\n                  anchorOffset=0;\r\n                anchorNode=newone;\r\n                neu=e.key;\r\n            }\r\n            this.changeText(anchorNode, neu);\r\n            e.preventDefault();\r\n            var range = document.createRange();\r\n            range.setStart(anchorNode, anchorOffset + 1);\r\n            sel.removeAllRanges();\r\n            sel.addRange(range);\r\n\r\n        }\r\n        this.updateDummies();\r\n    }\r\n}\r\nexport function test() {\r\n    var dom = React.createElement(\"div\", {\r\n        contenteditable: \"true\"\r\n\r\n\r\n    },\r\n        \"Hallo\", \"Du\");\r\n\r\n    var ret = createComponent(dom);\r\n    //ret.dom.addEventListener(\"keydown\", keydown);\r\n    //windows.add(ret, \"Hallo\");\r\n    return ret;\r\n}","export default {\r\n    \"css\":{\"jassijs_editor.css\":\"jassijs_editor.css\"},\r\n    \"types\":{\r\n        \"node_modules/csstype.d.ts\":\"https://cdn.jsdelivr.net/gh/frenic/csstype@master/index.d.ts\",\r\n       \r\n       // \"node_modules/@types/csstype/index.d.ts\":\"https://cdn.jsdelivr.net/gh/frenic/csstype@master/index.d.ts\",\r\n        \"node_modules/@types/react/canary.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/canary.d.ts\",\r\n        \"node_modules/@types/react/experimental.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/experimental.d.ts\",\r\n        \"node_modules/@types/react/global.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/global.d.ts\",\r\n        \"node_modules/@types/react/index.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/index.d.ts\",\r\n        \"node_modules/@types/react/jsx-runtime.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/jsx-runtime.d.ts\",\r\n        \"node_modules/@types/react/jsx-dev-runtime.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/jsx-dev-runtime.d.ts\",\r\n        \"node_modules/monaco.d.ts\":\"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/monaco.d.ts\",\r\n        \"node_modules/typescript/typescriptServices.d.ts\": \"https://cdn.jsdelivr.net/gh/microsoft/TypeScript@release-3.7/lib/typescriptServices.d.ts\"\r\n    },\r\n    \"require\":{ \r\n        paths: {\r\n            'ace': '//cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/',\r\n            'ace/ext/language_tools': '//cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/ext-language_tools',\r\n            monacoLib:\"jassijs_editor/ext/monacoLib\",\r\n            vs: \"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/dev/vs\"\r\n        },\r\n        shim: {\r\n            'ace/ext/language_tools': ['ace/ace'],\r\n        }\r\n    \r\n    }\r\n}","\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport \"jassijs_editor/Debugger\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport \"jassijs_editor/ext/monaco\";\r\nimport typescript from \"jassijs_editor/util/Typescript\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\nimport { Settings } from \"jassijs/remote/Settings\";\r\nimport { currentsettings } from \"jassijs/base/CurrentSettings\";\r\n\r\n\r\nvar inited = false;\r\nfunction __init(editor: monaco.editor.IStandaloneCodeEditor) {\r\n    if (inited)\r\n        return;\r\n    //auto import \r\n    const cs = (editor as any)._commandService\r\n    var CommandsRegistry = require(\"vs/platform/commands/common/commands\").CommandsRegistry;\r\n    CommandsRegistry.registerCommand(\"autoimport\", (o1, model: monaco.editor.ITextModel, pos) => {\r\n        var file = model.uri.path.substring(1);\r\n        var code = model.getValue();\r\n        var p = typescript.getPositionOfLineAndCharacter(file, {\r\n            line: pos.lineNumber, character: pos.column\r\n        });\r\n        const oldpos = model[\"lastEditor\"].getPosition();\r\n        setTimeout(() => {\r\n            CodePanel.getAutoimport(p, file, code).then((data) => {\r\n\r\n                if (data !== undefined) {\r\n\r\n                    model.pushEditOperations([], [{\r\n                        range: monaco.Range.fromPositions({ column: data.pos.column, lineNumber: data.pos.row + 1 }),\r\n                        text: data.text\r\n                    }], (a) => {\r\n                        return null;\r\n                    });\r\n                    oldpos.lineNumber = oldpos.lineNumber + (data.text.indexOf(\"\\r\") ? 1 : 0);\r\n                    model[\"lastEditor\"].setPosition(oldpos);\r\n                }\r\n            });\r\n\r\n        }, 100);\r\n    })\r\n    //implement go to definition\r\n    //TODO FIX deprecrated in new Version s. monaco.editor.registerEditorOpener\r\n    const editorService = editor[\"_codeEditorService\"];\r\n    const openEditorBase = editorService.openCodeEditor.bind(editorService);\r\n    editorService.openCodeEditor = async (input, source) => {\r\n        const result = await openEditorBase(input, source);\r\n        if (result === null) {\r\n            var file = input.resource.path.substring(1);\r\n            var line = input.options.selection.startLineNumber;\r\n\r\n            router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + file + \"&line=\" + line);\r\n        }\r\n        return result; // always return the base result\r\n    };\r\n    //completion for autonimport\r\n    monaco.languages.registerCompletionItemProvider('typescript', {\r\n        provideCompletionItems: async function (model, position) {\r\n            var textUntilPosition = model.getValueInRange({ startLineNumber: 1, startColumn: 1, endLineNumber: position.lineNumber, endColumn: position.column });\r\n            var word = model.getWordUntilPosition(position);\r\n            var range = {\r\n                startLineNumber: position.lineNumber,\r\n                endLineNumber: position.lineNumber,\r\n                startColumn: word.startColumn,\r\n                endColumn: word.endColumn\r\n            };\r\n            var file = model.uri.path.substring(1);\r\n            var pos = typescript.getPositionOfLineAndCharacter(file, { line: position.lineNumber, character: position.column });\r\n            var all = await typescript.getCompletion(file, pos, undefined, { includeExternalModuleExports: true });\r\n            var sug = [];\r\n            for (var x = 0; x < all.entries.length; x++) {\r\n                var it = all.entries[x];\r\n                if ((it.kindModifiers === \"export\" || it.kindModifiers === \"\") && it.hasAction === true) {\r\n                    var item: monaco.languages.CompletionItem = {\r\n                        label: it.name,\r\n                        kind: <monaco.languages.CompletionItemKind>it.kind,\r\n                        documentation: \"import from \" + it.source,\r\n                        insertText: it.name,\r\n                        range: range,\r\n                        command: {\r\n                            arguments: [model, position],\r\n                            id: \"autoimport\",\r\n                            title: \"autoimport\"\r\n                        }\r\n                    }\r\n                    sug.push(item);\r\n                }\r\n            }\r\n            return {\r\n                suggestions: sug\r\n            };\r\n        }\r\n    });\r\n    inited = true;\r\n}\r\n\r\n/**\r\n* wrapper for the Ace-Code editor with Typescript-Code-Completion an other features\r\n* @class jassijs.ui.CodePanel\r\n*/\r\n@$Class(\"jassijs_editor.MonacoPanel\")\r\nexport class MonacoPanel extends CodePanel {\r\n    private _mode: string;\r\n    private _editor: monaco.editor.IStandaloneCodeEditor;\r\n    private _isInited: boolean;\r\n    //   private _lastCursorPosition;\r\n    declare file: string;\r\n    private static _tooltipdiv;\r\n    private _lastTooltipRefresh;\r\n    constructor() {\r\n        super();\r\n        var _this = this;\r\n        var test = '<div class=\"MonacoPanel\" style=\"height: 100px; width: 100px\"></div>';\r\n\r\n        super.init(test);\r\n\r\n        this.domWrapper.style.overflow=\"hidden\";\r\n        this.domWrapper.style.display= \"\";\r\n\r\n        /* _this._editor.on(\"guttermousedown\", function(e) {\r\n \r\n             var row = e.getDocumentPosition().row;\r\n             var breakpoints = e.editor.session.getBreakpoints(row, 0);\r\n             var type = \"debugpoint\";\r\n             if (e.domEvent.ctrlKey)\r\n                 type = \"checkpoint\";\r\n             var column = _this._editor.session.getLine(row).length;\r\n             if (typeof breakpoints[row] === typeof undefined) {\r\n                 e.editor.session.setBreakpoint(row);\r\n                 _this.callEvent(\"breakpointChanged\", row, column, true, type);\r\n             } else {\r\n                 e.editor.session.clearBreakpoint(row, false, undefined);\r\n                 _this.callEvent(\"breakpointChanged\", row, column, false, type);\r\n             }\r\n         });*/\r\n        let theme = currentsettings.gets(Settings.keys.Development_MoanacoEditorTheme);\r\n        this._editor = monaco.editor.create(this.dom, {\r\n            //value:  monaco.editor.getModels()[0], //['class A{b:B;};\\nclass B{a:A;};\\nfunction x() {', '\\tconsole.log(\"Hello world!\");', '}'].join('\\n'),\r\n            language: 'typescript',\r\n            theme: (theme ? theme : \"vs-light\"),\r\n            glyphMargin: true,\r\n            fontSize: 12,\r\n            automaticLayout: true,\r\n            //@ts-ignore\r\n            inlineSuggest:{}\r\n        });\r\n\r\n        __init(this._editor);\r\n        this._editor.onMouseDown(function (e) {\r\n            _this._mouseDown(e);\r\n        });\r\n        //this._editor.setModel(monaco.editor.getModels() [1]);\r\n\r\n    }\r\n    private getBreakpointDecoration(line: number): monaco.editor.IModelDecoration {\r\n        var decs = this._editor.getLineDecorations(line);\r\n        for (var x = 0; x < decs.length; x++) {\r\n            if (decs[x].options.glyphMarginClassName === \"jbreackpoint\")\r\n                return decs[x];\r\n        }\r\n        return undefined;\r\n    }\r\n     autocomplete(){\r\n        this._editor.trigger(\"ll\",'editor.action.triggerSuggest',\"{}\");\r\n    }\r\n    private _mouseDown(e) {\r\n        if (e.target.type === 2) {\r\n            var line = e.target.position.lineNumber;\r\n            var column = this._editor.getModel().getLineContent(line - 1).length;\r\n            var type = \"debugpoint\";\r\n            var dec = this.getBreakpointDecoration(line);\r\n            if (dec) {\r\n                this._editor.deltaDecorations([dec.id], []);\r\n                this.callEvent(\"breakpointChanged\", line - 1, column, false, type);\r\n            } else {\r\n                this.callEvent(\"breakpointChanged\", line - 1, column, true, type);\r\n                var decorations = this._editor.deltaDecorations([], [\r\n                    {\r\n                        range: new monaco.Range(line, 1, line, 1),\r\n                        options: {\r\n                            isWholeLine: true,\r\n                            className: 'jbreackpointclass',\r\n                            glyphMarginClassName: 'jbreackpoint'\r\n                        }\r\n                    }\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * gets a list of all lines with breakpoint\r\n     * @returns {Object.<number, boolean>}\r\n     */\r\n    getBreakpoints(): { [line: number]: boolean } {\r\n        var ret = {};\r\n        var decs = this._editor.getModel().getLineCount();\r\n        for (var x = 1; x <= this._editor.getModel().getLineCount(); x++) {\r\n            if (this.getBreakpointDecoration(x)) {\r\n                ret[x - 1] = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * breakpoint changed\r\n     * @param {function} handler - function(line,enabled,type)\r\n     */\r\n    onBreakpointChanged(handler) {\r\n        this.addEvent(\"breakpointChanged\", handler);\r\n    }\r\n    /**\r\n     * component get focus\r\n     * @param {function} handler\r\n     */\r\n    onfocus(handler) {\r\n        return undefined;\r\n        //   this._editor.on(\"focus\", handler);\r\n    }\r\n    /**\r\n     * component lost focus\r\n     * @param {function} handler\r\n     */\r\n    onblur(handler) {\r\n        return undefined;\r\n        // this._editor.on(\"blur\", handler);\r\n    }\r\n    /**\r\n     * @param - the codetext\r\n     */\r\n    set value(value: string) { //the Code\r\n        var lastcursor = this.cursorPosition;\r\n        var _this = this;\r\n        if (this.file) {\r\n            var ffile = monaco.Uri.from({ path: \"/\" + this.file, scheme: 'file' });\r\n            var mod = monaco.editor.getModel(ffile);\r\n            if (!mod) {\r\n                var stype=\"typescript\";\r\n                if(this.file.toLocaleLowerCase().endsWith(\".css\"))\r\n                    stype=\"css\";\r\n                 if(this.file.toLocaleLowerCase().endsWith(\".json\"))\r\n                    stype=\"json\";\r\n                if(this.file.toLocaleLowerCase().endsWith(\".html\"))\r\n                    stype=\"html\";\r\n                if(this.file.toLocaleLowerCase().endsWith(\".jpg\"))\r\n                    stype=\"jpg\";\r\n                mod = monaco.editor.createModel(value, stype, ffile);\r\n                this._editor.setModel(mod);\r\n                this._editor.setValue(value);\r\n            } else if (mod !== this._editor.getModel()) {\r\n                delete this._editor.getModel()[\"lastEditor\"];\r\n                this._editor.setModel(mod);\r\n                this._editor.setValue(value);\r\n            } else {\r\n                const fullRange = this._editor.getModel().getFullModelRange();\r\n\r\n                // Apply the text over the range\r\n                this._editor.executeEdits(null, [{\r\n                    text: value,\r\n                    range: fullRange\r\n                    \r\n                }]);\r\n                \r\n                /* alternative\r\n                this._editor.getModel().pushEditOperations([], [{\r\n                    range: this._editor.getModel().getFullModelRange(),// monaco.Range.fromPositions({ column: data.pos.column, lineNumber: data.pos.row }),\r\n                    text: value\r\n                }], (a) => {\r\n                    return null\r\n                });*/\r\n                this._editor.pushUndoStop();\r\n            }\r\n            if (this._editor.getModel()) {\r\n                this._editor.getModel()[\"lastEditor\"] = _this._editor;\r\n\r\n            }\r\n        } else\r\n\r\n            this._editor.setValue(value);\r\n    }\r\n\r\n    get value(): string {\r\n        return this._editor.getValue();\r\n    }\r\n    /**\r\n     * @param {object} position - the current cursor position {row= ,column=}\r\n     */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._editor.focus();\r\n        try {\r\n            this._editor.revealLine(cursor.row);\r\n            this._editor.setPosition({ column: cursor.column, lineNumber: cursor.row });\r\n        } catch {\r\n\r\n        }\r\n    }\r\n    get cursorPosition(): { row: number, column: number } {\r\n        var pos = this._editor.getPosition();\r\n        return {\r\n            row: pos.lineNumber,\r\n            column: pos.column\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        //this._editor.destroy();\r\n        super.destroy();\r\n        delete this._editor.getModel()[\"lastEditor\"];\r\n    }\r\n\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        //@ts-ignore\r\n        this._editor.getModel().undo();\r\n    }\r\n    /**\r\n     * resize the editor\r\n     * */\r\n    resize() {\r\n        //\r\n        //   this._editor.resize();\r\n    }\r\n    /**\r\n   * @member {string} - the language of the editor e.g. \"ace/mode/javascript\"\r\n   */\r\n    set mode(mode) {\r\n        //  alert(mode);\r\n        this._mode = mode;\r\n        //  this._editor.getSession().setMode(\"ace/mode/\" + mode);\r\n    }\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n    async loadsample() {\r\n\r\n        this.file = \"a/Dialog.ts\";\r\n        this.value = \"var a=window.document;\";\r\n    }\r\n}\r\n\r\nexport async function test() {\r\n    //await Settings.save(Settings.keys.Development_MoanacoEditorTheme, \"vs-dark\", \"user\")\r\n    var dlg = new MonacoPanel();\r\n    //  var code = await new Server().loadFile(\"a/Dialog.ts\");\r\n    await dlg.loadsample();\r\n    setTimeout(() => {\r\n        dlg.width = \"800\";\r\n        dlg.height = \"100\";\r\n\r\n    }, 200);\r\n    //@ts-ignore\r\n    //   dlg._editor.layout();\r\n\r\n    //    dlg.value = \"var h;\\r\\nvar k;\\r\\nvar k;\\r\\nvar k;\\r\\nconsole.debug('ddd');\";\r\n    //  dlg.mode = \"javascript\";\r\n    //dlg._editor.renderer.setShowGutter(false);\t\t\r\n    //dlg._editor.getSession().addGutterDecoration(1,\"error_line\");\r\n    //  dlg._editor.getSession().setBreakpoint(1);\r\n    // dlg._editor.getSession().setBreakpoint(2);\r\n\r\n    return dlg;\r\n}\r\n\r\n","//this file is autogenerated don't modify\ndefine(\"jassijs_editor/registry\",[\"require\"], function(require) {\n return {\n  default: {\n\t\"jassijs_editor/AcePanel.ts\": {\n\t\t\"date\": 1684357702000,\n\t\t\"jassijs.ui.AcePanel\": {}\n\t},\n\t\"jassijs_editor/AcePanelSimple.ts\": {\n\t\t\"date\": 1657651672000,\n\t\t\"jassijs.ui.AcePanelSimple\": {}\n\t},\n\t\"jassijs_editor/ChromeDebugger.ts\": {\n\t\t\"date\": 1681488352000,\n\t\t\"jassijs_editor.ChromeDebugger\": {}\n\t},\n\t\"jassijs_editor/CodeEditor.ts\": {\n\t\t\"date\": 1696697256483.297,\n\t\t\"jassijs_editor.CodeEditorSettingsDescriptor\": {\n\t\t\t\"$SettingsDescriptor\": [],\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs_editor.CodeEditor\": {\n\t\t\t\"@members\": {}\n\t\t}\n\t},\n\t\"jassijs_editor/CodeEditorInvisibleComponents.ts\": {\n\t\t\"date\": 1681558934000,\n\t\t\"jassijs_editor.CodeEditorInvisibleComponents\": {}\n\t},\n\t\"jassijs_editor/CodePanel.ts\": {\n\t\t\"date\": 1655661690000,\n\t\t\"jassijs_editor.CodePanel\": {}\n\t},\n\t\"jassijs_editor/ComponentDesigner.ts\": {\n\t\t\"date\": 1697051410384.2578,\n\t\t\"jassijs_editor.ComponentDesigner\": {}\n\t},\n\t\"jassijs_editor/ComponentExplorer.ts\": {\n\t\t\"date\": 1696696982919.5652,\n\t\t\"jassijs_editor.ComponentExplorer\": {}\n\t},\n\t\"jassijs_editor/ComponentPalette.ts\": {\n\t\t\"date\": 1697051376777.724,\n\t\t\"jassijs_editor.ComponentPalette\": {}\n\t},\n\t\"jassijs_editor/ComponentSpy.ts\": {\n\t\t\"date\": 1681570602000,\n\t\t\"jassijs_editor.ui.ComponentSpy\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"dummy\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-account-cog-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Spy Components\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-police-badge\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/DatabaseDesigner.ts\": {\n\t\t\"date\": 1684176866000,\n\t\t\"jassijs_editor/DatabaseDesigner\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Database Designer\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-database-edit\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/Debugger.ts\": {\n\t\t\"date\": 1656019586000,\n\t\t\"jassijs_editor.Debugger\": {}\n\t},\n\t\"jassijs_editor/ErrorPanel.ts\": {\n\t\t\"date\": 1682794808000,\n\t\t\"jassijs_editor.ui.ErrorPanel\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Errors\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-emoticon-confused-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/ext/monaco.ts\": {\n\t\t\"date\": 1681572586000\n\t},\n\t\"jassijs_editor/FileExplorer.ts\": {\n\t\t\"date\": 1683575950000,\n\t\t\"jassijs_editor.ui.FileActions\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/File\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"download\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Download\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newModule\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Module\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"dodelete\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Delete\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"mapLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Map local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"closeLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Close local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"rename\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Rename\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"refresh\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Refresh\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"open\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Open\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"jassijs.ui.FileExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Files\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file-tree\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/HtmlDesigner.ts\": {\n\t\t\"date\": 1697052572549.2588,\n\t\t\"jassijs_editor.HtmlDesigner\": {}\n\t},\n\t\"jassijs_editor/modul.ts\": {\n\t\t\"date\": 1695399690345.8984\n\t},\n\t\"jassijs_editor/MonacoPanel.ts\": {\n\t\t\"date\": 1684357486000,\n\t\t\"jassijs_editor.MonacoPanel\": {}\n\t},\n\t\"jassijs_editor/SearchExplorer.ts\": {\n\t\t\"date\": 1681590246000,\n\t\t\"jassijs_editor.ui.SearchExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Search\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-folder-search-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/StartEditor.ts\": {\n\t\t\"date\": 1681571256000\n\t},\n\t\"jassijs_editor/template/TemplateDBDialog.ts\": {\n\t\t\"date\": 1681570392000,\n\t\t\"jassijs_editor.template.TemplateDBDialogProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBDialog\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateDBObject.ts\": {\n\t\t\"date\": 1681570394000,\n\t\t\"jassijs_editor.template.TemplateDBObjectProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateEmptyDialog.ts\": {\n\t\t\"date\": 1681579996000,\n\t\t\"jassijs_editor.template.TemplateEmptyDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Dialog\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateRemoteObject.ts\": {\n\t\t\"date\": 1681570100000,\n\t\t\"jassijs_editor.template.TemplateRemoteObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/RemoteObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/DatabaseSchema.ts\": {\n\t\t\"date\": 1681569388000,\n\t\t\"jassijs_editor.util.DatabaseSchema\": {}\n\t},\n\t\"jassijs_editor/util/DragAndDropper.ts\": {\n\t\t\"date\": 1657925428000,\n\t\t\"jassijs_editor.util.DragAndDropper\": {}\n\t},\n\t\"jassijs_editor/util/Parser.ts\": {\n\t\t\"date\": 1697052536534.7373,\n\t\t\"jassijs_editor.util.Parser\": {}\n\t},\n\t\"jassijs_editor/util/Resizer.ts\": {\n\t\t\"date\": 1656018240000,\n\t\t\"jassijs_editor.util.Resizer\": {}\n\t},\n\t\"jassijs_editor/util/Tests.ts\": {\n\t\t\"date\": 1684358014000,\n\t\t\"jassijs_editor.ui.TestAction\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"testNode\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Run Tests\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/TSSourceMap.ts\": {\n\t\t\"date\": 1682794840000,\n\t\t\"jassijs_editor.util.TSSourceMap\": {}\n\t},\n\t\"jassijs_editor/util/Typescript.ts\": {\n\t\t\"date\": 1695586918212.458,\n\t\t\"jassijs_editor.util.Typescript\": {}\n\t}\n}\n }\n});","import { $Class } from \"jassijs/remote/Registry\";\r\nimport {Tree} from \"jassijs/ui/Tree\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\nimport {Textbox} from \"jassijs/ui/Textbox\";\r\nimport {Server} from \"jassijs/remote/Server\";\r\n\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport windows from \"jassijs/base/Windows\";\r\n\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs_editor.ui.SearchExplorer\")\r\nexport class SearchExplorer extends Panel {\r\n    tree: Tree;\r\n    search: Textbox;\r\n    //@member - maximal hits which are found \r\n    maximalFounds: Number = 100;\r\n    constructor() {\r\n        super();\r\n        //this.maximize();\r\n        this.dom.style.width= \"calc(100% - 8px)\";\r\n        this.dom.style.height= \"calc(100% - 25px)\";//why 25????\r\n        this.tree = new Tree();\r\n        this.search = new Textbox();\r\n        this.layout();\r\n    }\r\n      @$Action ({\r\n    \tname: \"Windows/Development/Search\",\r\n       \ticon: \"mdi mdi-folder-search-outline\",\r\n    })\r\n    static async show(){\r\n        if (windows.contains(\"Search\")) \r\n\t\t\tvar window = windows.show(\"Search\");\r\n\t\telse\r\n         windows.addLeft(new SearchExplorer(), \"Search\");\r\n    }\r\n    async doSearch() { \r\n        var typescript=(await import (\"jassijs_editor/util/Typescript\")).default;\r\n        var all = [];\r\n        var files = [];// [{name:\"Hallo\",lines:[{ name:\"Treffer1\",pos:1},{name:\"treffer2\" ,pos:2}]}];\r\n        var toFind: string =( <string>this.search.value).toLocaleLowerCase();\r\n        var count = 0;\r\n        var filenames=typescript.getFiles();\r\n        for (var f=0;f<filenames.length;f++){\r\n            var file=filenames[f];\r\n            if(file.indexOf(\"node_modules\")>-1)//no search in node modules\r\n                continue;\r\n            var code=typescript.getCode(file);\r\n            if(code){\r\n                var text = code.toLowerCase();\r\n                var pos = text.indexOf(toFind);\r\n                var foundedFile={name:file,lines: [] }\r\n                while (pos !== -1) {\r\n                    count++;\r\n                    if (count > this.maximalFounds) {\r\n                        break;\r\n                    }\r\n                    var startline = text.lastIndexOf(\"\\n\", pos);\r\n                    var endline = text.indexOf(\"\\n\", pos);\r\n                    var line = text.substring(startline, endline);\r\n                    foundedFile.lines.push({name:line,pos:pos,file:file})\r\n                    pos = text.indexOf(toFind,pos+1);\r\n                }\r\n                if(foundedFile.lines.length>0)\r\n                    files.push(foundedFile);\r\n                if (count > this.maximalFounds) { \r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this.tree.items = files;\r\n        this.tree.expandAll();\r\n    }\r\n    async layout() {\r\n        var _this = this;\r\n        this.tree.width = \"100%\";\r\n        this.tree.height = \"100%\";\r\n        super.add(this.search);\r\n        super.add(this.tree);\r\n\r\n        this.tree.propDisplay = \"name\";\r\n        this.tree.propChilds = \"lines\";\r\n\r\n        this.tree.onclick(function(evt) {\r\n\r\n            if (evt.data !== undefined && evt.data.file !== undefined) {\r\n            \tvar pos=evt.data.pos;\r\n                var file=evt.data.file;\r\n                import (\"jassijs_editor/util/Typescript\").then(Typescript=>{\r\n                    var text:string=Typescript.default.getCode(file);\r\n                    var line=text.substring(0,pos).split(\"\\n\").length;\r\n                    router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + file+\"&line=\"+line);\r\n                });\r\n\r\n            }\r\n        });\r\n        this.dom.style[\"flow\"]=\"visible\";\r\n        this.search.onkeydown(function(evt) {\r\n            window.setTimeout(() => {\r\n                //\tif(evt.code===\"Enter\"){\r\n                _this.doSearch();\r\n                //\t}\r\n            }, 100);\r\n        });\r\n        this.search.height = 15;\r\n    }\r\n\r\n\r\n}\r\nexport function test() {\r\n    return new SearchExplorer();\r\n\r\n}\r\n\r\n\r\n","\r\n\r\n\r\nimport {FileExplorer} from \"jassijs_editor/FileExplorer\";\r\nimport windows from \"jassijs/base/Windows\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\nimport {Button} from \"jassijs/ui/Button\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport {SearchExplorer} from \"jassijs_editor/SearchExplorer\";\r\nimport { DBObjectExplorer } from \"jassijs/ui/DBObjectExplorer\";\r\nimport { ActionNodeMenu } from \"jassijs/ui/ActionNodeMenu\";\r\n\r\n\r\n\r\n\r\n\r\n//var h=new RemoteObject().test();\r\n\r\nasync function start() {\r\n  //  jassijs.myRequire(\"https://unpkg.com/source-map@0.7.3/dist/source-map.js\");\r\n    var body = new Panel({ id: \"body\" });\r\n    body.max();\r\n    windows.addLeft(new DBObjectExplorer(), \"DBObjects\");\r\n    windows.addLeft(new SearchExplorer(), \"Search\");\r\n    windows.addLeft(new FileExplorer(), \"Files\");\r\n    var bt=new Button();\r\n    windows._desktop.add(bt);\r\n    bt.icon=\"mdi mdi-refresh\";\r\n    var am=new ActionNodeMenu();\r\n    bt.onclick(()=>{\r\n        windows._desktop.remove(am);\r\n        am=new ActionNodeMenu()\r\n        windows._desktop.add(am);\r\n    });\r\n    windows._desktop.add(am);\r\n    router.navigate(window.location.hash);\r\n\r\n\r\n}\r\nstart().then();\r\n\r\n\r\n\r\n","import registry, { $Class } from \"jassijs/remote/Registry\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { DBObject } from \"jassijs/remote/DBObject\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { FileActions } from \"jassijs_editor/FileExplorer\"; \r\n\r\nconst code=`import { $Class } from \"jassijs/remote/Registry\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nimport { {{dbclassname}} } from \"{{dbfilename}}\";\r\nimport { Databinder } from \"jassijs/ui/Databinder\";\r\nimport { DBObjectView,  $DBObjectView, DBObjectViewMe } from \"jassijs/ui/DBObjectView\";\r\nimport { DBObjectDialog } from \"jassijs/ui/DBObjectDialog\";\r\n\r\ntype Me = {\r\n}&DBObjectViewMe\r\n\r\n@$DBObjectView({classname:\"{{fulldbclassname}}\"})\r\n@$Class(\"{{fullclassname}}\")\r\nexport class {{dialogname}} extends DBObjectView {\r\n    declare me: Me;\r\n    @$Property({ isUrlTag: true, id: true, editor: \"jassi.ui.PropertyEditors.DBObjectEditor\" })\r\n    declare value: {{dbclassname}};\r\n    constructor() {\r\n        super();\r\n        //this.me = {}; this is called in objectdialog\r\n        this.layout(this.me);\r\n    }\r\n    get title() {\r\n        return this.value === undefined ? \"{{dialogname}}\" : \"{{dialogname}} \" + this.value.id;\r\n    }\r\n    layout(me: Me) {\r\n    }\r\n}\r\n\r\nexport async function test(){\r\n\tvar ret=new {{dialogname}}();\r\n\t\r\n\tret[\"value\"]=<{{dbclassname}}>await {{dbclassname}}.findOne();\r\n\treturn ret;\r\n}`;\r\n@$Class(\"jassijs_editor.template.TemplateDBDialogProperties\")\r\nexport class TemplateDBDialogProperties {\r\n\t@$Property({decription:\"name of the dialog\"})\r\n\tdialogname:string;\r\n\t@$Property({type:\"classselector\", service:\"$DBObject\"})\r\n    dbobject:DBObject;\r\n}\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs.template.TemplateDBDialog\")\r\nexport class TemplateDBDialog {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/DBDialog\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\t\tvar props=new TemplateDBDialogProperties();\r\n        var res = await OptionDialog.askProperties(\"Create new DBDialog:\",props, [\"ok\", \"cancel\"],undefined,false);\r\n        if (res.button === \"ok\" ) {\r\n\t    \tvar scode=code.replaceAll(\"{{dialogname}}\",props.dialogname);\r\n\t    \tvar fulldbclassname= classes.getClassName(props.dbobject);\r\n\t    \tvar shortdbclassname=fulldbclassname.split(\".\")[fulldbclassname.split(\".\").length-1];\r\n\t    \tvar dbfilename=(await registry.getJSONData(\"$Class\",fulldbclassname))[0].filename;\r\n\t    \tdbfilename=dbfilename.substring(0,dbfilename.length-3);\r\n\t    \tscode=scode.replaceAll(\"{{fullclassname}}\",(all[0].fullpath+\"/\"+props.dialogname).replaceAll(\"/\",\".\"));\r\n\t    \tscode=scode.replaceAll(\"{{dbclassname}}\",shortdbclassname);\r\n\t    \tscode=scode.replaceAll(\"{{fulldbclassname}}\",fulldbclassname);\r\n\t    \tscode=scode.replaceAll(\"{{dbfilename}}\",dbfilename);\r\n\t    \r\n\t    \tFileActions.newFile(all,props.dialogname+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nimport { $ActionProvider, $Action } from \"jassijs/base/Actions\";\r\nimport { DBObject } from \"jassijs/remote/DBObject\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { FileActions } from \"jassijs_editor/FileExplorer\";\r\nimport { TemplateDBDialog } from \"jassijs_editor/template/TemplateDBDialog\";\r\n\r\nvar code=`import {DBObject, $DBObject } from \"jassijs/remote/DBObject\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Entity, PrimaryColumn, Column, OneToOne, ManyToMany, ManyToOne, OneToMany,JoinColumn,JoinTable } from \"jassijs/util/DatabaseSchema\";\r\nimport { $DBObjectQuery } from \"jassijs/remote/DBObjectQuery\";\r\n\r\n\r\n@$DBObject()\r\n@$Class(\"{{fullclassname}}\")\r\n\r\nexport class {{classname}} extends DBObject {\r\n\r\n    {{PrimaryAnnotator}}\r\n    declare id: number;\r\n  \r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n\r\n\r\nexport async function test() {\r\n};`;\r\n\r\n@$Class(\"jassijs_editor.template.TemplateDBObjectProperties\")\r\nexport class TemplateDBObjectProperties {\r\n\t@$Property({decription:\"name of the db class\"})\r\n\tname:string;\r\n\t@$Property({default:\"true\",description:\"the primary column alue will be automatically generated with an auto-increment value\"})\r\n    autogeneratedid:string;\r\n}\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs.template.TemplateDBObject\")\r\nexport class TemplateDBObject {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/DBObject\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory()&&all[0].fullpath.indexOf(\"/remote/\")!==-1;\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\t\tvar props=new TemplateDBObjectProperties();\r\n        var res = await OptionDialog.askProperties(\"Create Database Class:\",props, [\"ok\", \"cancel\"],undefined,false);\r\n        if (res.button === \"ok\" ) {\r\n\t    \tvar scode=TemplateDBObject.code.replaceAll(\"{{fullclassname}}\",all[0].fullpath+\"/\"+props.name);\r\n\t    \tscode=scode.replaceAll(\"{{classname}}\",props.name);\r\n\t    \tvar anno=\"@PrimaryColumn()\";\r\n\t    \tif(props.autogeneratedid)\r\n\t    \t\t anno=\"@PrimaryGeneratedColumn()\";\r\n\t    \tscode=scode.replaceAll(\"{{PrimaryAnnotator}}\",anno);\r\n\r\n\t    \tFileActions .newFile(all,props.name+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { $ActionProvider, $Action } from \"jassijs/base/Actions\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { FileExplorer, FileActions } from \"jassijs_editor/FileExplorer\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { router } from \"jassijs/base/Router\";\r\nconst code=`import { $Class } from \"jassijs/remote/Registry\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\n\r\ntype Me = {\r\n}\r\n\r\n@$Class(\"{{fullclassname}}\")\r\nexport class {{dialogname}} extends Panel {\r\n    me: Me;\r\n    constructor() {\r\n        super();\r\n        this.me = {};\r\n        this.layout(this.me);\r\n    }\r\n    layout(me: Me) {\r\n        this.config({});\r\n\t}\r\n}\r\n\r\nexport async function test(){\r\n\tvar ret=new {{dialogname}}();\r\n\treturn ret;\r\n}`;\r\n\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs_editor.template.TemplateEmptyDialog\")\r\nexport class TemplateEmptyDialog {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/Dialog\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\r\n        var res = await OptionDialog.show(\"Enter dialog name:\", [\"ok\", \"cancel\"], undefined, true, \"Dialog\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n\t    \tvar scode=code.replaceAll(\"{{dialogname}}\",res.text);\r\n\t    \tscode=scode.replaceAll(\"{{fullclassname}}\",all[0].fullpath+\"/\"+res.text);\r\n\t    \tFileActions.newFile(all,res.text+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { $ActionProvider, $Action } from \"jassijs/base/Actions\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { FileExplorer, FileActions } from \"jassijs_editor/FileExplorer\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { router } from \"jassijs/base/Router\";\r\nconst code=`import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Context, RemoteObject } from \"jassijs/remote/RemoteObject\";\r\n\r\n@$Class(\"{{fullclassname}}\")\r\nexport class {{name}} extends RemoteObject{\r\n    //this is a sample remote function\r\n    public async sayHello(name: string,context: Context = undefined) {\r\n        if (!context?.isServer) {\r\n            return await this.call(this, this.sayHello, name,context);\r\n        } else {\r\n            return \"Hello \"+name;  //this would be execute on server  \r\n        }\r\n    }\r\n}\r\nexport async function test(){\r\n    console.log(await new {{name}}().sayHello(\"Kurt\"));\r\n}\r\n`;\r\n\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs_editor.template.TemplateRemoteObject\")\r\nexport class TemplateRemoteObject {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/RemoteObject\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory()&&all[0].fullpath.split(\"/\").length>1&&all[0].fullpath.split(\"/\")[1]===\"remote\";\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\r\n        var res = await OptionDialog.show(\"Enter RemoteObject name:\", [\"ok\", \"cancel\"], undefined, true, \"MyRemoteObject\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n\t    \tvar scode=code.replaceAll(\"{{name}}\",res.text);\r\n\t    \tscode=scode.replaceAll(\"{{fullclassname}}\",(all[0].fullpath+\"/\"+res.text).replaceAll(\"/\",\".\"));\r\n\t    \tFileActions.newFile(all,res.text+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport registry from \"jassijs/remote/Registry\";\nimport \"jquery.choosen\";\nimport typescript from \"jassijs_editor/util/Typescript\";\nimport { Parser, ParsedClass } from \"jassijs_editor/util/Parser\";\nimport { TemplateDBObject } from \"jassijs_editor/template/TemplateDBObject\";\nimport { Tools } from \"jassijs/util/Tools\";\nimport { Server } from \"jassijs/remote/Server\";\nimport windows from \"jassijs/base/Windows\";\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\"; \n\n\nexport class DatabaseField { \n    name: string;\n    type: string;\n    relation: string;\n    properties: any;\n    inverseSide: string;\n    join: boolean;\n\n\n    get nullable(): boolean {\n        return this.properties?.nullable;\n    }\n    set nullable(value: boolean) {\n        if (value === undefined) {\n            if (this.properties)\n                delete this.properties.nullable;\n            return;\n        }\n\n        if (DatabaseSchema.basicdatatypes.indexOf(this.type) === -1 || this.relation) {\n            if (value === undefined)\n                return;\n            throw \"This field could not be nullable\";\n        }\n        if (this.properties === undefined)\n            this.properties = {};\n        this.properties.nullable = value;\n\n    }\n    private parent: DatabaseClass;\n    getReverseField(): DatabaseField {\n        if (this.inverseSide && this.inverseSide !== \"\") {\n            if (this.inverseSide.indexOf(\".\") === -1)\n                return undefined;\n            var sp = this.inverseSide.split(\".\");\n            var clname = this.type.replace(\"[]\", \"\")\n            var cl = this.parent.parent.getClass(clname);\n            if (!cl)\n                return undefined;\n            return cl.getField(sp[1]);\n        }\n        return undefined;\n    }\n\n    /**\n     * looks possible relations in the type class\n     **/\n    getPossibleRelations(): string[] {\n        if (this.name === \"id\")\n            return [\"PrimaryColumn\", \"PrimaryGeneratedColumn\"];\n\n        if (!this.type || DatabaseSchema.basicdatatypes.indexOf(this.type) >= 0)\n            return [];\n        var values = [];\n        if (this.type.endsWith(\"[]\")) {\n            values = [\"\", \"OneToMany\", \"ManyToMany\"];\n        } else\n            values = [\"\", \"OneToOne\", \"ManyToOne\"];\n        var cl = this.type.replace(\"[]\", \"\");\n        var parentcl = this.parent.name;\n        var relclass = this.parent.parent.getClass(cl);\n        for (var x = 0; x < relclass.fields.length; x++) {\n            var relfield = relclass.fields[x];\n            if (this.type.endsWith(\"[]\")) {\n\n                if (relfield.type === parentcl) {\n                    //OneToMany\n                    values.push(\"e.\" + relfield.name);\n                }\n                if (relfield.type === (parentcl + \"[]\")) {\n                    //ManyToMany\n                    values.push(\"e.\" + relfield.name);\n                    values.push(\"e.\" + relfield.name + \"(join)\");\n                }\n            } else {\n\n                if (relfield.type === parentcl) {\n                    //OneToOne\n                    values.push(\"e.\" + relfield.name);\n                    values.push(\"e.\" + relfield.name + \"(join)\");\n                }\n                if (relfield.type === (parentcl + \"[]\")) {\n                    //ManyToOne\n                    values.push(\"e.\" + relfield.name);\n                }\n            }\n        }\n        return values;\n    }\n    get relationinfo(): string {\n        if (this.relation === \"OneToOne\" || this.relation === \"ManyToMany\" || this.relation === \"ManyToOne\" || this.relation === \"OneToMany\") {\n            if (this.inverseSide) {\n                return this.inverseSide + (this.join ? \"(join)\" : \"\");\n            } else {\n                return this.relation;\n            }\n        } else if (this.relation === \"PrimaryColumn\" || this.relation === \"PrimaryGeneratedColumn\")\n            return this.relation;\n        else\n            return undefined;\n    }\n    set relationinfo(value: string) {\n        if (value === \"\")\n            value = undefined;\n        if (value === undefined) {\n            this.relation = undefined;\n            //  return;\n        }\n        if (value === \"PrimaryColumn\" || value === \"PrimaryGeneratedColumn\") {\n            if (this.name === \"id\")\n                this.relation = value;\n            return;\n        }\n        if (value === undefined || value === \"OneToOne\" || value === \"ManyToMany\" || value === \"ManyToOne\" || value === \"OneToMany\") {\n\n            var old = this.getReverseField();\n            if (old !== undefined)\n                old.inverseSide = undefined;//delete the relation on the reverse side\n            this.relation = value;\n            this.inverseSide = undefined;\n        } else {\n            var oval = value;\n            if (oval.endsWith(\"(join)\")) {\n                oval = oval.replace(\"(join)\", \"\");\n                this.join = true;\n            } else\n                this.join = false;\n            this.inverseSide = oval;\n            var rfield = this.getReverseField();\n\n            if (rfield === undefined) {\n\n                this.inverseSide = undefined;\n                throw Error(\"relation not found\")\n            }\n            //set the relation on the reverse side\n            if (!rfield.inverseSide?.endsWith(\".\" + this.name))\n                rfield.inverseSide = \"e.\" + this.name;\n            if (this.type.endsWith(\"[]\")) {\n                if (rfield.type.endsWith(\"[]\")) {\n                    this.relation = \"ManyToMany\";\n                    //sets the join in the other\n                    rfield.join = !this.join;\n\n                } else {\n                    this.relation = \"OneToMany\";\n                }\n            } else {\n                if (rfield.type.endsWith(\"[]\")) {\n                    this.relation = \"ManyToOne\";\n                } else {\n                    this.relation = \"OneToOne\";\n                    //sets the join in the other\n                    rfield.join = !this.join;\n                }\n            }\n        }\n    }\n\n}\nexport class DatabaseClass {\n    filename: string;\n    name: string;\n    fields: DatabaseField[] = [];\n    properties: any;\n    parent: DatabaseSchema;\n    simpleclassname: string;\n    getField(name: string): DatabaseField {\n        for (var x = 0; x < this.fields.length; x++) {\n            var cl = this.fields[x];\n            if (cl.name === name)\n                return cl;\n        };\n        return undefined;\n    }\n}\n\nvar classnode = undefined;\n@$Class(\"jassijs_editor.util.DatabaseSchema\")\nexport class DatabaseSchema {\n    static basicdatatypes = [\"string\", \"int\", \"decimal\", \"boolean\", \"Date\"];\n    databaseClasses: DatabaseClass[] = [];\n    private parsedClasses: { [classname: string]: ParsedClass };\n    //AR|de/AR\n    private definedImports: { [importname: string]: ParsedClass };\n    getClass(name: string): DatabaseClass {\n        for (var x = 0; x < this.databaseClasses.length; x++) {\n            var cl = this.databaseClasses[x];\n            if (cl.name === name)\n                return cl;\n        };\n        return undefined;\n    }\n\n    //type => ARZeile\n    private getFulltype(type: string, parsedClass: ParsedClass): ParsedClass {\n        var pos = type.lastIndexOf(\">\");\n        if (pos > -1)\n            type = type.substring(pos + 1).trim();\n        var file = parsedClass.parent.imports[type];\n        if (type === parsedClass.name)\n            return parsedClass;\n        var ret = this.definedImports[type + \"|\" + file];\n        if (!ret) {\n            throw Error(\"Import not found \" + parsedClass.fullClassname + \" : \" + type);\n        }\n        return ret;\n    }\n    private createDBClass(cl: DatabaseClass) {\n        var scode = TemplateDBObject.code.replaceAll(\"{{fullclassname}}\", cl.name);\n        var file = cl.name.replaceAll(\".\", \"/\") + \".ts\";\n        file = file.substring(0, file.indexOf(\"/\")) + \"/remote\" + \"/\" + file.substring(file.indexOf(\"/\") + 1);\n        cl.filename = file;\n        cl.simpleclassname = cl.name.split(\".\")[cl.name.split(\".\").length - 1];\n        scode = scode.replaceAll(\"{{classname}}\", cl.simpleclassname);\n        scode = scode.replaceAll(\"{{PrimaryAnnotator}}\", \"@\" + cl.getField(\"id\").relation + \"()\");\n        var parser = new Parser();\n        parser.parse(scode);\n        for (var key in parser.classes) {\n            var pclass = parser.classes[key];\n            pclass[\"filename\"] = file;\n            if (pclass.decorator[\"$DBObject\"]) {\n                //var dbclass=pclass.decorator[\"$Class\"].param[0];\n                this.parsedClasses[pclass.fullClassname] = pclass;\n                this.definedImports[pclass.name + \"|\" + file.substring(0, file.length - 3)] = pclass;\n            }\n        }\n    }\n    private createDBField(field: DatabaseField, dbcl: DatabaseClass) {\n        var decs = {};\n        if ((field.join || field.inverseSide === undefined || field.inverseSide === \"\") && field.relation === \"OneToOne\")\n            decs[\"JoinColumn\"] = { name: \"JoinColumn\", parameter: [] };\n        if ((field.join || field.inverseSide === undefined || field.inverseSide === \"\") && field.join && field.relation === \"ManyToMany\")\n            decs[\"JoinTable\"] = { name: \"JoinTable\", parameter: [] };\n\n\n        var realtype = field.type;\n        var realprops = field.properties;\n        if (field.type === \"decimal\") {\n            realtype = \"number\";\n            if (!realprops)\n                realprops = {};\n            realprops.type = \"decimal\";\n        }\n        if (field.type === \"int\")\n            realtype = \"number\";\n        var s = realprops ? Tools.objectToJson(realprops, undefined, false)?.replaceAll(\"\\n\", \"\") : undefined;\n\n        var p = undefined;\n        if (!field.relation || field.relation === \"\") {\n            if (s)\n                p = [s];\n            decs[\"Column\"] = { name: \"Column\", parameter: p };\n        } else if (field.relation === \"PrimaryColumn\" || field.relation === \"PrimaryGeneratedColumn\") {\n            if (s)\n                p = [s];\n            decs[field.relation] = { name: field.relation, parameter: p };\n        } else {\n            var params = [];\n            var tcl = field.type.replace(\"[]\", \"\");\n\n            realtype = this.getClass(tcl).simpleclassname;\n            if (dbcl.name !== tcl)\n                this.parsedClasses[dbcl.name].parent.addImportIfNeeded(realtype, this.getClass(tcl).filename.substring(0, this.getClass(tcl).filename.length - 3));\n            let scl = tcl;\n            if (scl.indexOf(\".\") > -1) {\n                scl = scl.substring(scl.lastIndexOf(\".\") + 1);\n            }\n            params.push(\"type => \" + scl);\n            if (field.inverseSide && field.inverseSide !== \"\")\n                params.push(\"e=>\" + field.inverseSide);\n            if (s)\n                params.push(s);\n            decs[field.relation] = { name: field.relation, parameter: params };\n        }\n        this.parsedClasses[dbcl.name].parent.addOrModifyMember({ name: field.name, type: realtype, decorator: decs }, this.parsedClasses[dbcl.name]);\n    }\n    private async reloadCodeInEditor(file: string, text: string) {\n        var editor = windows.findComponent(\"jassijs_editor.CodeEditor-\" + file);\n        if (editor !== undefined) {\n\n            if (editor._codeToReload === undefined) {\n\n                var data = await OptionDialog.show(\"The source was updated in Chrome. Do you want to load this modification?\", [\"Yes\", \"No\"], editor, false);\n                if (data.button === \"Yes\")\n                    editor.value = text;\n                delete editor._codeToReload;\n\n            }\n        }\n    }\n    async updateSchema(onlyPreview: boolean = false): Promise<string> {\n        ///todo wenn kein basicfieldtype muss eine Beziehung hinterlegt sein throw Error\n        var changes = \"\";\n        var org = new DatabaseSchema();\n        await org.loadSchemaFromCode();\n        var modifiedclasses: DatabaseClass[] = [];\n        //check relations\n        for (var x = 0; x < this.databaseClasses.length; x++) {\n            var dbcl = this.databaseClasses[x];\n            for (var y = 0; y < dbcl.fields.length; y++) {\n                let f = dbcl.fields[y];\n                if (DatabaseSchema.basicdatatypes.indexOf(f.type) === -1 && (f.relation === undefined || f.relation === \"\"))\n                    throw Error(\"Relation must be filled \" + dbcl.name + \" field \" + f.name);\n            }\n        }\n        for (var x = 0; x < this.databaseClasses.length; x++) {\n            var dbcl = this.databaseClasses[x];\n            if (org.getClass(dbcl.name) === undefined) {\n                changes += \"create class \" + dbcl.name + \"\\n\";\n                modifiedclasses.push(dbcl);\n                if (!onlyPreview) {\n                    this.createDBClass(dbcl);\n                }\n            }\n            for (var y = 0; y < dbcl.fields.length; y++) {\n                var field = dbcl.fields[y];\n                var forg = org.getClass(dbcl.name)?.getField(field.name);\n                if (org.getClass(dbcl.name) === undefined || forg === undefined) {\n                    changes += \"create field \" + dbcl.name + \": \" + field.name + \"\\n\";\n                    if (modifiedclasses.indexOf(dbcl) === -1)\n                        modifiedclasses.push(dbcl);\n                    if (!onlyPreview) {\n                        this.createDBField(field, dbcl);\n                    }\n                } else {\n                    var jfield = JSON.stringify(field.properties);\n                    var jorg = JSON.stringify(forg.properties);\n                    var fieldjoin = field.join;\n                    if (fieldjoin === false)\n                        fieldjoin = undefined;\n                    if (field.type !== forg.type || field.inverseSide !== forg.inverseSide || field.relation !== forg.relation || jfield !== jorg || fieldjoin !== forg.join) {\n                        changes += \"modify deorator field \" + dbcl.name + \": \" + field.name + \"\\n\";\n                        if (modifiedclasses.indexOf(dbcl) === -1)\n                            modifiedclasses.push(dbcl);\n                        if (!onlyPreview) {\n                            this.createDBField(field, dbcl);\n                        }\n                    }\n                }\n            }\n        }\n\n        var files: string[] = [];\n        var contents: string[] = [];\n        if (!onlyPreview) {\n            for (var x = 0; x < modifiedclasses.length; x++) {\n                var mcl = modifiedclasses[x];\n                var text = this.parsedClasses[mcl.name].parent.getModifiedCode();\n                files.push(mcl.filename);\n                contents.push(text);\n                // console.log(mcl.filename + \"\\n\");\n                //  console.log(text + \"\\n\");\n\n            }\n            try {\n                await new Server().saveFiles(files, contents);\n                for (var y = 0; y < files.length; y++)\n                    await this.reloadCodeInEditor(files[y], contents[y]);\n            } catch (perr) {\n                alert(perr.message);\n            }\n        }\n        return changes;\n    }\n    private async parseFiles() {\n        this.parsedClasses = {};\n        this.definedImports = {};\n        await typescript.waitForInited;\n        var data = await registry.getJSONData(\"$DBObject\");\n        for (let x = 0; x < data.length; x++) {\n            var entr = data[x];\n            var parser = new Parser();\n            var file = entr.filename;\n            var code = typescript.getCode(file);\n           // if (code === undefined)\n           //     code = await new Server().loadFile(file);\n         if (code !== undefined) {\n                try {\n                    parser.parse(code);\n                } catch (err) {\n                    console.error(\"error in parsing \" + file);\n                    throw err;\n                }\n                for (var key in parser.classes) {\n                    var pclass = parser.classes[key];\n                    pclass[\"filename\"] = file;\n                    if (pclass.decorator[\"$DBObject\"]) {\n                        //var dbclass=pclass.decorator[\"$Class\"].param[0];\n                        this.parsedClasses[pclass.fullClassname] = pclass;\n                        this.definedImports[pclass.name + \"|\" + file.substring(0, file.length - 3)] = pclass;\n                    }\n                }\n            }\n        }\n    }\n    async loadSchemaFromCode() {\n        await this.parseFiles();\n        //await registry.loadAllFilesForService(\"$DBObject\")\n        await registry.reload();\n        var data = registry.getJSONData(\"$DBObject\");\n        this.databaseClasses = [];\n        var _this = this;\n        (await data).forEach((entr) => {\n            var dbclass = new DatabaseClass();\n            dbclass.name = entr.classname;\n            dbclass.parent = _this;\n            this.databaseClasses.push(dbclass);\n            var pclass = this.parsedClasses[entr.classname];\n            if (pclass) {\n                dbclass.filename = pclass[\"filename\"];\n                dbclass.simpleclassname = pclass.name;\n                dbclass.name = pclass.fullClassname;\n                for (var fname in pclass.members) {\n                    var pfield = pclass.members[fname];\n                    if (!pfield.decorator[\"Column\"] && !pfield.decorator[\"PrimaryColumn\"] && !pfield.decorator[\"PrimaryGeneratedColumn\"] && !pfield.decorator[\"OneToOne\"] && !pfield.decorator[\"ManyToOne\"] && !pfield.decorator[\"OneToMany\"] && !pfield.decorator[\"ManyToMany\"])\n                        continue;\n                    var field = new DatabaseField();\n                    field[\"parent\"] = dbclass;\n                    field.name = fname;\n                    dbclass.fields.push(field);\n                    var meta = pfield.decorator;\n\n                    if (meta[\"PrimaryColumn\"]) {\n                        field.relation = \"PrimaryColumn\";\n                    } else if (meta[\"PrimaryGeneratedColumn\"]) {\n                        field.relation = \"PrimaryColumn\";\n                    } else if (meta[\"Column\"]) {\n                        field.relation = undefined;\n\n                        //var mt=mtype[0][0];\n                        if (meta[\"Column\"].parameter.length > 0 && meta[\"Column\"].parameter.length > 0) {\n                            field.properties = meta[\"Column\"].parsedParameter[0];\n                        }\n\n                    } else if (meta[\"ManyToOne\"]) {\n                        field.relation = \"ManyToOne\";\n                        if (meta[\"ManyToOne\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"ManyToOne\"].parameter.length; x++) {\n                                let vd = meta[\"ManyToOne\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"ManyToOne\"].parameter[0], pclass).fullClassname;\n                                } else {\n                                    if (!meta[\"ManyToOne\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"ManyToOne\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                    } else if (meta[\"OneToMany\"]) {\n                        field.relation = \"OneToMany\";\n                        if (meta[\"OneToMany\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"OneToMany\"].parameter.length; x++) {\n                                let vd = meta[\"OneToMany\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"OneToMany\"].parameter[0], pclass).fullClassname + \"[]\";\n                                } else {\n                                    if (!meta[\"OneToMany\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"OneToMany\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                    } else if (meta[\"ManyToMany\"]) {\n                        field.relation = \"ManyToMany\";\n                        if (meta[\"ManyToMany\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"ManyToMany\"].parameter.length; x++) {\n                                let vd = meta[\"ManyToMany\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"ManyToMany\"].parameter[0], pclass).fullClassname + \"[]\";\n                                } else {\n                                    if (!meta[\"ManyToMany\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"ManyToMany\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                        if (meta[\"JoinTable\"])\n                            field.join = true;\n\n                    } else if (meta[\"OneToOne\"]) {\n                        field.relation = \"OneToOne\";\n                        if (meta[\"OneToOne\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"OneToOne\"].parameter.length; x++) {\n                                let vd = meta[\"OneToOne\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"OneToOne\"].parameter[0], pclass).fullClassname;\n                                } else {\n                                    if (!meta[\"OneToOne\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"OneToOne\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                        if (meta[\"JoinColumn\"])\n                            field.join = true;\n                    }\n\n                    if (meta[\"PrimaryColumn\"] || meta[\"PrimaryGeneratedColumn\"] || meta[\"Column\"]) {\n                        var tp = pfield.type;\n                        if (tp === \"string\")\n                            field.type = \"string\";\n                        else if (tp === \"number\")\n                            field.type = \"int\";\n                        else if (tp === \"boolean\")\n                            field.type = \"boolean\";\n                        else if (tp === \"Date\")\n                            field.type = \"Date\";\n                        else\n                            throw new Error(\"type unknown \" + dbclass.name + \":\" + field.name);\n                        if (field.properties !== undefined && field.properties[\"type\"]) {\n                            field.type = field.properties[\"type\"];\n                        }\n                    }\n                }\n            }\n\n        });\n    }\n\n}\n\n/*\n@$Class(\"jassijs.base.DatabaseColumnOptions\")\nclass ColumnOptions{\n//\t@$Property({type:\"string\",chooseFrom:DatabaseSchema.basicdatatypes,description:\"Column type. Must be one of the value from the ColumnTypes class.\"})\n  //  type?: ColumnType;\n    @$Property({description:\"Indicates if column's value can be set to NULL.\", default:false}) \n    nullable?: boolean;\n    @$Property({type:\"string\",description:\"Default database value.\"}) \n    default?: any;\n    @$Property({description:\"Indicates if column is always selected by QueryBuilder and find operations.\",default:true})\n    @$Property({description:'Column types length. Used only on some column types. For example type = \"string\" and length = \"100\" means that ORM will create a column with type varchar(100).'})\n    length?: number;\n    [name:string]:any;\n}*/\nexport async function test3() {\n    var schema = new DatabaseSchema();\n    await schema.loadSchemaFromCode();\n    var schema2 = new DatabaseSchema();\n    await schema2.loadSchemaFromCode();\n\n    var test = new DatabaseClass();\n    test.parent = schema2;\n    test.name = \"de.NeuerKunde\";\n    var testf = new DatabaseField();\n    testf.name = \"id\";\n    testf.type = \"int\";\n    testf.relation = \"PrimaryColumn\";\n    test.fields.push(testf);\n    schema2.databaseClasses.push(test);\n    var f = new DatabaseField();\n    f.name = \"hallo\";\n    f.type = \"string\";\n    schema2.getClass(\"de.AR\").fields.push(f);\n    schema2.getClass(\"de.AR\").getField(\"nummer\").properties = { nullable: false };\n    var text = await schema2.updateSchema(true);\n    //console.log(result);\n    //test.pop();\n    //schema.visitNode(sourceFile);\n\n}\n\nexport async function test2() {\n    var schema = new DatabaseSchema();\n    await schema.loadSchemaFromCode();\n    var h = schema.getClass(\"de.AR\").getField(\"kunde\");\n    var f = h.getReverseField();\n    var kk = f.relationinfo;\n    debugger;\n    f.relationinfo = kk;\n}\n\n\n\n\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Component } from \"jassijs/ui/Component\";\nimport \"jassijs/ext/jquerylib\";\n@$Class(\"jassijs_editor.util.DragAndDropper\")\nexport class DragAndDropper {\n    //called if a property has changed the position\n    public onpropertychanged: (component: Component, top: number, left: number, oldParent: Component, newParent: Component, beforeComponent: Component) => any;\n    //called if a property is added\n    public onpropertyadded: (typename: string, component: Component, top: number, left: number, newparent: number, beforecomponent: Component) => any;;\n    //the last drop has been canceled\n    private lastDropCanceled: boolean;\n    //all component id's which should be dragged\n    private allIDs: string;\n    //dragging is active\n    private _isDragging: boolean;\n    //all child Components can be drag and dropped\n    private parentPanel: Component;\n    //all draggable components\n    public draggableComponents: JQuery<Element>;\n    //all droppable Components\n    private droppableComponents: JQuery<Element>;\n    constructor() {\n        this.onpropertychanged = undefined;\n        this.onpropertyadded = undefined;\n        this.lastDropCanceled = false;\n        this.allIDs = \"\";\n    }\n    /**\n     * could be override to block dragging \n     */\n    public isDragEnabled(event: any, ui: any): boolean {\n        var mouse = event.target._this.dom.style.cursor;\n        if (mouse === \"e-resize\" || mouse === \"s-resize\" || mouse === \"se-resize\")\n            return true;\n        else\n            return false;\n    }\n    //dragging is active\n    public isDragging() {\n        return this._isDragging;\n    }\n    /*public activateDragging(enable:boolean) {\n        $(this.allIDs).find(\".jcontainer\").not(\".jdesigncontainer\").draggable(enable ? \"enable\" : \"disable\");\n    }*/\n    public enableDraggable(enable: boolean) {\n        //  this.onpropertychanged = undefined;\n        // this.onpropertyadded = undefined;\n\n        try{\n            if (this.draggableComponents !== undefined) {\n                if (!enable)\n                    this.draggableComponents.draggable('disable');\n                else\n                    this.draggableComponents.draggable('enable');\n            }\n        }catch{\n            console.log(\"fetched error\");;\n        }\n\n    }\n    private _drop(target, event, ui) {\n        var _this = this;\n        var newComponent = ui.draggable[0]._this;\n        var newParent = target._this;\n        var beforeComponent = target._this;\n        var designDummyAtEnd;\n        if (beforeComponent?.type === \"atEnd\") {\n            designDummyAtEnd = beforeComponent;\n            beforeComponent = undefined;\n            newParent = newParent.designDummyFor;\n        }\n        if (beforeComponent?.type === \"beforeComponent\") {\n            beforeComponent = newParent.designDummyFor;\n            newParent = newParent.designDummyFor._parent;\n        }\n        if (target._this.isAbsolute) {\n\n            var left = parseInt(ui.helper[0].style.left);\n            var top = parseInt(ui.helper[0].style.top);\n            if (ui.draggable[0]._this.createFromType !== undefined) {\n                var offsetNewParent = $(target._this.dom).offset();\n                left = -offsetNewParent.left + parseInt($(ui.helper).css('left'));\n                top = -offsetNewParent.top + parseInt($(ui.helper).css('top'));\n                //      ui.helper[0]._this.left=left;\n                //    ui.helper[0]._this.y=top;\n                if (this.onpropertyadded !== undefined)\n                    this.onpropertyadded(ui.draggable[0]._this.createFromType, newComponent, left, top, newParent, undefined);\n                return;\n            }\n            var oldParent = ui.draggable[0]._this._parent;\n            var pleft = $(newParent.dom).offset().left;\n            var ptop = $(newParent.dom).offset().top;\n            var oleft = $(oldParent.dom).offset().left;\n            var otop = $(oldParent.dom).offset().top;\n            left = left + oleft - pleft;\n            top = top + otop - ptop;\n            //snap to 5\n            if (top !== 1) {\n                top = Math.round(top / 5) * 5;\n            }\n            if (left !== 1) {\n                left = Math.round(left / 5) * 5;\n            }\n\n\n            oldParent.remove(ui.draggable[0]._this);\n            $(ui.draggable).css({ 'top': top, 'left': left, position: 'absolute' });\n            target._this.add(ui.draggable[0]._this);\n            if (_this.onpropertychanged !== undefined) {\n                _this.onpropertychanged(newComponent, left, top, oldParent, newParent, undefined);\n            }\n        } else {//relative layout\n\n            var oldParent = ui.draggable[0]._this._parent;\n\n            if (!$(newParent.domWrapper).hasClass(\"jcontainer\") && newParent._parent) {\n                newParent = newParent._parent;\n            }\n            $(ui.draggable).css({ 'top': \"\", 'left': \"\", \"position\": \"relative\" });\n            if (ui.draggable[0]._this.createFromType !== undefined) {\n                if (this.onpropertyadded !== undefined)\n                    this.onpropertyadded(newComponent.createFromType, ui.draggable[0]._this, undefined, undefined, newParent, beforeComponent);\n\n            } else {\n                //newParent.add(ui.draggable[0]._this);\n                if (target._this !== newParent)\n                    newParent.addBefore(ui.draggable[0]._this, target._this);\n                else\n                    newParent.add(ui.draggable[0]._this);\n                if (_this.onpropertychanged !== undefined) {\n                    _this.onpropertychanged(newComponent, undefined, undefined, oldParent, newParent, beforeComponent);\n                }\n            }\n\n        }\n        if (designDummyAtEnd) {//this Component should stand at last\n            var par = designDummyAtEnd._parent;\n            par.remove(designDummyAtEnd);\n            par.add(designDummyAtEnd);\n            par.designDummies.push(designDummyAtEnd);//bug insert dummy again\n        }\n    }\n\n    /**\n    * install the DragAndDropper\n    * all child jomponents are draggable\n    * all child containers are droppable\n    * @param  parentPanel - all childs are effected\n    * @param allIDs - ID's of all editable components e.g. #10,#12\n    * @returns {unresolved}\n    */\n    public install(parentPanel: Component, allIDs: string) {\n       \n        //$(this.parentPainer\");\n        var _this = this;\n        if (parentPanel !== undefined)\n            this.parentPanel = parentPanel;\n        if (allIDs !== undefined)\n            this.allIDs = allIDs;\n        var dcs = [];\n        this.allIDs.split(\",\").forEach((str) => {\n            let el = document.getElementById(str.substring(1));\n            if (el) {\n                var classes = el.classList;\n                if (classes.contains(\"jcomponent\") && !classes.contains(\"jdesigncontainer\") && !classes.contains(\"designerNoDraggable\"))\n                    dcs.push(document.getElementById(str.substring(1)));\n            }\n        });\n        //slow\n       // this.draggableComponents = $(this.allIDs).find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\");\n        this.draggableComponents = $(dcs);//.find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\");\n\n\n        this.draggableComponents.draggable({\n            cancel: \"false\",\n            revert: \"invalid\",\n            drag: function (event, ui) {\n\n                _this.lastDropCanceled = _this.isDragEnabled(event, ui);\n                setTimeout(function () {\n                    _this.lastDropCanceled = false;\n                }, 100);\n                return !_this.lastDropCanceled;\n            },\n            start: function () {\n                _this._isDragging = true;\n            },\n            stop: function () {\n                _this._isDragging = false;\n            },\n            //appendTo: \"body\"\n            helper: \"clone\",\n\n        });\n\n        //$(this.parentPanel.dom).find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\").draggable('disable');\n        //$(this.allIDs).find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\").draggable('enable');\n\n        this.draggableComponents.draggable('disable');\n        this.draggableComponents.draggable('enable');\n\n        var _this = this;\n        //all jcompoenents are proptargets                                         also jdesignummy     but no jcomponents in absolute Layout  no jcomponens that contains a jdesigndummy  absolutelayout container\n        this.droppableComponents = $(this.parentPanel.dom).parent().parent().find(\".jdesigndummy,.jcomponent:not(.jabsolutelayout>.jcomponent, :has(.jdesigndummy)),                      .jcontainer>.jabsolutelayout\")\n        //console.log(this.droppableComponents.length);\n        for (var c = 0; c < this.droppableComponents.length; c++) {\n            //  console.log(this.droppableComponents[c].id);\n        }\n        var isDropping = false;\n        var dropWnd;\n        var dropEvent;\n        var dropUI;\n        this.droppableComponents.droppable({\n            greedy: true,\n            hoverClass: \"ui-state-highlight\",\n            tolerance: \"pointer\",\n            drop: function (event, ui) {\n\n\n                //function is called for every Window in z-Index - we need the last one\n                if (_this.lastDropCanceled)\n                    return;\n                dropWnd = this;\n                dropEvent = event;\n                dropUI = ui;\n                if (!isDropping) {\n                    isDropping = true;\n                    window.setTimeout(function () {\n                        isDropping = false;\n                        _this._drop(dropWnd, dropEvent, dropUI);\n                    }, 50);\n                }\n            }\n        });\n        //this.droppableComponents.droppable(\"enable\");\n        //$(this.allIDs).eq(\".jcontainer\").not(\".jdesigncontainer\").droppable(\"enable\");\n        //$(this.allIDs).filter(\".jcontainer\").not(\".jdesigncontainer\").droppable(\"enable\");\n    }\n\n    /**\n     * uninstall the DragAndDropper\n     */\n    uninstall() {\n        this.onpropertychanged = undefined;\n        this.onpropertyadded = undefined;\n        // \t$(this.allIDs).eq(\".jcontainer\").not(\".jdesigncontainer\").droppable(\"disable\");  \n        //$(this.parentPanel.dom).parent().parent().find(\".jcontainer\").droppable(\"destroy\");\n        // var components=$(this.allIDs);\n        if (this.draggableComponents !== undefined) {\n\n            this.draggableComponents.draggable();\n            try{\n            this.draggableComponents.draggable('destroy');\n            }catch{\n                console.log(\"unable to destroy draganddrop\");\n            }\n            delete $.ui[\"ddmanager\"].current;//memory leak https://bugs.jqueryui.com/ticket/10667\n            this.draggableComponents = undefined;\n        }\n        if (this.droppableComponents !== undefined) {\n            this.droppableComponents.droppable();\n            this.droppableComponents.droppable(\"destroy\");\n        }\n    }\n}\n","\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\n\r\n\r\nimport typescript from \"jassijs_editor/util/Typescript\";\r\nimport { Tests } from \"jassijs_editor/util/Tests\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\nimport { JassiError } from \"jassijs/remote/Classes\";\r\n\r\n\r\ninterface Properties {\r\n    [details: string]: Entry;\r\n}\r\ninterface Entry {\r\n    value?: any;\r\n    node?: ts.Node;\r\n    isFunction: boolean;\r\n}\r\nclass ParsedDecorator {\r\n    node?: ts.Decorator;\r\n    name?: string;\r\n    parsedParameter?: object[] = [];\r\n    parameter?: string[] = [];\r\n\r\n}\r\nclass ParsedMember {\r\n    node?: ts.Node;\r\n    name?: string;\r\n    decorator?: { [name: string]: ParsedDecorator } = {};\r\n    type?: string;\r\n}\r\nexport class ParsedClass {\r\n    parent?: Parser;\r\n    node?: ts.ClassElement;\r\n    name?: string;\r\n    fullClassname?: string;\r\n    members?: { [name: string]: ParsedMember } = {};\r\n    decorator?: { [name: string]: ParsedDecorator } = {};\r\n}\r\n@$Class(\"jassijs_editor.util.Parser\")\r\nexport class Parser {\r\n    sourceFile: ts.SourceFile = undefined;\r\n    typeMeNode: ts.Node;\r\n    typeMe: { [name: string]: Entry } = {};\r\n    classes: { [name: string]: ParsedClass } = {};\r\n    imports: { [name: string]: string } = {};\r\n    functions: { [name: string]: ts.Node } = {};\r\n    variables: { [name: string]: ts.Node } = {};\r\n    classScope: { classname: string, methodname: string }[];\r\n    jsxVariables: any;\r\n    code: string;\r\n    /**\r\n    * @member {Object.<string,Object.<string,[object]>> - all properties\r\n    * e.g. data[\"textbox1\"][value]->Entry\r\n    */\r\n    data: { [variable: string]: { [property: string]: Entry[] } };\r\n    /**\r\n     * parses Code for UI relevant settings\r\n     * @class jassijs_editor.util.Parser\r\n     */\r\n    constructor() {\r\n\r\n        this.data = {};\r\n        /** {[string]} - all code lines*/\r\n    }\r\n\r\n    getModifiedCode(): string {\r\n        const printer = ts.createPrinter({ newLine: ts.NewLineKind.LineFeed });\r\n        const resultFile = ts.createSourceFile(\"dummy.ts\", \"\", ts.ScriptTarget.Latest, /*setParentNodes*/ false, this.jsxVariables ? ts.ScriptKind.TSX : ts.ScriptKind.TS);\r\n        var result = printer.printNode(ts.EmitHint.Unspecified, this.sourceFile, resultFile);\r\n        result = this.reformatCode(result);\r\n        return result;\r\n    }\r\n\r\n    reformatCode(code: string): string {\r\n        const serviceHost: ts.LanguageServiceHost = {\r\n            getScriptFileNames: () => [],\r\n            getScriptVersion: fileName => \"1.0\",\r\n            getScriptSnapshot: fileName => {\r\n                return ts.ScriptSnapshot.fromString(code);\r\n            },\r\n            getCurrentDirectory: () => \"\",\r\n            getCompilationSettings: () => <any>{},\r\n            getDefaultLibFileName: options => ts.getDefaultLibFilePath(options),\r\n            fileExists: (a) => false,\r\n            readFile: (a) => code,\r\n            readDirectory: (a) => []\r\n        };\r\n        var file = this.jsxVariables ? \"tempdoc.tsx\" : \"tempdoc.ts\";\r\n        const languageService = ts.createLanguageService(serviceHost, ts.createDocumentRegistry());\r\n        const textChanges = languageService.getFormattingEditsForDocument(file, {\r\n            convertTabsToSpaces: true,\r\n            //   insertSpaceAfterCommaDelimiter: true,\r\n            //  insertSpaceAfterKeywordsInControlFlowStatements: true,\r\n            // insertSpaceBeforeAndAfterBinaryOperators: true,\r\n            newLineCharacter: \"\\n\",\r\n            indentStyle: ts.IndentStyle.Smart,\r\n            indentSize: 4,\r\n            tabSize: 4\r\n        });\r\n\r\n        let finalText = code;\r\n        var arr = textChanges.sort((a, b) => b.span.start - a.span.start);\r\n        for (var x = 0; x < arr.length; x++) {\r\n            var textChange = arr[x];\r\n            const { span } = textChange;\r\n            finalText = finalText.slice(0, span.start) + textChange.newText\r\n                + finalText.slice(span.start + span.length);\r\n        }\r\n        return finalText;\r\n    }\r\n\r\n\r\n    /**\r\n     * add a property\r\n     * @param {string} variable - name of the variable\r\n     * @param {string} property - name of the property\r\n     * @param {string} value  - code - the value\r\n     * @param node - the node of the statement\r\n     */\r\n    private add(variable: string, property: string, value: string, node: ts.Node, isFunction = false, trim = true) {\r\n\r\n        if (value === undefined || value === null)\r\n            return;\r\n        if (trim)\r\n            value = value.trim();\r\n        property = property.trim();\r\n        if (this.data[variable] === undefined) {\r\n            this.data[variable] = {};\r\n        }\r\n        if (this.data[variable][property] === undefined) {\r\n            this.data[variable][property] = [];\r\n        }\r\n        if (Array.isArray(this.data[variable][property])) {\r\n            this.data[variable][property].push({\r\n                value: value,\r\n                node: node,\r\n                isFunction\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * read a property value from code\r\n     * @param {string} variable - the name of the variable \r\n     * @param {string} property - the name of the property\r\n     */\r\n    getPropertyValue(variable, property): any {\r\n        if (this.data[variable] !== undefined) {\r\n            if (this.data[variable][property] !== undefined) {\r\n                var ret = this.data[variable][property][0].value;\r\n                return ret;\r\n            }\r\n        }\r\n        return undefined;\r\n        /* variable=\"this.\"+variable;\r\n         if(this.data[variable]!==undefined){\r\n             if(this.data[variable][property]!==undefined){\r\n                 return this.data[variable][property][0].value;\r\n             }\r\n         }*/\r\n        //this \r\n        //   var value=this.propertyEditor.parser.getPropertyValue(this.variablename,this.property.name);\r\n\r\n    }\r\n\r\n    addTypeMe(name: string, type: string) {\r\n        if (!this.typeMeNode)\r\n            return;\r\n        var tp = ts.createTypeReferenceNode(type, []);\r\n        var newnode = ts.createPropertySignature(undefined, name + \"?\", undefined, tp, undefined);\r\n        this.typeMeNode[\"members\"].push(newnode);\r\n    }\r\n    /**\r\n     * add import {name} from file\r\n     * @param name \r\n     * @param file \r\n     */\r\n    addImportIfNeeded(name: string, file: string) {\r\n        if (this.imports[name] === undefined) {\r\n            //@ts-ignore\r\n            var imp = ts.createNamedImports([ts.createImportSpecifier(false, undefined, ts.createIdentifier(name))]);\r\n            const importNode = ts.createImportDeclaration(undefined, undefined, ts.createImportClause(undefined, imp), ts.createLiteral(file));\r\n            this.sourceFile = ts.updateSourceFileNode(this.sourceFile, [importNode, ...this.sourceFile.statements]);\r\n        }\r\n    }\r\n    private parseTypeMeNode(node: ts.Node) {\r\n        var _this = this;\r\n        if (node.kind === ts.SyntaxKind.TypeLiteral) {\r\n            if (node[\"members\"])\r\n                this.typeMeNode = node;\r\n            node[\"members\"].forEach(function (tnode: any) {\r\n                if (tnode.name) {\r\n                    var name = tnode.name.text;\r\n                    var stype = tnode.type.typeName.text;\r\n                    _this.typeMe[name] = { node: tnode, value: stype, isFunction: false };\r\n                }\r\n                //            this.add(\"me\", name, \"typedeclaration:\" + stype, undefined, aline, aline);\r\n            });\r\n        }\r\n        node.getChildren().forEach(c => this.parseTypeMeNode(c));\r\n    }\r\n    private convertArgument(arg: any) {\r\n        if (arg === undefined)\r\n            return undefined;\r\n\r\n        if (arg.kind === ts.SyntaxKind.ObjectLiteralExpression) {\r\n            var ret = {};\r\n            var props = arg.properties;\r\n            if (props !== undefined) {\r\n                for (var p = 0; p < props.length; p++) {\r\n                    ret[props[p].name.text] = this.convertArgument(props[p].initializer);\r\n                }\r\n            }\r\n            return ret;\r\n        } else if (arg.kind === ts.SyntaxKind.StringLiteral) {\r\n            return arg.text;\r\n        } else if (arg.kind === ts.SyntaxKind.ArrayLiteralExpression) {\r\n            let ret = [];\r\n            for (var p = 0; p < arg.elements.length; p++) {\r\n                ret.push(this.convertArgument(arg.elements[p]));\r\n            }\r\n            return ret;\r\n        } else if (arg.kind === ts.SyntaxKind.Identifier) {\r\n            return arg.text;\r\n        } else if (arg.kind === ts.SyntaxKind.TrueKeyword) {\r\n            return true;\r\n        } else if (arg.kind === ts.SyntaxKind.FalseKeyword) {\r\n            return false;\r\n        } else if (arg.kind === ts.SyntaxKind.NumericLiteral) {\r\n            return Number(arg.text);\r\n        } else if (arg.kind === ts.SyntaxKind.ArrowFunction || arg.kind === ts.SyntaxKind.FunctionExpression) {\r\n            return arg.getText();\r\n        }\r\n\r\n        throw new JassiError(\"Error type not found\");\r\n    }\r\n    private parseDecorator(dec: ts.Decorator): ParsedDecorator {\r\n        var ex: any = dec.expression;\r\n        var ret = new ParsedDecorator();\r\n        if (ex.expression === undefined) {\r\n            ret.name = ex.text;\r\n        } else {\r\n\r\n            ret.name = ex.expression.escapedText;\r\n            if (ex.expression !== undefined) {\r\n                for (var a = 0; a < ex.arguments.length; a++) {\r\n                    ret.parsedParameter.push(this.convertArgument(ex.arguments[a]));\r\n                    ret.parameter.push(ex.arguments[a].getText());\r\n                }\r\n\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    private parseClass(node: ts.ClassElement) {\r\n        if (node.kind === ts.SyntaxKind.ClassDeclaration) {\r\n            var parsedClass = new ParsedClass();\r\n            parsedClass.parent = this;\r\n            parsedClass.name = node.name.getText();\r\n            parsedClass.node = node;\r\n            this.classes[parsedClass.name] = parsedClass;\r\n            if (node.decorators !== undefined) {\r\n                var dec = {};\r\n                for (let x = 0; x < node.decorators.length; x++) {\r\n                    var parsedDec = this.parseDecorator(node.decorators[x]);\r\n                    parsedClass.decorator[parsedDec.name] = parsedDec;\r\n                    if (parsedClass.decorator[\"$Class\"] && parsedDec.parameter.length > 0)\r\n                        parsedClass.fullClassname = parsedDec.parameter[0].replaceAll('\"', \"\");\r\n                }\r\n            }\r\n\r\n            for (var x = 0; x < node[\"members\"].length; x++) {\r\n                var parsedMem = new ParsedMember()\r\n                var mem = node[\"members\"][x];\r\n                if (mem.name === undefined)\r\n                    continue;//Constructor\r\n                parsedMem.name = mem.name.escapedText;\r\n                parsedMem.node = node[\"members\"][x];\r\n                parsedMem.type = (mem.type ? mem.type.getFullText().trim() : undefined);\r\n                parsedClass.members[parsedMem.name] = parsedMem;\r\n                var params = [];\r\n                if (mem.decorators) {\r\n                    for (let i = 0; i < mem.decorators.length; i++) {\r\n                        let parsedDec = this.parseDecorator(mem.decorators[i]);\r\n                        parsedMem.decorator[parsedDec.name] = parsedDec;\r\n                    }\r\n                }\r\n            }\r\n            if (this.classScope) {\r\n                for (let x = 0; x < this.classScope.length; x++) {\r\n                    var col = this.classScope[x];\r\n                    if (col.classname === parsedClass.name && parsedClass.members[col.methodname]) {\r\n                        var nd = parsedClass.members[col.methodname].node;\r\n                        this.parseProperties(nd);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private parseConfig(node: ts.CallExpression) {\r\n        if (node.arguments.length > 0) {\r\n            var left = node.expression.getText();\r\n            var lastpos = left.lastIndexOf(\".\");\r\n            var variable = left;\r\n            var prop = \"\";\r\n            if (lastpos !== -1) {\r\n                variable = left.substring(0, lastpos);\r\n                prop = left.substring(lastpos + 1);\r\n                //@ts-ignore\r\n                var props: any[] = node.arguments[0].properties;\r\n                if (props !== undefined) {\r\n                    for (var p = 0; p < props.length; p++) {\r\n                        var name = props[p].name.text;\r\n                        // var value = this.convertArgument(props[p].initializer);\r\n                        var code: string = props[p].initializer ? props[p].initializer.getText() : \"\";\r\n                        if (code?.indexOf(\".config\") > -1) {\r\n                            this.parseProperties(props[p].initializer);\r\n                        }\r\n                        this.add(variable, name, code, props[p], false);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private parseProperties(node: ts.Node) {\r\n        var _this = this;\r\n        if (ts.isVariableDeclaration(node)) {\r\n            var name = node.name.getText();\r\n            if (node.initializer !== undefined) {\r\n                var value = node.initializer.getText();\r\n                this.add(name, \"_new_\", value, node.parent.parent);\r\n            }\r\n        }\r\n\r\n        if ((ts.isBinaryExpression(node) && node.operatorToken.kind === ts.SyntaxKind.EqualsToken) ||\r\n            ts.isCallExpression(node)) {\r\n            var node1;\r\n            var node2;\r\n            var left: string;\r\n            var value: string;\r\n\r\n            var isFunction = false;\r\n            if (ts.isBinaryExpression(node)) {\r\n                node1 = node.left;\r\n                node2 = node.right;\r\n                left = node1.getText();// this.code.substring(node1.pos, node1.end).trim();\r\n                value = node2.getText();//this.code.substring(node2.pos, node2.end).trim();\r\n                if (value.startsWith(\"new \"))\r\n                    this.add(left, \"_new_\", value, node.parent);\r\n            }\r\n            if (ts.isCallExpression(node)) {\r\n                node1 = node.expression;\r\n                node2 = node.arguments;\r\n                isFunction = true;\r\n                left = node1.getText();// this.code.substring(node1.pos, node1.end).trim();\r\n                var params = [];\r\n                node.arguments.forEach((arg) => {\r\n\r\n                    params.push(arg.getText());\r\n                    if ((<any>arg)?.expression?.name?.getText() === \"config\") {\r\n                        _this.parseConfig(<any>arg);\r\n                    }\r\n                    //arg.getText().indexOf(\".config(\")\r\n                });\r\n                if (left.endsWith(\".config\")) {\r\n                    var lastpos = left.lastIndexOf(\".\");\r\n                    var variable = left;\r\n                    var prop = \"\";\r\n                    if (lastpos !== -1) {\r\n                        variable = left.substring(0, lastpos);\r\n                        prop = left.substring(lastpos + 1);\r\n                    }\r\n                    value = params.join(\", \");\r\n                    this.add(variable, prop, value, node, isFunction);\r\n                    this.parseConfig(node);\r\n                    return;\r\n                }\r\n                if (left.endsWith(\".createRepeatingComponent\")) {\r\n                    this.visitNode(node.arguments[0][\"body\"], true)\r\n                    //this.parseProperties(node.arguments[0][\"body\"]);\r\n                }\r\n                value = params.join(\", \");//this.code.substring(node2.pos, node2.end).trim();//\r\n            }\r\n\r\n            var lastpos = left.lastIndexOf(\".\");\r\n            var variable = left;\r\n            var prop = \"\";\r\n            if (lastpos !== -1) {\r\n                variable = left.substring(0, lastpos);\r\n                prop = left.substring(lastpos + 1);\r\n            }\r\n            this.add(variable, prop, value, node.parent, isFunction);\r\n        } else\r\n            node.getChildren().forEach(c => _this.visitNode(c, true));\r\n    }\r\n    private parseJSX(_this: Parser, node: ts.Node) {\r\n        var nd: ts.JsxElement = <any>node;\r\n        var element:ts.JsxOpeningElement|ts.JsxSelfClosingElement=<any>nd;\r\n        if(nd.openingElement)\r\n            element=<any>nd.openingElement;\r\n        var jsx = _this.jsxVariables[element.pos - 1];\r\n        if (jsx === undefined)\r\n            jsx = _this.jsxVariables[element.pos];\r\n        if (jsx === undefined)\r\n            jsx = _this.jsxVariables[element.pos + 1];\r\n        if (jsx) {\r\n            jsx.name=this.getNextVariableNameForType(jsx.name);\r\n            _this.jsxVariables[jsx.name] = jsx;\r\n            nd[\"jname\"] = jsx.name;\r\n            _this.add(jsx.name, \"_new_\", nd.getFullText(this.sourceFile), node);\r\n            for (var x = 0; x < element.attributes.properties.length; x++) {\r\n                var prop = element.attributes.properties[x];\r\n                var val = prop[\"initializer\"].text;\r\n                _this.add(jsx.name, (<any>prop.name).text, val, prop);\r\n            }\r\n            if ((<any>node.parent)?.jname !== undefined) {\r\n                _this.add((<any>node.parent)?.jname, \"add\", jsx.name, node);\r\n            }\r\n            //node.getChildren().forEach(c => _this.visitNode(c, consumeProperties));\r\n            //mark textnodes\r\n            var counttrivial=0;\r\n            if(nd.children){\r\n                for (var x = 0; x < nd.children.length; x++) {\r\n                    var ch = nd.children[x];\r\n                    if (ch.kind === ts.SyntaxKind.JsxText) {\r\n                        if(ch.containsOnlyTriviaWhiteSpaces){\r\n                            counttrivial++;\r\n                        }else{\r\n                              var njsx = _this.jsxVariables[ch.pos - 1];\r\n                                if (njsx === undefined)\r\n                                    njsx = _this.jsxVariables[ch.pos];\r\n                                if (njsx === undefined)\r\n                                    njsx = _this.jsxVariables[ch.pos + 1];\r\n                                if (njsx) {\r\n                                }\r\n                            var varname = this.getNextVariableNameForType(\"text\", \"text\");\r\n                            var stext = JSON.stringify(ch.text);\r\n                            _this.add(varname, \"_new_\", stext, ch, false, false);\r\n                            _this.jsxVariables[varname] = ch;\r\n                            _this.add(varname, \"text\", stext, ch, false, false);\r\n                            //if ((<any>node.parent)?.jname !== undefined) {\r\n                            _this.add(jsx.name, \"add\", varname, ch);\r\n                            // }\r\n                            var chvar = {\r\n                                pos: ch.pos,\r\n                                component: _this.jsxVariables[jsx.name].component._components[x-counttrivial],\r\n                                name: varname\r\n                            };\r\n                            _this.jsxVariables[varname] = chvar;\r\n                            this.jsxVariables.__orginalarray__.push(chvar);\r\n                        }\r\n                    } else {\r\n                        _this.visitNodeJSX(ch, {});// consumeProperties)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n//        console.log(nd.openingElement.getText(this.sourceFile));\r\n    }\r\n\r\n    private visitNode(node: ts.Node, consumeProperties = undefined) {\r\n        var _this = this;\r\n        if (node.kind === ts.SyntaxKind.VariableDeclaration) {\r\n            this.variables[node[\"name\"].text] = node;\r\n        }\r\n        if (node.kind === ts.SyntaxKind.ImportDeclaration) {\r\n            var nd: any = node;\r\n            var file = nd.moduleSpecifier.text;\r\n            if (nd.importClause && nd.importClause.namedBindings) {\r\n                var names = nd.importClause.namedBindings.elements;\r\n                for (var e = 0; e < names.length; e++) {\r\n                    this.imports[names[e].name.escapedText] = file;\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        if (node.kind == ts.SyntaxKind.TypeAliasDeclaration && node[\"name\"].text === \"Me\") {\r\n            this.parseTypeMeNode(node);\r\n            return;\r\n        } else if (node.kind === ts.SyntaxKind.ClassDeclaration) {\r\n            this.parseClass(<ts.ClassElement>node);\r\n            \r\n                return;\r\n\r\n        } else if (node && node.kind === ts.SyntaxKind.FunctionDeclaration) {//functions out of class\r\n            this.functions[node[\"name\"].text] = node;\r\n            if (this.classScope) {\r\n                for (let x = 0; x < this.classScope.length; x++) {\r\n                    var col = this.classScope[x];\r\n                    if (col.classname === undefined && node[\"name\"].text === col.methodname)\r\n                        consumeProperties = true;\r\n                }\r\n            } else if(this.jsxVariables===undefined)\r\n                consumeProperties = true;\r\n        }\r\n        if (node.kind === ts.SyntaxKind.JsxElement) {\r\n\r\n            _this.parseJSX(_this, node);\r\n            return;\r\n        }\r\n\r\n\r\n        if (consumeProperties)\r\n            this.parseProperties(node);\r\n        else\r\n            node.getChildren().forEach(c => _this.visitNode(c, consumeProperties));\r\n        //TODO remove this block\r\n        /*  if (node.kind === ts.SyntaxKind.FunctionDeclaration && node[\"name\"].text === \"test\") {\r\n              this.add(node[\"name\"].text, \"\", \"\", undefined);\r\n          }*/\r\n    }\r\n    private visitNodeJSX(node: ts.Node, consumeProperties = undefined) {\r\n        \r\n        var _this=this;\r\n        if (node.kind === ts.SyntaxKind.JsxElement||node.kind===ts.SyntaxKind.JsxSelfClosingElement) {\r\n            _this.parseJSX(_this, node);\r\n            return;\r\n        }\r\n\r\n        node.getChildren().forEach(c => _this.visitNodeJSX(c, consumeProperties));\r\n        //TODO remove this block\r\n        /*  if (node.kind === ts.SyntaxKind.FunctionDeclaration && node[\"name\"].text === \"test\") {\r\n              this.add(node[\"name\"].text, \"\", \"\", undefined);\r\n          }*/\r\n    }\r\n    searchClassnode(node: ts.Node, pos: number): { classname: string, methodname: string } {\r\n        if (ts.isMethodDeclaration(node)) {\r\n            return {\r\n                classname: node.parent[\"name\"][\"text\"],\r\n                methodname: node.name[\"text\"]\r\n            }\r\n        }\r\n        if (node && node.kind === ts.SyntaxKind.FunctionDeclaration) {//functions out of class\r\n            var funcname = node[\"name\"].text\r\n            return {\r\n                classname: undefined,\r\n                methodname: funcname\r\n            }\r\n        }\r\n        var childs = node.getChildren();\r\n        for (var x = 0; x < childs.length; x++) {\r\n            var c = childs[x];\r\n            if (pos >= c.pos && pos <= c.end) {\r\n                var test = this.searchClassnode(c, pos);\r\n                if (test)\r\n                    return test;\r\n            }\r\n        };\r\n        return undefined;\r\n    }\r\n    getClassScopeFromPosition(code: string, pos: number): { classname: string, methodname: string } {\r\n        this.data = {};\r\n        this.code = code;\r\n\r\n        this.sourceFile = ts.createSourceFile('dummy.ts', code, ts.ScriptTarget.ES5, true, this.jsxVariables ? ts.ScriptKind.TSX : ts.ScriptKind.TS);\r\n\r\n        return this.searchClassnode(this.sourceFile, pos);\r\n        //return this.parseold(code,onlyfunction);\r\n\r\n    }\r\n\r\n    private removePos(node: ts.Node) {\r\n        var _this = this;\r\n        node.pos = -1;\r\n        node.end = -1;\r\n        node.forEachChild((ch) => _this.removePos(ch));\r\n    }\r\n    private createNode(code: string) {\r\n        var ret = ts.createSourceFile('dummytemp.ts', code, ts.ScriptTarget.ES5, true, this.jsxVariables ? ts.ScriptKind.TSX : undefined);\r\n        var node = ret.statements[0].expression;\r\n        this.removePos(node);\r\n        return node;\r\n        //return this.parseold(code,onlyfunction);\r\n    }\r\n    initJSXVariables(values: any[]) {\r\n        var autovars = {};\r\n        var jsxvars = {}\r\n        for (var x = 0; x < values.length; x++) {\r\n            var v = values[x].component;\r\n            var tag = v.tag === undefined ? v.constructor.name : v.tag;\r\n            if (autovars[tag] === undefined)\r\n                autovars[tag] = 1;\r\n            \r\n            values[x].name = this.getNextVariableNameForType(tag);//tag + (autovars[tag]++);\r\n            this.data[values[x].name]={};//reserve variable\r\n            jsxvars[values[x].pos] = values[x];\r\n        }\r\n        this.jsxVariables = jsxvars;\r\n        this.jsxVariables.__orginalarray__ = values;\r\n    }\r\n    /**\r\n    * parse the code \r\n    * @param {string} code - the code\r\n    * @param {string} onlyfunction - only the code in the function is parsed, e.g. \"layout()\"\r\n    */\r\n    parse(code: string, classScope: { classname: string, methodname: string }[] = undefined, jsxVariables: any = undefined) {\r\n        this.data = {};\r\n       \r\n        this.code = code;\r\n        if (classScope !== undefined)\r\n            this.classScope = classScope;\r\n        else\r\n            classScope = this.classScope;\r\n\r\n        this.sourceFile = ts.createSourceFile('dummy.ts', code, ts.ScriptTarget.ES5, true, jsxVariables ? ts.ScriptKind.TSX : undefined);\r\n        if (jsxVariables){\r\n            this.initJSXVariables(jsxVariables);\r\n            this.visitNodeJSX(this.sourceFile,false);\r\n            return;\r\n        }\r\n\r\n        if (this.classScope === undefined)\r\n            this.visitNode(this.sourceFile, true);\r\n        else\r\n            this.visitNode(this.sourceFile);\r\n\r\n        //return this.parseold(code,onlyfunction);\r\n    }\r\n    private removeNode(node: ts.Node) {\r\n        if (node.parent[\"statements\"]) {\r\n            var pos = node.parent[\"statements\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"statements\"].splice(pos, 1);\r\n        } else if (node.parent.parent[\"type\"] !== undefined) {\r\n            var pos = node.parent.parent[\"type\"][\"members\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent.parent[\"type\"][\"members\"].splice(pos, 1);\r\n        } else if (node.parent[\"members\"] !== undefined) {\r\n            var pos = node.parent[\"members\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"members\"].splice(pos, 1);\r\n        } else if (node.parent[\"properties\"] !== undefined) {\r\n            var pos = node.parent[\"properties\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"properties\"].splice(pos, 1);\r\n        } else if (node.parent[\"elements\"] !== undefined) {\r\n            var pos = node.parent[\"elements\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"elements\"].splice(pos, 1);\r\n        } else if (node.parent.kind === ts.SyntaxKind.ExpressionStatement) {\r\n            var pos = node.parent.parent[\"statements\"].indexOf(node.parent);\r\n            if (pos >= 0)\r\n                node.parent.parent[\"statements\"].splice(pos, 1);\r\n        } else\r\n            throw Error(node.getFullText() + \"could not be removed\");\r\n    }\r\n    /** \r\n     * modify a member \r\n     **/\r\n    addOrModifyMember(member: ParsedMember, pclass: ParsedClass) {\r\n        //member.node\r\n        //var newmember=ts.createProperty\r\n        var newdec: ts.Decorator[] = undefined;\r\n        for (var key in member.decorator) {\r\n            var dec = member.decorator[key];\r\n            if (!newdec)\r\n                newdec = [];\r\n            //ts.createDecorator()\r\n            //member.decorator[key].name;\r\n            var params = undefined;\r\n            if (dec.parameter) {\r\n                params = [];\r\n                for (var i = 0; i < dec.parameter.length; i++) {\r\n                    params.push(ts.createIdentifier(dec.parameter[i]));\r\n                }\r\n            }\r\n            var call = ts.createCall(ts.createIdentifier(dec.name), undefined, params);\r\n            newdec.push(ts.createDecorator(call));\r\n        }\r\n        //var type=ts.createTy\r\n        var newmember = ts.createProperty(newdec, undefined, member.name, undefined, ts.createTypeReferenceNode(member.type, []), undefined);\r\n        var node = undefined;\r\n        for (var key in pclass.members) {\r\n            if (key === member.name)\r\n                node = pclass.members[key].node\r\n        }\r\n        if (node === undefined) {\r\n            pclass.node[\"members\"].push(newmember);\r\n\r\n        } else {\r\n            var pos = pclass.node[\"members\"].indexOf(node);\r\n            pclass.node[\"members\"][pos] = newmember;\r\n        }\r\n        pclass.members[member.name] = member;\r\n        member.node = newmember;\r\n    }\r\n    /**\r\n    * removes the property from code\r\n    * @param {type} property - the property to remove\r\n    * @param {type} [onlyValue] - remove the property only if the value is found\r\n    * @param {string} [variablename] - thpe name of the variable - default=this.variablename\r\n    */\r\n    removePropertyInCode(property: string, onlyValue = undefined, variablename: string = undefined): ts.Node {\r\n        if (this.data[variablename] !== undefined && this.data[variablename].config !== undefined && property === \"add\") {\r\n            property = \"children\";\r\n            var oldparent: any = this.data[variablename][property][0].node;\r\n            for (var x = 0; x < oldparent.initializer.elements.length; x++) {\r\n                var valueNode = oldparent.initializer.elements[x];\r\n                if (valueNode.getText() === onlyValue || valueNode.getText().startsWith(onlyValue + \".\")) {\r\n                    oldparent.initializer.elements.splice(x, 1);\r\n\r\n                    if (oldparent.initializer.elements.length === 0) {\r\n                        this.removeNode(oldparent);\r\n                    }\r\n                    return valueNode;\r\n                }\r\n\r\n            }\r\n        }\r\n        if (this.data[variablename] !== undefined && this.data[variablename][property] !== undefined) {\r\n            var prop: Entry = undefined;\r\n            if (onlyValue !== undefined) {\r\n                for (var x = 0; x < this.data[variablename][property].length; x++) {\r\n                    if (this.data[variablename][property][x].value === onlyValue || this.data[variablename][property][x].value.startsWith(onlyValue + \".\")) {\r\n                        prop = this.data[variablename][property][x];\r\n                    }\r\n                }\r\n            } else\r\n                prop = this.data[variablename][property][0];\r\n            if (prop == undefined)\r\n                return;\r\n            this.removeNode(prop.node);\r\n            if (prop.node[\"expression\"]?.arguments?.length > 0) {\r\n                return prop.node[\"expression\"]?.arguments[0];\r\n            }\r\n            return prop.node;\r\n            /*var oldvalue = this.lines[prop.linestart - 1];\r\n            for (let x = prop.linestart;x <= prop.lineend;x++) {\r\n                this.lines[x - 1] = undefined;\r\n                if (x > 1 && this.lines[x - 2].endsWith(\",\"))//type Me={ bt2?:Button,\r\n                    this.lines[x - 2] = this.lines[x - 2].substring(0, this.lines[x - 2].length);\r\n            }*/\r\n            //var text = this.parser.linesToString();\r\n            //this.codeEditor.value = text;\r\n            //this.updateParser();\r\n        }\r\n\r\n    }\r\n    /**\r\n     * removes the variable from code\r\n     * @param {string} varname - the variable to remove\r\n     */\r\n    removeVariablesInCode(varnames: string[]) {\r\n        var allprops: Entry[] = [];\r\n        //collect allNodes to delete\r\n        for (var vv = 0; vv < varnames.length; vv++) {\r\n            var varname = varnames[vv];\r\n            var prop = this.data[varname];\r\n\r\n            if (varname.startsWith(\"me.\") && this.typeMe[varname.substring(3)] !== undefined)\r\n                allprops.push(this.typeMe[varname.substring(3)]);\r\n            //remove properties\r\n            for (var key in prop) {\r\n                let props = prop[key];\r\n                props.forEach((p) => {\r\n                    allprops.push(p);\r\n                });\r\n            }\r\n            if (varname.startsWith(\"me.\")) {\r\n                let props = this.data.me[varname.substring(3)];\r\n                props?.forEach((p) => {\r\n                    allprops.push(p);\r\n                });\r\n            }\r\n        }\r\n        //remove nodes\r\n        for (var x = 0; x < allprops.length; x++) {\r\n            this.removeNode(allprops[x].node);\r\n        }\r\n        for (var vv = 0; vv < varnames.length; vv++) {\r\n            var varname = varnames[vv];\r\n\r\n            //remove lines where used as parameter\r\n            for (var propkey in this.data) {\r\n                var prop = this.data[propkey];\r\n                for (var key in prop) {\r\n                    var props = prop[key];\r\n                    for (var x = 0; x < props.length; x++) {\r\n                        let p = props[x];\r\n                        var params = p.value.split(\",\");\r\n                        for (var i = 0; i < params.length; i++) {\r\n                            if (params[i] === varname || params[i] === \"this.\" + varname) {\r\n                                this.removeNode(p.node);\r\n                            }\r\n                        }\r\n                        //in children:[]\r\n                        //@ts-ignore\r\n                        var inconfig = prop[key][0]?.node?.initializer?.elements;\r\n                        if (inconfig) {\r\n                            for (var x = 0; x < inconfig.length; x++) {\r\n                                if (inconfig[x].getText() === varname || inconfig[x].getText().startsWith(varname)) {\r\n                                    this.removeNode(inconfig[x]);\r\n\r\n                                }\r\n                            }\r\n                            if (inconfig.length === 0) {\r\n                                this.removeNode(prop[key][0]?.node);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    private getNodeFromScope(classscope: { classname: string, methodname: string }[], variablescope: { variablename: string, methodname } = undefined): ts.Node {\r\n        var scope;\r\n        if (classscope === undefined) {\r\n            return this.sourceFile;\r\n        }\r\n        if (variablescope) {\r\n            scope = this.data[variablescope.variablename][variablescope.methodname][0]?.node;\r\n            if (scope.expression)\r\n                scope = scope.expression.arguments[0];\r\n            else\r\n                scope = scope.initializer;\r\n\r\n        } else {\r\n            for (var i = 0; i < classscope.length; i++) {\r\n                var sc = classscope[i];\r\n                if (sc.classname) {\r\n                    scope = this.classes[sc.classname]?.members[sc.methodname]?.node;\r\n                    if (scope)\r\n                        break;\r\n                } else {//exported function\r\n                    scope = this.functions[sc.methodname];\r\n                }\r\n            }\r\n        }\r\n        return scope;\r\n    }\r\n    /**\r\n     * gets the next variablename\r\n     * */\r\n    getNextVariableNameForType(type: string, suggestedName: string = undefined) {\r\n        var varname = suggestedName;\r\n        if (varname === undefined)\r\n            varname = type.split(\".\")[type.split(\".\").length - 1].toLowerCase();\r\n        for (var counter = 1; counter < 1000; counter++) {\r\n            if ( this.data[varname + (counter === 1 ? \"\" : counter)]===undefined&& (this.data.me === undefined || this.data.me[varname + (counter === 1 ? \"\" : counter)] === undefined))\r\n                break;\r\n        }\r\n        return varname + (counter === 1 ? \"\" : counter);\r\n    }\r\n    /**\r\n     * change objectliteral to mutliline if needed\r\n     */\r\n    private switchToMutlilineIfNeeded(node: ts.Node, newProperty: string, newValue) {\r\n        var oldValue = node.getText();\r\n        if (node[\"multiLine\"] !== true) {\r\n            var len = 0;\r\n            for (var x = 0; x < node.parent[\"arguments\"][0].properties.length; x++) {\r\n                var prop = node.parent[\"arguments\"][0].properties[x];\r\n                len += (prop.initializer.escapedText ? prop.initializer.escapedText.length : prop.initializer.getText().length);\r\n                len += prop.name.escapedText.length + 5;\r\n            }\r\n            console.log(len);\r\n            if (oldValue.indexOf(\"\\n\") > -1 || (len > 60) || newValue.indexOf(\"\\n\") > -1) {\r\n                //order also old elements\r\n                for (var x = 0; x < node.parent[\"arguments\"][0].properties.length; x++) {\r\n                    var prop = node.parent[\"arguments\"][0].properties[x];\r\n                    prop.pos = -1;\r\n                    prop.len = -1;\r\n                }\r\n                node.parent[\"arguments\"][0] = ts.createObjectLiteral(node.parent[\"arguments\"][0].properties, true);\r\n            }\r\n        }\r\n    }\r\n    private setPropertyInConfig(variableName: string, property: string, value: string | ts.Node,\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        scope: ts.Node) {\r\n\r\n        var svalue: any = typeof value === \"string\" ? ts.createIdentifier(value) : value;\r\n        var config = <any>this.data[variableName][\"config\"][0].node;\r\n        config = config.arguments[0];\r\n        var newExpression = ts.createPropertyAssignment(property, <any>svalue);\r\n        if (property === \"add\" && replace === false) {\r\n            property = \"children\";\r\n            svalue = typeof value === \"string\" ? ts.createIdentifier(value + \".config({})\") : value;\r\n            if (this.data[variableName][\"children\"] == undefined) {//\r\n                newExpression = ts.createPropertyAssignment(property, ts.createArrayLiteral([svalue], true));\r\n                config.properties.push(newExpression);\r\n            } else {\r\n                if (before === undefined) {\r\n                    //@ts-ignore\r\n                    this.data[variableName][\"children\"][0].node.initializer.elements.push(svalue);\r\n                } else {\r\n                    //@ts-ignore\r\n                    var array = this.data[variableName][\"children\"][0].node.initializer.elements;\r\n                    for (var x = 0; x < array.length; x++) {\r\n                        if (array[x].getText() === before.value || array[x].getText().startsWith(before.value + \".\")) {\r\n                            array.splice(x, 0, svalue);\r\n                            return;\r\n                        }\r\n                    }\r\n                    throw new Error(\"Node \" + before.value + \" not found.\");\r\n                }\r\n\r\n            }\r\n        } else {  //comp.add(a) --> comp.config({children:[a]})\r\n            if (replace !== false && this.data[variableName] !== undefined && this.data[variableName][property] !== undefined) {//edit existing\r\n                let node = this.data[variableName][property][0].node;\r\n                this.data[variableName][property]\r\n                var pos = config.properties.indexOf(node);\r\n                config.properties[pos] = newExpression;\r\n                this.data[variableName][property][0].value = value;\r\n                this.data[variableName][property][0].node = newExpression;\r\n                this.switchToMutlilineIfNeeded(config, property, value);\r\n            } else {\r\n                config.properties.push(newExpression);\r\n                if (this.data[variableName][property] === undefined)\r\n                    this.data[variableName][property] = [{ isFunction, value, node: newExpression }];\r\n                this.data[variableName][property][0].node = newExpression;\r\n                this.switchToMutlilineIfNeeded(config, property, value);\r\n            }\r\n        }\r\n\r\n        console.log(\"todo correct spaces\");\r\n\r\n        this.parse(this.getModifiedCode());\r\n        //if (pos >= 0)\r\n        //  node.parent[\"statements\"].splice(pos, 1);\r\n\r\n    }\r\n    /*  movePropertValueInCode(variableName: string, property: string, value: string, newVariableName: string, beforeValue: any) {\r\n          if (this.data[variableName][\"config\"] !== undefined) {\r\n              if (property === \"add\")\r\n                  property = \"children\";\r\n              var oldparent:any=this.data[variableName][property][0].node;\r\n              for (var x = 0; x < oldparent.initializer.elements.length; x++) {\r\n                  var valueNode=oldparent.initializer.elements[x];\r\n                  if (valueNode.getText() === value ||valueNode.getText().startsWith(value + \".\")) {\r\n                      oldparent.initializer.elements.splice(x,1);\r\n                  }\r\n              }\r\n          }\r\n      }*/\r\n    /**\r\n    * modify the property in code\r\n    * @param variablename - the name of the variable\r\n    * @param  property - the property \r\n    * @param value - the new value\r\n    * @param classscope  - the property would be insert in this block\r\n    * @param isFunction  - true if the property is a function\r\n    * @param [replace]  - if true the old value is deleted\r\n    * @param [before] - the new property is placed before this property\r\n    * @param [variablescope] - if this scope is defined - the new property would be insert in this variable\r\n    */\r\n    setPropertyInCode(variableName: string, property: string, value: string | ts.Node,\r\n        classscope: { classname: string, methodname: string }[],\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        variablescope: { variablename: string, methodname } = undefined) {\r\n        if (this.jsxVariables)\r\n            return this.setPropertyInJSX(variableName, property, value, classscope, isFunction, replace, before, variablescope);\r\n        if (this.data[variableName] === undefined)\r\n            this.data[variableName] = {};\r\n        if (classscope === undefined)\r\n            classscope = this.classScope;\r\n        var scope = this.getNodeFromScope(classscope, variablescope);\r\n        var newExpression = undefined;\r\n        if (this.data[variableName][\"config\"] !== undefined && property !== \"new\") {\r\n            this.setPropertyInConfig(variableName, property, value, isFunction, replace, before, scope);\r\n            return;\r\n        }\r\n        var newValue: any = typeof value === \"string\" ? ts.createIdentifier(value) : value;\r\n        var statements: ts.Statement[] = scope[\"body\"] ? scope[\"body\"].statements : scope[\"statements\"];\r\n        if (property === \"new\") { //me.panel1=new Panel({});\r\n            let prop = this.data[variableName][\"_new_\"][0];//.substring(3)];\r\n            var constr = prop.value;\r\n            value = constr.substring(0, constr.indexOf(\"(\") + 1) + value + constr.substring(constr.lastIndexOf(\")\"));\r\n            replace = true;\r\n            var left = prop.node.getText();\r\n            left = left.substring(0, left.indexOf(\"=\") - 1);\r\n            property = \"_new_\";\r\n            newExpression = ts.createExpressionStatement(ts.createAssignment(ts.createIdentifier(left), newValue));\r\n        } else if (isFunction) {\r\n            newExpression = ts.createExpressionStatement(ts.createCall(\r\n                ts.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), undefined, [newValue]));\r\n        } else\r\n            newExpression = ts.createExpressionStatement(ts.createAssignment(\r\n                ts.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), newValue));\r\n        if (replace !== false && this.data[variableName] !== undefined && this.data[variableName][property] !== undefined) {//edit existing\r\n            let node = this.data[variableName][property][0].node;\r\n\r\n            var pos = node.parent[\"statements\"].indexOf(node);\r\n            node.parent[\"statements\"][pos] = newExpression;\r\n            newExpression.parent = node.parent;\r\n\r\n            //if (pos >= 0)\r\n            //  node.parent[\"statements\"].splice(pos, 1);\r\n        } else {//insert new\r\n            debugger;\r\n            if (before) {\r\n                if (before.value === undefined)\r\n                    throw \"not implemented\";\r\n                let node = undefined;\r\n                for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                    if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                        node = this.data[before.variablename][before.property][o].node;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!node)\r\n                    throw Error(\"Property not found \" + before.variablename + \".\" + before.property + \" value \" + before.value);\r\n                var pos = node.parent[\"statements\"].indexOf(node);\r\n                if (pos >= 0)\r\n                    node.parent[\"statements\"].splice(pos, 0, newExpression);\r\n            } else {\r\n                var lastprop: ts.Node = undefined;\r\n                for (let prop in this.data[variableName]) {\r\n                    if (prop === \"_new_\") {\r\n                        //should be in the same scope of declaration (important for repeater)\r\n                        statements = this.data[variableName][prop][0].node.parent[\"statements\"];\r\n                        continue;\r\n                    }\r\n                    var testnode: ts.Node = this.data[variableName][prop][this.data[variableName][prop].length - 1].node;\r\n                    if (testnode.parent === scope[\"body\"])\r\n                        lastprop = testnode;\r\n                }\r\n                if (lastprop) {\r\n                    var pos = lastprop.parent[\"statements\"].indexOf(lastprop);\r\n                    if (pos >= 0)\r\n                        lastprop.parent[\"statements\"].splice(pos + 1, 0, newExpression);\r\n                } else {\r\n                    var pos = statements.length;\r\n                    try {\r\n                        if (pos > 0 && statements[statements.length - 1].getText().startsWith(\"return \"))\r\n                            pos--;\r\n                    } catch {\r\n\r\n                    }\r\n                    statements.splice(pos, 0, newExpression);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    setPropertyInJSX(variableName: string, property: string, value: string | ts.Node,\r\n        classscope: { classname: string, methodname: string }[],\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        variablescope: { variablename: string, methodname } = undefined) {\r\n\r\n        //if (this.data[variableName] === undefined)\r\n        //    this.data[variableName] = {};\r\n        var newValue: any = typeof value === \"string\" ? ts.createIdentifier(value) : value;\r\n        var newExpression = newExpression = ts.createJsxAttribute(ts.createIdentifier(property), newValue);;\r\n        if (property === \"new\") { //me.panel1=new Panel({});\r\n            /*       let prop = this.data[variableName][\"_new_\"][0];//.substring(3)];\r\n                   var constr = prop.value;\r\n                   value = constr.substring(0, constr.indexOf(\"(\") + 1) + value + constr.substring(constr.lastIndexOf(\")\"));\r\n                   replace = true;\r\n                   var left = prop.node.getText();\r\n                   left = left.substring(0, left.indexOf(\"=\") - 1);\r\n                   property = \"_new_\";\r\n                   newExpression = ts.createExpressionStatement(ts.createAssignment(ts.createIdentifier(left), newValue));\r\n               */\r\n        } else if (isFunction) {\r\n\r\n            //   newExpression = ts.createExpressionStatement(ts.createCall(\r\n            //     ts.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), undefined, [newValue]));\r\n        } /*else\r\n            newExpression = ts.createExpressionStatement(ts.createAssignment(\r\n                ts.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), newValue));\r\n        */\r\n        if (property === \"add\") {\r\n            var prop = this.data[value][\"_new_\"][0];\r\n            var classname = prop.className;\r\n            if (classname === \"HTMLComponent\")\r\n                classname = prop.tag;\r\n            var node;\r\n            if (classname === \"text\") {\r\n                \r\n                node = ts.createJsxText(<string>\"\", false);\r\n                this.add(value, \"text\", <string>\"\", node);\r\n            } else {\r\n                node = this.createNode(\"<\" + classname + \"></\" + classname + \">\");\r\n                if (classname === \"br\")\r\n                    node = this.createNode(\"<\" + classname + \"/>\");\r\n            }\r\n            var parent = this.data[variableName][\"_new_\"][0].node;\r\n            node.parent = parent;\r\n\r\n            prop.node = node;\r\n            prop.value = value;\r\n            if (before) {\r\n                let found = undefined;\r\n                let ofound = -1;\r\n                console.log(\"var \"+before.variablename);\r\n                console.log(this.data);\r\n                for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                    if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                        found = this.data[before.variablename][before.property][o].node;\r\n                        ofound = o;\r\n                        break;\r\n                    }\r\n                }\r\n                var pos = parent[\"children\"].indexOf(found);\r\n                parent[\"children\"].splice(pos, 0, node);\r\n                parent[\"children\"].splice(pos + 1, 0, ts.createJsxText(\"\\n\", true));\r\n\r\n                this.data[variableName][\"add\"].splice(ofound, 0, {\r\n                    node: node,\r\n                    value: value,\r\n                    isFunction: false\r\n                });\r\n                //this.data[variableName][\"add\"][0].node;\r\n\r\n            } else {\r\n                parent[\"children\"].push(node);\r\n                parent[\"children\"].push(ts.createJsxText(\"\\n\", true));\r\n                this.add(variableName, \"add\", <string>value, node);\r\n            }\r\n            return;\r\n        }\r\n        if (this.data[variableName][\"_new_\"][0].node.kind === ts.SyntaxKind.JsxText) {\r\n            if (property === \"text\") {\r\n                var svalue = <string>value;\r\n                var old =this.data[variableName][property][0].node.text;\r\n                svalue = JSON.parse(`{\"a\":` + svalue + \"}\").a;\r\n                if (svalue.length === svalue.trim().length) {\r\n                    svalue = old.substring(0, old.length - old.trimStart().length) + svalue + old.substring(old.length - (old.length - old.trimEnd().length));\r\n                }\r\n\r\n                //correct spaces linebrak are lost in html editing\r\n\r\n                this.data[variableName][property][0].value = JSON.stringify(svalue);\r\n                this.data[variableName][property][0].node.text = svalue;\r\n            }\r\n            return;\r\n        }\r\n        if (replace !== false && this.data[variableName] !== undefined && this.data[variableName][property] !== undefined) {//edit existing\r\n            let node = this.data[variableName][property][0].node;\r\n            var pos = node.parent[\"properties\"].indexOf(node);\r\n            //node.initializer.text=newValue;\r\n\r\n            node.parent[\"properties\"][pos] = newExpression;\r\n            newExpression.parent = node.parent;\r\n            this.data[variableName][property][0].node = newExpression;\r\n            this.data[variableName][property][0].value = value;\r\n            //var pos = node.parent[\"properties\"].indexOf(node);\r\n            //node.parent[\"properties\"][pos] = newValue;\r\n            //if (pos >= 0)\r\n            //  node.parent[\"statements\"].splice(pos, 1);\r\n        } else {//insert new\r\n            if (before) {\r\n                /*  if (before.value === undefined)\r\n                      throw \"not implemented\";\r\n                  let node = undefined;\r\n                  for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                      if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                          node = this.data[before.variablename][before.property][o].node;\r\n                          break;\r\n                      }\r\n                  }\r\n                  if (!node)\r\n                      throw Error(\"Property not found \" + before.variablename + \".\" + before.property + \" value \" + before.value);\r\n                  var pos = node.parent[\"statements\"].indexOf(node);\r\n                  if (pos >= 0)\r\n                      node.parent[\"statements\"].splice(pos, 0, newExpression);*/\r\n            } else {\r\n\r\n                var parent = this.data[variableName][\"_new_\"][0].node.openingElement.attributes;\r\n                this.data[variableName][property] = [{ node: newExpression, isFunction, value }];\r\n                parent[\"properties\"].push(newExpression);\r\n                newExpression.parent = parent[\"properties\"];\r\n                /* for (let prop in this.data[variableName]) {\r\n                    if (prop === \"_new_\") {\r\n                        //should be in the same scope of declaration (important for repeater)\r\n                        statements = this.data[variableName][prop][0].node.parent[\"statements\"];\r\n                        continue;\r\n                    }\r\n                    var testnode: ts.Node = this.data[variableName][prop][this.data[variableName][prop].length - 1].node;\r\n                    if (testnode.parent === scope[\"body\"])\r\n                        lastprop = testnode;\r\n                }\r\n                if (lastprop) {\r\n                    var pos = lastprop.parent[\"statements\"].indexOf(lastprop);\r\n                    if (pos >= 0)\r\n                        lastprop.parent[\"statements\"].splice(pos + 1, 0, newExpression);\r\n                } else {\r\n                    var pos = statements.length;\r\n                    try {\r\n                        if (pos > 0 && statements[statements.length - 1].getText().startsWith(\"return \"))\r\n                            pos--;\r\n                    } catch {\r\n        \r\n                    }\r\n                    statements.splice(pos, 0, newExpression);\r\n                }*/\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * swaps two statements indendified by  functionparameter in a variable.property(parameter1) with variable.property(parameter2)\r\n     **/\r\n    swapPropertyWithParameter(variable: string, property: string, parameter1: string, parameter2: string) {\r\n        var first: ts.Node = undefined;\r\n        var second: ts.Node = undefined;\r\n        var parent = this.data[variable][property];\r\n        if (this.data[variable][\"config\"] && property === \"add\") {\r\n            var children = (<any>this.data[variable][\"children\"][0].node).initializer.elements;\r\n            var ifirst;\r\n            var isecond;\r\n\r\n            for (var x = 0; x < children.length; x++) {\r\n                var text = children[x].getText()\r\n                if (text === parameter1 || text.startsWith(parameter1 + \".config\")) {\r\n                    ifirst = x;\r\n                }\r\n                if (text === parameter2 || text.startsWith(parameter2 + \".config\")) {\r\n                    isecond = x;\r\n                }\r\n            }\r\n            var temp = children[ifirst];\r\n            children[ifirst] = children[isecond];\r\n            children[isecond] = temp;\r\n            return;\r\n        }\r\n        for (var x = 0; x < parent.length; x++) {\r\n            if (parent[x].value.split(\",\")[0].trim() === parameter1)\r\n                first = parent[x].node;\r\n            if (parent[x].value.split(\",\")[0].trim() === parameter2)\r\n                second = parent[x].node;\r\n        }\r\n        if (!first)\r\n            throw Error(\"Parameter not found \" + parameter1);\r\n        if (!second)\r\n            throw Error(\"Parameter not found \" + parameter2);\r\n        var ifirst = first.parent[\"statements\"].indexOf(first);\r\n        var isecond = second.parent[\"statements\"].indexOf(second);\r\n        first.parent[\"statements\"][ifirst] = second;\r\n        first.parent[\"statements\"][isecond] = first;\r\n\r\n\r\n    }\r\n    /**\r\n    * adds an Property\r\n    * @param type - name of the type o create\r\n    * @param classscope - the scope (methodname) where the variable should be insert Class.layout\r\n    * @param variablescope - the scope where the variable should be insert e.g. hallo.onclick\r\n    * @returns  the name of the object\r\n    */\r\n    addVariableInCode(fulltype: string, classscope: { classname: string, methodname: string }[], variablescope: { variablename: string, methodname } = undefined, suggestedName = undefined): string {\r\n\r\n        if (classscope === undefined)\r\n            classscope = this.classScope;\r\n        let type = fulltype.split(\".\")[fulltype.split(\".\").length - 1];\r\n        type=type === \"TextComponent\" ? \"text\" : type;\r\n        var varname = this.getNextVariableNameForType(type, suggestedName);\r\n\r\n        if (this.jsxVariables) {\r\n            this.data[varname] = {\r\n                \"_new_\": [{ className: type, tag: suggestedName }]\r\n            }\r\n            // this.addTypeMe(varname, type);\r\n            return varname;\r\n        } else {\r\n            var useMe = false;\r\n            if (this.data[\"me\"] !== undefined)\r\n                useMe = true;\r\n            //var if(scopename)\r\n\r\n            var node = this.getNodeFromScope(classscope, variablescope);\r\n            //@ts-ignore\r\n            if (node?.parameters?.length > 0 && node.parameters[0].name.text == \"me\") {\r\n                useMe = true;\r\n            }\r\n            var prefix = useMe ? \"me.\" : \"var \";\r\n            if (node === undefined)\r\n                throw Error(\"no scope to insert a variable could be found\");\r\n\r\n            var statements: ts.Statement[] = node[\"body\"] ? node[\"body\"].statements : node[\"statements\"];\r\n            for (var x = 0; x < statements.length; x++) {\r\n                if (!statements[x].getText().split(\"\\n\")[0].includes(\"new \") && !statements[x].getText().split(\"\\n\")[0].includes(\"var \"))\r\n                    break;\r\n            }\r\n            var ass = ts.createAssignment(ts.createIdentifier(prefix + varname), ts.createIdentifier(\"new \" + type + \"()\"));\r\n            statements.splice(x, 0, ts.createStatement(ass));\r\n            if (useMe)\r\n                this.addTypeMe(varname, type);\r\n        }\r\n        return (useMe ? \"me.\" : \"\") + varname;\r\n    }\r\n}\r\n\r\nexport async function tests(t: Test) {\r\n    function clean(s: string): string {\r\n        return s.replaceAll(\"\\t\", \"\").replaceAll(\"\\r\", \"\").replaceAll(\"\\n\", \"\")\r\n    }\r\n    await typescript.waitForInited;\r\n    var parser = new Parser();\r\n    parser.parse(\"var j;j.config({children:[a,b,c]})\");\r\n    parser.swapPropertyWithParameter(\"j\", \"add\", \"c\", \"a\");\r\n    t.expectEqual(clean(parser.getModifiedCode()) === 'var j;j.config({ children: [c, b, a] });');\r\n    parser.parse(\"var j;j.add(a);j.add(b);j.add(c);\");\r\n    parser.swapPropertyWithParameter(\"j\", \"add\", \"c\", \"a\");\r\n    t.expectEqual(clean(parser.getModifiedCode()) === 'var j;j.add(c);j.add(b);j.add(a);');\r\n\r\n\r\n    parser.parse(\"class A{}\");\r\n    t.expectEqual(parser.classes.A !== undefined);\r\n    parser.parse(\"var a=8;\");\r\n    t.expectEqual(parser.data.a !== undefined);\r\n    parser.parse(\"b=8;\");\r\n    t.expectEqual(parser.data.b !== undefined);\r\n    parser.parse(\"b=8\", [{ classname: undefined, methodname: \"test\" }]);\r\n    t.expectEqual(parser.data.b === undefined);\r\n    var scope = [{ classname: undefined, methodname: \"test\" }];\r\n    parser.parse(\"function test(){b=8;}\", scope);\r\n    t.expectEqual(parser.data.b !== undefined);\r\n\r\n    parser.addVariableInCode(\"MyClass\", scope);\r\n    parser.setPropertyInCode(\"myclass\", \"a\", \"9\", scope);\r\n    t.expectEqual(clean(parser.getModifiedCode()) === \"function test() { var myclass = new MyClass(); b = 8; myclass.a = 9; }\");\r\n\r\n    parser = new Parser();\r\n    parser.parse(\"\");\r\n    parser.addVariableInCode(\"MyClass\", undefined);\r\n    parser.setPropertyInCode(\"myclass\", \"a\", \"9\", undefined);\r\n    t.expectEqual(clean(parser.getModifiedCode()) === \"var myclass = new MyClass();myclass.a = 9;\");\r\n\r\n}\r\nexport async function test() {\r\n    tests(new Test());\r\n\r\n    await typescript.waitForInited;\r\n    var code = typescript.getCode(\"demo/hallo.tsx\");\r\n    var parser = new Parser();\r\n    parser.parse(code, undefined, true);\r\n    debugger;\r\n    // code = \"function test(){ var hallo={};var h2={};var ppp={};hallo.p=9;hallo.config({a:1,b:2, k:h2.config({c:1,j:ppp.config({pp:9})})     }); }\";\r\n    // code = \"function(test){ var hallo={};var h2={};var ppp={};hallo.p=9;hallo.config({a:1,b:2, k:h2.config({c:1},j(){j2.udo=9})     }); }\";\r\n    // code = \"function test(){var ppp;var aaa=new Button();ppp.config({a:[9,6],  children:[ll.config({}),aaa.config({u:1,o:2,children:[kk.config({})]})]});}\";\r\n    //parser.parse(code, undefined);\r\n    //code=\"reportdesign={k:9};\";\r\n\r\n    // parser.parse(code,[{ classname: \"Dialog2\", methodname: \"layout\" }]);// [{ classname: \"TestDialogBinder\", methodname: \"layout\" }]);\r\n\r\n    //    parser.setPropertyInCode(\"me.table\",\"new\",'new Table({\\n      paginationSize: 1\\n})',undefined);\r\n    //  console.log(parser.getModifiedCode());\r\n    // parser.removeVariablesInCode([\"me.repeater\"]);\r\n    //parser.addVariableInCode(\"Component\", [{ classname: \"Dialog\", methodname: \"layout\" }]);\r\n    //parser.setPropertyInCode(\"component\", \"x\", \"1\", [{ classname: \"Dialog\", methodname: \"layout\" }]);\r\n\r\n    // var node = parser.removePropertyInCode(\"add\", \"me.textbox1\", \"me.panel1\");\r\n    // parser.setPropertyInCode(\"this\",\"add\",node,[{classname:\"Dialog\",methodname:\"layout\"}],true,false);\r\n    //var node = parser.removePropertyInCode(\"add\", \"kk\", \"aaa\");\r\n\r\n    //var node=parser.removePropertyInCode(\"add\", \"ll\", \"ppp\");\r\n    //parser.setPropertyInCode(\"aaa\",\"add\",node,[{classname:undefined, methodname:\"test\"}],true,false,undefined,undefined);\r\n    //console.log(node.getText());\r\n    //    parser.setPropertyInCode(\"ppp\",\"add\",\"cc\",[{classname:undefined, methodname:\"test\"}],true,false,{variablename:\"ppp\",property:\"add\",value:\"ll\"});\r\n    //  parser.setPropertyInCode(\"aaa\",\"add\",\"cc\",[{classname:undefined, methodname:\"test\"}],true,false,{variablename:\"aaa\",property:\"add\",value:\"kk\"});\r\n\r\n    // debugger;\r\n    /*  const printer = ts.createPrinter({ newLine: ts.NewLineKind.LineFeed });\r\n      const resultFile = ts.createSourceFile(\"dummy.ts\", \"\", ts.ScriptTarget.Latest, false, ts.ScriptKind.TS);\r\n      const result = printer.printNode(ts.EmitHint.Unspecified, parser.sourceFile, resultFile);\r\n      console.log(result);*/\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n","import \"jassijs/ext/jquerylib\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { Component } from \"jassijs/ui/Component\";\nimport { DragAndDropper } from \"jassijs_editor/util/DragAndDropper\";\n\n@$Class(\"jassijs_editor.util.Resizer\")\nexport class Resizer {\n    //the current cursor e.g. \"default\",\"s-resize\" \n    private cursorType: string;\n    //is the cursor under th border of an element\n    private isCursorOnBorder: boolean;\n    //the element which is currently resized\n    private resizedElement: string;\n    //is the mousebutton down\n    private isMouseDown: boolean;\n    //all elements which can be resized e.g. \"#100,#102\"\n    private elements: string;\n    //all elements with registred mousedown handler\n    private mousedownElements: JQuery<Node>;\n    //called if elements are selected\n    public onelementselected: (ids: string[], event: any) => void;\n    //called if properties has changed e.g. the width of a component\n    public onpropertychanged: (component: Component, property: string, value: any) => void;\n    //the parent component and all childcomponents can be resized\n    private parentPanel: Component;\n    //id's of the last selected Elements\n    private lastSelected: string[];\n    //the component under the mouse cursor\n    public componentUnderCursor: Element;\n    //is the lasso acivated? \n    private lassoMode: boolean;\n    //the connected DragAndDropper\n    public draganddropper: DragAndDropper;\n    //the top element in z-order which is clicked\n    private topElement: string;\n    //timer to detect the component which should be changed\n    private propertyChangetimer;\n    constructor() {\n        this.cursorType = \"\";\n        this.isCursorOnBorder = false;\n        this.isMouseDown = false;\n        this.resizedElement = \"\";\n        this.elements = undefined;\n        this.onelementselected = undefined;\n        this.onpropertychanged = undefined;\n        this.parentPanel = undefined;\n        this.lastSelected = undefined;\n        this.componentUnderCursor = undefined;\n        this.lassoMode = false;\n        this.draganddropper = undefined;\n\n    }\n   \n    private mouseDown(event) {\n        event.data._resizeComponent(event);\n        let elementID = (<any>this).getAttribute('id');\n        var _this:Resizer = event?.data;\n        \n        if (_this.onelementselected !== undefined) {\n\n            //select with click\n            //delegate only the top window - this is the first event????\n            if (_this.topElement === undefined) {\n                if (document.getElementById(elementID).classList.contains(\"designerNoSelectable\")) {\n                    return;\n                }\n                _this.topElement = elementID;\n\n                setTimeout(function () {\n                    _this.parentPanel.dom.querySelectorAll(\".jselected\").forEach((c)=>{c.classList.remove(\"jselected\")});\n //                   $(\".jselected\").removeClass(\"jselected\");\n                    document.getElementById(_this.topElement).classList.add(\"jselected\");\n                    _this.lastSelected = [_this.topElement];\n                    if (!_this.onelementselected)\n                        console.log(\"onselected undefined\");\n                    _this.onelementselected(_this.lastSelected, event);\n                    _this.topElement = undefined;\n                }, 50);\n            }\n\n            var lastTime = new Date().getTime();\n            //select with lasso\n\n        }\n        if (_this.resizedElement === \"\" || _this.resizedElement === undefined) {//if also parentcontainer will be fired->ignore\n            _this.resizedElement = elementID.toString();\n            _this.isMouseDown = true;\n        }\n    }\n    private mouseMove(event) {\n        event.data._resizeComponent(event);\n    };\n    private mouseUp(event) {\n        if (event.data !== undefined) {\n            var _this:Resizer = event?.data;\n            _this.isMouseDown = false;\n            _this.isCursorOnBorder = false;\n            _this.cursorType = \"default\";\n            if (_this.resizedElement !== \"\" && _this.resizedElement !== undefined) {\n                document.getElementById(_this.resizedElement).style.cursor = _this.cursorType;\n                _this.resizedElement = \"\";\n            }\n        }\n    }\n    //not every event should be fired - only the last with delay\n    private firePropertyChange(...param: any[]) {\n        var _this = this;\n        if (this.propertyChangetimer) {\n            clearTimeout(this.propertyChangetimer);\n        }\n\n        this.propertyChangetimer = setTimeout(() => {\n            if (_this.onpropertychanged !== undefined) {\n                //@ts-ignore\n                _this.onpropertychanged(...param);\n            }\n        }, 200);\n    }\n\n    /**\n    * resize the component\n    * this is an onmousemove event called from _changeCursor()\n    * @param {type} event\n    */\n    private _resizeComponent(e) {\n\n        //window.status = event1.type;\n        //check drag is activated or not\n        if (this.isMouseDown) {\n            // console.debug(\"drag\");\n            var curevent = e;\n            //coordiantes of the event position\n            var x = curevent.clientX;\n            var y = curevent.clientY;\n            //var element = document.getElementById(this.resizedElement);\n            var element: HTMLElement = <HTMLElement>this.componentUnderCursor;\n\n            if (element === undefined) {\n                var cursor = this.cursorType.substring(0, this.cursorType.indexOf('-'));\n                this._changeCursor(e);\n                return;\n            }\n            if(this.lastSelected&&this.lastSelected.length>0&&this.lastSelected[0]!==element.id)\n                return;\n            //top left positions of the div element\n            var topLeftX = $(element._this.dom).offset().left;//element.offsetLeft;\n            var topLeftY = $(element._this.dom).offset().top;//element.offsetTop;\n\n            //width and height of the element\n            var width = element.offsetWidth;\n            var height = element.offsetHeight;\n\n            //get the cursor sytle [e,w,n,s,ne,nw,se,sw]\n            var cursor = this.cursorType.substring(0, this.cursorType.indexOf('-'));\n            var _this = this;\n            if (cursor.indexOf('e') !== -1) {\n                var w = Math.max(x - topLeftX, 8);\n                w = Math.round(w / 5) * 5;\n                element._this.width = w;\n                this.firePropertyChange(element._this, \"width\", w);\n                /*if (this.onpropertychanged !== undefined) {\n                        this.onpropertychanged(element._this, \"width\", w);\n                }*/\n                //\telement.style.width = Math.max(x - topLeftX,8)+'px';\n\n            }\n            if (cursor.indexOf('s') !== -1) {\n                var h = Math.max(y - topLeftY, 8);\n                h = Math.round(h / 5) * 5;\n                element._this.height = h;//+'px';\n                this.firePropertyChange(element._this, \"height\", h);\n                /*if (this.onpropertychanged !== undefined) {\n                        this.onpropertychanged(element._this, \"height\", h);\n                }*/\n            }\n        } else {\n            //  document.getElementById(elementID).style.cursor = cursorType;\n            this._changeCursor(e);\n        }\n\n    }\n\n\n\n    /**\n    * changes the cursor\n    * @param {type} e\n    */\n    _changeCursor(e) {\n        var borderSize = 4;\n        this.cursorType = \"default\";\n         //slow\n        //var els = $(this.parentPanel.dom).find(this.elements);\n        var dcs=[];\n        this.elements.split(\",\").forEach((str)=>{\n            let el=document.getElementById(str.substring(1));\n            if(el){\n                var classes=el.classList;\n                if(!classes.contains(\"designerNoResizable\"))\n                dcs.push(document.getElementById(str.substring(1)));\n            }\n        });\n       \n        var els=$(dcs);\n        for (var i = 0; i < els.length; i++) {\n            var element: HTMLElement = <HTMLElement>els[i];\n            if(element===null)\n                continue;\n            var noresizex=element.classList.contains(\"designerNoResizableX\");\n            var noresizey=element.classList.contains(\"designerNoResizableY\");\n            if (element.classList.contains(\"designerNoResizable\")) {\n                continue;\n            }\n            //code start for changing the cursor\n            //var element2 = document.getElementById(elementID);\n            var topLeftX = $(element).offset().left;//element.offsetLeft;\n            var topLeftY = $(element).offset().top;//element.offsetTop;\n            var bottomRightX = topLeftX + element.offsetWidth;\n            var bottomRightY = topLeftY + element.offsetHeight;\n            var curevent = e;\n            var x = curevent.clientX;\n            var y = curevent.clientY;\n           // console.log(noresizex+\":\"+noresizey);\n            //window.status = topLeftX +\"--\"+topLeftY+\"--\"+bottomRightX+\"--\"+bottomRightY+\"--\"+x+\"--\"+y+\"--\"+isMouseDown;\n\n            //change the cursor style when it is on the border or even at a distance of 8 pixels around the border\n            if (x >= bottomRightX - borderSize && x <= bottomRightX + borderSize) {\n                /*  if(y >= bottomRightY-borderSize && y <= bottomRightY+borderSize){\n                          this.isCursorOnBorder = true;\n                          this.cursorType = \"se-resize\";\n                  }*/\n                if (( y > topLeftY - borderSize && y < bottomRightY + borderSize)) {\n                    if(!noresizex){\n                        this.isCursorOnBorder = true;\n                        this.cursorType = \"e-resize\";\n                    }\n                }\n            }\n            else if (( x > topLeftX - borderSize && x < bottomRightX + borderSize)) {\n                if (!noresizey&&(y >= bottomRightY - borderSize && y <= bottomRightY + borderSize)) {\n                    if(!noresizey){\n                        this.isCursorOnBorder = true;\n                        this.cursorType = \"s-resize\";\n                    }\n                }\n            }\n            if (this.cursorType === \"e-resize\" || this.cursorType === \"s-resize\") {\n                var test = $(element).closest(\".jcomponent\");\n                var isDragging = false;\n                if (this.draganddropper !== undefined) {\n                    element == undefined;\n                    isDragging = this.draganddropper.isDragging();\n                }\n                if (!this.lassoMode && !isDragging) {\n                    this.componentUnderCursor = test[0];\n                    element.style.cursor = this.cursorType;\n                } else {\n                    this.cursorType = \"default\";\n                    this.componentUnderCursor = undefined;\n                    element.style.cursor = this.cursorType;\n                }\n                return;\n            }\n            this.componentUnderCursor = undefined;\n            element.style.cursor = this.cursorType;\n        }\n    }\n    /**\n     * enable or disable the lasso\n     * with lasso some components can be selected with dragging\n     */\n    public setLassoMode(enable:boolean) {\n        this.lassoMode = enable;\n        this.lastSelected = [];\n        this.resizedElement = \"\";\n        this.cursorType = \"\";\n        this.isCursorOnBorder = false;\n        this.isMouseDown = false;\n        var lastTime = new Date().getTime();\n        var _this = this;\n        if (enable === true) {\n            $(this.parentPanel.dom).selectable({\n                selected: function (event, ui) {\n                    if (new Date().getTime() - lastTime > 500) {//new selection\n                        _this.lastSelected = [];\n                        _this.parentPanel.dom.querySelectorAll(\".jselected\").forEach((c)=>{c.classList.remove(\"jselected\")});\n //                 \n                        //$(\".jselected\").removeClass(\"jselected\");\n                        setTimeout(function () {\n                            _this.onelementselected(_this.lastSelected, event);\n                            _this.lastSelected = undefined;\n                        }, 50);\n                    }\n                    lastTime = new Date().getTime();\n                    var a = 9;\n                    if (ui.selected._this && ui.selected.classList.contains(\"jcomponent\") &&\n                         !ui.selected.classList.contains(\"designerNoSelectable\")) {\n                        var ids = _this.elements + \",\";\n                        if (ids.indexOf(\"#\" + ui.selected._this._id + \",\") > -1) {\n                            _this.lastSelected.push(ui.selected._this._id);\n                            document.getElementById(ui.selected._this._id).classList.add(\"jselected\");\n                        }\n                    }\n                }\n            });\n        } else {\n\n            $(this.parentPanel.dom).selectable(\"destroy\");\n        }\n\n    }\n    /**\n     * install the resizer\n     * @param parentPanel - the parent component\n     * @param elements - the search pattern for the components to resize e.q. \".jresizeable\"\n     */\n    install(parentPanel:Component, elements:string) {\n        var _this = this;\n        if (!parentPanel.dom.classList.contains(\"designerNoResizable\")) {\n            $(parentPanel.domWrapper).resizable({\n                resize: function (evt: any) {\n                    var h = evt.target.offsetHeight;\n                    var w = evt.target.offsetWidth;\n                    if (_this.onpropertychanged !== undefined) {\n                        evt.target._this.width = w;\n                        evt.target._this.height = h;\n                        _this.onpropertychanged(evt.target._this, \"width\", w);\n                        _this.onpropertychanged(evt.target._this, \"height\", h);\n                        evt.target._this.domWrapper.style.width= w + \"px\";\n                        evt.target._this.domWrapper.style.height= h + \"px\";\n                    }\n                }\n            });\n        }\n        if (parentPanel !== undefined)\n            this.parentPanel = parentPanel;\n        if (elements !== undefined)\n            this.elements = elements;\n        $(this.parentPanel.dom).on(\"mousedown\", this, this.mouseDown);\n        this.mousedownElements = $(this.parentPanel.dom).find(this.elements);\n        for (let x = 0; x < this.mousedownElements.length; x++) {\n            this.mousedownElements[x] = this.mousedownElements[x].parentNode;\n        }\n        this.mousedownElements.on(\"mousedown\", this, this.mouseDown);\n        $(this.parentPanel.dom).on(\"mousemove\", this, this.mouseMove);\n        $(this.parentPanel.dom).on(\"mouseup\", this, this.mouseUp);\n\n        //this.setLassoMode(true);\n        //this.setLassoMode(false);\n\n    }\n\n    /**\n     * uninstall the resizer\n     */\n    uninstall() {\n        this.onelementselected = undefined;\n        this.onpropertychanged = undefined;\n        if (this.parentPanel !== undefined) {\n            $(this.parentPanel.dom).off(\"mousedown\", this.mouseDown);\n            if (this.mousedownElements !== undefined)\n                this.mousedownElements.off(\"mousedown\", this.mouseDown);\n            this.mousedownElements = undefined;\n            $(this.parentPanel.dom).off(\"mousemove\", this.mouseMove);\n            $(this.parentPanel.dom).on(\"mouseup\", this.mouseUp);\n        }\n        this.resizedElement = \"\";\n        this.elements = undefined;\n        this.parentPanel = undefined;\n        this.lastSelected = undefined;\n        this.componentUnderCursor = undefined;\n        this.draganddropper = undefined;\n\n        /*  this.mouseDown.bound=undefined;\n          this.mouseMove.bound=undefined;\n          this.mouseUp.bound=undefined;*/\n\n    }\n}\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { $ActionProvider, $Action } from \"jassijs/base/Actions\";\nimport { FileNode } from \"jassijs/remote/FileNode\";\n\nimport { Component } from \"jassijs/ui/Component\";\nimport { Container } from \"jassijs/ui/Container\";\nimport { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport windows from \"jassijs/base/Windows\";\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\nimport { Errors } from \"jassijs/base/Errors\";\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { Test } from \"jassijs/remote/Test\";\n\n\n\nclass MyContainer extends BoxPanel {\n    statustext: HTMLPanel;\n    alltests = 0;\n    failedtests = 0;\n    finished = false;\n    update() {\n        if (this.failedtests === 0) {\n\n        }\n        this.statustext.css={\n            color: (this.failedtests === 0 ? \"green\" : \"red\")\n        };\n        this.statustext.value = (this.finished ? \"Finished \" : \"test running... \") + this.alltests + \" Tests. \" + (this.failedtests) + \" Tests failed.\"\n    }\n}\n@$ActionProvider(\"jassijs.remote.FileNode\")\n@$Class(\"jassijs_editor.ui.TestAction\")\nexport class TestAction {\n    @$Action({\n        name: \"Run Tests\"\n    })\n    static async testNode(all: FileNode[], container: MyContainer = undefined) {\n\n        var isRoot = false;\n        if (container === undefined) {\n            container = new MyContainer();\n            windows.add(container, \"Tests\");\n            container.statustext = new HTMLPanel();\n\n            container.add(container.statustext);\n            isRoot = true;\n            Errors.errors.onerror((err) => {\n                try {\n                    if (container.dom) {//sometimes off register was not called\n                        var newerrorpanel = new ErrorPanel(false, false, false);\n                        newerrorpanel.addError(err);\n                        container.add(newerrorpanel);\n                    }\n                } catch {\n\n                }\n            }, container._id);\n        }\n\n        for (var x = 0; x < all.length; x++) {\n            var file = all[x];\n            if (file.isDirectory()) {\n                await TestAction.testNode(file.files, container);\n\n            } else {\n                var typescript = (await import(\"jassijs_editor/util/Typescript\")).default;\n                await typescript.initService();\n                var text: string = typescript.getCode(file.fullpath);\n                if (text !== undefined) {\n                    text = text.toLowerCase();\n                    try {\n                        if (text.indexOf(\"export function test(\") !== -1 || text.indexOf(\"export async function test(\") !== -1) {\n                            console.log(\"test \" + file.fullpath);\n                            var func = (await import(file.fullpath.substring(0, file.fullpath.length - 3)))?.test;\n                            if (typeof func === \"function\") {\n                                container.alltests++;\n                                container.update();\n                                var ret = await func(new Test());\n                                if (ret instanceof Component) {\n                                    ret.dom.style.position= \"relative\" ;\n                                    ret.width = \"100%\";\n                                    var head = new HTMLPanel();\n                                    head.value = \"<b>\" + file.fullpath + \"</b>\";\n                                    container.add(head);\n                                    container.add(ret);\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        if (container.dom) {\n                            try {\n                                var newerrorpanel = new ErrorPanel(false, false, false);\n                                newerrorpanel.addError({\n                                    error: err\n                                });\n                                newerrorpanel.css={\n                                    background_color: \"red\"\n                                };\n                                container.add(newerrorpanel);\n                                container.failedtests++;\n                                container.update();\n                            } catch {\n\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (isRoot) {\n            container.finished = true;\n            container.update();\n            Errors.errors.offerror(container._id);\n            console.log(\"off error\");\n        }\n\n    }\n\n}\n\n\nexport class Tests {\n\n}\n\n//Selftest\nexport async function test(tst: Test) {\n\n    tst.expectEqual(1 === 1);\n    tst.expectError(() => {\n        var h;\n        h.a = 9;\n    });\n\n\n}","/*requirejs.config({\n    baseUrl: 'https://unpkg.com/source-map@0.7.3/dist/source-map',\n    paths: {\n        'mozilla.sourcemap':\"https://unpkg.com/source-map@0.7.3/dist/source-map\"\n    }\n\n});*/\n//@ts-ignore\nimport sourceMap from \"jassijs/ext/sourcemap\";\n\nimport { Server } from \"jassijs/remote/Server\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { config } from \"jassijs/remote/Config\";\n//var sourceMap=window[\"sourceMap\"];\n@$Class(\"jassijs_editor.util.TSSourceMap\")\nexport class TSSourceMap {\n    async getCode(file: string) {\n        return $.ajax({ url: file, dataType: \"text\" });\n        // await new Server().loadFile(file);\n    }\n    async getLineFromTS(tsfile: string, line, column): Promise<{ line: number, column: number, jsfilename: string }> {\n        var jscode;\n        var mapcode = \"\";\n        var filenumber = 0;\n        var jsfilename;\n        if (Server.filesInMap && Server.filesInMap[tsfile]) {\n            var mod = Server.filesInMap[tsfile].modul;\n            jsfilename = config.modules[mod];\n            var mapname = jsfilename.split(\"\").reverse().join(\"\").replace(\"sj.\", \"pam.sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n           \n            mapcode = await this.getCode(mapname);//await $.ajax({ url: jsfilename+\".map\", dataType: \"text\" });\n            filenumber = Server.filesInMap[tsfile].id;\n        } else {\n            //replace last .ts to .js\n            jsfilename = \"js/\" + tsfile.split(\"\").reverse().join(\"\").replace(\"st.\", \"sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n            jscode = await this.getCode(jsfilename);// await $.ajax({ url: jsfilename, dataType: \"text\" });\n\n            var pos = jscode.indexOf(\"//\" + \"# sourceMappingURL=\");\n            if (jscode.indexOf(\"//\" + \"# sourceMappingURL=data:application\") > -1) {\n                var b64 = jscode.substring(pos + 50);\n                mapcode = ts[\"base64decode\"](undefined, b64);\n                //mapcode = decodeURIComponent(escape((b64)));\n            } else {\n                //mapcode = await $.ajax({ url: \"js/\" + tsfile.replace(\".ts\", \".js.map\"), dataType: \"text\" });\n                //replace last .js to .js.map\n                var mapfile = tsfile.split(\"\").reverse().join(\"\").replace(\"st.\", \"pam.sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n                mapcode = await this.getCode(\"js/\" + mapfile);\n            }\n        }\n        var ret: Promise<{ line: number, column: number, jsfilename: string }> = new Promise((resolve, reject) => { // eslint-disable-line no-unused-vars\n            var isinline = false;\n            sourceMap.SourceMapConsumer.initialize({\n                \"lib/mappings.wasm\": \"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm\"\n            });\n            var rawSourceMap = JSON.parse(mapcode);\n            sourceMap.SourceMapConsumer.with(rawSourceMap, null, consumer => {\n                var test = consumer.sources;\n                var l = consumer.generatedPositionFor({\n                    source: rawSourceMap.sources[filenumber],\n                    line: line,\n                    column: column\n                })\n                l.jsfilename = jsfilename;\n                return l;\n            }).then(function (whatever) {\n                resolve(whatever);\n            });\n        });\n        return ret;\n    }\n    async getLineFromJS(jsfile:string, line:number, column:number): Promise<{ source: string, line: number, column: number }> {\n        var data=await this.getLinesFromJS(jsfile,[{line,column}]);\n        return ((data===undefined||data.length===0)?undefined:data[0]);\n    }\n    async getLinesFromJS(jsfile, data:{line:number, column:number}[]): Promise<{ source: string, line: number, column: number }[]> {\n        var jscode = await this.getCode(jsfile.split(\"?\")[0])// await $.ajax({ url: jsfile, dataType: \"text\" });\n        var mapcode = \"\";\n        var pos = jscode.indexOf(\"//\" + \"# sourceMappingURL=\");\n        if (jscode.indexOf(\"//\" + \"# sourceMappingURL=data:application\") > -1) {\n            var b64 = jscode.substring(pos + 50);\n            mapcode = atob(b64);\n        } else if (pos) {\n            //TODO parse the correct map\n            var mapfile = jsfile.split(\"\").reverse().join(\"\").replace(\"sj.\", \"pam.sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n            mapcode = await new Server().loadFile(mapfile);\n        } else\n            return undefined;\n        sourceMap.SourceMapConsumer.initialize({\n                \"lib/mappings.wasm\": \"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm\"\n            });\n        var rawSourceMap = JSON.parse(mapcode);\n        var ret=[];\n        for(var x=0;x<data.length;x++){\n            var one: any = await new Promise((resolve, reject) => { // eslint-disable-line no-unused-vars\n            \n                //for(var x=0;x<data.length;x++){\n                sourceMap.SourceMapConsumer.with(rawSourceMap, null, consumer => {\n                    var test = consumer.sources;\n                    var l = consumer.originalPositionFor({\n                        bias: sourceMap.SourceMapConsumer.GREATEST_LOWER_BOUND,\n                        line: data[x].line,\n                        column: data[x].column\n                    })\n                    return l;\n                }).then(function (whatever) {\n                    resolve(whatever);\n                });\n            });\n            ret.push(one);\n        }\n        return await ret;\n        //  jassijs.myRequire(\"https://unpkg.com/source-map@0.7.3/dist/source-map.js\",function(data){\n    }\n}\n\n","\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport \"jassijs_editor/ext/monaco\";\r\nimport { Editor } from \"jassijs/ui/PropertyEditors/Editor\";\r\nimport { config } from \"jassijs/remote/Config\";\r\n\r\n@$Class(\"jassijs_editor.util.Typescript\")\r\nexport class Typescript {\r\n    static instance: Typescript;\r\n    waitForInited: Promise<boolean>;\r\n    tsWorker: monaco.languages.typescript.TypeScriptWorker;\r\n\r\n    static languageServiceHost: ts.LanguageServiceHost;\r\n    static ts;\r\n\r\n\r\n    /**\r\n    * resolved if the service is inited\r\n    */\r\n    private static _isInited: boolean = undefined;\r\n    static compilerSettings = {\r\n        baseUrl: \"./\",\r\n        target: \"ES2017\",\r\n        module: \"AMD\",\r\n        sourceMap: true,\r\n        outDir: \"./js\",\r\n        allowJs: true,\r\n        moduleResolution: monaco.languages.typescript.ModuleResolutionKind.Classic,\r\n        jsx:monaco.languages.typescript.JsxEmit.React,\r\n        emitDecoratorMetadata: true,\r\n        experimentalDecorators: true,\r\n        typeRoots: [\"./node_modules/@types\"]\r\n    }\r\n    public isInited(file) {\r\n\r\n        return Typescript._isInited === true;\r\n    }\r\n    /**\r\n     * transpile the ts-file an returns all reflected files\r\n     * @param fileName \r\n     * @param content \r\n     */\r\n    async transpile(fileName: string, content: string, compilerSettings: any = undefined): Promise<{ fileNames: string[]; contents: string[] }> {\r\n        var ret = { fileNames: [fileName], contents: [content] }\r\n        if (fileName.toLocaleLowerCase().endsWith(\".js\")) {//js Code would be not transpiled\r\n            ret.fileNames.push(\"js/\" + fileName);\r\n            ret.contents.push(content);\r\n        } else {\r\n            var prefix = \"\";\r\n            for (let x = 0; x < fileName.split(\"/\").length; x++) {\r\n                prefix = \"../\" + prefix;\r\n            }\r\n            var opt = {\r\n                compilerOptions: compilerSettings ? compilerSettings : Typescript.compilerSettings,\r\n                fileName: prefix + fileName,\r\n            };\r\n            //@ts-ignore\r\n            var comp: any = ts.transpileModule(content, opt);\r\n            var extlen=3;\r\n            if(fileName.toLowerCase().endsWith(\".tsx\"))\r\n                extlen=4;\r\n            ret.fileNames.push(\"js/\" + fileName.substring(0, fileName.length - extlen) + \".js\");\r\n            ret.contents.push(comp.outputText);\r\n            ret.fileNames.push(\"js/\" + fileName.substring(0, fileName.length - extlen) + \".js.map\");\r\n            ret.contents.push(comp.sourceMapText);\r\n\r\n        }\r\n        return ret;\r\n\r\n    }\r\n    private constructor() {\r\n\r\n        if (Typescript._isInited === undefined)\r\n            this.waitForInited = this.initService();\r\n\r\n    }\r\n\r\n    static initMonaco() {\r\n        /* monaco.languages.typescript.javascriptDefaults.setCompilerOptions({\r\n             \"baseUrl\": \"./\",\r\n             rootDir: \"./\",\r\n         })*/\r\n        monaco.languages.typescript.typescriptDefaults.setCompilerOptions({\r\n            \"target\": monaco.languages.typescript.ScriptTarget.Latest,\r\n            \"baseUrl\": \"./\",\r\n            \"module\": monaco.languages.typescript.ModuleKind.AMD,\r\n            \"moduleResolution\": monaco.languages.typescript.ModuleResolutionKind.Classic,\r\n            \"jsx\":monaco.languages.typescript.JsxEmit.React,\r\n            typeRoots: [\"./node_modules/@types\"],\r\n            rootDir: \"./\",\r\n\r\n            \"sourceMap\": true,\r\n            \"outDir\": \"./js\",\r\n            emitDecoratorMetadata: true,\r\n            allowNonTsExtensions: true,\r\n            allowJs: true,\r\n            experimentalDecorators: true,\r\n        });\r\n\r\n    }\r\n    initInIdle = true;\r\n    //load  d.ts from modulpackage\r\n    private async includeModulTypes() {\r\n        var nodeFiles = {}\r\n        for (var mod in config.modules) {\r\n            var config1 = (await import(mod + \"/modul\")).default;\r\n            if (config1.types) {\r\n                for (var key in config1.types) {\r\n                    var file = config1.types[key];\r\n                    nodeFiles[key] = new Server().loadFile(file);\r\n\r\n                }\r\n            }\r\n        }\r\n        return nodeFiles;\r\n    }\r\n    /**\r\n     * initialize the services tooks any seconds\r\n     * functions which uses the languageservice are blocked until ready\r\n     */\r\n    async initService(): Promise<boolean> {\r\n        try {\r\n            if (Typescript._isInited !== undefined)\r\n                return;\r\n            Typescript._isInited = false;\r\n            Typescript.initMonaco();\r\n            //@ts-ignore\r\n            //  import(\"jassijs/ext/typescript\").then(async function(ts1) {\r\n            Typescript.ts = ts;\r\n\r\n            var _this = this;\r\n            var f: { [path: string]: FileNode } = (await new Server().dir(true)).resolveChilds();\r\n\r\n            var nodeFiles = await this.includeModulTypes();\r\n            //Load all files to in cache\r\n            //node_modules with ajax - so we kann cache \r\n            var myfiles = [];\r\n            for (let x in f) {\r\n                let fname = f[x].fullpath;\r\n                let fdat = f[x].date;\r\n\r\n\r\n                //include js in jassijs/ext\r\n                if (fname.startsWith(\"node_modules\"))\r\n                    continue;\r\n                if (fname.toLowerCase().endsWith(\".ts\") || fname.toLowerCase().endsWith(\".js\") || fname.toLowerCase().endsWith(\".json\")) {\r\n                    if (fname.toLocaleLowerCase().endsWith(\".js\")) {\r\n                        monaco.languages.typescript.typescriptDefaults.addExtraLib(\"export default const test=1;\", \"file:///\" + fname);\r\n                    }\r\n                    if (fdat === undefined) {\r\n                        nodeFiles[fname] = new Server().loadFile(fname);\r\n                    } else {\r\n                        nodeFiles[fname] = $.ajax({\r\n                            url: fname,\r\n                            beforeSend: function (request) {\r\n                                request.setRequestHeader(\"X-Custom-FromCache\", fdat);\r\n                            },\r\n                            dataType: \"text\"\r\n                        });\r\n                    }\r\n                    //}\r\n                }\r\n            }\r\n            //load TS sources\r\n\r\n            //wait for each nodefiles\r\n            var code = {};\r\n            for (let key in nodeFiles) {\r\n                code[key] = await nodeFiles[key];\r\n\r\n            }\r\n            for (let key in nodeFiles) {\r\n                //monaco\r\n\r\n                //@ts-ignore\r\n                //\t\r\n                var type = \"typescript\";\r\n\r\n                if (key.toLocaleLowerCase().endsWith(\".ts\")) {\r\n\r\n                    //\r\n                    if (this.initInIdle) {\r\n                        var ffile = monaco.Uri.from({ path: \"/\" + key, scheme: 'file' });\r\n                        //console.log(key);\r\n                        if (!monaco.editor.getModel(ffile))\r\n                            monaco.editor.createModel(code[key], \"typescript\", ffile);\r\n                        //});\r\n                    } else {\r\n\r\n                        monaco.languages.typescript.typescriptDefaults.addExtraLib(code[key], \"file:///\" + key);\r\n                    }\r\n                }\r\n                if (key.toLocaleLowerCase().endsWith(\".json\"))\r\n                    type = \"json\";\r\n\r\n            }\r\n            //initialize monaco\r\n            //if (!this.initInIdle)\r\n                monaco.editor.createModel(\"var a=1;\", \"typescript\", monaco.Uri.from({ path: \"/__mydummy.ts\", scheme: 'file' }));\r\n            this.tsWorker = await (await monaco.languages.typescript.getTypeScriptWorker())()\r\n            Typescript._isInited = true;\r\n            return true;\r\n        } catch (err) {\r\n            debugger;\r\n            throw err;\r\n        }\r\n    }\r\n    /**\r\n     * unused\r\n     */\r\n    async getDefinitionAtPosition(file: string, position: number) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        return await this.tsWorker.getDefinitionAtPosition(\"file:///\" + file, position);\r\n\r\n    }\r\n    /**\r\n     * unused\r\n     */\r\n    async getSignatureHelpItems(file: string, position: number) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        //@ts-ignore\r\n        return await this.tsWorker.getSignatureHelpItems(\"file:///\" + file, position, undefined);\r\n\r\n    }\r\n    async includefileIfNeeded(file: string) {\r\n\r\n    }\r\n    async renameFile(oldfile: string, newfile: string) {\r\n        var ffile = monaco.Uri.from({ path: \"/\" + oldfile, scheme: 'file' });\r\n        var oldmodell = monaco.editor.getModel(ffile);\r\n        oldmodell?.dispose();\r\n        var text = await $.ajax({\r\n            url: newfile,\r\n            beforeSend: function (request) {\r\n                request.setRequestHeader(\"X-Custom-FromCache\", newfile);\r\n            },\r\n            dataType: \"text\"\r\n        });\r\n        await this.setCode(newfile, text);\r\n        var snap = Typescript.languageServiceHost.getScriptSnapshot(newfile);\r\n    }\r\n\r\n    /**\r\n     * @returns all code filenames\r\n     */\r\n    getFiles(): string[] {\r\n        var ret: string[] = [];\r\n        var mods = monaco.editor.getModels();\r\n        for (var x = 0; x < mods.length; x++) {\r\n            var f = mods[x].uri.path.substring(1);\r\n            ret.push(f);\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * get the code for a file\r\n     * @params file - the filename e.g. jassijs/base/Parser.ts\r\n     */\r\n    getCode(file: string): string {\r\n        var ffile = monaco.Uri.from({ path: \"/\" + file, scheme: 'file' });\r\n        var mod = monaco.editor.getModel(ffile);\r\n        if (mod)\r\n            return mod.getValue();\r\n        else\r\n            return undefined;\r\n    }\r\n    /**\r\n     * put file in cache\r\n     * @param file - the ts file\r\n     * @param text - the text of the ts file\r\n     */\r\n    setCode(file: string, text: string) {\r\n        var ffile = monaco.Uri.from({ path: \"/\" + file, scheme: 'file' });\r\n        var mod = monaco.editor.getModel(ffile);\r\n        if (!mod) {\r\n            mod = monaco.editor.createModel(text, \"typescript\", ffile);\r\n        }\r\n        var waiter = new Promise(function (resolve) {\r\n            var disp = mod.onDidChangeContent((evt) => {\r\n                if (evt.changes[0].text === text) {\r\n                    disp.dispose();\r\n                    resolve(mod);\r\n                }\r\n            });\r\n        });\r\n        mod.setValue(text);\r\n        return waiter;\r\n    }\r\n    /**\r\n     * get info for a completionentry\r\n     * @param file - the ts file\r\n     * @param position - the position in string\r\n     * @param item -the item we are interested\r\n     * @param formatOptions -unused\r\n     * @param source -unused\r\n     * @param preferences - unused\r\n     */\r\n    async getCompletionEntryDetails(file: string, position: number, item: string, formatOptions = {}, source = undefined, preferences = {}) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        const info = await this.tsWorker.getCompletionEntryDetails(\"file:///\" + file, position, item);\r\n        return info;\r\n    }\r\n    /**\r\n     * get all completions at a  position\r\n     * @param file -the ts file\r\n     * @param position -the position in string\r\n     * @param text - the text of the file is saved to cache\r\n     */\r\n    async getCompletion(file: string, position: number, text: string = undefined, options) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            var p = this.setCode(file, text);\r\n            await p;\r\n            // Typescript.languageServiceHost.getScriptSnapshot(file);\r\n        }\r\n        //@ts-ignore\r\n        const info = await this.tsWorker.getCompletionsAtPosition(\"file:///\" + file, position, options);\r\n        //            { includeExternalModuleExports: true });\r\n        return info;\r\n    }\r\n    async getQuickInfoAtPosition(file: string, position: number, text: string) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            await this.setCode(file, text);\r\n        }\r\n        return await this.tsWorker.getQuickInfoAtPosition(\"file:///\" + file, position);\r\n    }\r\n    async getCodeFixesAtPosition(file: string, text: string = undefined, start: number, end: number, errorCodes: []): Promise<any> {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            await this.setCode(file, text);\r\n        }\r\n        return await this.tsWorker.getCodeFixesAtPosition(\"file:///\" + file, start, end, errorCodes, {});\r\n    }\r\n    async formatDocument(filePath: string, text: string = undefined) {\r\n        await this.waitForInited;\r\n        await this.setCode(filePath, text);\r\n\r\n        var textChanges = await this.tsWorker.getFormattingEditsForDocument(\"file:///\" + filePath, {\r\n            convertTabsToSpaces: true,\r\n            insertSpaceAfterCommaDelimiter: true,\r\n            insertSpaceAfterKeywordsInControlFlowStatements: true,\r\n            insertSpaceBeforeAndAfterBinaryOperators: true,\r\n            newLineCharacter: \"\\n\",\r\n            indentStyle: ts.IndentStyle.Smart,\r\n            indentSize: 4,\r\n            tabSize: 4\r\n        });\r\n\r\n        let finalText = text;\r\n        textChanges = textChanges.sort((a, b) => b.span.start - a.span.start);\r\n        for (var i = 0; i < textChanges.length; i++) {\r\n            var textChange = textChanges[i];\r\n            const { span } = textChange;\r\n            finalText = finalText.slice(0, span.start) + textChange.newText\r\n                + finalText.slice(span.start + span.length);\r\n        }\r\n        return finalText;\r\n    }\r\n    async getDiagnosticsForAll(): Promise<ts.Diagnostic[]> {\r\n        var mods = monaco.editor.getModels();\r\n        var ret = [];\r\n        var countErrors = 0;\r\n        for (var x = 0; x < mods.length; x++) {\r\n            var url = \"file:///\" + mods[x].uri.path;\r\n            if (url.indexOf(\"node_modules/\") > 0)\r\n                continue;\r\n\r\n            try {\r\n                var sug = await this.tsWorker.getSemanticDiagnostics(url);\r\n                for (var s = 0; s < sug.length; s++) {\r\n                    //@ts-ignore\r\n                    sug[s][\"file\"] = {\r\n                        fileName: mods[x].uri.path.substring(1)\r\n                    }\r\n                    ret.push(sug[s]);\r\n                }\r\n                sug = await this.tsWorker.getSyntacticDiagnostics(url);\r\n                for (var s = 0; s < sug.length; s++) {\r\n                    //@ts-ignore\r\n                    sug[s][\"file\"] = {\r\n                        fileName: mods[x].uri.path.substring(1)\r\n                    }\r\n                    ret.push(sug[s]);\r\n                }\r\n            } catch (ex) {\r\n                if (!ex.message.indexOf(\"file:////lib.dom.d.ts\") && ex.message.indexOf(\" file:////lib.es5.d.ts\"))\r\n                    console.log(\"Error: \" + url + ex.message);\r\n            }\r\n        }\r\n        console.log(\"ready\");\r\n        return ret;\r\n        /* var prog=Typescript.languageService.getProgram();\r\n         let all=Typescript.ts.getPreEmitDiagnostics(prog);\r\n         let all2=prog.emit().diagnostics;\r\n         let ret=[];\r\n         all.forEach((diag)=>{\r\n             if(diag.file!==undefined&&!diag.file.fileName.startsWith(\"node_modules\"))\r\n                 ret.push(diag);\r\n         });\r\n         return ret;*/\r\n    }\r\n    getLineAndCharacterOfPosition(fileName: string, pos: number): { line, character } {\r\n        var p = monaco.editor.getModel(monaco.Uri.from({ path: \"/\" + fileName, scheme: 'file' })).getPositionAt(pos);\r\n        return {\r\n            line: p.lineNumber,\r\n            character: p.column\r\n        }\r\n    }\r\n    getPositionOfLineAndCharacter(fileName: string, pos: { line, character }): number {\r\n        var p = monaco.editor.getModel(monaco.Uri.from({ path: \"/\" + fileName, scheme: 'file' })).getOffsetAt({\r\n            column: pos.character,\r\n            lineNumber: pos.line\r\n        })\r\n        return p;\r\n    }\r\n    async getDiagnostics(file: string, text: string = undefined) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            this.setCode(file, text);\r\n        }\r\n\r\n        return {\r\n            semantic: await this.tsWorker.getSemanticDiagnostics(\"file:///\" + file),\r\n            suggestion: await this.tsWorker.getSuggestionDiagnostics(\"file:///\" + file),\r\n            syntactic: await this.tsWorker.getSyntacticDiagnostics(\"file:///\" + file)\r\n            //      declaration:Typescript.languageService.getDeclarationDiagnostics(file)\r\n        }\r\n    }\r\n}\r\n//@ts-ignore\r\nvar typescript: Typescript = new Typescript();\r\nTypescript.instance = typescript;\r\nexport default typescript;","//this file is autogenerated don't modify\ndefine(\"jassijs_editor/registry\",[\"require\"], function(require) {\n return {\n  default: {\n\t\"jassijs_editor/AcePanel.ts\": {\n\t\t\"date\": 1684357702000,\n\t\t\"jassijs.ui.AcePanel\": {}\n\t},\n\t\"jassijs_editor/AcePanelSimple.ts\": {\n\t\t\"date\": 1657651672000,\n\t\t\"jassijs.ui.AcePanelSimple\": {}\n\t},\n\t\"jassijs_editor/ChromeDebugger.ts\": {\n\t\t\"date\": 1681488352000,\n\t\t\"jassijs_editor.ChromeDebugger\": {}\n\t},\n\t\"jassijs_editor/CodeEditor.ts\": {\n\t\t\"date\": 1696697256483.297,\n\t\t\"jassijs_editor.CodeEditorSettingsDescriptor\": {\n\t\t\t\"$SettingsDescriptor\": [],\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs_editor.CodeEditor\": {\n\t\t\t\"@members\": {}\n\t\t}\n\t},\n\t\"jassijs_editor/CodeEditorInvisibleComponents.ts\": {\n\t\t\"date\": 1681558934000,\n\t\t\"jassijs_editor.CodeEditorInvisibleComponents\": {}\n\t},\n\t\"jassijs_editor/CodePanel.ts\": {\n\t\t\"date\": 1655661690000,\n\t\t\"jassijs_editor.CodePanel\": {}\n\t},\n\t\"jassijs_editor/ComponentDesigner.ts\": {\n\t\t\"date\": 1697051410384.2578,\n\t\t\"jassijs_editor.ComponentDesigner\": {}\n\t},\n\t\"jassijs_editor/ComponentExplorer.ts\": {\n\t\t\"date\": 1696696982919.5652,\n\t\t\"jassijs_editor.ComponentExplorer\": {}\n\t},\n\t\"jassijs_editor/ComponentPalette.ts\": {\n\t\t\"date\": 1697051376777.724,\n\t\t\"jassijs_editor.ComponentPalette\": {}\n\t},\n\t\"jassijs_editor/ComponentSpy.ts\": {\n\t\t\"date\": 1681570602000,\n\t\t\"jassijs_editor.ui.ComponentSpy\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"dummy\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-account-cog-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Spy Components\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-police-badge\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/DatabaseDesigner.ts\": {\n\t\t\"date\": 1684176866000,\n\t\t\"jassijs_editor/DatabaseDesigner\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Database Designer\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-database-edit\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/Debugger.ts\": {\n\t\t\"date\": 1656019586000,\n\t\t\"jassijs_editor.Debugger\": {}\n\t},\n\t\"jassijs_editor/ErrorPanel.ts\": {\n\t\t\"date\": 1682794808000,\n\t\t\"jassijs_editor.ui.ErrorPanel\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Errors\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-emoticon-confused-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/ext/monaco.ts\": {\n\t\t\"date\": 1681572586000\n\t},\n\t\"jassijs_editor/FileExplorer.ts\": {\n\t\t\"date\": 1683575950000,\n\t\t\"jassijs_editor.ui.FileActions\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/File\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"download\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Download\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newModule\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Module\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"dodelete\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Delete\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"mapLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Map local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"closeLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Close local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"rename\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Rename\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"refresh\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Refresh\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"open\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Open\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"jassijs.ui.FileExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Files\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file-tree\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/HtmlDesigner.ts\": {\n\t\t\"date\": 1697052572549.2588,\n\t\t\"jassijs_editor.HtmlDesigner\": {}\n\t},\n\t\"jassijs_editor/modul.ts\": {\n\t\t\"date\": 1695399690345.8984\n\t},\n\t\"jassijs_editor/MonacoPanel.ts\": {\n\t\t\"date\": 1684357486000,\n\t\t\"jassijs_editor.MonacoPanel\": {}\n\t},\n\t\"jassijs_editor/SearchExplorer.ts\": {\n\t\t\"date\": 1681590246000,\n\t\t\"jassijs_editor.ui.SearchExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Search\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-folder-search-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/StartEditor.ts\": {\n\t\t\"date\": 1681571256000\n\t},\n\t\"jassijs_editor/template/TemplateDBDialog.ts\": {\n\t\t\"date\": 1681570392000,\n\t\t\"jassijs_editor.template.TemplateDBDialogProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBDialog\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateDBObject.ts\": {\n\t\t\"date\": 1681570394000,\n\t\t\"jassijs_editor.template.TemplateDBObjectProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateEmptyDialog.ts\": {\n\t\t\"date\": 1681579996000,\n\t\t\"jassijs_editor.template.TemplateEmptyDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Dialog\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateRemoteObject.ts\": {\n\t\t\"date\": 1681570100000,\n\t\t\"jassijs_editor.template.TemplateRemoteObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/RemoteObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/DatabaseSchema.ts\": {\n\t\t\"date\": 1681569388000,\n\t\t\"jassijs_editor.util.DatabaseSchema\": {}\n\t},\n\t\"jassijs_editor/util/DragAndDropper.ts\": {\n\t\t\"date\": 1657925428000,\n\t\t\"jassijs_editor.util.DragAndDropper\": {}\n\t},\n\t\"jassijs_editor/util/Parser.ts\": {\n\t\t\"date\": 1697052536534.7373,\n\t\t\"jassijs_editor.util.Parser\": {}\n\t},\n\t\"jassijs_editor/util/Resizer.ts\": {\n\t\t\"date\": 1656018240000,\n\t\t\"jassijs_editor.util.Resizer\": {}\n\t},\n\t\"jassijs_editor/util/Tests.ts\": {\n\t\t\"date\": 1684358014000,\n\t\t\"jassijs_editor.ui.TestAction\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"testNode\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Run Tests\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/TSSourceMap.ts\": {\n\t\t\"date\": 1682794840000,\n\t\t\"jassijs_editor.util.TSSourceMap\": {}\n\t},\n\t\"jassijs_editor/util/Typescript.ts\": {\n\t\t\"date\": 1695586918212.458,\n\t\t\"jassijs_editor.util.Typescript\": {}\n\t}\n}\n }\n});"]}