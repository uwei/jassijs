{"version":3,"file":"jassi_report.js","sourceRoot":"","sources":["../client/jassi_report/PDFReport.ts","../client/jassi_report/PDFViewer.ts","../client/jassi_report/RColumns.ts","../client/jassi_report/RComponent.ts","../client/jassi_report/RDatatable.ts","../client/jassi_report/RStack.ts","../client/jassi_report/RTablerow.ts","../client/jassi_report/RText.ts","../client/jassi_report/RUnknown.ts","../client/jassi_report/ReportComponent.ts","../client/jassi_report/ReportComponentProperties.ts.ts","../client/jassi_report/ReportDesign.ts","../client/jassi_report/ReportEditor.ts","../client/jassi_report/modul.ts","../client/jassi_report/registry.js","../client/jassi_report/designer/Report.ts","../client/jassi_report/designer/ReportDesigner.ts","../client/jassi_report/ext/pdfjs.js","../client/jassi_report/ext/pdfmake.js"],"names":[],"mappings":"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","sourcesContent":["import jassi, { $Class } from \"jassi/remote/Jassi\";\n//@ts-ignore\nimport pdfMake from \"jassi_report/ext/pdfmake\";\nimport { PDFViewer } from \"jassi_report/PDFViewer\";\nimport { Tools } from \"jassi/util/Tools\";\n\n\n\n@$Class(\"jassi_report.PDFReport\")\nexport class PDFReport {\n    report;\n    _definition;\n    constructor() {\n        // @member {object} - the generated report\n        this.report = null;\n    }\n\n    layout() {\n        //var me = this.me = {};\n\n    }\n\t/**\n\t * @member {object} - report definition\n\t */\n    set value(value) { //the Code\n        this._definition =value;\n        var data: any = {};\n        Object.assign(data, value);\n        \n        data.content = replaceTemplates(this._definition.content, this._definition.data);\n        if(data.background)\n        \tdata.background = replaceTemplates(this._definition.background, this._definition.data);\n        if(data.header)\n        \tdata.header = replaceTemplates(this._definition.header, this._definition.data);\n       if(data.footer)\n        \tdata.footer = replaceTemplates(this._definition.footer, this._definition.data);\n       \n        data.content = replaceTemplates(this._definition.content, this._definition.data);\n        replacePageInformation(data);\n        delete data.data;\n\n        this.report = pdfMake.createPdf(data);\n    }\n    get value() {\n        return this._definition;\n    }\n    open() {\n        this.report.open();\n    }\n    download() {\n        this.report.download();\n    }\n    print() {\n        this.report.print();\n    }\n\n    async getBase64() {\n        var _this = this;\n        return new Promise(\n            function(resolve, reject) {\n                _this.report.getBase64(function(data) {\n                    resolve(data);\n\n                });\n            });\n\n    };\n\n}\n\nfunction replace(str: string, data, member: string) {\n    var ob = getVar(data, member);\n    return str.split(\"{{\" + member + \"}}\").join(ob);\n}\nfunction getVar(data, member) {\n    var names = member.split(\".\");\n    var ob = data[names[0]];\n    for (let x = 1;x < names.length;x++) {\n\n        if (ob === undefined)\n            return undefined;\n        ob = ob[names[x]];\n    }\n    return ob;\n}\n//replace {{currentPage}} {{pageWidth}} {{pageHeight}} {{pageCount}} in header,footer, background\nfunction replacePageInformation(def) {\n\t\n    if (def.background&&typeof def.background !== \"function\") {\n        let d = JSON.stringify(def.background);\n        def.background = function(currentPage, pageSize) {\n            let sret = d.replaceAll(\"{{currentPage}}\", currentPage);\n            sret = sret.replaceAll(\"{{pageWidth}}\", pageSize.width);\n            sret = sret.replaceAll(\"{{pageHeight}}\", pageSize.height);\n            return JSON.parse(sret);\n        }\n    }\n    if (def.header &&typeof def.header !== \"function\") {\n        let d = JSON.stringify(def.header);\n        def.header = function(currentPage, pageCount) {\n            let sret = d.replaceAll(\"{{currentPage}}\", currentPage);\n            sret = sret.replaceAll(\"{{pageCount}}\", pageCount);\n            return JSON.parse(sret);\n        }\n\t}\n    if (def.footer&&typeof def.footer !== \"function\") {\n       let d = JSON.stringify(def.footer);\n            \n       def.footer = function(currentPage, pageCount, pageSize) {\n            let sret = d.replaceAll(\"{{currentPage}}\", currentPage);\n            sret = sret.replaceAll(\"{{pageCount}}\", pageCount);\n            sret = sret.replaceAll(\"{{pageWidth}}\", pageSize.width);\n            sret = sret.replaceAll(\"{{pageHeight}}\", pageSize.height);\n            return JSON.parse(sret);\n        }\n    }\n}\n\nfunction replaceDatatable(def, data) {\n\n    var header = def.datatable.header;\n    var footer = def.datatable.footer;\n    var dataexpr = def.datatable.foreach;\n    var groups = def.datatable.groups;\n    var body = def.datatable.body;\n    def.table = {\n        body: []\n    };\n    if (header)\n        def.table.body.push(header);\n    def.table.body.push({\n    \tforeach:def.datatable.dataforeach,\n    \tdo:body\n    });\n    delete def.datatable.dataforeach;\n    /*var variable = dataexpr.split(\" in \")[0];\n    var sarr = dataexpr.split(\" in \")[1];\n    var arr = getVar(data, sarr);\n\n    for (let x = 0;x < arr.length;x++) {\n        data[variable] = arr[x];\n        var copy = JSON.parse(JSON.stringify(body));//deep copy\n        copy = replaceTemplates(copy, data);\n        def.table.body.push(copy);\n    }*/\n     if (footer)\n        def.table.body.push(footer);\n    //delete data[variable];\n    delete def.datatable.header;\n    delete def.datatable.footer;\n    delete def.datatable.foreach;\n    delete def.datatable.groups;\n    delete def.datatable.body;\n    \n    for(var key in def.datatable){\n    \tdef.table[key]=def.datatable[key];\n    }\n    delete def.datatable;\n\t/*header:[{ text:\"Item\"},{ text:\"Price\"}],\n\t\t\t\t\tdata:\"line in invoice.lines\",\n\t\t\t\t\t//footer:[{ text:\"Total\"},{ text:\"\"}],\n\t\t\t\t\tbody:[{ text:\"Text\"},{ text:\"price\"}],\n\t\t\t\t\tgroups:*/\n\n\n}\nfunction replaceTemplates(def, data, parentArray: any[] = undefined) {\n\t\n    if (def.datatable !== undefined) {\n        replaceDatatable(def, data);\n\n    }\n    if (def.foreach !== undefined) {\n        //resolve foreach\n        //\t{ foreach: \"line in invoice.lines\", do: ['{{line.text}}', '{{line.price}}', 'OK?']\t\n        if (parentArray === undefined) {\n            throw \"foreach is not surounded by an Array\";\n        }\n        var variable = def.foreach.split(\" in \")[0];\n        var sarr = def.foreach.split(\" in \")[1];\n        var arr = getVar(data, sarr);\n        var pos = parentArray.indexOf(def);\n        parentArray.splice(pos, 1);\n\n        for (let x = 0;x < arr.length;x++) {\n            data[variable] = arr[x];\n            delete def.foreach;\n            var copy;\n            if(def.do)\n            \tcopy= JSON.parse(JSON.stringify(def.do));\n            else\n            \tcopy= JSON.parse(JSON.stringify(def));\n            \t\n            copy = replaceTemplates(copy, data);\n            parentArray.splice(pos++, 0, copy);\n        }\n        delete data[variable];\n        return undefined;\n    } else if (Array.isArray(def)) {\n        for (var a = 0;a < def.length;a++) {\n            if (def[a].foreach !== undefined) {\n                replaceTemplates(def[a], data, def);\n                a--;\n            } else\n                def[a] = replaceTemplates(def[a], data, def);\n        }\n        return def;\n    } else if (typeof def === \"string\") {\n        var ergebnis = def.toString().match(/\\{\\{(\\w||\\.)*\\}\\}/g);\n        if (ergebnis !== null) {\n            for (var e = 0;e < ergebnis.length;e++) {\n                def = replace(def, data, ergebnis[e].substring(2, ergebnis[e].length - 2));\n            }\n        }\n        return def;\n    } else {//object\t\n        for (var key in def) {\n            def[key] = replaceTemplates(def[key], data);\n\n        }\n        delete def.editTogether;//RText\n    }\n    return def;\n}\nfunction replaceTemplatesOld(def, data, parentArray: any[] = undefined) {\n\t\n    if (def.datatable !== undefined) {\n        replaceDatatable(def, data);\n\n    } else if (def.foreach !== undefined) {\n        //resolve foreach\n        //\t{ foreach: \"line in invoice.lines\", do: ['{{line.text}}', '{{line.price}}', 'OK?']\t\n        if (parentArray === undefined) {\n            throw \"foreach is not surounded by an Array\";\n        }\n        var variable = def.foreach.split(\" in \")[0];\n        var sarr = def.foreach.split(\" in \")[1];\n        var arr = getVar(data, sarr);\n        var pos = parentArray.indexOf(def);\n        parentArray.splice(pos, 1);\n\n        for (let x = 0;x < arr.length;x++) {\n            data[variable] = arr[x];\n            var copy = JSON.parse(JSON.stringify(def.do));//deep copy\n            copy = replaceTemplates(copy, data);\n            parentArray.splice(pos++, 0, copy);\n        }\n        delete data[variable];\n        return undefined;\n    } else if (Array.isArray(def)) {\n        for (var a = 0;a < def.length;a++) {\n            if (def[a].foreach !== undefined) {\n                replaceTemplates(def[a], data, def);\n                a--;\n            } else\n                def[a] = replaceTemplates(def[a], data, def);\n        }\n        return def;\n    } else if (typeof def === \"string\") {\n        var ergebnis = def.toString().match(/\\{\\{(\\w||\\.)*\\}\\}/g);\n        if (ergebnis !== null) {\n            for (var e = 0;e < ergebnis.length;e++) {\n                def = replace(def, data, ergebnis[e].substring(2, ergebnis[e].length - 2));\n            }\n        }\n        return def;\n    } else {//object\t\n        for (var key in def) {\n            def[key] = replaceTemplates(def[key], data);\n\n        }\n        delete def.editTogether;//RText\n    }\n    return def;\n}\n\nexport async function test() {\n    var rep = new PDFReport();\n    var def = {\n        data: {\n            invoice: {\n                number: 1000,\n                date: \"20.07.2018\",\n                customer: {\n                    firstname: \"Henry\",\n                    lastname: \"Klaus\",\n                    street: \"Hauptstr. 157\",\n                    place: \"chemnitz\",\n                },\n                lines: [\n                    { pos: 1, text: \"this is the first position, lksjdflgsd er we wer wre er er er re wekfgjslkdfjjdk sgfsdg\", price: 10.00, amount: 50, variante: [{ m: 1 }, { m: 2 }] },\n                    { pos: 2, text: \"this is the next position\", price: 20.50, },\n                    { pos: 3, text: \"this is an other position\", price: 19.50 },\n                    { pos: 4, text: \"this is the last position\", price: 50.00 },\n                ],\n                summary: [\n                    { text: \"Subtotal\", value: 100.00 },\n                    { text: \"Tax\", value: 19.00 },\n                    { text: \"Subtotal\", value: 119.00 },\n                ]\n            }\n        },\n        content: {\n            stack: [{\n                columns: [\n                    {\n                        stack: [\n                            { text: '{{invoice.customer.firstname}} {{invoice.customer.lastname}}' },\n                            { text: '{{invoice.customer.street}}' },\n                            { text: '{{invoice.customer.place}}' }\n                        ]\n                    },\n                    {\n                        stack: [\n                            { text: 'Invoice', fontSize: 18 },\n                            { text: \" \" },\n                            { text: \"Date: {{invoice.date}}\" },\n                            { text: \"Number: {{invoice.number}}\", bold: true },\n                            { text: \" \" },\n                            { text: \" \" },\n                        ]\n                    }\n                ]\n            }, {\n                table: {\n                    body: [\n                        ['Item', 'Price'],\n                        {\n                            foreach: \"line in invoice.lines\",\n                            do: [\n                                '{{line.text}}', '{{line.price}}'\n                            ]\n                        }\n                    ]\n                }\n            },\n            {\n                datatable: {\n                    header: [{ text: \"Item\" }, { text: \"Price\" }],\n                    dataforeach: \"line in invoice.lines\",\n                    //footer:[{ text:\"Total\"},{ text:\"\"}],\n                    body: [{ text: '{{line.text}}' }, { text: '{{line.price}}' }],\n                    groups: [\n                        {\n                            field: \"line\",\n                            header: [],\n                            footer: []\n                        }\n                    ]\n\n                }\n            },\n            { text: \" \" },\n            {\n                foreach: \"sum in invoice.summary\",\n                    columns: [\n                        { text: \"{{sum.text}}\" },\n                        { text: \"{{sum.value}}\" },\n                    ]\n                \n            },\n            ]\n        }\n    };\n    def.content = replaceTemplates(def.content, def.data);\n    rep.value = def;\n    var viewer = new PDFViewer();\n    viewer.value = await rep.getBase64();\n    return viewer;\n}\n\n\n","import { Button } from \"jassi/ui/Button\";\n//@ts-ignore\nimport PDFJS from \"jassi_report/ext/pdfjs\";\nimport { Component } from \"jassi/ui/Component\";\nimport jassi, { $Class } from \"jassi/remote/Jassi\";\nimport { Panel } from \"jassi/ui/Panel\";\nimport { BoxPanel } from \"jassi/ui/BoxPanel\";\nimport { PDFReport } from \"jassi_report/PDFReport\";\nclass Canavas extends Component {\n    constructor() {\n        super();\n        super.init($('<canvas type=\"pdfviewer\"></canvas>')[0]);\n    }\n}\ntype Me = {\n    canavasPanel?: Canavas;\n    toolbar?: BoxPanel;\n    plus?: Button;\n    minus?: Button;\n    download?: Button;\n};\n@$Class(\"jassi_report.PDFViewer\")\nexport class PDFViewer extends Panel {\n    _page: number;\n    pdfjsLib: PDFJS;\n    pdfDoc;\n    pageNum: number;\n    pageRendering: boolean;\n    pageNumPending;\n    scale: number;\n    canvas: HTMLCanvasElement;\n    ctx;\n    _data;\n    me: Me;\n    report:PDFReport;\n    constructor() {\n        super();\n        this._page = 1;\n        //super.init(undefined);//$('<canvas type=\"pdfviewer\"></canvas>')[0]);\n        this.pdfjsLib = PDFJS;\n        this.pdfDoc = null;\n        this.pageNum = 1;\n        this.pageRendering = false;\n        this.pageNumPending = null;\n        this.scale = 0.8;\n        this.me = {};\n        this.layout(this.me);\n    }\n    layout(me: Me) {\n        me.toolbar = new BoxPanel();\n        me.canavasPanel = new Canavas();\n        me.plus = new Button();\n        me.minus = new Button();\n        var _this = this;\n        me.download = new Button();\n        //me.canavasPanel.height=\"90%\";\n        //\tme.canavasPanel.width=\"90%\";\n        //\tvar cn=$('<canvas type=\"pdfviewer\"></canvas>')[0]\n        this.canvas = <HTMLCanvasElement>me.canavasPanel.dom;\n        //this.dom.appendChild(cn);\n        //this.canvas = cn;\n        this.ctx = this.canvas.getContext('2d');\n        this.add(me.toolbar);\n        this.add(me.canavasPanel);\n        me.toolbar.add(me.plus);\n        me.toolbar.horizontal = true;\n        me.toolbar.add(me.download);\n        me.toolbar.add(me.minus);\n        me.plus.text = \"+\";\n        me.plus.onclick(function (event) {\n            _this.scale = _this.scale * 1.4;\n            _this.renderPage(_this._page);\n        });\n        me.minus.text = \"-\";\n        me.minus.onclick(function (event) {\n            _this.scale = _this.scale / 1.4;\n            _this.renderPage(_this._page);\n        });\n        me.download.text = \"download\";\n        me.download.onclick(function (event) {\n        \t_this.report.open();\n        });\n    }\n    renderPage(num) {\n        // The workerSrc property shall be specified.\n        this.pageRendering = true;\n        // Using promise to fetch the page\n        var _this = this;\n        this.pdfDoc.getPage(num).then(function (page) {\n            var viewport = page.getViewport({scale:_this.scale});\n            _this.canvas.height = viewport.height;\n            _this.canvas.width = viewport.width;\n            _this.width=viewport.width;\n            _this.height=viewport.height;\n            \n            // Render PDF page into canvas context\n            var renderContext = {\n                canvasContext: _this.ctx,\n                viewport: viewport\n            };\n            var renderTask = page.render(renderContext);\n            // Wait for rendering to finish\n            renderTask.promise.then(function () {\n                _this.pageRendering = false;\n                if (_this.pageNumPending !== null) {\n                    // New page rendering is pending\n                    _this.renderPage(_this.pageNumPending);\n                    _this.pageNumPending = null;\n                }\n            });\n        });\n    }\n    queueRenderPage(num) {\n        if (this.pageRendering) {\n            this.pageNumPending = num;\n        }\n        else {\n            this.renderPage(num);\n        }\n    }\n    /**\n     * Displays previous page.\n     */\n    onPrevPage() {\n        if (this.pageNum <= 1) {\n            return;\n        }\n        this.pageNum--;\n        this.queueRenderPage(this.pageNum);\n    }\n    /**\n     * Displays next page.\n     */\n    onNextPage() {\n        if (this.pageNum >= this.pdfDoc.numPages) {\n            return;\n        }\n        this.pageNum++;\n        this.queueRenderPage(this.pageNum);\n    }\n    /**\n     * @member {data} - the caption of the button\n     */\n    set value(value) {\n        this._data = value;\n        var pdfData = atob(this._data);\n        var loadingTask = this.pdfjsLib.getDocument({ data: pdfData });\n        var _this = this;\n        loadingTask.promise.then(function (pdf) {\n            _this.pdfDoc = pdf;\n            _this.queueRenderPage(_this._page);\n        }, function (e) {\n            var g = e;\n        });\n    }\n    get value() {\n        return this._data;\n        //return  $(this.checkbox).prop(\"checked\");\n    }\n    /**\n     * @member {number} - the current page number\n     */\n    set page(value) {\n        this._page = value;\n    }\n    get page() {\n        return this._page;\n        //return  $(this.checkbox).prop(\"checked\");\n    }\n}\nexport async function test() {\n    var ret = new PDFViewer();\n    //testdocument\n    var data = 'JVBERi0xLjcKCjEgMCBvYmogICUgZW50cnkgcG9pbnQKPDwKICAvVHlwZSAvQ2F0YWxvZwog' +\n        'IC9QYWdlcyAyIDAgUgo+PgplbmRvYmoKCjIgMCBvYmoKPDwKICAvVHlwZSAvUGFnZXMKICAv' +\n        'TWVkaWFCb3ggWyAwIDAgMjAwIDIwMCBdCiAgL0NvdW50IDEKICAvS2lkcyBbIDMgMCBSIF0K' +\n        'Pj4KZW5kb2JqCgozIDAgb2JqCjw8CiAgL1R5cGUgL1BhZ2UKICAvUGFyZW50IDIgMCBSCiAg' +\n        'L1Jlc291cmNlcyA8PAogICAgL0ZvbnQgPDwKICAgICAgL0YxIDQgMCBSIAogICAgPj4KICA+' +\n        'PgogIC9Db250ZW50cyA1IDAgUgo+PgplbmRvYmoKCjQgMCBvYmoKPDwKICAvVHlwZSAvRm9u' +\n        'dAogIC9TdWJ0eXBlIC9UeXBlMQogIC9CYXNlRm9udCAvVGltZXMtUm9tYW4KPj4KZW5kb2Jq' +\n        'Cgo1IDAgb2JqICAlIHBhZ2UgY29udGVudAo8PAogIC9MZW5ndGggNDQKPj4Kc3RyZWFtCkJU' +\n        'CjcwIDUwIFRECi9GMSAxMiBUZgooSGVsbG8sIHdvcmxkISkgVGoKRVQKZW5kc3RyZWFtCmVu' +\n        'ZG9iagoKeHJlZgowIDYKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwMDEwIDAwMDAwIG4g' +\n        'CjAwMDAwMDAwNzkgMDAwMDAgbiAKMDAwMDAwMDE3MyAwMDAwMCBuIAowMDAwMDAwMzAxIDAw' +\n        'MDAwIG4gCjAwMDAwMDAzODAgMDAwMDAgbiAKdHJhaWxlcgo8PAogIC9TaXplIDYKICAvUm9v' +\n        'dCAxIDAgUgo+PgpzdGFydHhyZWYKNDkyCiUlRU9G';\n    ret.value = data;\n    return ret;\n}\n","import { BoxPanel } from \"jassi/ui/BoxPanel\";\nimport jassi, { $Class } from \"jassi/remote/Jassi\";\nimport { $UIComponent } from \"jassi/ui/Component\";\nimport { $Property } from \"jassi/ui/Property\";\nimport { ReportDesign } from \"jassi_report/ReportDesign\";\nimport { $ReportComponent, ReportComponent } from \"jassi_report/ReportComponent\";\nimport { Panel } from \"jassi/ui/Panel\";\nimport { RText } from \"jassi_report/RText\";\n\n\n//@$UIComponent({editableChildComponents:[\"this\"]})\n@$ReportComponent({ fullPath: \"report/Columns\", icon: \"mdi mdi-view-parallel-outline\", editableChildComponents: [\"this\"] })\n@$Class(\"jassi_report.RColumns\")\n\n@$Property({ hideBaseClassProperties: true })\nexport class RColumns extends ReportComponent {\n    reporttype: string = \"columns\";\n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties = undefined) {//id connect to existing(not reqired)\n        super(properties);\n        $(this.domWrapper).addClass('BoxPanel').removeClass('Panel');\n        $(this.dom).css(\"display\", \"table\");\n        $(this.dom).css(\"min-width\", \"50px\");\n        // this.width=\"300px\"\n    }\n   \n    /**\n   * adds a component to the container before an other component\n   * @param {jassi.ui.Component} component - the component to add\n   * @param {jassi.ui.Component} before - the component before then component to add\n   */\n    addBefore(component, before) {\n        if (component[\"reporttype\"] === \"text\") {\n            //(<RText>component).newlineafter=true;\n        }\n        super.addBefore(component, before);\n        $(component.domWrapper).css(\"display\", \"table-cell\");\n\n    }\n    /**\n  * adds a component to the container\n  * @param {jassi.ui.Component} component - the component to add\n  */\n    add(component) {\n\n        super.add(component);\n        $(component.domWrapper).css(\"display\", \"table-cell\");\n\n    }\n    toJSON() {\n        var ret = super.toJSON();\n        ret.columns = [];\n        for (let x = 0;x < this._components.length;x++) {\n            if (this._components[x][\"designDummyFor\"])\n                continue;\n            //@ts-ignore\n            ret.columns.push(this._components[x].toJSON());\n        }\n        return ret;\n    }\n\n    fromJSON(ob: any): any {\n        var ret = this;\n        for (let x = 0;x < ob.columns.length;x++) {\n            ret.add(ReportDesign.fromJSON(ob.columns[x]));\n        }\n        delete ob.columns;\n        super.fromJSON(ob);\n        return ret;\n    }\n}\n\n\n\n//    jassi.register(\"reportcomponent\",\"jassi_report.Stack\",\"report/Stack\",\"res/boxpanel.ico\");\n\n\n","","import { BoxPanel } from \"jassi/ui/BoxPanel\";\nimport jassi, { $Class } from \"jassi/remote/Jassi\";\nimport { RStack } from \"jassi_report/RStack\";\nimport { RText } from \"jassi_report/RText\";\n\nimport registry from \"jassi/remote/Registry\";\nimport { ReportDesigner } from \"jassi_report/designer/ReportDesigner\";\nimport { RColumns } from \"jassi_report/RColumns\";\nimport { RUnknown } from \"jassi_report/RUnknown\";\nimport { Panel } from \"jassi/ui/Panel\";\nimport { Tools } from \"jassi/util/Tools\";\nimport { $ReportComponent, ReportComponent } from \"jassi_report/ReportComponent\";\nimport { ReportDesign } from \"jassi_report/ReportDesign\";\nimport { RTablerow } from \"jassi_report/RTablerow\";\nimport { Component } from \"jassi/ui/Component\";\nimport { Container } from \"jassi/ui/Container\";\nimport { $Property } from \"jassi/ui/Property\";\n\n\n\n\n\n\n//@$UIComponent({editableChildComponents:[\"this\"]})\n//@$Property({name:\"horizontal\",hide:true})\n@$ReportComponent({ fullPath: \"report/Datatable\", icon: \"mdi mdi-file-table-box-multiple-outline\", editableChildComponents: [\"this\", \"this.headerPanel\", \"this.bodyPanel\", \"this.footerPanel\"] })\n@$Class(\"jassi_report.RDatatable\")\n\nexport class RDatatable extends ReportComponent {\n    reporttype: string = \"datatable\";\n    design: any;\n    headerPanel: RTablerow = new RTablerow();\n    bodyPanel: RTablerow = new RTablerow();\n    footerPanel: RTablerow = new RTablerow();\n    @$Property()\n    dataforeach: string;\n    widths: any[] = [];\n  \t/**\n\t* \n\t* @param {object} properties - properties to init\n\t* @param {string} [properties.id] -  connect to existing id (not reqired)\n\t* @param {boolean} [properties.useSpan] -  use span not div\n\t* \n\t*/\n    constructor(properties = undefined) {//id connect to existing(not reqired)\n        super(properties);\n        super.init($(\"<table style='nin-width:50px;table-layout: fixed'></table>\")[0]);\n        //\tthis.backgroundPanel.width=\"500px\";\n        //$(this.backgroundPanel.dom).css(\"min-width\",\"200px\");\n        //$(this.dom).css(\"display\", \"table\");\n       // $(this.dom).css(\"min-width\", \"50px\");\n        $(this.footerPanel.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Tablefooter</text></svg>\" + '\")');\n        $(this.headerPanel.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Tableheader</text></svg>\" + '\")');\n        this.add(this.headerPanel);\n        this.add(this.bodyPanel);\n        this.add(this.footerPanel);\n    }\n    protected _setDesignMode(enable) {\n        //do nothing - no add button\n    }\n   \n   \n    /*\tget design():any{\n            return this.toJSON();\n        };\n        set design(value:any){\n            ReportDesign.fromJSON(value,this);\n        }*/\n  \n    private fillTableRow(row: RTablerow, count: number) {\n        if (!row._designMode || count - row._components.length !== 1)\n            return;\n        for (var x = row._components.length;x < count;x++) {\n            var rr = new RText();\n            row.addBefore(rr, row._components[row._components.length - 1]);//after addbutton\n        }\n    }\n    addEmptyCellsIfNeeded(row: RTablerow) {\n        var count = row._components.length;\n        this.fillTableRow(this.headerPanel, count);\n        this.fillTableRow(this.bodyPanel, count);\n        this.fillTableRow(this.footerPanel, count);\n\n    }\n    /**\n    * sets the width of a table cell\n    * @param component - the table cell\n    * @param width - the new width\n    **/\n    setChildWidth(component: Component, width: any) {\n        var max = 0;\n        var found = -1;\n        for (var x = 0;x < this._components.length;x++) {\n            for (var i = 0;i < (<Container>this._components[x])._components.length;i++) {\n                if (i > max)\n                    max = i;\n                var row = (<Container>this._components[x])._components[i];\n                if (row === component)\n                    found = i;\n            }\n        }\n        for (var t = this.widths.length;t < max;t++) {\n            this.widths.push(\"auto\");\n        }\n        if (found !== -1) {\n            this.widths[found] = width;\n            var test=this.headerPanel._components[found].domWrapper;\n            $((<Container>this._components[0])._components[found].domWrapper).attr(\"width\", width);\n        }\n        //this._parent.setChildWidth(component,value);\n    }\n    /**\n     * gets the width of a table cell\n     * @param component - the table cell\n     **/\n    getChildWidth(component: Component): any {\n        var found = -1;\n        for (var x = 0;x < this._components.length;x++) {\n            if ((<Container>this._components[x])._components) {\n                for (var i = 0;i < (<Container>this._components[x])._components.length;i++) {\n                    var row = (<Container>this._components[x])._components[i];\n                    if (row === component)\n                        found = i;\n                }\n            }\n        }\n\n        if (found !== -1)\n            return this.widths[found];\n        //this._parent.setChildWidth(component,value);\n    }\n    private create(ob: any) {\n\n    }\n    fromJSON(obj: any, target: ReportDesign = undefined): any {\n        var ob = obj.datatable;\n        var ret = this;\n        // this.removeAll();\n        //ret.headerPanel.removeAll();\n        //ret.bodyPanel.removeAll();\n        //ret.footerPanel.removeAll();\n        /* this.add(this.backgroundPanel);\n         this.add(this.headerPanel);\n         this.add(this.content);\n         this.add(this.footerPanel);*/\n        if (ob.header) {\n            let obb = new RTablerow().fromJSON(ob.header);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n\n            all.forEach((obp) => { ret.headerPanel.add(obp) });\n            delete ob.header;\n            obb.destroy();\n        }\n\n        if (ob.body) {\n            let obb = new RTablerow().fromJSON(ob.body);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n            all.forEach((obp) => { ret.bodyPanel.add(obp) });\n            delete ob.body;\n            obb.destroy();\n        }\n        if (ob.footer) {\n            let obb = new RTablerow().fromJSON(ob.footer);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n            all.forEach((obp) => { ret.footerPanel.add(obp) });\n            delete ob.footer;\n            obb.destroy();\n        }\n        if (ob.widths) {\n            ret.widths = ob.widths;\n            delete ob.widths;\n\n        }\n        var tr=(<RTablerow> this._components[0]);\n        for (var x = 0;x < tr._components.length;x++) {\n            \n            $(tr._components[x].domWrapper).attr(\"width\", this.widths[x]);\n        }\n    \n        ret.dataforeach = ob.dataforeach;\n        delete ob.dataforeach;\n        delete ob.datatable;\n        super.fromJSON(ob);\n        for(var x=0;x<ret._components.length;x++){\n        \t(<RTablerow>ret._components[x]).correctHideAfterSpan();\n        \n        }\n        return ret;\n    }\n    \n      toJSON(): any {\n        var r: any = {\n\n        };\n         var ret:any = super.toJSON();\n        ret.datatable= r;\n        \n        //var _this = this;\n        if (this.widths && this.widths.length > 0) {\n            r.widths = this.widths;\n            var len = this.headerPanel._components.length;\n            if (this.headerPanel._designMode)\n                len--;\n            for (var t = r.widths.length;t < len;t++) {\n                r.widths.push(\"auto\");\n            }\n            //remove width\n            while (r.widths.length > len) {\n                r.widths.pop();\n            }\n        }\n\n        if (!(this.headerPanel._components.length === 0 || (this.headerPanel._designMode && this.headerPanel._components.length === 1))) {\n            r.header = this.headerPanel.toJSON();\n        }\n        if (!(this.footerPanel._components.length === 0 || (this.footerPanel._designMode && this.footerPanel._components.length === 1))) {\n            r.footer = this.footerPanel.toJSON();\n        }\n        r.dataforeach = this.dataforeach;\n        r.body = this.bodyPanel.toJSON();\n\t\n        return ret;\n    }\n   \n}\n\n\n\nexport async function test() {\n\n\n\n\n}\n\n\n\n","import { BoxPanel } from \"jassi/ui/BoxPanel\";\nimport jassi, { $Class } from \"jassi/remote/Jassi\";\nimport { $UIComponent } from \"jassi/ui/Component\";\nimport { $Property } from \"jassi/ui/Property\";\nimport { ReportDesign } from \"jassi_report/ReportDesign\";\nimport { $ReportComponent, ReportComponent } from \"jassi_report/ReportComponent\";\nimport { Panel } from \"jassi/ui/Panel\";\n\n\n//@$UIComponent({editableChildComponents:[\"this\"]})\n@$ReportComponent({ fullPath: \"report/Stack\", icon: \"mdi mdi-view-sequential-outline\", editableChildComponents: [\"this\"] })\n@$Class(\"jassi_report.RStack\")\n//@$Property({name:\"horizontal\",hide:true})\n\nexport class RStack extends ReportComponent {\n    reporttype: string = \"stack\";\n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties = undefined) {//id connect to existing(not reqired)\n        super(properties);\n        $(this.dom).css(\"flex-direction\", \"column\");\n    }\n   \n    toJSON() {\n    \t var ret = super.toJSON();\n        ret.stack= [];\n        for (let x = 0;x < this._components.length;x++) {\n            if (this._components[x][\"designDummyFor\"])\n                continue;\n            //@ts-ignore\n            ret.stack.push(this._components[x].toJSON());\n        }\n        \n\n        return ret;\n    }\n    fromJSON(ob: any):RStack{\n        var ret= this;\n        for (let x = 0;x < ob.stack.length;x++) {\n            ret.add(ReportDesign.fromJSON(ob.stack[x]));\n        }\n        delete ob.stack;\n        super.fromJSON(ob);\n        return ret;\n    }\n}\n\n\n\n//    jassi.register(\"reportcomponent\",\"jassi_report.Stack\",\"report/Stack\",\"res/boxpanel.ico\");\n\n\n","import { BoxPanel } from \"jassi/ui/BoxPanel\";\nimport jassi, { $Class } from \"jassi/remote/Jassi\";\nimport { $UIComponent, Component } from \"jassi/ui/Component\";\nimport { $Property } from \"jassi/ui/Property\";\nimport { ReportDesign } from \"jassi_report/ReportDesign\";\nimport { $ReportComponent, ReportComponent } from \"jassi_report/ReportComponent\";\nimport { Panel } from \"jassi/ui/Panel\";\nimport { RText } from \"jassi_report/RText\";\n\n\n//@$UIComponent({editableChildComponents:[\"this\"]})\n@$ReportComponent({ editableChildComponents: [\"this\"] })\n@$Class(\"jassi_report.RTablerow\")\n//@$Property({name:\"horizontal\",hide:true})\nexport class RTablerow extends ReportComponent {\n    otherProperties: any;\n    reporttype: string = \"tablerow\";\n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties = undefined) {//id connect to existing(not reqired)\n        super(properties);\n        properties = undefined === properties ? {} : properties;\n        properties.noWrapper = true;\n        super.init($(\"<tr></tr>\")[0], properties);\n    }\n\n    toJSON() {\n        var columns = [];\n\n        for (let x = 0;x < this._components.length;x++) {\n            if (this._components[x][\"designDummyFor\"])\n                continue;\n            //@ts-ignore\n            columns.push(this._components[x].toJSON());\n        }\n        //Object.assign(ret, this[\"otherProperties\"]);\n\n        return columns;\n    }\n    oncomponentAdded(callback) {\n        this.addEvent(\"componentAdded\", callback);\n    }\n\tget _editorselectthis(){\n\t\treturn this._parent;\n\t}\n    setChildWidth(component: Component, value: any) {\n        this._parent?.setChildWidth(component, value);\n    }\n    getChildWidth(component: Component): any {\n        return this._parent?.getChildWidth(component);\n    }\n    private wrapComponent(component:Component){\n    \tvar colspan=\t$(component.domWrapper).attr(\"colspan\");//save colspan\n    \tComponent.replaceWrapper(component,document.createElement(\"td\"));\n    \t$(component.domWrapper).attr(\"colspan\",colspan);\n    \t$(component.domWrapper).css(\"word-break\",\"break-all\");\n    \t$(component.domWrapper).css(\"display\",\"\");\n    }\n     correctHideAfterSpan(){\n        //rowspan\n    \tvar span:number;\n    \tfor(var x=0;x<this._components.length;x++){\n    \t\tif(this._components[x][\"colSpan\"]){\n    \t\t\tspan=this._components[x][\"colSpan\"];\n    \t\t}else{\n    \t\t\tspan--;\n    \t\t\tif(span>0){\n    \t\t\t\t$(this._components[x].domWrapper).addClass(\"invisibleAfterColspan\");\n    \t\t\t}else{\n    \t\t\t\t$(this._components[x].domWrapper).removeClass(\"invisibleAfterColspan\");\n    \t\t\t}\n    \t\t}\n    \t}\n    }\n    /**\n    * adds a component to the container\n    * @param {jassi.ui.Component} component - the component to add\n    */\n    add(component) {\n\n\t\tthis.wrapComponent(component);\n\t\t\n        super.add(component);\n       // $(component.domWrapper).css(\"display\", \"table-cell\");\n        this.callEvent(\"componentAdded\", component, this);\n        if (this._parent)\n            this._parent.addEmptyCellsIfNeeded(this);\n    }\n    /**\n  * adds a component to the container before an other component\n  * @param {jassi.ui.Component} component - the component to add\n  * @param {jassi.ui.Component} before - the component before then component to add\n  */\n    addBefore(component, before) {\n    \tthis.wrapComponent(component)\n        \n        if (component[\"reporttype\"] === \"text\") {\n            //(<RText>component).newlineafter = true;\n        }\n        super.addBefore(component, before);\n       // $(component.domWrapper).css(\"display\", \"table-cell\");\n        this.callEvent(\"componentAdded\", component, this);\n        if (this._parent)\n            this._parent.addEmptyCellsIfNeeded(this);\n    }\n    fromJSON(columns: any[]): RTablerow {\n        var ret = this;\n        for (let x = 0;x < columns.length;x++) {\n            ret.add(ReportDesign.fromJSON(columns[x]));\n        }\n        return ret;\n    }\n}\n\n\n\n//    jassi.register(\"reportcomponent\",\"jassi_report.Stack\",\"report/Stack\",\"res/boxpanel.ico\");\n\n\n","import jassi, { $Class } from \"jassi/remote/Jassi\";\r\nimport { $ReportComponent, ReportComponent } from \"jassi_report/ReportComponent\";\r\nimport { HTMLPanel } from \"jassi/ui/HTMLPanel\";\r\nimport { $Property } from \"jassi/ui/Property\";\r\nimport { ReportDesign } from \"jassi_report/ReportDesign\";\r\n\r\n\r\nclass InlineStyling {\r\n    bold: boolean;\r\n    italics: boolean;\r\n    color: string;\r\n    background: string; \r\n    underline: boolean;\r\n    fontsize: number;\r\n}\r\n\r\n@$ReportComponent({ fullPath: \"report/Text\", icon: \"mdi mdi-format-color-text\"})\r\n@$Class(\"jassi_report.RText\")\r\n//@$Property({hideBaseClassProperties:true})\r\n@$Property({name:\"value\", type:\"string\",description: \"text\"})\r\n\r\nexport class RText extends ReportComponent {\r\n\tprivate _tcm;\r\n    private toolbar=  ['undo redo | bold italic underline', 'forecolor backcolor | fontsizeselect  '];\r\n\r\n    reporttype: string = \"text\";\r\n    private _bold: boolean;\r\n    private _decoration: string;\r\n    private _decorationStyle: string;\r\n    private _decorationColor: string;\r\n    private _color: string;\r\n    private _fontSize: number;\r\n    private _lineHeight: number;\r\n    private _italics: boolean;\r\n    private _alignment: string;\r\n    private _background: string;\r\n\r\n\t\r\n    /**\r\n    * \r\n    * @param {object} properties - properties to init\r\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\r\n    * @param {boolean} [properties.useSpan] -  use span not div\r\n    * \r\n    */\r\n    constructor(properties = undefined) {//id connect to existing(not reqired)\r\n        super(properties);\r\n        super.init($('<div class=\"RText jdisableaddcomponents\" ><div  class=\"HTMLPanelContent\"></div></div>')[0]);\r\n        $(this.__dom).css(\"text-overflow\", \"ellipsis\");\r\n        $(this.__dom).css(\"overflow\", \"hidden\");\r\n    \t//  super.init($('<div class=\"RText\"></div>')[0]);\r\n        var el = this.dom.children[0];\r\n        this._designMode = false;\r\n       \t$(this.dom).css(\"display\", \"block\");\r\n       \tthis.css({font_family:\"Roboto\",font_size:\"12px\"})\r\n     //   $(this.dom.children[0]).css(\"display\",\"inline-block\");\r\n\t\tthis.extensionCalled=HTMLPanel.prototype.extensionCalled.bind(this);\r\n\t\tthis._setDesignMode=HTMLPanel.prototype._setDesignMode.bind(this);\r\n    }\r\n   \r\n    @$Property({chooseFrom:function(component){\r\n    \treturn ReportDesign.getVariables(component);}})\r\n    get value():string {\r\n         var el = this.dom.children[0];\r\n        if (el === undefined)\r\n            return \"\";\r\n    \tvar ret=$(el).html();\r\n    \treturn ret;\r\n    }\r\n    set value(code:string) {\r\n        var el: any = this.dom.children[0];\r\n        if (el === undefined) {\r\n            el = document.createTextNode(code);\r\n            this.dom.appendChild(el);\r\n        } else\r\n            $(el).html(code);\r\n    }\r\n \r\n    @$Property()\r\n    get bold(): boolean {\r\n        return this._bold;\r\n    }\r\n    set bold(value: boolean) {\r\n        this._bold = value;\r\n        $(this.dom).css(\"font-weight\", value ? \"bold\" : \"normal\");\r\n    }\r\n    @$Property()\r\n    get italics(): boolean {\r\n        return this._italics;\r\n    }\r\n    set italics(value: boolean) {\r\n        this._italics = value;\r\n        $(this.dom).css(\"font-style\", value ? \"italic\" : \"normal\");\r\n    }\r\n    @$Property()\r\n    get fontSize(): number {\r\n        return this._fontSize;\r\n    }\r\n    set fontSize(value: number){\r\n        if(value===undefined)\r\n        \t$(this.dom).css(\"font-size\", \"\");\r\n       else\r\n\t        $(this.dom).css(\"font-size\", value + \"px\");\r\n    }\r\n    @$Property({ type: \"color\" })\r\n    get background(): string {\r\n        return this._background;\r\n    }\r\n    set background(value: string) {\r\n        this._background = value;\r\n        $(this.dom).css(\"background-color\", value);\r\n    }\r\n    @$Property({ type: \"color\" })\r\n    get color(): string {\r\n        return this._color;\r\n    }\r\n    set color(value: string) {\r\n        this._color = value;\r\n        $(this.dom).css(\"color\", value);\r\n    }\r\n    @$Property({ chooseFrom: [\"left\", \"center\", \"right\"] })\r\n    get alignment(): string {\r\n        return this._alignment;\r\n    }\r\n    set alignment(value: string) {\r\n        this._alignment = value;\r\n        $(this.dom).css(\"text-align\", value);\r\n    }\r\n    @$Property({ chooseFrom: [\"underline\", \"lineThrough\", \"overline\"] })\r\n    get decoration(): string {\r\n        return this._decoration;\r\n    }\r\n    set decoration(value: string) {\r\n        this._decoration = value;\r\n        var val = \"none\";\r\n        if (value === \"underline\")\r\n            val = \"underline\";\r\n        if (value === \"lineThrough\")\r\n            val = \"line-through\";\r\n        if (value === \"overline\")\r\n            val = \"overline\";\r\n        $(this.dom).css(\"text-decoration\", val);\r\n    }\r\n\r\n\r\n    @$Property({ type: \"color\" })\r\n    get decorationColor(): string {\r\n        return this._decorationColor;\r\n    }\r\n    set decorationColor(value: string) {\r\n        this._decorationColor = value;\r\n        $(this.dom).css(\"textDecorationColor\", value);\r\n    }\r\n    @$Property({ chooseFrom: [\"dashed\", \"dotted\", \"double\", \"wavy\"] })\r\n    get decorationStyle(): string {\r\n        return this._decorationStyle;\r\n    }\r\n    set decorationStyle(value: string) {\r\n        this._decorationStyle = value;\r\n        var val = \"solid\";\r\n        if (value === \"dashed\")\r\n            val = \"dashed\";\r\n        if (value === \"dotted\")\r\n            val = \"dotted\";\r\n        if (value === \"double\")\r\n            val = \"double\";\r\n        if (value === \"wavy\")\r\n            val = \"wavy\";\r\n        $(this.dom).css(\"textDecorationStyle\", val);\r\n    }\r\n    @$Property({ default: 1 })\r\n    get lineHeight(): number {\r\n        return this._lineHeight;\r\n    }\r\n    set lineHeight(value: number) {\r\n        this._lineHeight = value;\r\n        $(this.dom).css(\"line-height\", value);\r\n        //  super.width = value;\r\n    }\r\n   \r\n    /*@$Property()\r\n    get text():string{\r\n    \t//check for htmlcode\r\n    \t\r\n    \treturn super.value;\r\n    }\r\n    set text(val:string){\r\n    \tif(val!==undefined&&val!==\"\"){\r\n\t    \tvar h=\"<span>hallo<b>du</b></span>\";\r\n\t\t\tvar node=$(\"<span>\"+val+\"</span>\");\r\n\t\t\tif(node[0].innerText!==node[0].innerHTML){\r\n\t\t\t\t\r\n\t\t\t}\r\n    \t}\r\n    \tsuper.value=val;\r\n    }*/\r\n    fromJSON(ob: any):RText {\r\n        var ret = this;\r\n        if (ob.editTogether) {\r\n            delete ob.editTogether;\r\n            ret.convertToHTML(ob.text);\r\n        } else\r\n            ret.value = <string>ob.text;\r\n        delete ob.text;\r\n        if (ob.width) {\r\n            ret.width = ob.width;\r\n            delete ob.width;\r\n        }\r\n        if (ob.bold) {\r\n            ret.bold = ob.bold;\r\n            delete ob.bold;\r\n        }\r\n        if (ob.italics) {\r\n            ret.italics = ob.italics;\r\n            delete ob.italics;\r\n        }\r\n        if (ob.color) {\r\n            ret.color = ob.color;\r\n            delete ob.color;\r\n        }\r\n        if (ob.decoration) {\r\n            ret.decoration = ob.decoration;\r\n            delete ob.decoration;\r\n        }\r\n        if (ob.decorationStyle) {\r\n            ret.decorationStyle = ob.decorationStyle;\r\n            delete ob.decorationStyle;\r\n        }\r\n        if (ob.decorationColor) {\r\n            ret.decorationColor = ob.decorationColor;\r\n            delete ob.decorationColor;\r\n        }\r\n        if (ob.fontSize) {\r\n            ret.fontSize = ob.fontSize;\r\n            delete ob.fontSize;\r\n        }\r\n        if (ob.lineHeight) {\r\n            ret.lineHeight = ob.lineHeight;\r\n            delete ob.lineHeight;\r\n        }\r\n        if (ob.alignment) {\r\n            ret.alignment = ob.alignment;\r\n            delete ob.alignment;\r\n        }\r\n        if (ob.background) {\r\n            ret.background = ob.background;\r\n            delete ob.background;\r\n        }\r\n        super.fromJSON(ob);\r\n       // ret.otherProperties = ob;\r\n        return this;\r\n    }\r\n    private convertFromHTMLNode(node: ChildNode, list: any[], style: InlineStyling): any {\r\n        for (var x = 0;x < node.childNodes.length;x++) {\r\n            var child = node.childNodes[x];\r\n            if (child.nodeName === \"#text\") {\r\n                var rt: any = {};\r\n                if (style.bold)\r\n                    rt.bold = true;\r\n                if (style.background)\r\n                    rt.background = style.background;\r\n                if (style.color)\r\n                    rt.color = style.color;\r\n                if (style.fontsize)\r\n                    rt.fontSize = style.fontsize;\r\n                if (style.underline)\r\n                    rt.decoration = \"underline\";\r\n                if (style.italics)\r\n                    rt.italics = style.italics;\r\n                rt.text = child[\"data\"];\r\n                list.push(rt);\r\n            } else if (child.nodeName === \"STRONG\") {\r\n                style.bold = true;\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.bold;\r\n            } else if (child.nodeName === \"EM\") {\r\n                style.italics = true;\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.italics;\r\n            }\r\n            if (child.nodeName === \"SPAN\" && child[\"style\"].color !== \"\") {\r\n                style.color = this.fullColorHex(child[\"style\"].color);\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.color;\r\n            } else if (child.nodeName === \"SPAN\" && child[\"style\"][\"background-color\"] !== \"\") {\r\n                style.background = this.fullColorHex(child[\"style\"][\"background-color\"]);\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.background;\r\n            } else if (child.nodeName === \"SPAN\" && child[\"style\"][\"font-size\"] !== \"\") {\r\n                style.fontsize = Number(child[\"style\"][\"font-size\"].replace(\"pt\", \"\"));\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.fontsize;\r\n            } else if (child.nodeName === \"SPAN\" && child[\"style\"][\"text-decoration\"] !== \"\") {\r\n                style.underline = (child[\"style\"][\"text-decoration\"] === \"underline\");\r\n                this.convertFromHTMLNode(child, list, style);\r\n                delete style.underline;\r\n            }\r\n\r\n        }\r\n    }\r\n    private rgbToHex(rgb) {\r\n        var hex = Number(rgb).toString(16);\r\n        if (hex.length < 2) {\r\n            hex = \"0\" + hex;\r\n        }\r\n        return hex;\r\n    };\r\n    //rgb(1,2,3)\r\n    private fullColorHex(text: string) {\r\n        var c = text.split(\"(\")[1].split(\")\")[0].split(\",\");\r\n        var red = this.rgbToHex(c[0]);\r\n        var green = this.rgbToHex(c[1]);\r\n        var blue = this.rgbToHex(c[2]);\r\n        return \"#\" + red + green + blue;\r\n    };\r\n    private convertToHTML(obs: any[]) {\r\n        var html = \"\";\r\n       for (var x = 0;x < obs.length;x++) {\r\n            var ob = obs[x];\r\n            var anz=0;\r\n            var tagcount =0 ;\r\n            if(ob.bold){\r\n            \thtml += \"<strong>\";\r\n            }\r\n            if(ob.italics){\r\n            \thtml += \"<em>\";\r\n            }\r\n            if (ob.background || ob.color || ob.decoration === \"underline\" || ob.fontSize) {\r\n               \r\n                if (ob.color) {\r\n                    html += \"<span style='color:\" + ob.color + \"'>\";tagcount++\r\n                }\r\n                if (ob.background) {\r\n                    html += \"<span style='background-color:\" + ob.background + \"'>\";tagcount++\r\n                }\r\n                if (ob.decoration) {\r\n                    html += \"<span style='text-decoration:\" + ob.decoration + \"'>\";tagcount++\r\n                }\r\n                if (ob.fontSize) {\r\n                    html += \"<span style='font-size:\" + ob.fontSize + \"pt'>\";tagcount++\r\n                }\r\n                \r\n\t\t\t\r\n            }\r\n            html += ob.text.replaceAll(\"\\n\",\"<br/>\");\r\n            for(var t=0;t<tagcount;t++) {\r\n            \thtml+=\"</span>\";\r\n            }\r\n            if(ob.italics){\r\n            \thtml += \"</em>\";\r\n            }\r\n            if(ob.bold){\r\n            \thtml += \"</strong>\";\r\n            }\r\n   \r\n        }\r\n        this.value = html;\r\n    }\r\n    private convertFromHTML(ret:any): any {\r\n        var sval = decodeURI(this.value);\r\n        sval = sval.replaceAll(\"<br>\", \"\\n\")\r\n        ret.text= sval//.replaceAll(\"<br>\",\"\\\\n\");\r\n        var node = $(\"<span>\" + ret.text + \"</span>\");\r\n        if (node[0].innerText !== node[0].innerHTML) {//htmltext\r\n            var style = new InlineStyling();\r\n            var list: any[] = [];\r\n            this.convertFromHTMLNode(node[0], list, style);\r\n            ret.editTogether = true;\r\n            ret.text = list;\r\n        }\r\n        return ret;\r\n    }\r\n    toJSON() {\r\n\r\n        var ret = super.toJSON();\r\n        this.convertFromHTML(ret);\r\n        if (this.width !== undefined&&!this._parent?.setChildWidth)\r\n            ret.width = this.width;\r\n        if (this.bold !== undefined)\r\n            ret.bold = this.bold;\r\n        if (this.italics !== undefined)\r\n            ret.italics = this.italics;\r\n        if (this.color !== undefined)\r\n            ret.color = this.color;\r\n        if (this.decoration !== undefined)\r\n            ret.decoration = this.decoration;\r\n        if (this.decorationStyle !== undefined)\r\n            ret.decorationStyle = this.decorationStyle;\r\n        if (this.decorationColor !== undefined)\r\n            ret.decorationColor = this.decorationColor;\r\n        if (this.fontSize !== undefined)\r\n            ret.fontSize = this.fontSize;\r\n        if (this.lineHeight !== undefined)\r\n            ret.lineHeight = this.lineHeight;\r\n        if (this.alignment !== undefined)\r\n            ret.alignment = this.alignment;\r\n        if (this.background !== undefined)\r\n            ret.background = this.background;\r\n        \r\n        \r\n        return ret;\r\n    }\r\n}\r\nexport function test() {\r\n    var t = new RText();\r\n    t.value = \"a<em>b<strong>cd</strong>e</em><span style='color: rgb(241, 196, 15);' data-mce-style='color: #f1c40f;'>fg<span style='background-color: rgb(186, 55, 42);' data-mce-style='background-color: #ba372a;'>h</span></span><span style='background-color: rgb(186, 55, 42);' data-mce-style='background-color: #ba372a;'>ij<span style='font-size: 14pt;' data-mce-style='font-size: 14pt;'>k</span></span><span style='font-size: 14pt;' data-mce-style='font-size: 14pt;'>l<span style='text-decoration: underline;' data-mce-style='text-decoration: underline;'>m</span></span><span style='text-decoration: underline;' data-mce-style='text-decoration: underline;'>no</span>\";\r\n\r\n    var obb: RText = t.toJSON();\r\n    //var test = RText.fromJSON(obb);\r\n\r\n\r\n}\r\n","import jassi, { $Class } from \"jassi/remote/Jassi\";\nimport { $ReportComponent, ReportComponent } from \"jassi_report/ReportComponent\";\nimport { HTMLPanel } from \"jassi/ui/HTMLPanel\";\nimport { InvisibleComponent } from \"jassi/ui/InvisibleComponent\";\nimport { Panel } from \"jassi/ui/Panel\";\n\n//@$ReportComponent({fullPath:\"report/Text\",icon:\"res/textbox.ico\",initialize:{value:\"text\"}})\n@$Class(\"jassi_report.RUnknown\")\nexport class RUnknown extends ReportComponent{\n    horizonzal: boolean;\n    reporttype:string=\"unkown\";\n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties=undefined) {//id connect to existing(not reqired)\n        super(properties);\n        super.init($('<span class=\"InvisibleComponent\"></span>')[0]);\n        this.horizonzal = false;\n    }\n   fromJSON(ob:any){\n        var ret=this;\n        super.fromJSON(ob);\n       // Object.assign(ret,this.otherProperties);\n        return ret;\n    }\n    toJSON(){\n    \tvar ret= super.toJSON();\n    \tObject.assign(ret,this.otherProperties);\n\t\treturn ret;\n    }\n}\n","import { UIComponentProperties } from \"jassi/ui/Component\";\nimport registry from \"jassi/remote/Registry\";\nimport { $Class } from \"jassi/remote/Jassi\";\nimport { Panel } from \"jassi/ui/Panel\";\nimport { $Property } from \"jassi/ui/Property\";\n\nexport class ReportComponentProperties extends UIComponentProperties {\n\n}\nexport function $ReportComponent(properties: ReportComponentProperties): Function {\n    return function (pclass) {\n        registry.register(\"$ReportComponent\", pclass, properties);\n    }\n}\n\n\n\n@$Class(\"jassi_report.ReportComponent\")\n@$Property({ hideBaseClassProperties: true })\nexport class ReportComponent extends Panel {\n    private _colSpan: number;\n\t@$Property()\n\tforeach:string;\n\tprivate _width: any;\n    reporttype: string = \"nothing\";\n\totherProperties:any;\n    @$Property({\n        type: \"string\", isVisible: (component) => {\n            //only in table and column width is posible\n            return component._parent?.reporttype === \"tablerow\";\n        }\n    })\n    get colSpan(): number {\n        /*if(this._parent?.setChildWidth!==undefined)\n            return this._parent.getChildWidth(this);\n        else \n            return this._width;*/\n\n        return this._colSpan;\n    }\n\n    set colSpan(value: number) {\n        $(this.domWrapper).attr(\"colspan\", value === undefined ? \"\" : value);\n\n        /*\tif(this._parent?.setChildWidth!==undefined)\n                this._parent.setChildWidth(this,value);\n            else{\n                this._width = value;\n                console.log(value);\n                super.width = value;\n            }*/\n        this._colSpan = value;\n        if (this._parent)\n            this._parent.correctHideAfterSpan();\n    }\n     @$Property({type:\"string\",isVisible:(component)=>{\n    \t//only in table and column width is posible\n    \treturn component._parent?.setChildWidth||component._parent?.reporttype===\"columns\";\n    }})\n    get width(): any {\n    \tif(this._parent?.setChildWidth!==undefined)\n    \t\treturn this._parent.getChildWidth(this);\n    \telse \n\t        return this._width;\n    }\n    set width(value: any) {\n    \tif(this._parent?.setChildWidth!==undefined)\n    \t\tthis._parent.setChildWidth(this,value);\n    \telse{\n        \tthis._width = value;\n\t        console.log(value);\n\t        super.width = value;\n    \t}\n    }\n     fromJSON(ob: any):ReportComponent {\n        var ret = this;\n     \n        if (ob.foreach) {\n            ret.foreach = ob.foreach;\n            delete ob.foreach;\n        }\n        if (ob.colSpan) {\n            ret.colSpan = ob.colSpan;\n            delete ob.colSpan;\n        }\n        ret.otherProperties = ob;\n        return ret;\n    }\n    toJSON() {\n    \tvar ret:any={}\n    \t if (this.colSpan !== undefined)\n            ret.colSpan = this.colSpan;\n\t\tif (this.foreach !== undefined)\n            ret.foreach = this.foreach;\n        Object.assign(ret, this[\"otherProperties\"]);\n\t\treturn ret;\n\t}\n\n}","","import { BoxPanel } from \"jassi/ui/BoxPanel\";\nimport jassi, { $Class } from \"jassi/remote/Jassi\";\nimport { RStack } from \"jassi_report/RStack\";\nimport { RText } from \"jassi_report/RText\";\n\nimport registry from \"jassi/remote/Registry\";\nimport { ReportDesigner } from \"jassi_report/designer/ReportDesigner\";\nimport { RColumns } from \"jassi_report/RColumns\";\nimport { RUnknown } from \"jassi_report/RUnknown\";\nimport { Panel } from \"jassi/ui/Panel\";\nimport { Tools } from \"jassi/util/Tools\";\nimport { $ReportComponent, ReportComponent } from \"jassi_report/ReportComponent\";\n\nimport { RDatatable } from \"jassi_report/RDatatable\";\nimport { Component } from \"jassi/ui/Component\";\nimport { $Property } from \"jassi/ui/Property\";\n\n@$Class(\"jassi_report.InfoProperties\")\nclass InfoProperties {\n    @$Property({ description: \"the title of the document\" })\n    title: string;\n    @$Property({ description: \"the name of the author\" })\n    author: string;\n    @$Property({ description: \"the subject of the document\" })\n    subject: string;\n    @$Property({ description: \"keywords associated with the document\" })\n    keywords: string;\n    @$Property({ description: \"the creator of the document (default is ‘pdfmake’)\" })\n    creator: string;\n    @$Property({ description: \"the producer of the document\" })\n    producer: string;\n}\n@$Class(\"jassi_report.PermissionProperties\")\nclass PermissionProperties {\n    @$Property({ chooseFrom: [\"lowResolution\", \"highResolution\"], description: 'whether printing is allowed. Specify \"lowResolution\" to allow degraded printing, or \"highResolution\" to allow printing with high resolution' })\n    printing: string;\n    @$Property({ description: \"whether modifying the file is allowed. Specify true to allow modifying document content\" })\n    modifying: boolean=true;\n    @$Property({ description: \"whether copying text or graphics is allowed. Specify true to allow copying\" })\n    copying: boolean=true;\n    @$Property({ description: \"whether annotating, form filling is allowed. Specify true to allow annotating and form filling\" })\n    annotating: boolean=true;\n    @$Property({ description: \"whether form filling and signing is allowed. Specify true to allow filling in form fields and signing\" })\n    fillingForms: boolean=true;\n    @$Property({ description: \"whether copying text for accessibility is allowed. Specify true to allow copying for accessibility\" })\n    contentAccessibility: boolean=true;\n    @$Property({ description: \"whether assembling document is allowed. Specify true to allow document assembly\" })\n    documentAssembly: boolean=true;\n}\n//@$UIComponent({editableChildComponents:[\"this\"]})\n//@$Property({name:\"horizontal\",hide:true})\n@$ReportComponent({ fullPath: undefined, icon: undefined, editableChildComponents: [\"this\", \"this.backgroundPanel\", \"this.headerPanel\", \"this.contentPanel\", \"this.footerPanel\"] })\n@$Class(\"jassi_report.ReportDesign\")\nexport class ReportDesign extends BoxPanel {\n    reporttype: string = \"report\";\n    design: any;\n    otherProperties: any;\n    backgroundPanel: RStack = new RStack();\n    headerPanel: RStack = new RStack();\n    contentPanel: RStack = new RStack();\n    footerPanel: RStack = new RStack();\n    _pageSize: string = undefined;\n    _pageOrientation: string;\n    _pageMargins: number[];\n    @$Property()\n    compress: boolean;\n    @$Property({ description: \"To enable encryption set user password in userPassword (string value). The PDF file will be encrypted when a user password is provided, and users will be prompted to enter the password to decrypt the file when opening it.\" })\n    userPassword: string;\n    @$Property({ description: \"To set access privileges for the PDF file, you need to provide an owner password in ownerPassword (string value) and object permissions with permissions. By default, all operations are disallowed. You need to explicitly allow certain operations.\" })\n    ownerPassword: string;\n    @$Property({ type: \"json\", componentType: \"jassi_report.InfoProperties\" })\n    info: InfoProperties;\n    @$Property({ type: \"json\", componentType: \"jassi_report.PermissionProperties\" })\n    permissions: PermissionProperties;\n\t/**\n\t* \n\t* @param {object} properties - properties to init\n\t* @param {string} [properties.id] -  connect to existing id (not reqired)\n\t* @param {boolean} [properties.useSpan] -  use span not div\n\t* \n\t*/\n    constructor(properties = undefined) {//id connect to existing(not reqired)\n        super(properties);\n        //\tthis.backgroundPanel.width=\"500px\";\n        //$(this.backgroundPanel.dom).css(\"min-width\",\"200px\");\n        $(this.backgroundPanel.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Background</text></svg>\" + '\")');\n        $(this.footerPanel.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Footer</text></svg>\" + '\")');\n        $(this.headerPanel.dom).css(\"background-image\", 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='20'>Header</text></svg>\" + '\")');\n        //select the Report if the user click the Panel\n        this.backgroundPanel[\"_editorselectthis\"] = this;\n        this.headerPanel[\"_editorselectthis\"] = this;\n        //this.contentPanel[\"_editorselectthis\"]=this;     \n        this.footerPanel[\"_editorselectthis\"] = this;\n        this.add(this.backgroundPanel);\n        this.add(this.headerPanel);\n        this.add(this.contentPanel);\n        this.add(this.footerPanel);\n        //this.pageSize = \"A4\";\n        //this.pageMargins = [40, 40, 40, 40];\n    }\n\n    @$Property({ type: \"number[]\", default: [40, 40, 40, 40], description: \"margin of the page: left, top, right, bottom\" })\n    get pageMargins(): number[] {\n        return this._pageMargins;\n    }\n    set pageMargins(value: number[]) {\n        this._pageMargins = value;\n        if (value === undefined)\n            value = [40, 40, 40, 40];\n        this.updateWidth();\n        $(this.contentPanel.dom).css(\"margin-left\", value[1] + \"px\");\n        $(this.contentPanel.dom).css(\"margin-right\", value[3] + \"px\");\n\n    }\n    @$Property({ description: \"the size of the page\", default: \"A4\", chooseFrom: ['4A0', '2A0', 'A0', 'A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'A7', 'A8', 'A9', 'A10', 'B0', 'B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10', 'C0', 'C1', 'C2', 'C3', 'C4', 'C5', 'C6', 'C7', 'C8', 'C9', 'C10', 'RA0', 'RA1', 'RA2', 'RA3', 'RA4', 'SRA0', 'SRA1', 'SRA2', 'SRA3', 'SRA4', 'EXECUTIVE', 'FOLIO', 'LEGAL', 'LETTER', 'TABLOID'] })\n    get pageSize(): string {\n        return this._pageSize;\n    }\n    set pageSize(value: string) {\n        this._pageSize = value;\n        this.updateWidth();\n    }\n\n    @$Property({ chooseFrom: ['landscape', 'portrait'], default: \"portrait\", description: \"the orientation of the page landscape or portrait\" })\n    get pageOrientation(): string {\n        return this._pageOrientation;\n    }\n    set pageOrientation(value: string) {\n        this._pageOrientation = value;\n        this.updateWidth();\n    }\n    private updateWidth() {\n        var ps = this.pageSize === undefined ? \"A4\" : this.pageSize;\n        var po = this.pageOrientation === 'landscape' ? 1 : 0;\n        var pm = this.pageMargins == undefined ? [40, 40, 40, 40] : this.pageMargins;\n        this.width = this.pageSized[ps][po];//-pm[0]-pm[2];\n    }\n    protected _setDesignMode(enable) {\n        //do nothing - no add button\n    }\n\n\n    private static collectForEach(component: ReportComponent, allforeach: string[]): ReportDesign {\n        if (component.foreach)\n            allforeach.unshift(component.foreach);\n        if (component[\"dataforeach\"])\n            allforeach.unshift(component[\"dataforeach\"]);\n\n        if (component.reporttype === \"report\")\n            return <ReportDesign><any>component;\n        return ReportDesign.collectForEach(component._parent, allforeach);\n\n    }\n    private static getVariable(path: string, data: any) {\n        var mems = path.split(\".\");\n        var curdata = data;\n        for (var x = 0;x < mems.length;x++) {\n            curdata = curdata[mems[x]];\n            if (curdata === undefined)\n                return undefined;\n        }\n        return curdata;\n    }\n    private static addVariablenames(path: string, data: any, names: string[]) {\n        for (var key in data) {\n            var val = data[key];\n            if (Array.isArray(val)) {\n\n            } else if (typeof (val) === \"object\") {\n                ReportDesign.addVariablenames(path + (path === \"\" ? \"\" : \".\") + key, val, names);\n            } else {\n                names.push(\"{{\" + path + (path === \"\" ? \"\" : \".\") + key + \"}}\");\n            }\n        }\n    }\n    //get all possible variabelnames\n    public static getVariables(component: ReportComponent) {\n        var allforeach: string[] = [];\n        var report = ReportDesign.collectForEach(component, allforeach);\n        var data = {};\n        Object.assign(data, report.otherProperties.data);\n        for (var x = 0;x < allforeach.length;x++) {\n            var fe = allforeach[x].split(\" in \");\n            if (fe.length !== 2)\n                continue;\n            var test = ReportDesign.getVariable(fe[1], data);\n            if (test && test.length > 0)\n                data[fe[0]] = test[0];\n        }\n        Object.assign(data, report.otherProperties.data);\n        var ret: string[] = [];\n        ReportDesign.addVariablenames(\"\", data, ret);\n        return ret;\n    } static fromJSON(ob: any, target: ReportDesign = undefined): any {\n        var ret = undefined;\n        if (ob.content !== undefined) {\n            ret = target;\n            if (ret === undefined)\n                ret = new ReportDesign();\n            ret.create(ob);\n        } else if (ob.text !== undefined) {\n            ret = new RText().fromJSON(ob);\n        } else if (ob.stack !== undefined) {\n            ret = new RStack().fromJSON(ob);\n        } else if (ob.columns !== undefined) {\n            ret = new RColumns().fromJSON(ob);\n        } else if (ob.datatable !== undefined) {\n            ret = new RDatatable().fromJSON(ob);\n        } else {\n            ret = new RUnknown().fromJSON(ob);\n        }\n\n        return ret;\n    }\n\n    private create(ob: any) {\n        var _this = this;\n        // this.removeAll();\n        this.backgroundPanel.removeAll();\n        this.headerPanel.removeAll();\n        this.contentPanel.removeAll();\n        this.footerPanel.removeAll();\n        if (ob.background) {\n            let obb: RStack = ReportDesign.fromJSON(ob.background);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n            all.forEach((obp) => { _this.backgroundPanel.add(obp) });\n            delete ob.background;\n            obb.destroy();\n        }\n        if (ob.header) {\n            let obb = ReportDesign.fromJSON(ob.header);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n            all.forEach((obp) => { _this.headerPanel.add(obp) });\n            delete ob.header;\n            obb.destroy();\n        }\n        let obb = ReportDesign.fromJSON(ob.content);\n        let all = [];\n        obb._components.forEach((obp) => all.push(obp));\n        all.forEach((obp) => { _this.contentPanel.add(obp) });\n        delete ob.content;\n        obb.destroy();\n        if (ob.footer) {\n            let obb = ReportDesign.fromJSON(ob.footer);\n            let all = [];\n            obb._components.forEach((obp) => all.push(obp));\n            all.forEach((obp) => { _this.footerPanel.add(obp) });\n            delete ob.footer;\n            obb.destroy();\n        }\n        if (ob.pageOrientation) {\n            this.pageOrientation = ob.pageOrientation;\n            delete ob.pageOrientation;\n        }\n        if (ob.pageMargins) {\n            this.pageMargins = ob.pageMargins;\n            delete ob.pageMargins;\n        }\n        if (ob.pageSize) {\n            this.pageSize = ob.pageSize;\n            delete ob.pageSize;\n        }\n        if (ob.info) {\n            this.info = ob.info;\n            delete ob.info;\n        }\n        if (ob.compress) {\n            this.compress = ob.compress;\n            delete ob.compress;\n        }\n        if (ob.userPassword) {\n            this.userPassword = ob.userPassword;\n            delete ob.userPassword;\n        }\n        if (ob.ownerPassword) {\n            this.ownerPassword = ob.ownerPassword;\n            delete ob.ownerPassword;\n        }\n        if (ob.permissions) {\n            this.permissions = ob.permissions;\n            delete ob.permissions;\n        }\n\n\n\n\n        this.otherProperties = ob;\n    }\n\n    toJSON(): any {\n\n        var r: any = {\n\n        };\n        //var _this = this;\n        if (!(this.backgroundPanel._components.length === 0 || (this.backgroundPanel._designMode && this.backgroundPanel._components.length === 1))) {\n            r.background = this.backgroundPanel.toJSON();\n        }\n        if (!(this.headerPanel._components.length === 0 || (this.headerPanel._designMode && this.headerPanel._components.length === 1))) {\n            r.header = this.headerPanel.toJSON();\n        }\n        if (!(this.footerPanel._components.length === 0 || (this.footerPanel._designMode && this.footerPanel._components.length === 1))) {\n            r.footer = this.footerPanel.toJSON();\n        }\n        r.content = this.contentPanel.toJSON();\n        if (this.pageOrientation) {\n            r.pageOrientation = this.pageOrientation;\n\n        }\n        if (this.pageMargins)\n            r.pageMargins = this.pageMargins;\n        if (this.pageSize)\n            r.pageSize = this.pageSize;\n        if (this.info)\n            r.info = this.info;\n        if (this.compress)\n            r.compress = this.compress;\n        if (this.userPassword)\n            r.userPassword = this.userPassword;\n        if (this.ownerPassword)\n            r.ownerPassword = this.ownerPassword;\n        if (this.permissions)\n            r.permissions = this.permissions;\n        Object.assign(r, this[\"otherProperties\"]);\n\n        return r;\n    }\n    /**\n   * adds a component to the container\n   * @param {jassi.ui.Component} component - the component to add\n   */\n    /* add(component) {\n         if (component[\"designPanel\"])\n             super.add(component);\n         else\n             super.addBefore(component, this.footerPanel);\n \n     }*/\n    private pageSized = { //https://github.com/bpampuch/pdfmake/blob/master/src/standardPageSizes.js\n        '4A0': [4767.87, 6740.79],\n        '2A0': [3370.39, 4767.87],\n        A0: [2383.94, 3370.39],\n        A1: [1683.78, 2383.94],\n        A2: [1190.55, 1683.78],\n        A3: [841.89, 1190.55],\n        A4: [595.28, 841.89],\n        A5: [419.53, 595.28],\n        A6: [297.64, 419.53],\n        A7: [209.76, 297.64],\n        A8: [147.40, 209.76],\n        A9: [104.88, 147.40],\n        A10: [73.70, 104.88],\n        B0: [2834.65, 4008.19],\n        B1: [2004.09, 2834.65],\n        B2: [1417.32, 2004.09],\n        B3: [1000.63, 1417.32],\n        B4: [708.66, 1000.63],\n        B5: [498.90, 708.66],\n        B6: [354.33, 498.90],\n        B7: [249.45, 354.33],\n        B8: [175.75, 249.45],\n        B9: [124.72, 175.75],\n        B10: [87.87, 124.72],\n        C0: [2599.37, 3676.54],\n        C1: [1836.85, 2599.37],\n        C2: [1298.27, 1836.85],\n        C3: [918.43, 1298.27],\n        C4: [649.13, 918.43],\n        C5: [459.21, 649.13],\n        C6: [323.15, 459.21],\n        C7: [229.61, 323.15],\n        C8: [161.57, 229.61],\n        C9: [113.39, 161.57],\n        C10: [79.37, 113.39],\n        RA0: [2437.80, 3458.27],\n        RA1: [1729.13, 2437.80],\n        RA2: [1218.90, 1729.13],\n        RA3: [864.57, 1218.90],\n        RA4: [609.45, 864.57],\n        SRA0: [2551.18, 3628.35],\n        SRA1: [1814.17, 2551.18],\n        SRA2: [1275.59, 1814.17],\n        SRA3: [907.09, 1275.59],\n        SRA4: [637.80, 907.09],\n        EXECUTIVE: [521.86, 756.00],\n        FOLIO: [612.00, 936.00],\n        LEGAL: [612.00, 1008.00],\n        LETTER: [612.00, 792.00],\n        TABLOID: [792.00, 1224.00]\n    };\n}\n\n\n\nexport async function test() {\n\n\n\n\n}\n\n\n\n","import jassi, { $Class } from \"jassi/remote/Jassi\";\nimport { Panel } from \"jassi/ui/Panel\";\nimport { CodePanel } from \"jassi_editor/CodePanel\";\nimport { VariablePanel } from \"jassi/ui/VariablePanel\";\nimport { DockingContainer } from \"jassi/ui/DockingContainer\";\nimport { ErrorPanel } from \"jassi/ui/ErrorPanel\";\nimport { Button } from \"jassi/ui/Button\";\nimport registry from \"jassi/remote/Registry\";\nimport { Server } from \"jassi/remote/Server\";\nimport { Reloader } from \"jassi/util/Reloader\";\nimport { classes } from \"jassi/remote/Classes\";\nimport { Component } from \"jassi/ui/Component\";\n\nimport { ReportDesign } from \"jassi_report/ReportDesign\";\nimport { $Property } from \"jassi/ui/Property\";\nimport { Test } from \"jassi/base/Tests\";\nimport { Tools } from \"jassi/util/Tools\";\nimport { ReportDesigner } from \"jassi_report/designer/ReportDesigner\";\nimport { AcePanel } from \"jassi_editor/AcePanel\";\n/**\n * Panel for editing sources\n * @class jassi_report.ReportEditor\n */\n@$Class(\"jassi_report.ReportEditor\")\nexport class ReportEditor extends Panel {\n    _main: DockingContainer;\n    _codeView: Panel;\n    _codeToolbar: Panel;\n    _design: ReportDesigner;\n    _codePanel: CodePanel;\n    _variables: VariablePanel;\n    constructor() {\n        super();\n        this.maximize();\n        this._main = new DockingContainer();\n        this._codeView = new Panel();\n        this._codePanel = new AcePanel();\n        this._design = new ReportDesigner();\n        this._variables = new VariablePanel();\n        this._codeToolbar = new Panel();\n        this._init();\n    }\n    _init() {\n        var _this = this;\n        this._codePanel.width = \"100%\";\n        this._codePanel.mode = \"typescript\";\n        /*  this._codePanel.getDocTooltip = function (item) {\n              return _this.getDocTooltip(item);\n          }*/\n        this._codeToolbar[\"horizontal\"] = false;\n        this._codeToolbar.height = \"30\";\n        this._codeView[\"horizontal\"] = true;\n        this._codeView.add(this._codeToolbar);\n        this._codeView.add(this._codePanel);\n        this._codePanel.height = \"calc(100% - 31px)\";\n        this._codePanel.width = \"100%\";\n        this._main.width = \"calc(100% - 1px)\";\n        this._main.height = \"99%\";\n        var undo = new Button();\n        undo.icon = \"mdi mdi-undo\";\n        undo.tooltip = \"Undo (Strg+Z)\";\n        undo.onclick(function() {\n            console.log(_this._main.layout);\n            _this._main.layout = _this._main.layout;\n            _this._codePanel.undo();\n        });\n        this._codeToolbar.add(undo);\n        var lasttop = (<HTMLElement>this._main.dom).offsetTop;\n        var lasttop2 = 0;\n        this._main.onresize = function() {\n            setTimeout(function() {\n                _this._codePanel.resize();\n            }, 1000);\n            /*     if(_this._main.dom.offsetTop!==lasttop){//resize to height\n                    lasttop=_this._main.dom.offsetTop;\n                    var i=\"calc(100% - \"+(lasttop+1)+\"px)\";\n                    _this._main.height=i;\n                }*/\n            //TODO _this._designView.resize();\n        };\n        super.add(this._main);\n        this._variables.value = [];\n        this._variables.addVariable(this, {});\n        this._installView();\n        //Dockingview\n       \n        this._design.codeEditor = this;\n        //   this._codePanel.setCompleter(this);\n    }\n    _installView() {\n        //\tdebugger;\n        this._main.add(this._codeView, \"Code..\", \"code\");\n        this._main.add(this._design, \"Design\", \"design\");\n        var des='{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\"},\"dimensions\":{\"borderWidth\":5,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},        \"content\":[{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\t        \"content\":[{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":81.04294066258988,\t\t        \"content\":[\t\t        \t{\"type\":\"stack\",\"width\":80.57491289198606,\"height\":71.23503465658476,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\t\t\t        \"content\":[\t{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},\t\t\t        \t\t\t{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}\t\t\t        \t\t  ]\t\t        },\t\t        {\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":19.42508710801394,\t\t        \"content\":[\t\t        \t{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":19.844357976653697,\t\t\t        \"content\":[{\"title\":\"Palette\",\"type\":\"component\",\"componentName\":\"componentPalette\",\"componentState\":{\"title\":\"Palette\",\"name\":\"componentPalette\"},\"isClosable\":true,\"reorderEnabled\":true}\t\t\t        \t\t]\t\t        \t},\t\t\t        {\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":80.1556420233463,\t\t\t        \t\"content\":[{\"title\":\"Properties\",\"type\":\"component\",\"componentName\":\"properties\",\"componentState\":{\"title\":\"Properties\",\"name\":\"properties\"},\"isClosable\":true,\"reorderEnabled\":true\t\t\t        \t\t\t\t\t        \t}]\t\t\t        },\t\t\t         {\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":80.1556420233463,\t\t\t        \t\"content\":[{\"title\":\"Components\",\"type\":\"component\",\"componentName\":\"components\",\"componentState\":{\"title\":\"Components\",\"name\":\"components\"},\"isClosable\":true,\"reorderEnabled\":true\t\t\t        \t\t\t\t\t        \t}]\t\t\t        },\t\t\t     ]}\t\t\t     ]},\t\t\t ]\t        }\t    \t],\t    \t\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}';\n        this._design.mainLayout=JSON.stringify(des);\n     }\n    /**\n    * get all known instances for type\n    * @param {type} type - the type we are interested\n    * @returns {[string]}\n    */\n    getVariablesForType(type) {\n        return this._variables.getVariablesForType(type);\n    }\n    /**\n     * gets the name of the variabel that holds the object\n     * @param {object} ob - the\n     */\n    getVariableFromObject(ob) {\n        return this._variables.getVariableFromObject(ob);\n    }\n    /**\n     * gets the name object of the given variabel\n     * @param {string} ob - the name of the variable\n     */\n    getObjectFromVariable(varname) {\n        return this._variables.getObjectFromVariable(varname);\n    }\n    /**\n      * renames a variable in design\n      * @param {string} oldName\n      * @param {string} newName\n      */\n    renameVariable(oldName, newName) {\n    }\n    /**\n     * @member { jassi.ui.VariablePanel} - the variable\n     */\n    set variables(value) {\n        this._variables = value;\n    }\n    get variables() {\n        return undefined;\n        return this._variables;\n    }\n    /**\n     * @member {string} - the code\n     */\n    set value(value) {\n        // this._codePanel.file = this._file;\n        this._codePanel.value = value;\n    }\n    get value() {\n        return this._codePanel.value;\n    }\n    setCursorPorition(position: number) {\n        this.cursorPosition = this._codePanel.numberToPosition(position);\n    }\n    /**\n    * @param {object} position - the current cursor position {row= ,column=}\n    */\n    set cursorPosition(cursor: {\n        row: number;\n        column: number;\n    }) {\n        this._codePanel.cursorPosition = cursor;\n    }\n    get cursorPosition() {\n        return this._codePanel.cursorPosition;\n    }\n    destroy() {\n        this._codeView.destroy();\n        this._codePanel.destroy();\n        this._design.destroy();\n        this._codeToolbar.destroy();\n        //this._main.destroy();\n        super.destroy();\n    }\n    /**\n    * undo action\n    */\n    undo() {\n        this._codePanel.undo();\n    }\n}\nexport async function test() {\n    var editor = new ReportEditor();\n    editor.height = 500;\n    var rep = { \"content\": { \"stack\": [{ \"text\": \"Halloso\" }, { \"text\": \"sdsfsdf\" }] } };\n    editor.value = Tools.objectToJson(rep, \"\", true);\n    return editor;\n}\n;\n","export default {\r\n    \"css\":{\"jassi_report.css\":\"jassi_report.css\"},\r\n    \"require\": {\r\n        paths: {\r\n            'pdfjs-dist/build/pdf': '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min',\r\n            'pdfjs-dist/build/pdf.worker': '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.worker.min',\r\n            'pdfmake': '//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/vfs_fonts',// '../../lib/vfs_fonts',\r\n            'pdfMakeLib': '//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/pdfmake'  //'../../lib/pdfmake'\r\n        },\r\n        shim: {\r\n            'pdfjs-dist/build/pdf': ['pdfjs-dist/build/pdf.worker'],\r\n            pdfMakeLib:\r\n            {\r\n                exports: 'pdfMake'\r\n            },\r\n            pdfmake:\r\n            {\r\n                deps: ['pdfMakeLib'],\r\n                exports: 'pdfMake'\r\n            }\r\n        },\r\n\r\n    }\r\n}","//this file is autogenerated don't modify\ndefine(\"jassi_report/registry\",[\"require\"], function(require) {\n return {\n  default: {\n\t\"jassi_report/designer/Report.ts\": {\n\t\t\"date\": 1613218544157,\n\t\t\"jassi_report.Report\": {}\n\t},\n\t\"jassi_report/designer/ReportDesigner.ts\": {\n\t\t\"date\": 1613218544160,\n\t\t\"jassi_report.designer.ReportDesigner\": {}\n\t},\n\t\"jassi_report/modul.ts\": {\n\t\t\"date\": 1614109043365\n\t},\n\t\"jassi_report/PDFReport.ts\": {\n\t\t\"date\": 1613218544158,\n\t\t\"jassi_report.PDFReport\": {}\n\t},\n\t\"jassi_report/PDFViewer.ts\": {\n\t\t\"date\": 1613218544158,\n\t\t\"jassi_report.PDFViewer\": {}\n\t},\n\t\"jassi_report/RColumns.ts\": {\n\t\t\"date\": 1613218544158,\n\t\t\"jassi_report.RColumns\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"report/Columns\",\n\t\t\t\t\t\"icon\": \"mdi mdi-view-parallel-outline\",\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"$Property\": [\n\t\t\t\t{\n\t\t\t\t\t\"hideBaseClassProperties\": true\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\"jassi_report/RComponent.ts\": {\n\t\t\"date\": 1611935803813\n\t},\n\t\"jassi_report/RDatatable.ts\": {\n\t\t\"date\": 1613218566582,\n\t\t\"jassi_report.RDatatable\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"report/Datatable\",\n\t\t\t\t\t\"icon\": \"mdi mdi-file-table-box-multiple-outline\",\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\",\n\t\t\t\t\t\t\"this.headerPanel\",\n\t\t\t\t\t\t\"this.bodyPanel\",\n\t\t\t\t\t\t\"this.footerPanel\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\"jassi_report/ReportComponent.ts\": {\n\t\t\"date\": 1613218566582,\n\t\t\"jassi_report.ReportComponent\": {\n\t\t\t\"$Property\": [\n\t\t\t\t{\n\t\t\t\t\t\"hideBaseClassProperties\": true\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\"jassi_report/ReportComponentProperties.ts.ts\": {\n\t\t\"date\": 1611935804327\n\t},\n\t\"jassi_report/ReportDesign.ts\": {\n\t\t\"date\": 1613218566582,\n\t\t\"jassi_report.InfoProperties\": {},\n\t\t\"jassi_report.PermissionProperties\": {},\n\t\t\"jassi_report.ReportDesign\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"undefined\",\n\t\t\t\t\t\"icon\": \"undefined\",\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\",\n\t\t\t\t\t\t\"this.backgroundPanel\",\n\t\t\t\t\t\t\"this.headerPanel\",\n\t\t\t\t\t\t\"this.contentPanel\",\n\t\t\t\t\t\t\"this.footerPanel\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\"jassi_report/ReportEditor.ts\": {\n\t\t\"date\": 1613218609627,\n\t\t\"jassi_report.ReportEditor\": {}\n\t},\n\t\"jassi_report/RStack.ts\": {\n\t\t\"date\": 1613218544158,\n\t\t\"jassi_report.RStack\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"report/Stack\",\n\t\t\t\t\t\"icon\": \"mdi mdi-view-sequential-outline\",\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\"jassi_report/RTablerow.ts\": {\n\t\t\"date\": 1613218544158,\n\t\t\"jassi_report.RTablerow\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"editableChildComponents\": [\n\t\t\t\t\t\t\"this\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\"jassi_report/RText.ts\": {\n\t\t\"date\": 1613218544158,\n\t\t\"jassi_report.RText\": {\n\t\t\t\"$ReportComponent\": [\n\t\t\t\t{\n\t\t\t\t\t\"fullPath\": \"report/Text\",\n\t\t\t\t\t\"icon\": \"mdi mdi-format-color-text\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"$Property\": [\n\t\t\t\t{\n\t\t\t\t\t\"name\": \"value\",\n\t\t\t\t\t\"type\": \"string\",\n\t\t\t\t\t\"description\": \"text\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\t\"jassi_report/RUnknown.ts\": {\n\t\t\"date\": 1613218544158,\n\t\t\"jassi_report.RUnknown\": {}\n\t}\n}\n }\n});","import jassi, { $Class } from \"jassi/remote/Jassi\";\nimport {BoxPanel} from \"jassi/ui/BoxPanel\";\n\n@$Class(\"jassi_report.Report\")\n//@$UIComponent({editableChildComponents:[\"this\"]})\n//@$Property({name:\"horizontal\",hide:true})\nexport class Report extends BoxPanel {\n\n   \n    /**\n    * \n    * @param {object} properties - properties to init\n    * @param {string} [properties.id] -  connect to existing id (not reqired)\n    * @param {boolean} [properties.useSpan] -  use span not div\n    * \n    */\n    constructor(properties) {//id connect to existing(not reqired)\n        super(properties);\n    }\n}\n//jassi.register(\"reportcomponent\", \"jassi_report.Report\", \"report/Report\", \"res/report.ico\");\n\n   // return CodeEditor.constructor;\n\n","import jassi, { $Class } from \"jassi/remote/Jassi\";\r\n\r\nimport { PropertyEditor } from \"jassi/ui/PropertyEditor\";\r\nimport { ComponentExplorer } from \"jassi_editor/ComponentExplorer\";\r\nimport { ComponentPalette } from \"jassi_editor/ComponentPalette\";\r\nimport { CodeEditorInvisibleComponents } from \"jassi_editor/CodeEditorInvisibleComponents\";\r\nimport { ComponentDesigner } from \"jassi_editor/ComponentDesigner\";\r\nimport { classes } from \"jassi/remote/Classes\";\r\nimport { Component } from \"jassi/ui/Component\";\r\nimport { Container } from \"jassi/ui/Container\";\r\nimport { Property } from \"jassi/ui/Property\";\r\nimport { PDFReport } from \"jassi_report/PDFReport\";\r\nimport { PDFViewer } from \"jassi_report/PDFViewer\";\r\nimport { ReportDesign } from \"jassi_report/ReportDesign\";\r\nimport { Tools } from \"jassi/util/Tools\";\r\n\r\n@$Class(\"jassi_report.designer.ReportDesigner\")\r\nexport class ReportDesigner extends ComponentDesigner {\r\n    constructor() {\r\n        super();\r\n\r\n    }\r\n    pdfviewer:PDFViewer=new PDFViewer();\r\n    allComponents: { [name: string]: Component };\r\n    nextComponentvariable: { [typ: string]: number };\r\n    lastView:Component=undefined;\r\n    private _codeChanger:PropertyEditor=undefined;\r\n    mainLayout:string='{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\"},\"dimensions\":{\"borderWidth\":5,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"content\":[{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":81.04294066258988,\"content\":[{\"type\":\"stack\",\"width\":80.57491289198606,\"height\":71.23503465658476,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":19.42508710801394,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":19.844357976653697,\"content\":[{\"title\":\"Palette\",\"type\":\"component\",\"componentName\":\"componentPalette\",\"componentState\":{\"title\":\"Palette\",\"name\":\"componentPalette\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":80.1556420233463,\"content\":[{\"title\":\"Properties\",\"type\":\"component\",\"componentName\":\"properties\",\"componentState\":{\"title\":\"Properties\",\"name\":\"properties\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]},{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":18.957059337410122,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":18.957059337410122,\"width\":77.70034843205575,\"content\":[{\"title\":\"Variables\",\"type\":\"component\",\"componentName\":\"variables\",\"componentState\":{\"title\":\"Variables\",\"name\":\"variables\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Errors\",\"type\":\"component\",\"componentName\":\"errors\",\"componentState\":{\"title\":\"Errors\",\"name\":\"errors\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"width\":22.299651567944256,\"content\":[{\"title\":\"Components\",\"type\":\"component\",\"componentName\":\"components\",\"componentState\":{\"title\":\"Components\",\"name\":\"components\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}';\r\n    set codeEditor(value) {\r\n        var _this = this;\r\n        this._codeEditor = value;\r\n        this._variables = this._codeEditor._variables;\r\n        this._propertyEditor = new PropertyEditor(undefined);\r\n        this._codeChanger=new PropertyEditor(this._codeEditor);\r\n        this._errors = this._codeEditor._errors;\r\n        this._componentPalette = new ComponentPalette();\r\n        this._componentExplorer = new ComponentExplorer(value, this._propertyEditor);\r\n        this._invisibleComponents = new CodeEditorInvisibleComponents(value);\r\n        this.add(this._invisibleComponents);\r\n        this._initComponentExplorer();\r\n        this._installView();\r\n        this._codeEditor._codePanel.onblur(function(evt) {\r\n            _this._propertyEditor.updateParser();\r\n        });\r\n        this._propertyEditor.readPropertyValueFromDesign=true;\r\n        \r\n        this._propertyEditor.addEvent(\"propertyChanged\", function(){\r\n        \t_this.propertyChanged();\r\n        });\r\n         this._propertyEditor.addEvent(\"codeChanged\", function(){\r\n        \t_this.propertyChanged();\r\n        });\r\n        $(this.__dom).addClass(\"ReportDesigner\");\r\n        $(this.dom).css(\"overflow\",\"scroll\");\r\n        $(this.dom).css(\"width\",\"\");\r\n      \r\n    }\r\n    editDialog(enable){\r\n    \t\r\n    \tif(enable===false){\r\n    \t\tsuper.editDialog(enable);\r\n    \t\tvar rep=new PDFReport();\r\n    \t\t//rep.content=this.designedComponent[\"design];\r\n    \t\tvar data=(<ReportDesign> this._codeChanger.value).toJSON();\r\n\t\t\trep.value =Tools.copyObject(data);// designedComponent[\"design\"];\r\n\t\t\t//viewer.value = await rep.getBase64();\r\n\t\t\trep.getBase64().then((data)=>{\r\n\t\t\t\tthis.pdfviewer.report=rep;\r\n\t\t\t\t//make a copy because the data would be modified \r\n\t\t\t\tthis.pdfviewer.value=data;\r\n\t\t\t})\r\n\t\t\tthis.lastView=this._designPlaceholder._components[0];\r\n\t\t\t if(this._designPlaceholder._components.length>0)\r\n                this._designPlaceholder.remove(this._designPlaceholder._components[0],false);\r\n            this._designPlaceholder.add(this.pdfviewer);\r\n    \t}else if(this.lastView){\r\n    \t\t if(this._designPlaceholder._components.length>0)\r\n                this._designPlaceholder.remove(this._designPlaceholder._components[0],false);\r\n            this._designPlaceholder.add(this.lastView);\r\n            this.lastView=undefined;\r\n            super.editDialog(enable);\r\n    \t}else\r\n    \t\tsuper.editDialog(enable);\r\n    }\r\n\tpropertyChanged(){\r\n\t\r\n\t\tif(this._codeChanger.parser.sourceFile===undefined)\r\n\t\t    this._codeChanger.updateParser();\r\n\t\t//@ts-ignore\r\n\t\tlet ob=Tools.objectToJson(this.designedComponent.toJSON(),undefined,false);\r\n\t\tthis._codeChanger.setPropertyInCode(\"design\",ob);\r\n\t}\r\n    createComponent(type, component, top, left, newParent, beforeComponent) {\r\n        //this._variables.updateCache();\r\n        //this._componentExplorer.update();\r\n        var ret=super.createComponent(type, component, top, left, newParent, beforeComponent);\r\n        this.addVariables(ret);\r\n        this._componentExplorer.update();\r\n        this.propertyChanged();\r\n        return ret;\r\n    }\r\n    private addVariables(component: Component) {\r\n        var name = component[\"reporttype\"];\r\n        if (this.nextComponentvariable[name] === undefined) {\r\n            this.nextComponentvariable[name] = 0;\r\n        }\r\n        this.nextComponentvariable[name]++;\r\n        this._codeEditor.variables.addVariable(name + this.nextComponentvariable[name], component);\r\n        this.allComponents[name + this.nextComponentvariable[name]] = component;\r\n        if (component[\"_components\"]) {\r\n            for (let x = 0;x < component[\"_components\"].length;x++) {\r\n                this.addVariables(component[\"_components\"][x]);\r\n            }\r\n        }\r\n\r\n    }\r\n    /**\r\n      * @member {jassi.ui.Component} - the designed component\r\n      */\r\n    set designedComponent(component:ReportDesign) {\r\n    \t//create _children\r\n    \tReportDesign.fromJSON(component[\"design\"],component);\r\n        //populate Variables\r\n        this.allComponents = {};\r\n        this.nextComponentvariable = {};\r\n        this.allComponents[\"this\"] = component;\r\n        this._codeEditor.variables.addVariable(\"this\", component);\r\n        this.addVariables(<Container>component);\r\n        this._propertyEditor.value=component;\r\n        this._codeChanger.parser=this._propertyEditor.parser;\r\n        super.designedComponent = component;\r\n        //@ts.ignore\r\n\t\tthis._codeChanger.value=component;\r\n\t\r\n    }\r\n    get designedComponent():ReportDesign {\r\n        return <ReportDesign>super.designedComponent;\r\n    }\r\n    //    \t_this.variables.addVariable(\"this\", rep);\r\n    get codeEditor() {\r\n        return this._codeEditor;\r\n    }\r\n    _installView() {\r\n        this._componentPalette = new ComponentPalette();\r\n        this._componentPalette.service = \"$ReportComponent\";\r\n        this._codeEditor._main.add(this._propertyEditor, \"Properties\", \"properties\");\r\n        this._codeEditor._main.add(this._componentExplorer, \"Components\", \"components\");\r\n        this._codeEditor._main.add(this._componentPalette, \"Palette\", \"componentPalette\");\r\n        if(this.mainLayout)\r\n\t        this._codeEditor._main.layout = this.mainLayout;\r\n    }\r\n\r\n\tdestroy(){\r\n\t//\tthis._codeChanger.destroy();\r\n\t\tthis.pdfviewer.destroy();\r\n\t\tsuper.destroy();\r\n\t\t\r\n\t}\r\n\r\n    _initComponentExplorer() {\r\n        var _this = this;\r\n        this._componentExplorer.onclick(function(data) {\r\n            var ob = data.data;\r\n            _this._propertyEditor.value = ob;\r\n        });\r\n        this._componentExplorer.getComponentName = function(item) {\r\n            var varname = _this._codeEditor.getVariableFromObject(item);\r\n            if (varname === undefined)\r\n                return;\r\n            if (varname.startsWith(\"this.\"))\r\n                return varname.substring(5);\r\n            return varname;\r\n        };\r\n    }\r\n}\r\n\r\nexport async function test() {\r\n    var rep = new PDFReport();\r\n\tvar def = {\r\n\t\r\n\t\tcontent:{ \r\n\t\t\tstack:[{\r\n\t\t\t\t  columns: [\r\n\t\t\t\t  \t{\tstack:[\r\n\t\t\t\t  \t\t\t{ text: '{{invoice.customer.firstname}} {{invoice.customer.lastname}}'},\r\n\t\t\t\t  \t\t\t{ text: '{{invoice.customer.street}}'},\r\n\t\t\t\t  \t\t\t{ text: '{{invoice.customer.place}}'}\r\n\t\t\t\t  \t\t]\r\n\t\t\t\t  \t},\r\n\t\t\t\t  \t{\tstack:[\r\n\t\t\t\t\t\t\t{ text: 'Invoice',\tfontSize: 18},\r\n\t\t\t\t\t\t\t{ text:\" \"},\r\n\t\t\t\t\t\t\t{ text:\"Date: {{invoice.date}}\"},\r\n\t\t\t\t\t\t\t{ text: \"Number: {{invoice.number}}\", bold: true },\r\n\t\t\t\t\t\t\t{ text:\" \"},\r\n\t\t\t\t\t\t\t{ text:\" \"},\r\n\t\t\t\t\t\t]\r\n\t\t\t\t  \t}\r\n\t\t\t\t  ]\r\n\t\t\t}\r\n\t\t]}\r\n\t};\r\n//\tdef.content=replaceTemplates(def.content,def.data);\r\n\trep.value =def;\r\n\tvar viewer = new PDFViewer();\r\n\tviewer.value = await rep.getBase64();\r\n\treturn viewer;\r\n\r\n};\r\n\r\n","/*require.config(\r\n    {\r\n       // 'pdfjs-dist/build/pdf': 'myfolder/pdf.min',\r\n       // 'pdfjs-dist/build/pdf.worker': 'myfolder/pdf.worker.min'\r\n      paths: {\r\n          'pdfjs-dist/build/pdf': '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min',\r\n          'pdfjs-dist/build/pdf.worker': '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.worker.min',\r\n        //  'pdf.worker.entry': '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.worker.entry.min'\r\n         },\r\n      shim: {\r\n        'pdfjs-dist/build/pdf': ['pdfjs-dist/build/pdf.worker'],\r\n        }\r\n  });*/\r\n\r\ndefine(\"jassi_report/ext/pdfjs\",[\"pdfjs-dist/build/pdf\",\"pdfjs-dist/build/pdf.worker\"],function(pdfjs,worker,pdfjsWorker){\r\n    pdfjs.GlobalWorkerOptions.workerSrc = '//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.worker.min.js';\r\n    //pdfjs.GlobalWorkerOptions.workerSrc = pdfjsWorker;\r\n    return {\r\n                default:pdfjs\r\n            }\r\n    });\r\n","/*require.config(\r\n    {\r\n      paths :\r\n      {\r\n          'pdfmake' : '//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/vfs_fonts',// '../../lib/vfs_fonts',\r\n          'pdfMakeLib' :'//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.68/pdfmake'  //'../../lib/pdfmake'\r\n      },\r\n      shim :\r\n      {    \r\n          pdfMakeLib :\r\n          {           \r\n              exports: 'pdfMake'\r\n          },\r\n          pdfmake : \r\n          {\r\n              deps: ['pdfMakeLib'],\r\n              exports: 'pdfMake'\r\n          }\r\n      }\r\n    });*/\r\ndefine(\"jassi_report/ext/pdfmake\",['pdfmake'],function(ttt){\r\n            return {\r\n                default:pdfMake\r\n            }\r\n    });\r\n"]}