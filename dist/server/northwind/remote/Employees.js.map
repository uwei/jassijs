{"version":3,"file":"Employees.js","sourceRoot":"","sources":["../../../../server/northwind/remote/Employees.ts"],"names":[],"mappings":"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","sourcesContent":["import { DBObject, $DBObject } from \"jassijs/remote/DBObject\";\nimport jassijs, { $Class } from \"jassijs/remote/Jassi\";\nimport { Entity, PrimaryColumn, Column, OneToOne, ManyToMany, ManyToOne, OneToMany, JoinColumn, JoinTable } from \"jassijs/util/DatabaseSchema\";\nimport { $DBObjectQuery } from \"jassijs/remote/DBObjectQuery\";\nimport { Transaction } from \"jassijs/remote/Transaction\";\nimport { Context } from \"jassijs/remote/RemoteObject\";\n@$DBObject()\n@$Class(\"northwind.Employees\")\nexport class Employees extends DBObject {\n    @PrimaryColumn()\n    id: number;\n\n    constructor() {\n        super();\n    }\n\n    @Column({ nullable: true })\n    LastName: string;\n    @Column({ nullable: true })\n    FirstName: string;\n    @Column({ nullable: true })\n    Title: string;\n    @Column({ nullable: true })\n    TitleOfCourtesy: string;\n    @Column({ nullable: true })\n    Address: string;\n    @Column({ nullable: true })\n    City: string;\n    @Column({ nullable: true })\n    Region: string;\n    @Column({ nullable: true })\n    PostalCode: string;\n    @Column({ nullable: true })\n    Country: string;\n    @Column({ nullable: true })\n    HomePhone: string;\n    @Column({ nullable: true })\n    Extension: string;\n    @Column({ nullable: true })\n    Photo: string;\n    @Column({ nullable: true })\n    Notes: string;\n    @Column({ nullable: true })\n    PhotoPath: string;\n    @JoinColumn()\n    @ManyToOne(type => Employees)\n    ReportsTo: Employees;\n    @Column({ nullable: true })\n    BirthDate: Date;\n    @Column({ nullable: true })\n    HireDate: Date;\n    static async find(options = undefined,context:Context=undefined): Promise<Employees[]> {\n        if (!context?.isServer) {\n            if(options===undefined)\n                options={relations:[\"ReportsTo\"]}\n            return await this.call(this.find, options,context);\n        }\n        else {\n            //@ts-ignore\n            var man = await (await import(\"jassijs/server/DBManager\")).DBManager.get();\n            return man.find(context,this, options);\n        }\n    }\n    async hallo(num) {\n        if (!jassijs.isServer) {\n            var ret = await this.call(this, this.hallo, num);\n            return ret * 10;\n        } else { \n\n            return num + 1;\n            // return [\"jassijs/base/ChromeDebugger.ts\"];\n        }\n    }\n}\nfunction getRandomInt(max) {\n    return Math.floor(Math.random() * Math.floor(max));\n}\nexport async function test() {\n    var all=await Employees.find({where:\"id>:p\",whereParams:{p:5}});\n\n}\nexport async function test2() {\n    var em = new Employees();\n    em.id = getRandomInt(100000);\n    var em2 = new Employees();\n    em2.id = getRandomInt(100000);\n    var trans = new Transaction();\n    console.log(em.id + \" \" + em2.id);\n    trans.add(em, em.save);\n    trans.add(em2, em2.save);\n    var h = await trans.execute();\n    h = h;\n    /*  var emp = new Employees();\n      emp.id = 100003;\n      emp.BirthDate = new Date(Date.now());\n      //await emp.save();\n      var emp2 = new Employees();\n      emp2.id = 200000;\n      emp2.ReportsTo = emp;\n      //await emp2.save();*/\n}\n;\n"]}