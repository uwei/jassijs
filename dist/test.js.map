{"version":3,"file":"test.js","sourceRoot":"","sources":["../de/registry.js","../jassijs/remote/Classes.ts","../jassijs/remote/ClientError.ts","../jassijs/remote/DBArray.ts","../jassijs/remote/DBObject.ts","../jassijs/remote/DBObjectQuery.ts","../jassijs/remote/Database.ts","../jassijs/remote/DatabaseTools.ts","../jassijs/remote/Extensions.ts","../jassijs/remote/FileNode.ts","../jassijs/remote/Jassi.ts","../jassijs/remote/JassijsGlobal.ts","../jassijs/remote/ObjectTransaction.ts","../jassijs/remote/Registry.ts","../jassijs/remote/RemoteObject.ts","../jassijs/remote/RemoteProtocol.ts","../jassijs/remote/Serverservice.ts","../jassijs/remote/Server.ts","../jassijs/remote/Test.ts","../jassijs/remote/Settings.ts","../jassijs/remote/Transaction.ts","../jassijs/remote/Validator.ts","../jassijs/remote/hallo.ts","../de/remote/AR.ts","../de/remote/ARZeile.ts","../de/remote/Kunde.ext.ts","../de/remote/Kunde.ts","../de/remote/KundeExt.ts","../de/remote/KundeExt2.ts","../de/remote/Lieferant.ts","../de/remote/MyRemoteObject.ts","../de/remote/MyUser.ts"],"names":[],"mappings":"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","sourcesContent":["\"use strict:\"\n//this file is autogenerated don't modify\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default={\n\t\"de/remote/AR.ts\": {\n\t\t\"date\": 1681557287008,\n\t\t\"de.AR\": {\n\t\t\t\"$Rights\": [\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Auftragswesen/Ausgangsrechnung/festschreiben\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Auftragswesen/Ausgangsrechnung/lschen\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t],\n\t\t\t\"$DBObject\": [],\n\t\t\t\"@members\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"PrimaryColumn\": []\n\t\t\t\t},\n\t\t\t\t\"strasse\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"nummer\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"ort\": {\n\t\t\t\t\t\"Column\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"nullable\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"kunde\": {\n\t\t\t\t\t\"$CheckParentRight\": [],\n\t\t\t\t\t\"ManyToOne\": [\n\t\t\t\t\t\t\"function\",\n\t\t\t\t\t\t\"function\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"zeilen\": {\n\t\t\t\t\t\"OneToMany\": [\n\t\t\t\t\t\t\"function\",\n\t\t\t\t\t\t\"function\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"de/remote/ARZeile.ts\": {\n\t\t\"date\": 1680947290781,\n\t\t\"de.ARZeile\": {\n\t\t\t\"$DBObject\": [],\n\t\t\t\"@members\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"PrimaryGeneratedColumn\": []\n\t\t\t\t},\n\t\t\t\t\"text\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"position\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"preis\": {\n\t\t\t\t\t\"Column\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"nullable\": true,\n\t\t\t\t\t\t\t\"type\": \"decimal\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"ar\": {\n\t\t\t\t\t\"$CheckParentRight\": [],\n\t\t\t\t\t\"ManyToOne\": [\n\t\t\t\t\t\t\"function\",\n\t\t\t\t\t\t\"function\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"de/remote/Kunde.ext.ts\": {\n\t\t\"date\": 1622985484000\n\t},\n\t\"de/remote/Kunde.ts\": {\n\t\t\"date\": 1681316844059,\n\t\t\"de.Kunde\": {\n\t\t\t\"$ParentRights\": [\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"Kundennummern\",\n\t\t\t\t\t\t\"sqlToCheck\": \"me.id>=:i1 and me.id<=:i2\",\n\t\t\t\t\t\t\"description\": {\n\t\t\t\t\t\t\t\"text\": \"Kundennummern\",\n\t\t\t\t\t\t\t\"i1\": \"von\",\n\t\t\t\t\t\t\t\"i2\": \"bis\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t],\n\t\t\t\"$DBObject\": [],\n\t\t\t\"@members\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"PrimaryColumn\": []\n\t\t\t\t},\n\t\t\t\t\"vorname\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"nachname\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"strasse\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"PLZ\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"ort\": {\n\t\t\t\t\t\"Column\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"nullable\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"hausnummer\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"rechnungen\": {\n\t\t\t\t\t\"OneToMany\": [\n\t\t\t\t\t\t\"function\",\n\t\t\t\t\t\t\"function\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"alleKundenNachNachname\": {\n\t\t\t\t\t\"$DBObjectQuery\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Alle nach Namen\",\n\t\t\t\t\t\t\t\"description\": \"Kundenliste nach Namen\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"alleKundenNachNummer\": {\n\t\t\t\t\t\"$DBObjectQuery\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Alle nach Nummer\",\n\t\t\t\t\t\t\t\"description\": \"Kundenliste nach Nummer\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"land\": {\n\t\t\t\t\t\"Column\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"nullable\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"de/remote/KundeExt.ts\": {\n\t\t\"date\": 1655556796000,\n\t\t\"de.KundeExt\": {\n\t\t\t\"$Extension\": [\n\t\t\t\t\"de.Kunde\"\n\t\t\t]\n\t\t}\n\t},\n\t\"de/remote/KundeExt2.ts\": {\n\t\t\"date\": 1655556796000,\n\t\t\"de.KundeExt2\": {\n\t\t\t\"$Extension\": [\n\t\t\t\t\"de.Kunde\"\n\t\t\t]\n\t\t}\n\t},\n\t\"de/remote/Lieferant.ts\": {\n\t\t\"date\": 1656072674000,\n\t\t\"de.Lieferant\": {\n\t\t\t\"$DBObject\": [],\n\t\t\t\"@members\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"PrimaryColumn\": []\n\t\t\t\t},\n\t\t\t\t\"name\": {\n\t\t\t\t\t\"Column\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"nullable\": false\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"de/remote/MyUser.ts\": {\n\t\t\"date\": 1656072680000,\n\t\t\"de.MyUser\": {\n\t\t\t\"$DBObject\": [],\n\t\t\t\"Entity\": [],\n\t\t\t\"@members\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"PrimaryColumn\": []\n\t\t\t\t},\n\t\t\t\t\"firstName\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"lastName\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t},\n\t\t\t\t\"age\": {\n\t\t\t\t\t\"Column\": []\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"de/remote/MyRemoteObject.ts\": {\n\t\t\"date\": 1682192454974,\n\t\t\"de.remote.MyRemoteObject\": {\n\t\t\t\"@members\": {\n\t\t\t\t\"sayHello\": {\n\t\t\t\t\t\"ValidateFunctionParameter\": []\n\t\t\t\t},\n\t\t\t\t\"sayHello2\": {\n\t\t\t\t\t\"ValidateFunctionParameter\": []\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}","\r\nimport registry from \"jassijs/remote/Registry\";\r\n\r\n\r\n@$Class(\"jassijs.remote.JassiError\")\r\nexport class JassiError extends Error{\r\n    constructor(msg:string){\r\n        super(msg);\r\n    }\r\n} \r\n\r\nfunction $Class(longclassname: string): Function {\r\n    return function (pclass) {\r\n        registry.register(\"$Class\", pclass, longclassname);\r\n    }\r\n}\r\n/**\r\n* manage all registered classes ->jassijs.register(\"classes\")\r\n* @class jassijs.base.Classes\r\n*/\r\n@$Class(\"jassijs.remote.Classes\")\r\nexport class Classes {\r\n    private _cache: { [service: string]: new (...args: any[]) => any };\r\n    private funcRegister;\r\n    constructor() {\r\n        this._cache = {};\r\n\r\n        this.funcRegister = registry.onregister(\"$Class\", this.register.bind(this));\r\n    }\r\n\r\n    destroy() {\r\n        registry.offregister(\"$Class\", this.funcRegister);\r\n    }\r\n    /**\r\n     * load the a class\r\n     * @param classname - the class to load\r\n     */\r\n\r\n    async loadClass(classname: string) {\r\n        var cl = await registry.getJSONData(\"$Class\", classname);\r\n        if (cl === undefined) {\r\n            try {\r\n                //@ts-ignore\r\n                if (require.main) {//nodes load project class from module\r\n                    //@ts-ignore\r\n                    await Promise.resolve().then(() => require.main.require(classname.replaceAll(\".\", \"/\")));\r\n                } else {\r\n                    await import(classname.replaceAll(\".\", \"/\"));\r\n                }\r\n            } catch (err) {\r\n                err = err;\r\n            }\r\n        } else {\r\n            if (cl === undefined || cl.length === 0) {\r\n                throw new JassiError(\"Class not found:\" + classname);\r\n            }\r\n \r\n            var file = cl[0].filename;\r\n            //@ts-ignore\r\n            if (window.document === undefined) {\r\n                var pack = file.split(\"/\");\r\n                if (pack.length < 2 || pack[1] !== \"remote\") {\r\n                    throw new JassiError(\"failed loadClass \" + classname + \" on server only remote classes coud be loaded\");\r\n                }\r\n            }\r\n            //@ts-ignore\r\n            if (require.main) { //nodes load project class from module\r\n                //@ts-ignore\r\n                var imp = await Promise.resolve().then(() => require.main.require(file.replace(\".ts\", \"\")));\r\n            } else {\r\n                var imp = await import(file.replace(\".ts\", \"\"));\r\n            }\r\n        }\r\n        return this.getClass(classname);\r\n    }\r\n    /**\r\n    * get the class of the given classname\r\n    * @param {string} - the classname\r\n    * @returns {class} - the class\r\n    */\r\n    getClass(classname: string) {\r\n        return this._cache[classname];\r\n        /* var ret=this.getPackage(classname);\r\n         \r\n         if(ret!==undefined&&ret.prototype!==undefined && ret.prototype.constructor === ret)\r\n             return ret;\r\n         else\r\n             return undefined; */\r\n    }\r\n    /**\r\n    * get the name of the given class\r\n    * @param {class} _class - the class (prototype)\r\n    * @returns {string} name of the class\r\n    */\r\n    getClassName(_class): string {\r\n        if (_class === undefined)\r\n            return undefined;\r\n        if (_class.constructor?._classname)\r\n            return _class.constructor?._classname;\r\n        if (_class.prototype?.constructor?._classname)\r\n            return _class.prototype?.constructor?._classname;\r\n        return undefined;\r\n    }\r\n\r\n    register(data: new (...args: any[]) => any, name: string) {\r\n        //data.prototype._classname=name;\r\n        this._cache[name] = data;\r\n    }\r\n    /*\r\n     register(name:string,data:new(...args: any[])=>any){\r\n \r\n         data.prototype._classname=name;\r\n         this._cache[name]=data;\r\n \r\n \r\n     }*/\r\n};\r\n\r\nlet classes = new Classes();\r\nexport { classes };\r\n\r\nexport async function test(t){\r\n    var cl=classes.getClass(\"jassijs.ui.Button\");\r\n    t.expectEqual(cl===await classes.loadClass(\"jassijs.ui.Button\"));\r\n    t.expectEqual(classes.getClassName(cl)===\"jassijs.ui.Button\");\r\n}","import { $Class } from \"jassijs/remote/Registry\";\r\n\r\n@$Class(\"jassijs.remote.ClientError\")\r\nexport class ClientError extends Error{\r\n    constructor(msg:string){\r\n        super(msg);\r\n    }\r\n}","import { $Class } from \"jassijs/remote/Registry\";\r\nimport  {classes, JassiError} from \"jassijs/remote/Classes\";\r\nlet cl=classes;//force Classes.\r\n\r\n@$Class(\"jassijs.remote.DBArray\")\r\nexport  class DBArray\r\n\r\n/**\r\n* Array for jassijs.base.DBObject's\r\n* can be saved to db\r\n* @class jassijs.base.DBArray\r\n*/ \r\nextends Array{\r\n   constructor(...args){\r\n       super(...args);\r\n   }\r\n   private _parentObject;\r\n   private _parentObjectMember;\r\n   /**\r\n    * adds an object \r\n    * if the object is linked to an other object then update this\r\n    * @param {object} ob - the object to add\r\n    */\r\n   add(ob){\r\n       if(ob===undefined||ob===null)\r\n           throw new JassiError(\"Error cannot add object null\");\r\n       this.push(ob);\r\n       if(this._parentObject!==undefined){ \r\n           //set linked object\r\n           var link=jassijs.db.typeDef.linkForField(this._parentObject.__proto__._dbtype,this._parentObjectMember);\r\n           if(link!==undefined&&link.type===\"array\"){//array can not connected){\r\n               var test=ob._objectProperties[link.name];//do not resolve!\r\n               if(test!==undefined&&test.unresolvedclassname===undefined){\r\n                   if(test.indexOf(this._parentObject)<0)\r\n                       test.add(this._parentObject);\r\n               }\r\n           }\r\n           if(link!==undefined&&link.type===\"object\"){\r\n               var test=ob.__objectProperties[link.name];//do not resolve!\r\n               if(test!==undefined&&test.unresolvedclassname!==undefined&&test!==this){\r\n                   ob._setObjectProperty(link.name,this._parentObject);\r\n               }\r\n           }\r\n       }\r\n   }\r\n   /**\r\n    * for compatibility\r\n    */\r\n   async resolve(){\r\n       //Object was already resolved   \r\n       return this;\r\n   }\r\n\r\n   /**\r\n    * remove an object \r\n    * if the object is linked to an other object then update this\r\n    * @param {object} ob - the object to remove\r\n    */\r\n   remove(ob){ \r\n       var pos=this.indexOf(ob); \r\n       if(pos>=0)\r\n           this.splice(pos, 1);\r\n        if(this._parentObject!==undefined){\r\n           //set linked object\r\n           var link=jassijs.db.typeDef.linkForField(this._parentObject.__proto__._dbtype,this._parentObjectMember);\r\n          \r\n           if(link!==undefined&&link.type===\"array\"){//array can not connected){\r\n               var test=ob._objectProperties[link.name];//do not resolve!\r\n               if(test!==undefined&&test.unresolvedclassname===undefined){\r\n                   if(test.indexOf(this._parentObject)>=0)\r\n                       test.remove(this._parentObject);\r\n               }\r\n           }\r\n           if(link!==undefined&&link.type===\"object\"){\r\n               var test=ob._getObjectProperty(link.name);\r\n               if(test!==undefined&&test.unresolvedclassname!==undefined&&test!==this){\r\n                   ob._setObjectProperty(link.name,null);\r\n               }\r\n           }\r\n       }\r\n       \r\n   }\r\n}\r\n","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { classes, JassiError } from \"jassijs/remote/Classes\";\r\nimport { Context, RemoteObject } from \"jassijs/remote/RemoteObject\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nlet cl = classes;//force Classes\r\nimport { Entity, EntityOptions } from \"jassijs/util/DatabaseSchema\";\r\nimport { db } from \"jassijs/remote/Database\";\r\nimport { Transaction } from \"jassijs/remote/Transaction\";\r\nimport { validate, ValidationError, ValidationOptions } from \"jassijs/remote/Validator\";\r\nimport { serverservices } from \"jassijs/remote/Serverservice\";\r\n\r\nexport function $DBObject(options?: EntityOptions): Function {\r\n    return function (pclass, ...params) {\r\n        var classname = classes.getClassName(pclass);\r\n        if (!options)\r\n            options = {};\r\n        if (!options.name)\r\n            options.name = classname.toLowerCase().replaceAll(\".\", \"_\");\r\n        registry.register(\"$DBObject\", pclass, options);\r\n        Entity(options)(pclass, ...params);//pass to orginal Entitiy\r\n    }\r\n}\r\nexport class MyFindManyOptions {\r\n    relations?: string[];\r\n    [sampleproperty: string]: any;\r\n    /**\r\n     * \r\n     * where e.g. id>5\r\n     */\r\n    where?: string;\r\n    /**\r\n     * e.g. where:\"id>:param\" ,whereParams:{param:5}\r\n     */\r\n    whereParams?: any;\r\n    /**\r\n   * Offset (paginated) where from entities should be taken.\r\n   */\r\n    skip?: number;\r\n    /**\r\n     * Limit (paginated) - max number of entities should be taken.\r\n     */\r\n    take?: number;\r\n    /**\r\n    * Order, in which entities should be ordered.\r\n    */\r\n    order?: {\r\n        [field: string]: \"ASC\" | \"DESC\" | 1 | -1;\r\n    };\r\n}\r\n/**\r\n* base class for all database entfities\r\n* all objects which use the jassijs.db must implement this\r\n* @class DBObject\r\n*/\r\n@$Class(\"jassijs.remote.DBObject\")\r\nexport class DBObject extends RemoteObject {\r\n    id: number | string;\r\n    private static cache: { [classname: string]: { [id: string]: DBObject } } = {};\r\n    private static _init = DBObject._initFunc();\r\n    //clear cache on reload\r\n    private static _initFunc() {\r\n\r\n        registry.onregister(\"$Class\", (data: new (...args: any[]) => any, name: string) => {\r\n            delete DBObject.cache[name];\r\n        });\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n    public isAutoId() {\r\n        var h = db;\r\n        var def = db.getMetadata(this.constructor)?.fields;\r\n        return def.id.PrimaryGeneratedColumn !== undefined;\r\n    }\r\n    public static getFromCache(classname: string, id: number | string): DBObject {\r\n        if (!DBObject.cache[classname])\r\n            return undefined;\r\n        return DBObject.cache[classname][id.toString()];\r\n    }\r\n    public async validate(options=undefined,throwError=false):Promise<ValidationError[]>{\r\n        var ret=validate(this,options,throwError);\r\n        return ret;\r\n    }\r\n    private static addToCache(ob) {\r\n        if (ob === undefined)\r\n            return undefined;\r\n        var clname = classes.getClassName(ob);\r\n        var cl = DBObject.cache[clname];\r\n        if (cl === undefined) {\r\n            cl = {};\r\n            DBObject.cache[clname] = cl;\r\n        }\r\n        cl[ob.id] = ob;\r\n    }\r\n    public static clearCache(classname: string) {\r\n        DBObject.cache[classname] = {};\r\n    }\r\n    public removeFromCache() {\r\n\r\n        var clname = classes.getClassName(this);\r\n        if (!DBObject.cache[clname])\r\n            return;\r\n        delete DBObject.cache[clname][this.id.toString()];\r\n    }\r\n    public static _createObject(ob) {\r\n        if (ob === undefined)\r\n            return undefined;\r\n        var cl = DBObject.cache[ob.__clname__];\r\n        if (cl === undefined) {\r\n            cl = {};\r\n            DBObject.cache[ob.__clname__] = cl;\r\n        }\r\n        var ret = cl[ob.id];\r\n        if (ret === undefined) {\r\n            ret = new (classes.getClass(ob.__clname__))();\r\n            cl[ob.id] = ret;\r\n        }\r\n        return ret;\r\n    }\r\n    //public id:number;\r\n\r\n    /**\r\n     * replace all childs objects with {id:}\r\n     */\r\n    private _replaceObjectWithId(obj: any): any {\r\n        var ret = {}\r\n        if (obj === undefined)\r\n            return undefined;\r\n        for (var key in obj) {\r\n            ret[key] = obj[key];\r\n            if (ret[key] !== undefined && ret[key] !== null && ret[key].id !== undefined) {\r\n                ret[key] = { id: ret[key].id };\r\n            }\r\n            if (Array.isArray(ret[key])) {\r\n                ret[key] = [];\r\n                for (var i = 0; i < obj[key].length; i++) {\r\n                    ret[key].push(obj[key][i]);\r\n                    if (ret[key][i] !== undefined && ret[key][i] !== null && ret[key][i].id !== undefined) {\r\n                        ret[key][i] = { id: ret[key][i].id };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n    * save the object to jassijs.db\r\n    */\r\n    async save(context: Context = undefined) {\r\n        await this.validate({\r\n        delegateOptions: {\r\n            ValidateIsInstanceOf: { alternativeJsonProperties: [\"id\"] },\r\n            ValidateIsArray: { alternativeJsonProperties: [\"id\"] }\r\n        }\r\n        });\r\n        if (!context?.isServer) {\r\n            if (this.id !== undefined) {\r\n                var cname = classes.getClassName(this);\r\n                /* var cl = DBObject.cache[cname];\r\n                 if (cl === undefined) {\r\n                     cl = {};\r\n                     DBObject.cache[cname] = cl;\r\n                 }*/\r\n                var cached = DBObject.getFromCache(cname, this.id);\r\n                if (cached === undefined) {\r\n                    DBObject.addToCache(this);//must be cached before inserting, so the new properties are introduced to the existing\r\n                    if (this.isAutoId())\r\n                        throw new JassiError(\"autoid - load the object  before saving or remove id\");\r\n                    else\r\n                        return await this.call(this, this._createObjectInDB, context);\r\n                    //}//fails if the Object is saved before loading \r\n                } else {\r\n                    if (cached !== this) {\r\n                        throw new JassiError(\"the object must be loaded before save\");\r\n                    }\r\n                }\r\n                DBObject.addToCache(this);\r\n                //                cl[this.id] = this;//Update cache on save\r\n                var newob = this._replaceObjectWithId(this);\r\n                var id = await this.call(newob, this.save, context);\r\n                this.id = id;\r\n                return this;\r\n            } else {\r\n                if (!this.isAutoId()) {\r\n                    throw new JassiError(\"error while saving the Id is not set\");\r\n                } else {\r\n                    var newob = this._replaceObjectWithId(this);\r\n                    var h = await this.call(newob, this._createObjectInDB, context);\r\n                    this.id = h;\r\n                    DBObject.addToCache(this);\r\n                    //                \t DBObject.cache[classes.getClassName(this)][this.id]=this;\r\n                    return this;\r\n                }\r\n            }\r\n        } else {\r\n            return (await serverservices.db).save(context, this);\r\n        }\r\n    }\r\n    async _createObjectInDB(context: Context = undefined) {\r\n        if (!context?.isServer) {\r\n            throw new JassiError(\"createObject could oly be called on server\");\r\n\r\n        } else {\r\n            return (await serverservices.db).insert(context, this);\r\n        }\r\n    }\r\n    static async findOne(options = undefined, context: Context = undefined): Promise<DBObject> {\r\n        if (!context?.isServer) {\r\n            return await this.call(this.findOne, options, context);\r\n        } else {\r\n            return (await serverservices.db).findOne(context, this, options);\r\n        }\r\n    }\r\n    static async find(options: MyFindManyOptions = undefined, context: Context = undefined): Promise<DBObject[]> {\r\n        if (!context?.isServer) {\r\n            return await this.call(this.find, options, context);\r\n        } else {\r\n            return (await serverservices.db).find(context, this, options);\r\n        }\r\n    }\r\n    /**\r\n    * reload the object from jassijs.db\r\n    */\r\n    async remove(context: Context = undefined) {\r\n        if (!context?.isServer) {\r\n            //@ts-ignore\r\n            var cl = DBObject.cache[classes.getClassName(this)];\r\n            if (cl !== undefined) {\r\n                delete cl[this.id];\r\n            }\r\n\r\n            return await this.call({ id: this.id }, this.remove, context);\r\n        } else {\r\n            //@ts-ignore\r\n            return (await serverservices.db).remove(context, this);\r\n        }\r\n    }\r\n\r\n    _getObjectProperty(dummy) {\r\n\r\n    }\r\n    _setObjectProperty(dummy, dumm1) {\r\n\r\n    }\r\n}\r\n\r\nexport async function test() {\r\n    var h = db.getMetadata(classes.getClass(\"de.Kunde\"));\r\n    // debugger;\r\n}\r\n","import { classes } from \"jassijs/remote/Classes\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport {DBObject} from \"jassijs/remote/DBObject\";\r\n\r\n\r\nexport class DBObjectQueryProperties{\r\n\tname:string;\r\n\tdescription?:string;\r\n}\r\nexport function $DBObjectQuery(property:DBObjectQueryProperties):Function{\r\n     return function(target: any, propertyKey: string, descriptor: PropertyDescriptor) {\r\n        var test=classes.getClassName(target);\r\n        registry.registerMember(\"$DBObjectQuery\",target,propertyKey,property);\r\n    }\r\n}\r\n\r\nexport class DBObjectQuery{\r\n\tclassname:string; \r\n\tname:string;\r\n\tdescription:string;\r\n\t_function;\r\n\tasync execute():Promise<DBObject>{\r\n\t\treturn undefined;\r\n\t}\r\n\tstatic async getQueries(classname:string):Promise<DBObjectQuery[]>{\r\n\t\tvar cl=await classes.loadClass(classname);\r\n\t\tvar ret:DBObjectQuery[]=[];\r\n\t\tvar all=registry.getMemberData(\"$DBObjectQuery\");\r\n\t\tvar queries=all[classname];\r\n\t\tfor(var name in queries){\r\n\t\t\tvar qu:DBObjectQueryProperties=queries[name][0][0];\r\n\t\t\tvar query=new DBObjectQuery();\r\n\t\t\tquery.classname=classname;\r\n\t\t\tquery.name=qu.name;\r\n\t\t\tquery.description=qu.description;\r\n\t\t\tquery.execute=async function(){\r\n\t\t\t\treturn await cl[name]();\r\n\t\t\t}\r\n\t\t\tret.push(query);\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n}\r\n\r\nexport async function test(){\r\n//\tvar qu=(await DBObjectQuery.getQueries(\"de.Kunde\"))[0];\r\n//\tvar j=await qu.execute();\r\n\t\r\n}\r\n","\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { classes } from \"./Classes\";\r\nexport class TypeDef{\r\n\tfields:{[fieldname:string]:{[decorater:string]:any[]}}={};\r\n    getRelation(fieldname):{type:string,oclass}{\r\n        var ret=undefined;\r\n        var test=this.fields[fieldname];\r\n        for(let key in test){\r\n            if(key===\"OneToOne\"||key===\"OneToMany\"||key===\"ManyToOne\"||key===\"ManyToMany\"){\r\n                return {type:key,oclass:test[key][0]()};\r\n                 \r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n}\r\n@$Class(\"jassijs.remote.Database\")\r\nexport class Database{\r\n    private constructor(){\r\n        ;\r\n    }\r\n    typeDef:Map<object,TypeDef>=new Map();\r\n    decoratorCalls:Map<object,any[]>=new Map();\r\n    private removeOld(oclass){\r\n        var name=classes.getClassName(oclass);\r\n        this.typeDef.forEach((value,key)=>{\r\n            var testname=classes.getClassName(key);\r\n            if(testname===name&&key!==oclass)\r\n                this.typeDef.delete(key);\r\n        });\r\n        this.decoratorCalls.forEach((value,key)=>{\r\n            var testname=classes.getClassName(key);\r\n            if(testname===name&&key!==oclass){\r\n                this.decoratorCalls.delete(key);\r\n            }\r\n        });\r\n    }\r\n    _setMetadata(constructor,field:string,decoratername:string,fieldprops:any[],decoraterprops:any[],delegate){\r\n        var def:TypeDef=this.typeDef.get(constructor);\r\n        if(def===undefined){\r\n            def=new TypeDef();\r\n            \r\n            this.decoratorCalls.set(constructor,[]);\r\n            this.typeDef.set(constructor,def);//new class\r\n        }\r\n        if(field===\"this\"){\r\n            this.removeOld(constructor);\r\n        }\r\n        /*if(delegate===undefined){\r\n            debugger;\r\n        }*/\r\n        this.decoratorCalls.get(constructor).push([delegate,fieldprops,decoraterprops]);\r\n        var afield=def.fields[field];\r\n        if(def.fields[field]===undefined){\r\n        \tafield={};\r\n        \tdef.fields[field]=afield;\r\n        }\r\n        afield[decoratername]=fieldprops;\r\n    }\r\n    fillDecorators(){\r\n        this.decoratorCalls.forEach((allvalues,key)=>{\r\n            allvalues.forEach((value)=>{\r\n                value[0](...value[1])(...value[2]);\r\n            });\r\n        });\r\n    }\r\n    getMetadata(sclass):TypeDef{\r\n        return this.typeDef.get(sclass);\r\n    }\r\n}\r\n//@ts-ignore\r\nvar db:Database=new Database();\r\nexport {db};\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Context, RemoteObject } from \"jassijs/remote/RemoteObject\";\nimport { JassiError } from \"jassijs/remote/Classes\";\nimport { serverservices } from \"jassijs/remote/Serverservice\";\nimport { ValidateFunctionParameter, ValidateIsArray, ValidateIsString } from \"jassijs/remote/Validator\";\n\n@$Class(\"jassijs.remote.DatabaseTools\")\nexport class DatabaseTools extends RemoteObject { \n    //this is a sample remote function\n    @ValidateFunctionParameter()\n    public static async runSQL(@ValidateIsString() sql: string, @ValidateIsArray({optional:true}) parameter: any[] = undefined, context: Context = undefined) {\n        if (!context?.isServer) {\n            return await this.call(this.runSQL, sql, parameter, context);\n        } else {\n            if (!context.request.user.isAdmin)\n                throw new JassiError( \"only admins can delete\");\n            return (await serverservices.db).runSQL(context, sql, parameter); \n        }\n    }\n    public static async dropTables(tables: string[]): Promise<string> {\n        for (var i = 0; i < tables.length; i++) {\n            if ((/[A-Z,a-z,_,0-9]+/g).exec(tables[i])[0] !== tables[i]) {\n                throw new JassiError(tables[i] + \" is not a valid tablename\");\n            }\n        }\n        if (tables.length === 0) {\n            throw new JassiError(\"no tables to drop\")\n        }\n        return await DatabaseTools.runSQL(\"DROP TABLE \" + tables.join(\",\"));\n    }\n}\nexport async function test() {\n    /*  var h=await DatabaseTools.runSQL('DROP TABLE :p1,:p2',[\n                          {p1:\"te_person2\",\n                                      p2:\"tg_person\"}]);//,\"te_person2\"]);*/\n    //var h=await DatabaseTools.runSQL('select * from jassijs_rights'); \n \n}\n","import registry from \"jassijs/remote/Registry\";\r\n\r\n\r\nexport function $Extension(forclass): Function {\r\n    return function (pclass) {\r\n        registry.register(\"$Extension\", pclass, forclass);\r\n    }\r\n}\r\nclass ExtensionTarget{\r\n    oclass:any;\r\n    addFunction(name:string,func:(...any)=>any,ifExists:\"replace\"|\"append\"|\"prepend\"){\r\n\r\n    }\r\n    addMember(name:string){\r\n\r\n    }\r\n    annotateMember( member, type, ...annotations) {\r\n    }\r\n}\r\nexport interface ExtensionProvider {\r\n    initExtensions(extend:ExtensionTarget);\r\n}\r\nexport class Extensions {\r\n    constructor() {\r\n        this.funcRegister = registry.onregister(\"$Extension\", this.register.bind(this));\r\n    }\r\n    private funcRegister;\r\n    destroy() { \r\n        registry.offregister(\"$Extension\", this.funcRegister);\r\n    }\r\n    annotate(oclass, ...annotations) {\r\n        throw new Error(\"not implemented yet\");\r\n    }\r\n    \r\n    register(extensionclass: new (...args: any[]) => any, forclass) {\r\n        //TODO reloading???\r\n        //we must wait with to extent because forclass ist not loaded\r\n        var func = registry.onregister(\"$Class\", function (oclass, params) {\r\n            if (oclass.prototype.constructor._classname === forclass) {\r\n               // reloading code-> registry.offregister(\"$Class\", func);\r\n                let props = Object.getOwnPropertyNames(extensionclass.prototype);\r\n                for (var m = 0; m < props.length; m++) {\r\n                    var member = props[m];\r\n                    if (member !== \"_classname\" && member !== \"constructor\") {\r\n                        if (typeof extensionclass.prototype[member] === \"function\") {\r\n                            if (oclass.prototype[member] !== undefined) {\r\n                                var sic = oclass.prototype[member];\r\n                                var ext = extensionclass.prototype[member];\r\n                                oclass.prototype[member] = function (...p) {\r\n                                    sic.bind(this)(...p);\r\n                                    ext.bind(this)(...p);\r\n                                }\r\n\r\n                            } else\r\n                                oclass.prototype[member] = extensionclass.prototype[member];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        //  alert(forclass);\r\n    }\r\n    annotateMember(classname, member, type, ...annotations) {\r\n       \r\n        var func = registry.onregister(\"$Class\", function (oclass, params) {\r\n            if (oclass.prototype.constructor._classname === classname) {\r\n                registry.offregister(\"$Class\", func);\r\n                //designtype\r\n              \r\n                Reflect[\"metadata\"](\"design:type\", type)(oclass.prototype, member);\r\n                for (var x = 0; x < annotations.length; x++) {\r\n                    let ann = annotations[x];\r\n                    ann(oclass.prototype, member);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nvar extensions = new Extensions();\r\nexport { extensions };","import { $Class } from \"jassijs/remote/Registry\";;\r\n\r\n@$Class(\"jassijs.remote.FileNode\")\r\nexport class FileNode {\r\n    name: string;\r\n    fullpath?: string;\r\n    parent?: FileNode;\r\n    files?: FileNode[];\r\n    date?: any;\r\n    flag?: string;\r\n    constructor(fullpath: string = undefined) {\r\n        if (fullpath) {\r\n            this.fullpath = fullpath;\r\n            this.name = fullpath.split(\"/\")[fullpath.split(\"/\").length - 1];\r\n        }\r\n    }\r\n    isDirectory?() {\r\n        return this.files !== undefined;\r\n    }\r\n    resolveChilds?(all?: { [path: string]: FileNode }): { [path: string]: FileNode } {\r\n        if (all === undefined)\r\n            all = {};\r\n        //var ret:FileNode[]=[];\r\n\r\n        if (this.files !== undefined) {\r\n            for (let x = 0; x < this.files.length; x++) {\r\n                all[this.files[x].fullpath] = this.files[x];\r\n                this.files[x].resolveChilds(all);\r\n            }\r\n        }\r\n        return all;\r\n    }\r\n}","\r\n\r\n\r\n/*declare global {\r\n\r\n    export class ExtensionAction {\r\n         sample?: {\r\n             name: string,\r\n             param1: string;\r\n         };\r\n    }\r\n}*/\r\ndeclare global {\r\n    export interface ExtensionAction {\r\n        componentDesignerSetDesignMode?: {\r\n            enable: boolean,\r\n            componentDesigner: any/*ComponentDesigner*/\r\n        }\r\n        componentDesignerComponentCreated?: {\r\n            //component:Component\r\n            newParent: any;/*Container*/\r\n        },\r\n        componentDesignerInvisibleComponentClicked?: {\r\n            codeEditor,//:CodeEditor,\r\n            designButton//: Button\r\n        }\r\n    }\r\n}\r\n\r\n/*\r\nwindow.extentsionCalled = function (param:  ExtensionAction) {\r\n    if (param.sample) {\r\n        alert(\"default:\" + param.defaultAction.name);\r\n    }\r\n   \r\n}\r\nwindow.extentsionCalled({\r\n    sample: { name: \"Passt\" }\r\n})*/\r\n\r\n\r\n\r\ndeclare global {\r\n    interface String {\r\n        //@ts-ignore\r\n        replaceAll: any;\r\n    }\r\n}\r\n//@ts-ignore\r\nString.prototype.replaceAll = function (search: string, replacement: string): string {\r\n    var target = this;\r\n    return target.split(search).join(replacement);\r\n}\r\n\r\n\r\n\r\n/**\r\n* main class for jassi\r\n* @class Jassi\r\n*/\r\n\r\nexport class Jassi {\r\n    //  public classes:Classes=undefined;\r\n    [key: string]: any;\r\n    base: { [k: string]: any };\r\n    public modules: { [key: string]: string };\r\n    public options: any;\r\n    isServer: boolean = false;\r\n    cssFiles:{[key:string]:string};\r\n    constructor() {\r\n        //@ts-ignore\r\n        this.isServer = window.document === undefined;\r\n        //@ts-ignore\r\n        //this.modules = window?.__jassijsconfig__?.modules;\r\n        //@ts-ignore\r\n        //this.options = window?.__jassijsconfig__?.options;\r\n        if (!this.isServer) {\r\n            //@ts-ignore \r\n            /*import(\"jassijs/modul\").then((modul)=>{\r\n                jassijs.myRequire(modul.default.css[\"jassijs.css\"]);\r\n                jassijs.myRequire(modul.default.css[\"jquery-ui.css\"]);\r\n                jassijs.myRequire(modul.default.css[\"materialdesignicons.min.css\"]);\r\n    \r\n            });*/\r\n            //  this.myRequire(\"jassi/jassijs.css\");\r\n            //  this.myRequire(\"https://cdn.jsdelivr.net/npm/@mdi/font@5.9.55/css/materialdesignicons.min.css\");\r\n            //  this.myRequire(\"https:///cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css\");\r\n        }\r\n    }\r\n    includeCSSFile(modulkey:string){\r\n        this.myRequire(this.cssFiles[modulkey]);\r\n    }\r\n    /**\r\n     * include a global stylesheet\r\n     * @id - the given id - important for update\r\n     * @data - the css data to insert\r\n     **/\r\n    includeCSS(id: string, data: { [cssselector: string]: any/*CSSProperties*/ }) {\r\n        //@ts-ignore\r\n        var style: HTMLElement = document.getElementById(id);\r\n        //@ts-ignore\r\n        if (!document.getElementById(id)) {\r\n            style =  <HTMLElement>document.createRange().createContextualFragment('<style id=' + id + '></style>').children[0];\r\n            //@ts-ignore\r\n            document.head.appendChild(style);\r\n        }\r\n        var sstyle = \"\";\r\n        for (var selector in data) {\r\n            var sstyle = sstyle + \"\\n\\t\" + selector + \"{\\n\";\r\n            var properties = data[selector];\r\n            var prop = {};\r\n            for (let key in properties) {\r\n                if (key === \"_classname\")\r\n                    continue;\r\n                var newKey = key.replaceAll(\"_\", \"-\");\r\n                prop[newKey] = (<string>properties[key]);\r\n                sstyle = sstyle + \"\\t\\t\" + newKey + \":\" + (<string>properties[key]) + \";\\n\";\r\n            }\r\n            sstyle = sstyle + \"\\t}\\n\";\r\n        }\r\n        style.innerHTML = sstyle;\r\n    }\r\n    /**\r\n    * include a js or a css file\r\n    * @param {string|string[]} href - url(s) of the js or css file(s)\r\n    * @param {function} [param] - would be added with? to the url\r\n    */\r\n    myRequire(href, event = undefined, param = undefined) {\r\n        if (this.isServer)\r\n            throw new Error(\"jassi.Require is only available on client\");\r\n        if ((typeof href) === \"string\") {\r\n            href = [href];\r\n        }\r\n\r\n        var url = \"\";\r\n        if (href instanceof Array) {\r\n            if (href.length === 0) {\r\n                if (event !== undefined)\r\n                    event();\r\n                return;\r\n            } else {\r\n                url = href[0];\r\n                href.splice(0, 1);\r\n\r\n            }\r\n        }\r\n        if (url.endsWith(\".js\")) {\r\n            //@ts-ignore\r\n            if (window.document.getElementById(\"-->\" + url) !== null) {\r\n                this.myRequire(href, event);\r\n            } else {\r\n                //@ts-ignore\r\n                var js = window.document.createElement(\"script\");\r\n                //   js.type = \"text/javascript\";\r\n                js.src = url + (param !== undefined ? \"?\" + param : \"\");\r\n                var _this = this;\r\n                js.onload = function () {\r\n                    _this.myRequire(href, event);\r\n                };\r\n                js.id = \"-->\" + url;\r\n                //@ts-ignore\r\n                window.document.head.appendChild(js);\r\n            }\r\n        } else {\r\n            if(document.getElementById(\"-->\" + url)!=null){\r\n                if(event)\r\n                    event();\r\n                return;\r\n            }\r\n            //    <link href=\"lib/jquery.splitter.css\" rel=\"stylesheet\"/>\r\n            //@ts-ignore\r\n            var head = window.document.getElementsByTagName('head')[0];\r\n            //@ts-ignore\r\n            var link = window.document.createElement('link');\r\n            //  link.rel  = 'import';\r\n            link.href = url;\r\n            link.rel = \"stylesheet\";\r\n            link.id = \"-->\" + url;\r\n            var _this = this;\r\n            //@ts-ignore \r\n            link.onload = function (data1: GlobalEventHandlers, data2: Event): any {\r\n                _this.myRequire(href, event);\r\n            };\r\n            head.appendChild(link);\r\n        }\r\n    }\r\n};\r\nvar jassijs: Jassi = new Jassi();\r\nglobalThis.jassijs=jassijs;\r\n/*//@ts-ignore\r\nif (window) {\r\n    if (window[\"jassijs\"] === undefined) {//reloading this file -> no destroy namespace\r\n        //@ts-ignore\r\n        window[\"jassijs\"] = jassijs;\r\n    }\r\n}\r\nif(global){\r\n    global[\"jassijs\"] = jassijs;\r\n}*/\r\n\r\n//@ts-ignore\r\ndeclare global {\r\n    class JassiStatic extends Jassi {\r\n\r\n    }\r\n\r\n}\r\n\r\n","declare var jassijs:JassiStatic;  ","import { Context } from \"jassijs/remote/RemoteObject\";\r\nimport { TransactionItem } from \"jassijs/remote/Transaction\";\r\n\r\n\r\n\r\nexport class ObjectTransaction {\r\n    public statements: TransactionItem[] = [];\r\n    saveresolve:any[];\r\n    private functionsFinally: (() => any)[] = [];\r\n    transactionResolved(context:Context){\r\n        //var session = getNamespace('objecttransaction');\r\n        var test: TransactionItem =context.objecttransactionitem; // session.get(\"objecttransaction\");\r\n        if (test)\r\n             test.resolve = true;\r\n    }\r\n    addFunctionFinally(functionToAdd: () => any) {\r\n        this.functionsFinally.push(functionToAdd);\r\n        \r\n       \r\n        \r\n    }\r\n    checkFinally(){\r\n        let canFinally = true;\r\n        this.statements.forEach((ent) => {\r\n            if (ent.result === \"**unresolved**\")\r\n                canFinally = false;\r\n            if (ent.result[\"then\"]&&!ent[\"resolve\"]) {//Promise, which is not resolved by addFunctionFinally\r\n                canFinally=false;\r\n            }\r\n        });\r\n        if (canFinally) {\r\n            this.finally();\r\n        }\r\n    }\r\n    async finally() {\r\n        for (let x = 0; x < this.functionsFinally.length; x++) {\r\n            await this.functionsFinally[x]();\r\n        }\r\n    }\r\n}","\r\nimport \"reflect-metadata\";\r\n\r\n\r\n\r\nexport function $Class(longclassname: string): Function {\r\n    return function (pclass) {\r\n        registry.register(\"$Class\", pclass, longclassname);\r\n    }\r\n}\r\nexport function $register(servicename: string, ...params): Function {\r\n    return function (pclass) {\r\n        registry.register(servicename, pclass, params);\r\n    }\r\n}\r\n\r\nif (Reflect[\"_metadataorg\"] === undefined) {\r\n    Reflect[\"_metadataorg\"] = Reflect[\"metadata\"];\r\n    if (Reflect[\"_metadataorg\"] === undefined)\r\n        Reflect[\"_metadataorg\"] = null;\r\n}\r\n\r\n//@ts-ignore\r\nReflect[\"metadata\"] = function (o, property, ...args): Function {\r\n    return function (target: any, propertyKey: string, descriptor: PropertyDescriptor, ...fargs) {\r\n        //delegation to \r\n\r\n        if (Reflect[\"_metadataorg\"] !== null) {\r\n            var func = Reflect[\"_metadataorg\"](o, property, ...args);\r\n            func(target, propertyKey, descriptor, ...fargs);\r\n        }\r\n        if (o === \"design:type\") {\r\n            registry.registerMember(\"design:type\", target, propertyKey, property);\r\n        }\r\n    }\r\n}\r\n\r\nclass DataEntry {\r\n    oclass: new (...args: any[]) => any;\r\n    params: any[];\r\n}\r\n\r\nclass JSONDataEntry {\r\n    classname: string;\r\n    params: any[];\r\n    filename: string;\r\n}\r\n\r\n\r\n/**                       \r\n* Manage all known data registered by jassijs.register\r\n* the data is downloaded by /registry.json\r\n* registry.json is updated by the server on code upload \r\n* @class jassijs.base.Registry \r\n*/\r\nexport class Registry {\r\n    private _nextID: number;\r\n    public jsondata: { [service: string]: { [classname: string]: JSONDataEntry } } = undefined;\r\n    public data: { [service: string]: { [classname: string]: DataEntry } } = {};\r\n    public dataMembers: { [service: string]: { [classname: string]: { [membername: string]: any[] } } } = {};\r\n    public jsondataMembers: { [service: string]: { [classname: string]: { [membername: string]: any[] } } } = {};\r\n    private isLoading: any;\r\n    _eventHandler: { [service: string]: any[] } = {};\r\n    constructor() {\r\n        this._nextID = 10;\r\n        this.isLoading = this.reload();\r\n    }\r\n    getData(service: string, classname: string = undefined): DataEntry[] {\r\n        var olddata = this.data[service];\r\n        if (olddata === undefined)\r\n            return [];\r\n        var ret = [];\r\n        if (classname !== undefined) {\r\n            if (olddata[classname] !== undefined) {\r\n                ret.push(olddata[classname]);\r\n            }\r\n        } else {\r\n            for (var key in olddata) {\r\n                ret.push(olddata[key]);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    onregister(service: string, callback: (oclass: new (...args: any[]) => any, ...params) => void) {\r\n        var events = this._eventHandler[service];\r\n        if (events === undefined) {\r\n            events = [];\r\n            this._eventHandler[service] = events;\r\n        }\r\n        events.push(callback);\r\n        //push already registered events\r\n        var olddata = this.data[service];\r\n        for (var key in olddata) {\r\n            var dataentry = olddata[key];\r\n            callback(dataentry.oclass, ...dataentry.params);\r\n        }\r\n        return callback;\r\n    }\r\n    offregister(service: string, callback: (oclass: new (...args: any[]) => any, ...params) => void) {\r\n        var events = this._eventHandler[service];\r\n        var pos = events.indexOf(callback);\r\n        if (pos >= 0)\r\n            events.splice(pos, 1);\r\n    }\r\n    /** \r\n     * register an anotation\r\n     * Important: this function should only used from an annotation, because the annotation is saved in\r\n     *            index.json and could be read without loading the class\r\n     **/\r\n    register(service: string, oclass: new (...args: any[]) => any, ...params) {\r\n        var sclass = oclass.prototype.constructor._classname;\r\n        if (sclass === undefined && service !== \"$Class\") {\r\n            throw new Error(\"@$Class member is missing or must be set at last\");\r\n            return;\r\n        }\r\n        if (service === \"$Class\") {\r\n            sclass = params[0];\r\n            oclass.prototype.constructor._classname = params[0];\r\n        }\r\n        if (this.data[service] === undefined) {\r\n            this.data[service] = {};\r\n        }\r\n        this.data[service][sclass] = { oclass, params };\r\n        //the array could be modified so we need a copy\r\n        var events = this._eventHandler[service] === undefined ? undefined : [].concat(this._eventHandler[service]);\r\n\r\n        if (events !== undefined) {\r\n            for (var x = 0; x < events.length; x++) {\r\n                events[x](oclass, ...params);\r\n            }\r\n        }\r\n        if (service === \"$Class\") {\r\n            //console.log(\"load \" + params[0]);\r\n\r\n\r\n            //finalize temporary saved registerd members\r\n            let tempMem = oclass.prototype.$$tempRegisterdMembers$$;\r\n            if (tempMem === undefined)\r\n                //@ts-ignore\r\n                tempMem = oclass.$$tempRegisterdMembers$$;\r\n            if (tempMem !== undefined) {\r\n                //this.dataMembers = oclass.prototype.$$tempRegisterdMembers$$;\r\n                for (var sservice in tempMem) {\r\n                    var pservice = tempMem[sservice];\r\n                    if (this.dataMembers[sservice] === undefined) {\r\n                        this.dataMembers[sservice] = {};\r\n                    }\r\n                    this.dataMembers[sservice][sclass] = <any>pservice;\r\n                }\r\n                delete oclass.prototype.$$tempRegisterdMembers$$;\r\n                //@ts-ignore\r\n                delete oclass.$$tempRegisterdMembers$$;\r\n            }\r\n        }\r\n    }\r\n    getMemberData(service: string): {\r\n        [classname: string]: {\r\n            [membername: string]: any[]\r\n        }\r\n    } {\r\n\r\n        return this.dataMembers[service];\r\n\r\n    }\r\n    getJSONMemberData(service: string): {\r\n        [classname: string]: {\r\n            [membername: string]: any[]\r\n        }\r\n    } {\r\n\r\n        return this.jsondataMembers[service];\r\n\r\n    }\r\n    /** \r\n     * register an anotation\r\n     * Important: this function should only used from an annotation\r\n     **/\r\n    registerMember(service: string, oclass: any/*new (...args: any[]) => any*/, membername: string, ...params) {\r\n        var m = oclass;\r\n        if (oclass.prototype !== undefined)\r\n            m = oclass.prototype;\r\n        //the classname is not already known so we temporarly store the data in oclass.$$tempRegisterdMembers$$\r\n        //and register the member in register(\"$Class\",....)\r\n        if (m.$$tempRegisterdMembers$$ === undefined) {\r\n            m.$$tempRegisterdMembers$$ = {};\r\n        }\r\n        if (m.$$tempRegisterdMembers$$[service] === undefined) {\r\n            m.$$tempRegisterdMembers$$[service] = {};\r\n        }\r\n\r\n        if (m.$$tempRegisterdMembers$$[service][membername] === undefined) {\r\n            m.$$tempRegisterdMembers$$[service][membername] = [];\r\n        }\r\n        m.$$tempRegisterdMembers$$[service][membername].push(params);\r\n    }\r\n    /**\r\n    * with every call a new id is generated - used to create a free id for the dom\r\n    * @returns {number} - the id\r\n    */\r\n    nextID() {\r\n        this._nextID = this._nextID + 1;\r\n        return this._nextID.toString();\r\n    }\r\n    /**\r\n    * Load text with Ajax synchronously: takes path to file and optional MIME type\r\n    * @param {string} filePath - the url\r\n    * @returns {string} content\r\n    *//*\r\n    loadFile(filePath)\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            const xhr = new XMLHttpRequest();\r\n            let response = null;\r\n            xhr.addEventListener(\"readystatechange\", function() {\r\n              if (this.readyState === xhr.DONE) {\r\n                response = this.responseText;\r\n                if (response) {\r\n                  //response = JSON.parse(response);\r\n                  resolve(response);\r\n                }\r\n              }\r\n            });\r\n            xhr.open(\"GET\",filePath, true);\r\n            xhr.send();\r\n            xhr.overrideMimeType(\"application/json\");\r\n            xhr.onerror = function(error) {\r\n              reject({\r\n                error: \"Some error\"\r\n              })\r\n            }\r\n          });\r\n    }*/\r\n    private async loadText(url): Promise<string> {\r\n        return new Promise((resolve) => {\r\n            //@ts-ignore\r\n            let oReq = new XMLHttpRequest();\r\n            oReq.open(\"GET\", url);\r\n            oReq.onerror = () => {\r\n                resolve(undefined);\r\n            };\r\n            oReq.addEventListener(\"load\", () => {\r\n                if (oReq.status === 200)\r\n                    resolve(oReq.responseText);\r\n                else\r\n                    resolve(undefined);\r\n\r\n            });\r\n            oReq.send();\r\n        });\r\n    }\r\n    /**\r\n     * reload the registry\r\n     */\r\n    async reload() {\r\n        this.jsondata = { $Class: {} };\r\n        this.jsondataMembers = {};\r\n        var _this = this;\r\n\r\n        var modultext = \"\";\r\n        //@ts-ignore\r\n        if (window?.document === undefined) { //on server\r\n\r\n            //@ts-ignore\r\n            var fs = await import('fs');\r\n \r\n            modultext = fs.readFileSync(\"./jassijs.json\", 'utf-8');\r\n            var modules = JSON.parse(modultext).modules;\r\n            for (let modul in modules) {\r\n                try {\r\n\r\n                    try {\r\n                        //@ts-ignore\r\n                        delete require.cache[require.resolve(modul + \"/registry\")];\r\n                    } catch {\r\n                        //@ts-ignore\r\n                        var s = (require.main[\"path\"] + \"/\" + modul + \"/registry\").replaceAll(\"\\\\\", \"/\") + \".js\";\r\n                        //@ts-ignore\r\n                        delete require.cache[s];\r\n                        //@ts-ignore\r\n                        delete require.cache[s.replaceAll(\"/\", \"\\\\\")];\r\n                    }\r\n                    //@ts-ignore\r\n                    var data = (await require.main.require(modul + \"/registry\")).default;\r\n                    this.initJSONData(data);\r\n\r\n                } catch {\r\n                    console.error(\"failed load registry \" + modul + \"/registry.js\");\r\n                }\r\n\r\n\r\n            }\r\n\r\n        } else { //on client\r\n            var all = {};\r\n            var mod = JSON.parse(await (this.loadText(\"jassijs.json\")));\r\n            var modules=mod.modules;\r\n            var myrequire=require;\r\n            if(require.config===undefined){\r\n                myrequire=window[\"serverRequire\"];\r\n                modules=mod.servermodules;\r\n            }\r\n            for (let modul in modules) {\r\n                if (!modules[modul].endsWith(\".js\") && modules[modul].indexOf(\".js?\") === -1)\r\n                    //@ts-ignore\r\n                    myrequire.undef(modul + \"/registry\");\r\n                {\r\n                    var m = modul;\r\n                    all[modul] = new Promise((resolve, reject) => {\r\n                        //@ts-ignore\r\n                        myrequire([m + \"/registry\"], function (ret) {\r\n                            resolve(ret.default);\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n            for (let modul in modules) {\r\n                var data = await all[modul];\r\n                _this.initJSONData(data);\r\n            }\r\n        }\r\n\r\n        /* for (let modul in modules) {\r\n        \r\n                    //requirejs.undef(\"js/\"+modul+\"/registry.js\");\r\n                    all[modul] = fs.readFileSync(\"./../client/\"+modul+\"/registry.js\", 'utf-8');\r\n                }\r\n                for (let modul in modules) {\r\n                    var data = await all[modul].default;\r\n                    _this.initJSONData(data);\r\n                }\r\n        */\r\n        //var reg = await this.reloadRegistry();\r\n        //_this.initJSONData(reg);\r\n        /*     requirejs.undef(\"text!../../../../registry.json?bust=\"+window[\"jassiversion\"]);\r\n         require([\"text!../../../../registry.json?bust=\"+window[\"jassiversion\"]], function(registry){\r\n             _this.init(registry);  \r\n         });*/\r\n    }\r\n    /**\r\n    * loads entries from json string\r\n    * @param {string} json - jsondata\r\n    */\r\n    initJSONData(json) {\r\n\r\n        if (json === undefined)\r\n            return;\r\n        var vdata: { [file: string]: { [classname: string]: { [service: string]: any } } } = json;\r\n        for (var file in vdata) {\r\n            var vfiles = vdata[file];\r\n            for (var classname in vfiles) {\r\n                if (classname === \"date\")\r\n                    continue;\r\n                this.jsondata.$Class[classname] = {\r\n                    classname: classname,\r\n                    params: [classname],\r\n                    filename: file\r\n                }\r\n                var theclass = vfiles[classname];\r\n                for (var service in theclass) {\r\n                    if (service === \"@members\") {\r\n                         //public jsondataMembers: { [service: string]: { [classname: string]: { [membername: string]: any[] } } } = {};\r\n                        var mems=theclass[service];\r\n                        for(let mem in mems){\r\n                            let scs=mems[mem];\r\n                            for(let sc in scs){\r\n                                if(!this.jsondataMembers[sc])\r\n                                    this.jsondataMembers[sc]={};\r\n                                if(!this.jsondataMembers[sc][classname])\r\n                                    this.jsondataMembers[sc][classname]={};\r\n                                if(this.jsondataMembers[sc][classname][mem]===undefined)\r\n                                this.jsondataMembers[sc][classname][mem]=[];\r\n                                this.jsondataMembers[sc][classname][mem].push(scs[sc]);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (this.jsondata[service] === undefined)\r\n                            this.jsondata[service] = {};\r\n                        var entr = new JSONDataEntry();\r\n                        entr.params = theclass[service];\r\n                       \r\n                        entr.classname = classname;//vfiles.$Class === undefined ? undefined : vfiles.$Class[0];\r\n                        entr.filename = file;\r\n                        this.jsondata[service][entr.classname] = entr;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param service - the service for which we want informations\r\n     */\r\n    async getJSONData(service: string, classname: string = undefined): Promise<JSONDataEntry[]> {\r\n       // if (this.isLoading)\r\n            await this.isLoading;\r\n       /* if (this.jsondata === undefined) {\r\n            this.isLoading = this.reload();\r\n            await this.isLoading;\r\n        }\r\n        this.isLoading = undefined;*/\r\n        var ret = [];\r\n        var odata = this.jsondata[service];\r\n        if (odata === undefined)\r\n            return ret;\r\n        if (classname !== undefined)\r\n            return odata[classname] === undefined ? undefined : [odata[classname]];\r\n        for (var clname in odata) {\r\n            if (classname === undefined || classname === clname)\r\n                ret.push(odata[clname]);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\n    getAllFilesForService(service: string, classname: string = undefined): string[] {\r\n\r\n        var data = this.jsondata[service];\r\n        var ret: string[] = [];\r\n        for (var clname in data) {\r\n            var test = data[clname];\r\n            if (classname == undefined || test.classname === classname)\r\n                ret.push(test.filename);\r\n        }\r\n        return ret;\r\n    }\r\n    async loadAllFilesForEntries(entries: JSONDataEntry[]) {\r\n        var files = [];\r\n        for (let x = 0; x < entries.length; x++) {\r\n            if (files.indexOf(entries[x].filename) === -1)\r\n                files.push(entries[x].filename);\r\n        }\r\n        await this.loadAllFiles(files);\r\n    }\r\n    /**\r\n     * load all files that registered the service\r\n     * @param {string} service - name of the service\r\n     * @param {function} callback - called when loading is finished\r\n     */\r\n    async loadAllFilesForService(service: string) {\r\n        var services = this.getAllFilesForService(service);\r\n        await this.loadAllFiles(services);\r\n    }\r\n    /**\r\n     * load all files \r\n     * @param {string} files - the files to load\r\n     */\r\n    async loadAllFiles(files: string[]) {\r\n        //   var services = this.getAllFilesForService(service);\r\n\r\n        return new Promise((resolve, reject) => {\r\n\r\n            var dependency = [];\r\n            for (var x = 0; x < files.length; x++) {\r\n                var name = files[x];\r\n                if (name.endsWith(\".ts\"))\r\n                    name = name.substring(0, name.length - 3);\r\n                dependency.push(name);\r\n            }\r\n            var req: any = require;\r\n            req(dependency, function () {\r\n                resolve(undefined);\r\n            });\r\n        });\r\n    }\r\n};\r\n\r\nvar registry = new Registry();\r\nexport default registry;\r\nexport function migrateModul(oldModul, newModul) {\r\n    if(newModul.registry){\r\n        newModul.registry._nextID = oldModul.registry._nextID;\r\n        newModul.registry.entries = oldModul.registry.entries;\r\n    }\r\n}\r\n//jassijs.registry=registry;\r\n","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { classes, JassiError } from \"jassijs/remote/Classes\";\r\nimport {RemoteProtocol} from \"jassijs/remote/RemoteProtocol\";\r\n\r\nexport class Context{\r\n\tisServer:boolean;\r\n\t[key:string]:any;\r\n}\r\n@$Class(\"jassijs.remote.RemoteObject\")\r\nexport class RemoteObject{ \r\n\tpublic static async call(method:(...ars:any)=>any,...parameter){\r\n\t  \r\n\t\tif(jassijs.isServer)\r\n\t\t\tthrow new JassiError(\"should be called on client\");\r\n\t\tvar prot=new RemoteProtocol();\r\n\t\tvar context=parameter[parameter.length-1];\r\n\t\tprot.classname=classes.getClassName(this);\r\n\t\tprot._this= \"static\";  \r\n\t\tprot.parameter=parameter;\r\n\t\tprot.method=method.name;\r\n\t\tprot.parameter.splice(parameter.length-1,1);\r\n\r\n\t\tvar ret;\r\n\t\tif(context?.transactionitem){\r\n\t\t\tret=await context.transactionitem.transaction.wait(context.transactionitem,prot);\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t\t//let Transaction= (await import(\"jassijs/remote/Transaction\")).Transaction;\r\n\t\t//var trans=Transaction.cache.get(_this);\r\n\r\n\t\t//if(trans&&trans[method.name]){\r\n\t\t//\tthrow \"not implemented\"\r\n\t\t//\tret=await trans[method.name][0]._push(undefined,prot.method,prot,trans[method.name][1]);\r\n\t\t//}\r\n\r\n\t\tret= await prot.call();\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tpublic async call(_this,method:(...ars:any)=>any,...parameter){\r\n\t\tif(jassijs.isServer)\r\n\t\t\tthrow new JassiError( \"should be called on client\");\r\n\t\tvar prot=new RemoteProtocol();\r\n\t\tvar context=parameter[parameter.length-1];\r\n\t\tprot.classname=classes.getClassName(this);\r\n\t\tprot._this=_this;\r\n\t\tprot.parameter=parameter;\r\n\t\tprot.method=method.name;\r\n\t\tprot.parameter.splice(parameter.length-1,1);\r\n\t\tvar ret;\r\n\t\t//let context=(await import(\"jassijs/remote/Context\")).Context;\r\n\t\t//let Transaction= (await import(\"jassijs/remote/Transaction\")).Transaction;\r\n\t\t//var trans=Transaction.cache.get(_this);\r\n\t\t//var trans=context.get(\"transaction\");\r\n\t\tif(context?.transactionitem){\r\n\t\t\tret=await context.transactionitem.transaction.wait(context.transactionitem,prot);\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t    ret= await prot.call();\r\n\t\treturn ret;\r\n\t}\r\n}","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { classes, JassiError } from \"jassijs/remote/Classes\";\r\n\r\n\r\n\r\n@$Class(\"jassijs.remote.RemoteProtocol\")\r\nexport class RemoteProtocol {\r\n    static counter = 0;\r\n    classname: string;\r\n    _this: any;\r\n    parameter: any[];\r\n    method: string;\r\n    /** \r\n     * converts object to jsonstring\r\n     * if class is registerd in classes then the class is used\r\n     * if id is used then recursive childs are possible\r\n     * @param obj \r\n     */\r\n    stringify(obj) {\r\n        var ref = [];\r\n\r\n        return JSON.stringify(obj, function (key, value) {\r\n            var val: any = {};\r\n            var clname = value === null ? undefined : classes.getClassName(value);\r\n            var k = clname;\r\n            if (k !== undefined) {\r\n                val.__clname__ = clname;\r\n\r\n                //if (value.id !== undefined)\r\n                //\tk = k + \":\" + (value.id === undefined ? RemoteProtocol.counter++ : value.id);\r\n                //the object was seen the we save a ref\r\n                if (ref.indexOf(value) >= 0) {\r\n                    val.__ref__ = ref.indexOf(value);\r\n\r\n                } else {\r\n                    Object.assign(val, value);\r\n                    ref.push(value);\r\n                    val.__refid__ = ref.length - 1;\r\n                }\r\n\r\n\r\n            } else {\r\n                val = value;\r\n            }\r\n\r\n\r\n            return val;\r\n        });\r\n    }\r\n\r\n    public static async simulateUser(user: string = undefined, password: string = undefined) {\r\n        var rights = (await import(\"jassijs/remote/security/Rights\")).default;\r\n        //\tif(await rights.isAdmin()){\r\n        //\t\tthrow new Error(\"not an admin\")\r\n        //\t}\r\n        //@ts-ignore\r\n        var Cookies = (await import(\"jassijs/util/Cookies\")).Cookies;\r\n        if (user === undefined) {\r\n            \r\n            Cookies.remove(\"simulateUser\", {});\r\n            Cookies.remove(\"simulateUserPassword\", {});\r\n        } else {\r\n            Cookies.set(\"simulateUser\", user, {});\r\n            Cookies.set(\"simulateUserPassword\", password, {});\r\n        }\r\n\r\n    }\r\n    async exec(config, object) {\r\n        return await new Promise((resolve,reject)=>{\r\n            //@ts-ignore\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open('POST', config.url, true);\r\n            xhr.setRequestHeader(\"Content-Type\", \"text\");\r\n\r\n            xhr.onload = function (data) {\r\n                if(this.status===200)\r\n                    resolve(this.responseText);\r\n                else\r\n                    reject(this);\r\n            };\r\n    \r\n            xhr.send(config.data);\r\n            xhr.onerror=function (data) {\r\n               reject(data);\r\n            };\r\n        }\r\n        );\r\n     //return await $.ajax(config, object);\r\n    }\r\n    /**\r\n   * call the server\r\n   */\r\n    async call() {\r\n        if (jassijs.isServer)\r\n            throw new JassiError(\"should be called on client\");\r\n        var sdataObject = undefined;\r\n        var url = \"remoteprotocol?\" + Date.now();\r\n        var _this = this;\r\n        var redirect = undefined;\r\n        var config = {\r\n            url: url,\r\n            type: 'post',\r\n            dataType: \"text\",\r\n            data: this.stringify(this),\r\n        }\r\n        var ret;\r\n        try {\r\n            ret = await this.exec(config, this._this);\r\n        } catch (ex) {\r\n            if (ex.status === 401 || (ex.responseText && ex.responseText.indexOf(\"jwt expired\") !== -1)) {\r\n                redirect = new Promise((resolve) => {\r\n                    //@ts-ignore\r\n                    import(\"jassijs/base/LoginDialog\").then((lib) => {\r\n                        lib.doAfterLogin(resolve, _this);\r\n                    });\r\n                });\r\n            } else {\r\n                throw ex;\r\n            }\r\n        }\r\n\r\n        if (redirect !== undefined)\r\n            return await redirect;\r\n        if (ret === \"$$undefined$$\")\r\n            return undefined;\r\n        var retval = await this.parse(ret);\r\n        if (retval[\"**throw error**\"] !== undefined) {\r\n            throw new JassiError(retval[\"**throw error**\"]);\r\n        }\r\n        return retval;\r\n    }\r\n\r\n    /**\r\n     * converts jsonstring to an object\r\n     */\r\n    async parse(text: string) {\r\n        var ref = {};\r\n        if (text === undefined)\r\n            return undefined;\r\n        if (text === \"\")\r\n            return \"\";\r\n        //first get all classnames\t\r\n        var allclassnames = [];\r\n\r\n        JSON.parse(text, function (key, value) {\r\n            if (value === null || value === undefined)\r\n                return value;\r\n            if (value.__clname__ !== null && value.__clname__ !== undefined && allclassnames.indexOf(value.__clname__) === -1) {\r\n                allclassnames.push(value.__clname__);\r\n            }\r\n\r\n            return value;\r\n        });\r\n\r\n        //all classes must be loaded\r\n        for (var x = 0; x < allclassnames.length; x++) {\r\n            await classes.loadClass(allclassnames[x]);\r\n        }\r\n        return JSON.parse(text, function (key, value) {\r\n            var val = value;\r\n            if (value === null || value === undefined)\r\n                return value;\r\n            if (value.__ref__ !== undefined) {\r\n                val = ref[value.__ref__];\r\n                if (val === undefined) {\r\n                    //TODO import types from js\r\n                    //create dummy\r\n                    var type = classes.getClass(value.__clname__);\r\n                    //@ts-ignore\r\n                    var test = type._createObject === undefined ? undefined : type._createObject(val);\r\n                    if (test !== undefined)\r\n                        val = test;\r\n                    else\r\n                        val = new type();\r\n                    ref[value.__ref__] = val;\r\n                }\r\n            } else {\r\n                if (value.__clname__ !== undefined) {\r\n                    if (value.__refid__ !== undefined && ref[value.__refid__] !== undefined) {//there is a dummy\r\n                        val = ref[value.__refid__];\r\n                    } else {\r\n                        //TODO import types from js\r\n                        var type = classes.getClass(value.__clname__);\r\n                        //@ts-ignore\r\n                        var test = type._createObject === undefined ? undefined : type._createObject(value);\r\n                        if (test !== undefined)\r\n                            val = test;\r\n                        else\r\n                            val = new type();\r\n                        if (value.__refid__ !== undefined) {\r\n                            ref[value.__refid__] = val;\r\n                        }\r\n                    }\r\n                    Object.assign(val, value);\r\n                    delete val.__refid__;\r\n                    delete val.__clname__;\r\n                }\r\n            }\r\n            //Date conversation\r\n            var datepattern = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*))(?:Z|(\\+|-)([\\d|:]*))?$/;\r\n            if (typeof value === 'string') {\r\n                var a = datepattern.exec(value);\r\n                if (a)\r\n                    return new Date(value);\r\n            }\r\n            return val;\r\n        });\r\n    }\r\n    async test() {\r\n        var a: any = new A();\r\n        var b: any = new B();\r\n        a.b = b;\r\n        a.name = \"max\";\r\n        a.id = 9;\r\n        b.a = a;\r\n        b.id = 7;\r\n        var s = this.stringify(a);\r\n        var test = await this.parse(s);\r\n    }\r\n}\r\n\r\n\r\nclass A {\r\n    name: \"hallo\"\r\n}\r\n//jassijs.register(\"classes\", \"de.A\", A);\r\nclass B {\r\n    hh: \"du\"\r\n\r\n}\r\n//jassijs.register(\"classes\", \"de.B\", B);","//@ts-ignore\r\n\r\nimport \"jassijs/remote/Classes\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport registry from \"jassijs/remote/Registry\";\r\n\r\nexport class ServerserviceProperties {\r\n    name: string;\r\n    getInstance:(()=>Promise<any>) \r\n}\r\nvar runningServerservices = {};\r\nvar beforeServiceLoadHandler=[];\r\nexport function beforeServiceLoad(func:(name:string,props:ServerserviceProperties)=>void){\r\n    beforeServiceLoadHandler.push(func);\r\n}\r\ndeclare global{ \r\n    interface Serverservice{\r\n\r\n    }\r\n}\r\n\r\nvar serverservices: Serverservice = <any>new Proxy(runningServerservices, {\r\n    get(target, prop, receiver) {\r\n        return new Promise(async (resolve, reject) => {\r\n            var khsdf=runningServerservices;\r\n            if (target[prop]) { \r\n                resolve(target[prop]); \r\n            } else {\r\n                var all = await registry.getJSONData(\"$Serverservice\");\r\n                for (var x = 0; x < all.length; x++) { \r\n                    var serv = all[x];\r\n                    var name = serv.params[0].name;\r\n                    if (name === prop) { \r\n                        var classname = serv.classname;\r\n                        var cl = await registry.getJSONData(\"$Class\", classname);\r\n                        //@ts-ignore\r\n                        if (require.main) {//nodes load project class from module\r\n                            /*for (var jfile in require.cache) {\r\n                                if(jfile.replaceAll(\"\\\\\",\"/\").endsWith(serv.filename.substring(0,serv.filename.length-2)+\"js\")){\r\n                                    delete require.cache[jfile];\r\n                                }\r\n                            }*/\r\n                            //@ts-ignore\r\n                            await Promise.resolve().then(() => require.main.require(classname.replaceAll(\".\", \"/\")));\r\n                        } else {\r\n                            classes.loadClass(classname); //await import(classname.replaceAll(\".\", \"/\"));\r\n                        } \r\n                        var props:ServerserviceProperties=registry.getData(\"$Serverservice\",classname)[0].params[0];\r\n                        for(var x=0;x<beforeServiceLoadHandler.length;x++){\r\n                            await beforeServiceLoadHandler[x](<string>prop,props);\r\n                        }\r\n                        var instance= props.getInstance();\r\n                       \r\n                        target[prop]=instance;\r\n                        resolve(instance);  \r\n                        return;\r\n                           \r\n                    }\r\n                   \r\n                }\r\n            }\r\n\r\n            reject(\"serverservice not found:\" + <string>prop);\r\n        });\r\n    }\r\n});  \r\n\r\nexport function $Serverservice(properties: ServerserviceProperties): Function {\r\n    return function (pclass) {\r\n        registry.register(\"$Serverservice\", pclass, properties);\r\n    }\r\n}\r\n \r\n\r\nvar doNotReloadModule=true;\r\nexport { serverservices,doNotReloadModule,runningServerservices};\r\n\r\n\r\n","\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Context, RemoteObject } from \"jassijs/remote/RemoteObject\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { classes, JassiError } from \"./Classes\";\r\nimport { serverservices } from \"./Serverservice\";\r\nimport { ValidateFunctionParameter, ValidateIsArray, ValidateIsBoolean, ValidateIsString } from \"jassijs/remote/Validator\";\r\n\r\n\r\n\r\n\r\n\r\n@$Class(\"jassijs.remote.Server\")\r\nexport class Server extends RemoteObject {\r\n    private static isonline: Promise<boolean> = undefined;\r\n    static lastTestServersideFileResult = undefined;\r\n    //files found in js.map of modules in the jassijs.json\r\n    public static filesInMap: { [name: string]: { modul: string, id: number } } = undefined;\r\n    constructor() {\r\n        super();\r\n\r\n    }\r\n    private _convertFileNode(node: FileNode): FileNode {\r\n        var ret: FileNode = new FileNode();\r\n        Object.assign(ret, node);\r\n        if (ret.files !== undefined) {\r\n            for (let x = 0; x < ret.files.length; x++) {\r\n                ret.files[x].parent = ret;\r\n                var s = ret.fullpath === undefined ? \"\" : ret.fullpath;\r\n                ret.files[x].fullpath = s + (s === \"\" ? \"\" : \"/\") + ret.files[x].name;\r\n                ret.files[x] = this._convertFileNode(ret.files[x]);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    async fillFilesInMapIfNeeded() {\r\n        if (Server.filesInMap)\r\n            return;\r\n        var ret = {};\r\n        for (var mod in jassijs.modules) {\r\n            if (jassijs?.options?.Server?.filterModulInFilemap) {\r\n                if (jassijs?.options?.Server?.filterModulInFilemap.indexOf(mod) === -1)\r\n                    continue;\r\n            }\r\n            if (jassijs.modules[mod].endsWith(\".js\") || jassijs.modules[mod].indexOf(\".js?\") > -1) {\r\n                let mapname = jassijs.modules[mod].split(\"?\")[0] + \".map\";\r\n                if (jassijs.modules[mod].indexOf(\".js?\") > -1)\r\n                    mapname = mapname + \"?\" + jassijs.modules[mod].split(\"?\")[1];\r\n                var code = await $.ajax({ url: mapname, dataType: \"text\" })\r\n                var data = JSON.parse(code);\r\n                var files = data.sources;\r\n                for (let x = 0; x < files.length; x++) {\r\n                    let fname = files[x].substring(files[x].indexOf(mod + \"/\"));\r\n                    if (jassijs?.options?.Server?.filterSytemfilesInFilemap === true) {\r\n                        if (fname.endsWith(\"/modul.js\") || fname.endsWith(\"/registry.js\"))\r\n                            continue;\r\n                    }\r\n                    if (fname.endsWith)\r\n                        ret[fname] = {\r\n                            id: x,\r\n                            modul: mod\r\n                        };\r\n                }\r\n            }\r\n        }\r\n        Server.filesInMap = ret;\r\n\r\n    }\r\n    async addFilesFromMap(root: FileNode) {\r\n        await this.fillFilesInMapIfNeeded();\r\n        for (var fname in Server.filesInMap) {\r\n            let path = fname.split(\"/\");\r\n            var parent = root;\r\n            for (let p = 0; p < path.length; p++) {\r\n                if (p + 1 < path.length) {\r\n                    let dirname = path[p];\r\n                    var found = undefined;\r\n                    for (let f = 0; f < parent.files.length; f++) {\r\n                        if (parent.files[f].name === dirname)\r\n                            found = parent.files[f];\r\n                    }\r\n                    if (!found) {\r\n                        found = {\r\n                            flag: \"fromMap\",\r\n                            name: dirname,\r\n                            files: []\r\n                        }\r\n                        parent.files.push(found);\r\n                    }\r\n                    parent = found;\r\n\r\n                } else {\r\n                    parent.files.push({\r\n                        flag: \"fromMap\",\r\n                        name: path[p],\r\n                        date: undefined\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n    * gets alls ts/js-files from server\r\n    * @param {Promise<string>} [async] - returns a Promise for asynchros handling\r\n    * @returns {string[]} - list of files\r\n    */\r\n    @ValidateFunctionParameter()\r\n    async dir(@ValidateIsBoolean({ optional: true }) withDate: boolean = false, context: Context = undefined): Promise<FileNode> {\r\n        if (!context?.isServer) {\r\n            var ret: FileNode;\r\n            if ((await Server.isOnline(context)) === true)\r\n                ret = <FileNode>await this.call(this, this.dir, withDate, context);\r\n            else\r\n                ret = { name: \"\", files: [] };\r\n            await this.addFilesFromMap(ret);\r\n            ret.fullpath = \"\";//root\r\n            let r = this._convertFileNode(ret);\r\n            return r;\r\n        } else {\r\n            var rett = (await serverservices.filesystem).dir(\"\", withDate);\r\n            return rett;\r\n            // return [\"jassijs/base/ChromeDebugger.ts\"];\r\n        }\r\n    }\r\n    @ValidateFunctionParameter()\r\n    public async zip(@ValidateIsString() directoryname: string, @ValidateIsBoolean({ optional: true }) serverdir: boolean = undefined, context: Context = undefined) {\r\n        if (!context?.isServer) {\r\n            return <{ [id: string]: string }>await this.call(this, this.zip, directoryname, serverdir, context);\r\n        } else {\r\n            return (await serverservices.filesystem).zip(directoryname, serverdir);\r\n            // return [\"jassijs/base/ChromeDebugger.ts\"];\r\n        }\r\n    }\r\n    /**\r\n     * gets the content of a file from server\r\n     * @param {string} fileNamew\r\n     * @returns {string} content of the file\r\n     */\r\n    @ValidateFunctionParameter()\r\n    async loadFiles(@ValidateIsArray({ type: tp=>String }) fileNames: string[], context: Context = undefined): Promise<{ [id: string]: string }> {\r\n        if (!context?.isServer) {\r\n            return <{ [id: string]: string }>await this.call(this, this.loadFiles, fileNames, context);\r\n        } else {\r\n            return (await serverservices.filesystem).loadFiles(fileNames);\r\n            // return [\"jassijs/base/ChromeDebugger.ts\"];\r\n        }\r\n    }\r\n    /**\r\n     * gets the content of a file from server\r\n     * @param {string} fileName\r\n     * @returns {string} content of the file\r\n     */\r\n    @ValidateFunctionParameter()\r\n    async loadFile(@ValidateIsString() fileName: string, context: Context = undefined): Promise<string> {\r\n        var fromServerdirectory = fileName.startsWith(\"$serverside/\");\r\n        if (!context?.isServer) {\r\n            await this.fillFilesInMapIfNeeded();\r\n            if (!fromServerdirectory && Server.filesInMap[fileName]) {\r\n                //perhabs the files ar in localserver?\r\n                var Filesystem = classes.getClass(\"jassijs_localserver.Filesystem\");\r\n                if (Filesystem && (await new Filesystem().loadFileEntry(fileName) !== undefined)) {\r\n                    //use ajax\r\n                } else {\r\n                    var found = Server.filesInMap[fileName];\r\n                    let mapname = jassijs.modules[found.modul].split(\"?\")[0] + \".map\";\r\n                    if (jassijs.modules[found.modul].indexOf(\".js?\") > -1)\r\n                        mapname = mapname + \"?\" + jassijs.modules[found.modul].split(\"?\")[1];\r\n                    var code = await this.loadFile(mapname, context);\r\n                    var data = JSON.parse(code).sourcesContent[found.id];\r\n                    return data;\r\n                }\r\n\r\n            }\r\n            if (fromServerdirectory) {\r\n\r\n                return await this.call(this, this.loadFile, fileName, context);\r\n            } else\r\n                return $.ajax({ url: fileName, dataType: \"text\" });\r\n            //return await this.call(this,\"loadFile\", fileName);\r\n        } else {\r\n            if (!context.request.user.isAdmin)\r\n                throw new JassiError(\"only admins can loadFile from Serverdirectory\");\r\n            var rett: string = await (await serverservices.filesystem).loadFile(fileName);\r\n            return rett;\r\n        }\r\n    }\r\n\r\n    /**\r\n    * put the content to a file\r\n    * @param [{string}] fileNames - the name of the file \r\n    * @param [{string}] contents\r\n    */\r\n    @ValidateFunctionParameter()\r\n    async saveFiles(@ValidateIsArray({ type: type=>String }) fileNames: string[], @ValidateIsArray({ type:  type=>String}) contents: string[], context: Context = undefined): Promise<string> {\r\n        if (!context?.isServer) {\r\n            var allfileNames: string[] = [];\r\n            var allcontents: string[] = [];\r\n            var alltsfiles: string[] = [];\r\n            for (var f = 0; f < fileNames.length; f++) {\r\n                var _this = this;\r\n\r\n                var fileName = fileNames[f];\r\n                var content = contents[f];\r\n                if (!fileName.startsWith(\"$serverside/\") && (fileName.endsWith(\".ts\") || fileName.endsWith(\".js\"))) {\r\n\r\n                   //var tss = await import(\"jassijs_editor/util/Typescript\");\r\n                   var tss=<any> await classes.loadClass(\"jassijs_editor.util.Typescript\");\r\n                   var rets = await tss.instance.transpile(fileName, content);\r\n                   \r\n                   allfileNames = allfileNames.concat(rets.fileNames);\r\n                    allcontents = allcontents.concat(rets.contents);\r\n                    alltsfiles.push(fileName); \r\n                } else {\r\n                    allfileNames.push(fileName);\r\n                    allcontents.push(content);\r\n                }\r\n            }\r\n            var res = await this.call(this, this.saveFiles, allfileNames, allcontents, context);\r\n\r\n            if (res === \"\") {\r\n                //@ts-ignore\r\n                import(\"jassijs/ui/Notify\").then((el) => {\r\n                    el.notify(fileName + \" saved\", \"info\", { position: \"bottom right\" });\r\n                });\r\n                //if (!fromServerdirectory) {\r\n                for (var x = 0; x < alltsfiles.length; x++) {\r\n                    await $.ajax({ url: alltsfiles[x], dataType: \"text\" });\r\n                }\r\n                // }\r\n            } else {\r\n                //@ts-ignore\r\n                import(\"jassijs/ui/Notify\").then((el) => {\r\n                    el.notify(fileName + \" not saved\", \"error\", { position: \"bottom right\" });\r\n                });\r\n                throw new JassiError(res);\r\n            }\r\n            return res;\r\n        } else {\r\n            if (!context.request.user.isAdmin)\r\n                throw new JassiError(\"only admins can saveFiles\");\r\n            var ret = (await serverservices.filesystem).saveFiles(fileNames, contents, true);\r\n            return ret;\r\n        }\r\n    }\r\n    /**\r\n    * put the content to a file\r\n    * @param {string} fileName - the name of the file\r\n    * @param {string} content\r\n    */\r\n    @ValidateFunctionParameter()\r\n    async saveFile(@ValidateIsString() fileName: string, @ValidateIsString() content: string, context: Context = undefined): Promise<string> {\r\n        /*await this.fillFilesInMapIfNeeded();\r\n        if (Server.filesInMap[fileName]) {\r\n            //@ts-ignore\r\n             notify(fileName + \" could not be saved on server\", \"error\", { position: \"bottom right\" });\r\n            return;\r\n        }*/\r\n        return await this.saveFiles([fileName], [content], context);\r\n    }\r\n    /**\r\n   * deletes a server modul\r\n   **/\r\n    @ValidateFunctionParameter()\r\n    async testServersideFile(@ValidateIsString() name: string, context: Context = undefined): Promise<string> {\r\n        if (!name.startsWith(\"$serverside/\"))\r\n            throw new JassiError(name + \" is not a serverside file\");\r\n        if (!context?.isServer) {\r\n            var ret = await this.call(this, this.testServersideFile, name, context);\r\n            //@ts-ignore\r\n            //  $.notify(fileNames[0] + \" and more saved\", \"info\", { position: \"bottom right\" });\r\n            return ret;\r\n        } else {\r\n            if (!context.request.user.isAdmin) {\r\n                throw new JassiError(\"only admins can delete\");\r\n            }\r\n            //@ts-ignore\r\n            var test = (await import(name.replaceAll(\"$serverside/\", \"\"))).test;\r\n            if (test)\r\n                Server.lastTestServersideFileResult = await test();\r\n            return Server.lastTestServersideFileResult;\r\n\r\n        }\r\n    }\r\n    /**\r\n   * deletes a server modul\r\n   **/\r\n    @ValidateFunctionParameter()\r\n    async removeServerModul(@ValidateIsString() name: string, context: Context = undefined): Promise<string> {\r\n        if (!context?.isServer) {\r\n            var ret = await this.call(this, this.removeServerModul, name, context);\r\n            //@ts-ignore\r\n            //  $.notify(fileNames[0] + \" and more saved\", \"info\", { position: \"bottom right\" });\r\n            return ret;\r\n        } else {\r\n            if (!context.request.user.isAdmin)\r\n                throw new JassiError(\"only admins can delete\");\r\n            return (await serverservices.filesystem).removeServerModul(name);\r\n        }\r\n    }\r\n    /**\r\n    * deletes a file or directory\r\n    **/\r\n    @ValidateFunctionParameter()\r\n    async delete(@ValidateIsString()  name: string, context: Context = undefined): Promise<string> {\r\n        if (!context?.isServer) {\r\n            var ret = await this.call(this, this.delete, name, context);\r\n            //@ts-ignore\r\n            //  $.notify(fileNames[0] + \" and more saved\", \"info\", { position: \"bottom right\" });\r\n            return ret;\r\n        } else {\r\n            if (!context.request.user.isAdmin)\r\n                throw new JassiError(\"only admins can delete\");\r\n            return (await serverservices.filesystem).remove(name);\r\n        }\r\n    }\r\n    /**\r\n     * renames a file or directory\r\n     **/\r\n     @ValidateFunctionParameter()\r\n    async rename(@ValidateIsString() oldname: string, @ValidateIsString() newname: string, context: Context = undefined): Promise<string> {\r\n        if (!context?.isServer) {\r\n            var ret = await this.call(this, this.rename, oldname, newname, context);\r\n            //@ts-ignore\r\n            //  $.notify(fileNames[0] + \" and more saved\", \"info\", { position: \"bottom right\" });\r\n            return ret;\r\n        } else {\r\n            if (!context.request.user.isAdmin)\r\n                throw new JassiError(\"only admins can rename\");\r\n            return (await serverservices.filesystem).rename(oldname, newname);;\r\n        }\r\n    }\r\n    /**\r\n    * is the nodes server running \r\n    **/\r\n    public static async isOnline(context: Context = undefined): Promise<boolean> {\r\n        if (!context?.isServer) {\r\n            //no serviceworker no serverside implementation\r\n            if (navigator.serviceWorker.controller === null)\r\n                return false;\r\n            try {\r\n                if (this.isonline === undefined)\r\n                    Server.isonline = await this.call(this.isOnline, context);\r\n                return await Server.isonline;\r\n            } catch {\r\n                return false;\r\n            }\r\n            //@ts-ignore\r\n            //  $.notify(fileNames[0] + \" and more saved\", \"info\", { position: \"bottom right\" });\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n    /**\r\n     * creates a file \r\n     **/\r\n     @ValidateFunctionParameter()\r\n    async createFile(@ValidateIsString() filename: string, content: string, context: Context = undefined): Promise<string> {\r\n        if (!context?.isServer) {\r\n            var ret = await this.call(this, this.createFile, filename, content, context);\r\n            //@ts-ignore\r\n            //  $.notify(fileNames[0] + \" and more saved\", \"info\", { position: \"bottom right\" });\r\n            return ret;\r\n        } else {\r\n            if (!context.request.user.isAdmin)\r\n                throw new JassiError(\"only admins can createFile\");\r\n\r\n            return (await serverservices.filesystem).createFile(filename, content);\r\n        }\r\n    }\r\n    /**\r\n    * creates a file \r\n    **/\r\n    @ValidateFunctionParameter()\r\n    async createFolder(@ValidateIsString() foldername: string, context: Context = undefined): Promise<string> {\r\n        if (!context?.isServer) {\r\n            var ret = await this.call(this, this.createFolder, foldername, context);\r\n            //@ts-ignore\r\n            //  $.notify(fileNames[0] + \" and more saved\", \"info\", { position: \"bottom right\" });\r\n            return ret;\r\n        } else {\r\n            if (!context.request.user.isAdmin)\r\n                throw new JassiError(\"only admins can createFolder\");\r\n            return (await serverservices.filesystem).createFolder(foldername);\r\n        }\r\n    }\r\n    @ValidateFunctionParameter()\r\n    async createModule(@ValidateIsString() modulname: string, context: Context = undefined): Promise<string> {\r\n        if (!context?.isServer) {\r\n            var ret = await this.call(this, this.createModule, modulname, context);\r\n            //@ts-ignore\r\n            //  $.notify(fileNames[0] + \" and more saved\", \"info\", { position: \"bottom right\" });\r\n            return ret;\r\n        } else {\r\n            if (!context.request.user.isAdmin)\r\n                throw new JassiError(\"only admins can createFolder\");\r\n            return (await serverservices.filesystem).createModule(modulname);\r\n        }\r\n    }\r\n    static async mytest(context: Context = undefined) {\r\n        if (!context?.isServer) {\r\n            return await this.call(this.mytest, context);\r\n        } else\r\n            return 14;//this is called on server\r\n    }\r\n}\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\r\n\r\n@$Class(\"jassijs.remote.Test\")\r\nexport class Test {\r\n\r\n    /**\r\n     * fails if the condition is false\r\n     * @parameter condition \r\n     **/\r\n    expectEqual(condition: boolean) {\r\n        if (!condition)\r\n            throw new Error(\"Test fails\");\r\n    }\r\n    /**\r\n     * fails if the func does not throw an error\r\n     * @parameter func - the function that should failed\r\n     **/\r\n    expectError(func) {\r\n        try {\r\n\r\n            if (func.toString().startsWith(\"async \")) {\r\n                var errobj;\r\n                try {\r\n                    throw new Error(\"test fails\");\r\n                } catch (err) {\r\n                    errobj = err;\r\n                }\r\n                func().then(() => {\r\n                    throw errobj;\r\n                }).catch((err) => {\r\n                    if (err.message === \"test fails\")\r\n                        throw errobj;\r\n                    var k = 1;//io\r\n                });\r\n                return;\r\n            } else {\r\n                func();\r\n            }\r\n        } catch {\r\n            return;//io\r\n        }\r\n        throw new Error(\"test fails\");\r\n    }\r\n    /**\r\n    * fails if the func does not throw an error\r\n    * @parameter func - the function that should failed\r\n    **/\r\n    async expectErrorAsync(func) {\r\n        var errors = false;\r\n        try {\r\n            var errobj;\r\n\r\n            await func().then((e) => {\r\n\r\n            }).catch((e) => {\r\n                errors = true;\r\n            });\r\n        } catch {\r\n            errors = true;\r\n        }\r\n        if (!errors)\r\n            throw new Error(\"test fails\");\r\n    }\r\n}","\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport registry from \"jassijs/remote/Registry\";\r\n\r\nimport { Context, RemoteObject } from \"jassijs/remote/RemoteObject\";\r\nimport { Setting } from \"jassijs/remote/security/Setting\";\r\nimport { Server } from \"./Server\";\r\nimport { Test } from \"./Test\";\r\nimport { serverservices } from \"jassijs/remote/Serverservice\";\r\nimport { ValidateFunctionParameter, ValidateIsBoolean, ValidateIsIn, ValidateIsString } from \"jassijs/remote/Validator\";\r\n \r\n\r\n\r\ndeclare global {\r\n    export interface KnownSettings {\r\n \r\n    }\r\n}\r\nconst proxyhandler = {\r\n    get: function (target, prop, receiver) {\r\n        return prop;\r\n    }\r\n};\r\n\r\n@$Class(\"jassijs.remote.Settings\")\r\nexport class Settings extends RemoteObject {\r\n    public static keys: KnownSettings = new Proxy({}, proxyhandler);//the Proxy allwas give the key back\r\n    private static browserSettings = undefined;\r\n    private static userSettings = undefined;\r\n    private static allusersSettings = undefined;\r\n    /**\r\n    * loads the settings\r\n    */\r\n    static async load(context: Context = undefined) {\r\n\r\n        if (!context?.isServer) {\r\n            \r\n            //browser\r\n            let entr = window.localStorage.getItem(\"jassijs.settings\");\r\n            if (entr) {\r\n                Settings.browserSettings = JSON.parse(entr);\r\n            } else\r\n                Settings.browserSettings = {};\r\n           \r\n            var all =(await Server.isOnline()===false) ?undefined: await this.call(this.load, context);\r\n            if (all?.user) {\r\n                Settings.userSettings = JSON.parse(all.user.data);\r\n            } else\r\n                Settings.userSettings = {};\r\n            if (all?.allusers) {\r\n                Settings.allusersSettings = JSON.parse(all.allusers.data);\r\n            } else\r\n                Settings.allusersSettings = {};\r\n\r\n        } else {\r\n            //@ts-ignore\r\n            var man = await serverservices.db;\r\n            var id = context.request.user.user;\r\n            return {\r\n                user: await man.findOne(context, Setting, { \"id\": 1 }),\r\n                allusers: await man.findOne(context, Setting, { \"id\": 0 }),\r\n            }\r\n        }\r\n    }\r\n    static getAll(scope: \"browser\" | \"user\" | \"allusers\") {\r\n        var ret = {};\r\n        if (scope === \"browser\") {\r\n            Object.assign(ret, Settings.browserSettings);\r\n        }\r\n        if (scope === \"user\") {\r\n            Object.assign(ret, Settings.userSettings);\r\n        }\r\n        if (scope === \"allusers\") {\r\n            Object.assign(ret, Settings.allusersSettings);\r\n        }\r\n        return ret;\r\n    }\r\n    gets<T>(Settings_key: T): T {\r\n        if (Settings.browserSettings && Settings.browserSettings[Settings_key])\r\n            return Settings.browserSettings[Settings_key];\r\n        if (Settings.userSettings && Settings.userSettings[Settings_key])\r\n            return Settings.userSettings[Settings_key];\r\n        if (Settings.allusersSettings && Settings.allusersSettings[Settings_key])\r\n            return Settings.allusersSettings[Settings_key];\r\n        return undefined;\r\n    }\r\n    @ValidateFunctionParameter()\r\n    static async remove(@ValidateIsString() Settings_key: string,@ValidateIsIn({in:[\"browser\" , \"user\" , \"allusers\"]})  scope: \"browser\" | \"user\" | \"allusers\", context: Context = undefined) {\r\n        if (scope === \"browser\") {\r\n            delete Settings.browserSettings[Settings_key];\r\n            window.localStorage.setItem(\"jassijs.settings\", JSON.stringify(Settings.browserSettings));\r\n        }\r\n        if (scope === \"user\" || scope === \"allusers\") {\r\n            if (!context?.isServer) {\r\n                if (scope == \"user\" && Settings.userSettings)\r\n                    delete Settings.userSettings[Settings_key];\r\n                if (scope == \"allusers\" && Settings.allusersSettings)\r\n                    delete Settings.allusersSettings[Settings_key];\r\n                this.call(this.remove, Settings_key, scope, context);\r\n\r\n            } else {\r\n                //@ts-ignore\r\n                var man =  await serverservices.db;\r\n                var id = context.request.user.user;\r\n                //first load\r\n                let entr = await man.findOne(context, Setting, { \"id\": (scope === \"user\" ? id : 0) });\r\n\r\n                if (entr !== undefined) {\r\n                    var data = JSON.parse(entr.data);\r\n                    delete data[Settings_key];\r\n                    entr.data = JSON.stringify(data);\r\n                    await man.save(context, entr);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    @ValidateFunctionParameter()\r\n    static async save<T>(@ValidateIsString()Settings_key: T, value: T, @ValidateIsIn({in:[\"browser\" , \"user\" , \"allusers\"]}) scope: \"browser\" | \"user\" | \"allusers\") {\r\n        let ob = {};\r\n        //@ts-ignore\r\n        ob[Settings_key] = value;\r\n        return await this.saveAll(ob, scope);\r\n    }\r\n    @ValidateFunctionParameter()\r\n    static async saveAll(namevaluepair: { [key: string]: any }, @ValidateIsIn({in:[\"browser\" , \"user\" , \"allusers\"]}) scope: \"browser\" | \"user\" | \"allusers\", @ValidateIsBoolean({optional:true}) removeOtherKeys = false, context: Context = undefined) {\r\n        if (scope === \"browser\") {\r\n            let entr = window.localStorage.getItem(\"jassijs.settings\");\r\n            var data = namevaluepair;\r\n            if (entr) {\r\n                data = JSON.parse(entr);\r\n                Object.assign(data, namevaluepair);\r\n            }\r\n            if (removeOtherKeys)\r\n                data = namevaluepair;\r\n            window.localStorage.setItem(\"jassijs.settings\", JSON.stringify(data));\r\n            if (removeOtherKeys)\r\n                Settings.browserSettings = {};\r\n            Object.assign(Settings.browserSettings, namevaluepair);\r\n        }\r\n        if (scope === \"user\" || scope === \"allusers\") {\r\n            if (!context?.isServer) {\r\n                var props = {};\r\n                Object.assign(props, namevaluepair);\r\n\r\n                if (scope == \"user\" && Settings.userSettings) {\r\n                    if (removeOtherKeys)\r\n                        Settings.userSettings = {};\r\n                    Object.assign(Settings.userSettings, namevaluepair);\r\n                }\r\n                if (scope == \"allusers\" && Settings.allusersSettings) {\r\n                    if (removeOtherKeys)\r\n                        Settings.allusersSettings = {};\r\n                    Object.assign(Settings.allusersSettings, namevaluepair);\r\n                }\r\n                return await this.call(this.saveAll, props, scope, removeOtherKeys, context);\r\n            } else {\r\n                //@ts-ignore\r\n                var man = await serverservices.db;\r\n                var id = context.request.user.user;\r\n                //first load\r\n                let entr = await man.findOne(context, Setting, { \"id\": (scope === \"user\" ? id : 0) });\r\n                var data = namevaluepair;\r\n                if (removeOtherKeys !== true) {\r\n                    if (entr !== undefined) {\r\n                        data = JSON.parse(entr.data);\r\n                        Object.assign(data, namevaluepair);\r\n                    }\r\n                }\r\n                var newsetting = new Setting();\r\n                newsetting.id = (scope === \"user\" ? id : 0);\r\n                newsetting.data = JSON.stringify(data);\r\n                return await man.save(context, newsetting);\r\n                //return man.find(context, this, { \"id\": \"admin\" });\r\n            }\r\n        }\r\n    }\r\n}\r\nvar settings = new Settings();\r\nexport { settings };\r\nexport function $SettingsDescriptor(): Function {\r\n    return function (pclass) {\r\n        registry.register(\"$SettingsDescriptor\", pclass);\r\n    }\r\n}\r\n\r\n\r\nexport async function autostart() {\r\n    await Settings.load();\r\n}\r\n\r\nexport async function test(t: Test) {\r\n    try {\r\n        await Settings.load();\r\n        var settings=new Settings();\r\n        await Settings.remove(\"antestsetting\", \"user\");\r\n        await Settings.remove(\"antestsetting\", \"browser\");\r\n        await Settings.remove(\"antestsetting\", \"allusers\");\r\n          t.expectEqual(settings.gets(\"antestsetting\") === undefined);\r\n        await Settings.load();\r\n        t.expectEqual(settings.gets(\"antestsetting\") === undefined);\r\n\r\n        await Settings.save(\"antestsetting\", \"1\", \"allusers\");\r\n        t.expectEqual(<string>settings.gets(\"antestsetting\") === \"1\");\r\n        await Settings.load();\r\n        t.expectEqual(<string>settings.gets(\"antestsetting\") === \"1\");\r\n\r\n        await Settings.save(\"antestsetting\", \"2\", \"user\");\r\n        t.expectEqual(<string>settings.gets(\"antestsetting\") === \"2\");\r\n        await Settings.load();\r\n        t.expectEqual(<string>settings.gets(\"antestsetting\") === \"2\");\r\n\r\n        await Settings.save(\"antestsetting\", \"3\", \"browser\");\r\n        t.expectEqual(<string>settings.gets(\"antestsetting\") === \"3\");\r\n        await Settings.load();\r\n        t.expectEqual(<string>settings.gets(\"antestsetting\") === \"3\");\r\n    } catch (ex) {\r\n      \r\n\r\n        throw ex;\r\n    } finally {\r\n        await Settings.remove(\"antestsetting\", \"user\");\r\n        await Settings.remove(\"antestsetting\", \"browser\");\r\n        await Settings.remove(\"antestsetting\", \"allusers\");\r\n    }\r\n\r\n}\r\nexport async function load(){\r\n    return Settings.load();\r\n}","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Context, RemoteObject } from \"jassijs/remote/RemoteObject\";\r\nimport { RemoteProtocol } from \"jassijs/remote/RemoteProtocol\";\r\n\r\n\r\n\r\n//var serversession;\r\n\r\n\r\n\r\nexport class TransactionItem {\r\n    transaction:Transaction;\r\n    obj: any;\r\n    method: (...args) => any;\r\n    params: any[];\r\n    promise: Promise<any>;\r\n    result: any = \"**unresolved**\";\r\n    remoteProtocol: RemoteProtocol;\r\n    resolve;\r\n}\r\n@$Class(\"jassijs.remote.Transaction\")\r\nexport class Transaction extends RemoteObject {\r\n    private statements: TransactionItem[] = [];\r\n    private ready;\r\n    private context = new Context();\r\n  \r\n    async execute(): Promise<any[]> {\r\n        //  return this.context.register(\"transaction\", this, async () => {\r\n        for (var x = 0; x < this.statements.length; x++) {\r\n            var it = this.statements[x];\r\n            var context:Context={\r\n                isServer:false,\r\n                transaction:this,\r\n                transactionitem:it\r\n            }\r\n            it.promise = it.obj[it.method.name](...it.params,context);\r\n            it.promise.then((val) => {\r\n                it.result = val;//promise returned or resolved out of Transaction\r\n            })\r\n        }\r\n        let _this = this;\r\n        await new Promise((res) => {\r\n            _this.ready = res;\r\n        })\r\n        var ret = [];\r\n        for (let x = 0; x < this.statements.length; x++) {\r\n            var res = await this.statements[x].promise;\r\n            ret.push(res);\r\n        }\r\n        return ret;\r\n        //  });\r\n\r\n    }\r\n    async wait(transactionItem:TransactionItem,prot: RemoteProtocol): Promise<any> {\r\n        transactionItem.remoteProtocol = prot;\r\n        //if all transactions are placed then do the request\r\n        var foundUnplaced = false;\r\n        for (let x = 0; x < this.statements.length; x++) {\r\n            let it = this.statements[x];\r\n            if (it.result === \"**unresolved**\" && it.remoteProtocol === undefined)\r\n                foundUnplaced = true;\r\n        }\r\n        if (foundUnplaced === false) {\r\n            this.sendRequest();\r\n        }\r\n        let _this = this;\r\n        return new Promise((res) => {\r\n\r\n            transactionItem.resolve = res;\r\n        });//await this.statements[id].result;//wait for result - comes with Request\r\n    }\r\n  \r\n    private async sendRequest(context: Context = undefined) {\r\n        if (!context?.isServer) {\r\n            var prots = [];\r\n            for (let x = 0; x < this.statements.length; x++) {\r\n                let st = this.statements[x];\r\n                if (st.result !== \"**unresolved**\")\r\n                    prots.push(undefined);\r\n                else\r\n                    prots.push(st.remoteProtocol.stringify(st.remoteProtocol));\r\n            }\r\n            var sic = this.statements;\r\n            this.statements = prots;\r\n            var ret = await this.call(this, this.sendRequest, context);\r\n            this.statements = sic;\r\n            for (let x = 0; x < this.statements.length; x++) {\r\n                this.statements[x].resolve(ret[x]);\r\n            }\r\n            this.ready();\r\n            //ret is not what we want - perhaps there is a modification\r\n            /* let ret2=[];\r\n             for(let x=0;x<this.statements.length;x++){\r\n                 ret2.push(await this.statements[x].promise);\r\n             }\r\n             this.resolve(ret);*/\r\n            return true;\r\n        } else {\r\n            //@ts-ignore\r\n\r\n\r\n            //@ts-ignore\r\n            var ObjectTransaction = (await import(\"jassijs/remote/ObjectTransaction\")).ObjectTransaction;\r\n            var ot = new ObjectTransaction();\r\n            ot.statements = [];\r\n            let ret = [];\r\n            for (let x = 0; x < this.statements.length; x++) {\r\n                var stat: any = {\r\n                    result: \"**unresolved**\"\r\n\r\n                }\r\n                ot.statements.push(stat);\r\n            }\r\n            for (let x = 0; x < this.statements.length; x++) {\r\n                ret.push( this.doServerStatement(this.statements, ot, x, context));\r\n            }\r\n            for(let x=0;x<ret.length;x++){\r\n                ret[x]=await ret[x];\r\n            }\r\n\r\n            return ret;\r\n        }\r\n\r\n\r\n    }\r\n    private async doServerStatement(statements, ot/*:ObjectTransaction*/, num: number, context) {\r\n        //@ts-ignore\r\n        var _execute = (await import(\"jassijs/server/DoRemoteProtocol\"))._execute;\r\n        var _this = this;\r\n        var newcontext: any = {};\r\n        Object.assign(newcontext, context);\r\n        newcontext.objecttransaction = ot;\r\n        newcontext.objecttransactionitem = ot.statements[num];\r\n        //@ts-ignore\r\n        ot.statements[num].result = _execute(<string>_this.statements[num], context.request, newcontext);\r\n\r\n        return ot.statements[num].result;\r\n\r\n    }\r\n    public add(obj: any, method: (...args) => any, ...params) {\r\n\r\n        var ti = new TransactionItem();\r\n        ti.method = method;\r\n        ti.obj = obj;\r\n        ti.params = params;\r\n        ti.transaction=this;\r\n        \r\n        this.statements.push(ti);\r\n    }\r\n\r\n}","import \"reflect-metadata\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\n\r\nconst paramMetadataKey = Symbol(\"paramMetadataKey\");\r\n\r\nexport class ValidationOptions {\r\n    message?: string;\r\n}\r\n\r\nexport function registerValidation(name: string, options: ValidationOptions, func: (target: any, propertyName: string, value: any, options: any) => string) {\r\n    return (target, propertyKey: string, parameterIndex: number) => {\r\n        //@ts-ignore\r\n        let params = Reflect.getOwnMetadata(paramMetadataKey, target, propertyKey) || {};\r\n        if (params[parameterIndex] === undefined)\r\n            params[parameterIndex] = {};\r\n        params[parameterIndex][name] = {\r\n            func,\r\n            options\r\n        }\r\n        //@ts-ignore\r\n        Reflect.defineMetadata(paramMetadataKey, params, target, propertyKey);\r\n    };\r\n}\r\n\r\nfunction translateMessage(msg: string, rule: string, property: string, target, value, options: ValidationOptions) {\r\n    if (msg === undefined)\r\n        return undefined;\r\n    var ret: string = options?.message ? options?.message : msg;\r\n    ret = ret.replaceAll(\"{rule}\", rule).replaceAll(\"{property}\", property).replaceAll(\"{target}\", target).replaceAll(\"{value}\", value);\r\n    if (options) {\r\n        for (var key in options) {\r\n            ret = ret.replaceAll(\"{\" + key + \"}\", options[key]);\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\nexport class ValidationError {\r\n    value: object;\r\n    target: object;\r\n    property: string;\r\n    message: string;\r\n    constructor(value, target, property: string, message: string) {\r\n        this.value = value;\r\n        this.target = target;\r\n        this.property = property;\r\n        this.message = message;\r\n    }\r\n}\r\nclass ValidateOptions {\r\n    /**\r\n     * e.g. {ValidateInt:{optional:false}} delegates optional:false to all ValidateInt rules\r\n     * e.g. {ALL:{optional:false}} delegates optional:false to all Validators rules}\r\n     */\r\n    delegateOptions?: { [ValidatorClassName: string]: any };\r\n}\r\nexport function validate(obj, options: ValidateOptions = undefined, raiseError: boolean = undefined): ValidationError[] {\r\n    var ret: ValidationError[] = [];\r\n    var target = obj.__proto__;\r\n    for (var propertyName in obj) {\r\n        //@ts-ignore\r\n        let params = Reflect.getOwnMetadata(paramMetadataKey, target, propertyName);\r\n        if (params) {\r\n            for (var p in params) {\r\n                for (var rule in params[p]) {\r\n                    //@ts-ignore\r\n                    var val = obj[propertyName];\r\n                    var func = params[p][rule].func;\r\n\r\n                    var opts = Object.assign({}, params[p][rule].options);\r\n                    if (options?.delegateOptions?.ALL) {\r\n                        opts = Object.assign(opts, options?.delegateOptions?.ALL);\r\n                    }\r\n                    if (options?.delegateOptions&&options?.delegateOptions[rule]) {\r\n                        opts = Object.assign(opts, options?.delegateOptions[rule]);\r\n                    }\r\n                    var err = func(target, propertyName, val, opts);\r\n                    var test = translateMessage(err, rule, propertyName, obj, val, params[p][rule].options);\r\n                    if (test !== undefined)\r\n                        ret.push(new ValidationError(val, target, propertyName, test));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (raiseError && ret.length > 0) {\r\n        var sret = [];\r\n        ret.forEach((err) => sret.push(\"ValidationError \" + err.property + \": \" + err.message));\r\n        throw new Error(sret.join(\"\\r\\n\"));\r\n    }\r\n    return ret;\r\n}\r\n\r\nexport class ValidationIsArrayOptions extends ValidationOptions {\r\n    optional?: boolean;\r\n    type?: (type?: any) => any;\r\n    alternativeJsonProperties?: string[];\r\n}\r\n\r\nexport function ValidateIsArray(options?: ValidationIsArrayOptions): Function {\r\n    return registerValidation(\"ValidateIsArray\", options,\r\n        (target: any, propertyName: string, val: any, options) => {\r\n            if ((val === undefined || val === null) && options?.optional === true)\r\n                return undefined;\r\n            if (!Array.isArray(val))\r\n                return \"value {value} is not an array\";\r\n            if (options?.type) { \r\n                for (var x = 0; x < val.length; x++) {\r\n                    var tp=options.type();\r\n                    if (val[x] !== undefined && !(val[x] instanceof tp)) {\r\n                        if (typeof val[x] === 'string' && tp == String)\r\n                            continue;\r\n                        if (typeof val[x] === 'number' && tp == Number)\r\n                            continue;\r\n                        if (typeof val[x] === 'boolean' && tp == Boolean)\r\n                            continue;\r\n                        if (options?.alternativeJsonProperties) {\r\n                            for (var x = 0; x < options.alternativeJsonProperties.length; x++) {\r\n                                var key = options.alternativeJsonProperties[x];\r\n                                if (val[x][key] === undefined)\r\n                                    return propertyName + \" is not array of type \" + tp.name;\r\n                            }\r\n                        } else\r\n                            return \"value {value} is not an array ot type \" + tp.name;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\nexport class ValidationIsBooleanOptions extends ValidationOptions {\r\n    optional?: boolean;\r\n    type?: any;\r\n}\r\nexport function ValidateIsBoolean(options?: ValidationIsBooleanOptions): Function {\r\n    return registerValidation(\"ValidateIsBoolean\", options,\r\n        (target: any, propertyName: string, val: any, options) => {\r\n            if ((val === undefined || val === null) && options?.optional === true)\r\n                return undefined;\r\n            if (typeof val !== 'boolean')\r\n                return propertyName + \" is not a Boolean\";\r\n        }\r\n    )\r\n}\r\n\r\nexport class ValidationIsDateOptions extends ValidationOptions {\r\n    optional?: boolean;\r\n}\r\nexport function ValidateIsDate(options?: ValidationIsDateOptions): Function {\r\n    return registerValidation(\"ValidateIsDate\", options,\r\n        (target: any, propertyName: string, val: any, options) => {\r\n            if ((val === undefined || val === null) && options?.optional === true)\r\n                return undefined;\r\n            if (!(val instanceof Date && !isNaN(val.valueOf())))\r\n                return propertyName + \" is not a date\"\r\n        }\r\n    )\r\n}\r\n\r\nexport function ValidateFunctionParameter(): Function {\r\n    return (target, propertyName, descriptor: PropertyDescriptor, options) => {\r\n        let method = descriptor.value;\r\n        if (method === undefined)\r\n            throw new Error(\"sdfgsdfgsfd\");\r\n        const funcname = method.name;\r\n        const { [funcname]: newfunc } = {//we need named function!\r\n            [funcname]: function () {\r\n                //@ts-ignore\r\n                let params = Reflect.getOwnMetadata(paramMetadataKey, target, propertyName);\r\n                if (params) {\r\n                    for (var p in params) {\r\n                        for (var rule in params[p]) {\r\n                            //@ts-ignore\r\n                            var arg = (p > arguments.length) ? undefined : arguments[p];\r\n                            var val = arguments[p];\r\n                            var func = params[p][rule].func;\r\n                            var opt = params[p][rule].options;\r\n                            var err = func(target, \"parameter \" + p, val, opt);\r\n                            var test = translateMessage(err, rule, propertyName, target, val, params[p][rule].options);\r\n                            if (test !== undefined)\r\n                                throw new Error(test);\r\n                        }\r\n                    }\r\n                }\r\n                return method.apply(this, arguments);\r\n            }\r\n        }\r\n        descriptor.value = newfunc;\r\n    };\r\n}\r\nexport class ValidationIsInOptions extends ValidationOptions {\r\n    optional?: boolean;\r\n    in: any[];\r\n}\r\nexport function ValidateIsIn(options?: ValidationIsInOptions): Function {\r\n    return registerValidation(\"ValidateIsIn\", options,\r\n        (target: any, propertyName: string, val: any, options:ValidationIsInOptions) => {\r\n            if ((val === undefined || val === null) && options?.optional === true)\r\n                return undefined;\r\n            if(options.in.indexOf(val)===-1)\r\n                return propertyName + \" is not valid\";\r\n        }\r\n    )\r\n}\r\nexport class ValidationIsInstanceOfOptions extends ValidationOptions {\r\n    optional?: boolean;\r\n    type: (type?: any) => any;\r\n    /**\r\n     * [\"id\"] means an object {id:9} is also a valid type\r\n     */\r\n    alternativeJsonProperties?: string[];\r\n}\r\nexport function ValidateIsInstanceOf(options?: ValidationIsInstanceOfOptions): Function {\r\n    return registerValidation(\"ValidateIsInstanceOf\", options,\r\n        (target: any, propertyName: string, val: any, options) => {\r\n            if ((val === undefined || val === null) && options?.optional === true)\r\n                return undefined;\r\n            var tp=options.type();\r\n            if (!(val instanceof tp)) {\r\n                if (options?.alternativeJsonProperties) {\r\n                    for (var x = 0; x < options.alternativeJsonProperties.length; x++) {\r\n                        var key = options.alternativeJsonProperties[x];\r\n                        if (val[key] === undefined)\r\n                            return propertyName + \" is not of type \" + tp.name;\r\n                    }\r\n                } else\r\n                    return propertyName + \" is not of type \" + tp.name;\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport class ValidationIsIntOptions extends ValidationOptions {\r\n    optional?: boolean;\r\n}\r\nexport function ValidateIsInt(options?: ValidationIsIntOptions): Function {\r\n    return registerValidation(\"ValidateIsInt\", options,\r\n        (target: any, propertyName: string, val: any, options) => {\r\n            if ((val === undefined || val === null) && options?.optional === true)\r\n                return undefined;\r\n            if (!Number.isInteger(val))\r\n                return propertyName + \" is not an Integer\";\r\n        }\r\n    )\r\n}\r\n\r\nexport class ValidationMaxOptions extends ValidationOptions {\r\n    max: number;\r\n}\r\nexport function ValidateMax(options: ValidationMaxOptions): Function {\r\n    return registerValidation(\"ValidateMax\", options,\r\n        (target: any, propertyName: string, val: any, options) => {\r\n            if (options?.max && val > options?.max)\r\n                return \"value {value} is not longer then {max}\"\r\n        }\r\n    )\r\n}\r\nexport class ValidationMinOptions extends ValidationOptions {\r\n    min: number;\r\n}\r\nexport function ValidateMin(options: ValidationMinOptions): Function {\r\n    return registerValidation(\"ValidateMin\", options,\r\n        (target: any, propertyName: string, val: any, options) => {\r\n            if (options?.min && val < options?.min)\r\n                return \"value {value} is not smaller then {min}\"\r\n        }\r\n    )\r\n}\r\n\r\nexport class ValidationIsNumberOptions extends ValidationOptions {\r\n    optional?: boolean;\r\n}\r\nexport function ValidateIsNumber(options?: ValidationIsNumberOptions): Function {\r\n    return registerValidation(\"ValidateIsNumber\", options,\r\n        (target: any, propertyName: string, val: any, options) => {\r\n            if ((val === undefined || val === null) && options?.optional === true)\r\n                return undefined;\r\n            if (!(typeof val === 'number' && isFinite(val)))\r\n                return propertyName + \" is not a Number\";\r\n        }\r\n    )\r\n}\r\n\r\nexport class ValidationIsStringOptions extends ValidationOptions {\r\n    optional?: boolean;\r\n}\r\nexport function ValidateIsString(options?: ValidationIsIntOptions): Function {\r\n    return registerValidation(\"ValidateIsInt\", options,\r\n        (target: any, propertyName: string, val: any, options) => {\r\n            if ((val === undefined || val === null) && options?.optional === true)\r\n                return undefined;\r\n            if (typeof val !== 'string' && !(val instanceof String))\r\n                return propertyName + \" is not a String\";\r\n        }\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TestSample {\r\n    @ValidateIsInt({ message: \"r:{rule} p:{property} v:{value}\" })\r\n    @ValidateMax({ max: 10, message: \"{max}\" })\r\n    @ValidateMin({ min: 5, message: \"{value} is smaller then {min}\" })\r\n    id: number;\r\n    @ValidateFunctionParameter()\r\n    async call(@ValidateIsInt() num, @ValidateIsString({ optional: true }) text = undefined) {\r\n        return num;\r\n    }\r\n\r\n    @ValidateIsString({ optional: true, message: \"no string\" })\r\n    str;\r\n\r\n    @ValidateIsInstanceOf({ type: t=>TestSample })\r\n    test: any = this;\r\n\r\n    @ValidateIsArray({ type: t=>TestSample })\r\n    testarr: any = [this];\r\n\r\n    @ValidateIsNumber()\r\n    num: any = 9.1;\r\n\r\n    @ValidateIsBoolean()\r\n    bol: any = true;\r\n\r\n    @ValidateIsIn({in:[1,\"2\",\"3\"]})\r\n    inprop:any=1;\r\n}\r\n\r\nexport async function test(test: Test) {\r\n\r\n    var obj = new TestSample();\r\n    obj.id = 8;\r\n    var hh = validate(obj);\r\n    test.expectEqual(validate(obj).length === 0);\r\n    //@ts-ignore\r\n    obj.id = \"8\";\r\n    test.expectEqual(validate(obj)[0].message === \"r:ValidateIsInt p:id v:8\");\r\n    test.expectEqual(await obj.call(8) === 8);\r\n    test.expectError(() => obj.call(\"8\"));\r\n    obj.id = 0;\r\n    test.expectEqual(validate(obj)[0].message === \"0 is smaller then 5\");\r\n    obj.id = 20;\r\n    test.expectEqual(validate(obj)[0].message === \"10\");\r\n    obj.str = 20;\r\n    obj.id = 8;\r\n    var hdh = validate(obj)[0].message;\r\n    test.expectError(() => validate(obj, undefined, true));\r\n    test.expectEqual(validate(obj)[0].message === \"no string\");\r\n    test.expectEqual(await obj.call(8, \"ok\") === 8);\r\n    test.expectError(() => obj.call(\"8\", 8));\r\n    test.expectEqual(await obj.call(8, \"ok\") === 8);\r\n    obj.str = \"kk\";\r\n    test.expectEqual(validate(obj).length === 0);\r\n    obj.num = \"1.2\";\r\n    test.expectError(() => validate(obj, undefined, true));\r\n    obj.num = 1.2;\r\n    obj.testarr = 8;\r\n    test.expectError(() => validate(obj, undefined, true));\r\n    obj.testarr = [8];\r\n    test.expectError(() => validate(obj, undefined, true));\r\n    obj.testarr = [];\r\n    test.expectEqual(validate(obj).length === 0);\r\n\r\n    obj.bol = \"\";\r\n    test.expectError(() => validate(obj, undefined, true));\r\n    obj.bol = true;\r\n    test.expectEqual(validate(obj).length === 0);\r\n\r\n    obj.test = { kk: 9 };\r\n    test.expectError(() => validate(obj, undefined, true));\r\n    obj.test = { id: 9 };\r\n    test.expectEqual(validate(obj, {\r\n        delegateOptions: {\r\n            ValidateIsInstanceOf: { alternativeJsonProperties: [\"id\"] }\r\n        }\r\n    }).length === 0);\r\n    obj.test = obj;\r\n    obj.testarr = [{ id: 8 }];\r\n    test.expectError(() => validate(obj, undefined, true));\r\n\r\n    test.expectEqual(validate(obj, {\r\n        delegateOptions: {\r\n            ValidateIsArray: { alternativeJsonProperties: [\"id\"] }\r\n        }\r\n    }).length === 0);\r\n    obj.testarr=[];\r\n    test.expectEqual(validate(obj).length === 0);\r\n    obj.inprop=5;\r\n    test.expectError(() => validate(obj, undefined, true));\r\n    obj.inprop=\"2\";\r\n    test.expectEqual(validate(obj).length === 0);\r\n\r\n   \r\n}\r\n\r\ninterface MyOB {\r\n    hallo();\r\n\r\n}\r\nvar l: MyOB;\r\n\r\n\r\n","\r\nclass KK{\r\n    comment?:string;\r\n    length?:Number;\r\n    type?:string;\r\n}\r\n\r\nexport class OO{\r\n   \r\n    hallo:string=\"\";\r\n    static test(){\r\n    \r\n      //  var result = Reflect.getOwnMetadata(\"design:type\", OO,\"hallo\");\r\n      //  var result = Reflect.getMetadata(\"design:type\", OO,\"hallo\");\r\n      //  var jj=Reflect.getMetadataKeys(OO);\r\n      //  var jj2=Reflect.getOwnMetadataKeys(OO);\r\n \r\n    }\r\n}\r\n","import { ARZeile } from \"de/remote/ARZeile\";\nimport { Kunde } from \"de/remote/Kunde\";\nimport { DBObject, $DBObject } from \"jassijs/remote/DBObject\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { JoinColumn, JoinTable, Entity, PrimaryColumn, Column, ManyToMany, ManyToOne, OneToMany, OneToOne } from \"jassijs/util/DatabaseSchema\";\nimport { $CheckParentRight, $Rights } from \"jassijs/remote/security/Rights\";\nimport { Context } from \"jassijs/remote/RemoteObject\";\nimport { serverservices } from \"jassijs/remote/Serverservice\";\n/**\n* Ausgangsrechnung\n* @class de.AR\n*/\n@$Rights([{ name: \"Auftragswesen/Ausgangsrechnung/festschreiben\" },\n    { name: \"Auftragswesen/Ausgangsrechnung/lschen\" }])\n@$DBObject()\n@$Class(\"de.AR\")\nexport class AR extends DBObject {\n    @PrimaryColumn()\n    declare id: number;\n    @Column()\n    strasse: string;\n    @Column()\n    nummer: number;\n    @Column({ nullable: true })\n    ort: string = \"\";\n    @$CheckParentRight()\n    //@JoinTable()\n    @ManyToOne(type => Kunde, kunde => kunde.rechnungen)\n    kunde: Kunde;\n    @OneToMany(type => ARZeile, zeile => zeile.ar)\n    zeilen: ARZeile[];\n    constructor() {\n        super();\n        this.id = 0;\n        this.strasse = \"\";\n        this.nummer = 0;\n    }\n    static async myfind(options = undefined, context: Context = undefined): Promise<AR[]> {\n        if (!jassijs.isServer) {\n            return await this.call(this.myfind, options, context);\n        }\n        else {\n            //@ts-ignore\n            var Brackets = (await import(\"typeorm\")).Brackets;\n            //@ts-ignore\n            var man = await serverservices.db;\n            var man2 = man;\n            var ret = await man.connection().manager.createQueryBuilder().\n                select(\"me\").from(AR, \"me\").\n                leftJoinAndSelect(\"me.kunde\", \",me.kunde\").\n                where(\"me.kunde=:id\", { id: 5 }).getMany();\n            var ret2 = await man.connection().manager.createQueryBuilder().\n                select(\"me\").from(ARZeile, \"me\").\n                leftJoin(\"me.ar\", \"me_ar\").\n                leftJoin(\"me_ar.kunde\", \"me_ar_kunde\").\n                where(\"me_ar_kunde.id>:id\", { id: 0 }).\n                andWhere(new Brackets(qp => {\n                qp.where(\"me_ar.id>=:p1 and me_ar.id<=:p2\", { p1: 1, p2: 90 }).\n                    orWhere(\"me_ar.id>=:p3 and me_ar.id<=:p4\", { p3: 500, p4: 1000 });\n            })).\n                andWhere(new Brackets(qp => {\n                qp.where(\"me_ar_kunde.id>=:von and me_ar_kunde.id<=:bis\", { von: 1, bis: 90 }).\n                    orWhere(\"me_ar_kunde.id>=:von and me_ar_kunde.id<=:bis\", { von: 1, bis: 90 });\n            })).\n                getMany();\n            return ret;\n        }\n    }\n    async sample() {\n        var all = AR.myfind();\n        var ar = new AR();\n        ar.strasse = \"gemeindeberg\";\n        ar.nummer = 7;\n        ar.id = 30;\n        ar.save();\n        /*        var ar2 = await jassijs.db.load(\"de.AR\", 30);\n                var test = await ar2.kunden.resolve();\n                var kd = await jassijs.db.load(\"de.Kunde\", 9);\n                ar.kunde = kd;\n                await jassijs.db.save(ar);\n                var arneu = await jassijs.db.load(\"de.AR\", 30);\n                var test = await arneu.kunde.resolve();\n                await jassijs.db.save(ar);\n        */\n        //jassijs.db.delete(kunde);\n    }\n\n}\nexport async function test() {\n    //jassijs.db.clearCache();\n    //var ar = await jassijs.db.load(\"de.AR\", 30, \"kunde\");\n    //ar.zeilen = await jassijs.db.load(\"de.ARZeile\");\n    var ak = await AR.myfind();\n    return;\n    //var z: AR = (await AR.find({ id: 902 }))[0];\n    // z.plz=\"09456\";\n    //console.log(JSON.stringify(z));\n    // z.save();\n    /*\tvar hh=ar.kunde;\n        var test=await ar.kunde.resolve();\n        var kkk=ar.kunde.rechnungen;\n        var kkk=ar.kunde.rechnungen.resolve();\n        */\n}\n","import { DBObject, $DBObject } from \"jassijs/remote/DBObject\";\nimport { $Class } from \"jassijs/remote/Registry\";\n//import Kunde from \"de/Kunde\";\nimport { PrimaryColumn, Column, OneToOne, ManyToMany, ManyToOne, OneToMany, PrimaryGeneratedColumn } from \"jassijs/util/DatabaseSchema\";\nimport { $CheckParentRight } from \"jassijs/remote/security/Rights\";\nimport { AR } from \"de/remote/AR\";\nimport { Context } from \"jassijs/remote/RemoteObject\";\nimport { serverservices } from \"jassijs/remote/Serverservice\";\n\n@$DBObject()\n@$Class(\"de.ARZeile\")\nexport class ARZeile extends DBObject {\n    @PrimaryGeneratedColumn()\n    declare id: number;\n    @Column()\n    public text: string;\n    @Column() \n    public position: number;\n    @Column({ nullable: true, type: \"decimal\" })\n    public preis: number;\n    @$CheckParentRight()\n    @ManyToOne(type => AR, ar => ar.zeilen)\n    public ar: AR;\n    public tt;\n    constructor() {\n        super();\n    }\n    static async find(options = undefined, context: Context = undefined): Promise<ARZeile[]> {\n        if (!jassijs.isServer) {\n            return await this.call(this.find, options, context);\n        }\n        else {\n            return (await serverservices.db).find(context, this, options);\n        }\n    }\n    get oo2() {\n        var o = 12;\n        var a = 9;\n        var t = 1;\n        return \"gpp\";\n    }\n\n    async sample() {\n        var ret;\n        var az = await jassijs.db.load(\"de.ARZeile\", 120);\n        var h = await az.ar.resolve();\n        var ar2 = await jassijs.db.load(\"de.AR\", 30);\n        var az3 = new ARZeile();\n        var h = await ar2.zeilen.resolve();\n        ar2.zeilen.add(az3);\n        ar2.zeilen.remove(az3);\n        /*var z1=new de.ARZeile();\n        z1.id=110;\n        z1.text=\"lkjlk\";\n        jassijs.db.save(z1);\n        var z2=new de.ARZeile();\n        z2.id=120;\n        z2.text=\"lddkjlk\";\n        jassijs.db.save(z2);\n        var ar=jassijs.db.load(\"de.AR\",30);\n        ar.zeilen=new jassijs.base.DBArray(z1,z2);\n        jassijs.db.save(ar);\n        var arz=jassijs.db.load(\"de.ARZeile\",1);\n        var test=ar.zeilen;*/\n    }\n}\njassijs.test = async function () {\n    //\tvar k=new Kunde();\n    //k=k;\n    var test = await jassijs.db.load(\"de.ARZeile\");\n    var z: ARZeile = new ARZeile();\n    z.id = 150;\n    z.text = \"jjj\";\n    //   jassijs.db.save(z);\n    return undefined;\n}; \n","import \"de/remote/KundeExt\";\r\n ","import { DBObject, $DBObject } from \"jassijs/remote/DBObject\";\r\nimport { AR } from \"de/remote/AR\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Entity, PrimaryColumn, Column, OneToOne, ManyToMany, ManyToOne, OneToMany } from \"jassijs/util/DatabaseSchema\";\r\nimport { ExtensionProvider } from \"jassijs/remote/Extensions\";\r\nimport { $DBObjectQuery } from \"jassijs/remote/DBObjectQuery\";\r\nimport { $ParentRights } from \"jassijs/remote/security/Rights\";\r\nimport { Context } from \"jassijs/remote/RemoteObject\";\r\nimport { ValidateIsInt } from \"jassijs/remote/Validator\";\r\nimport { serverservices } from \"jassijs/remote/Serverservice\";\r\n\r\n//import \"jassijs/ext/enableExtension.js?de.Kunde\";\r\n@$ParentRights([{ name: \"Kundennummern\", sqlToCheck: \"me.id>=:i1 and me.id<=:i2\",\r\n        description: {\r\n            text: \"Kundennummern\",\r\n            i1: \"von\",\r\n            i2: \"bis\"\r\n        } }])\r\n@$DBObject()\r\n@$Class(\"de.Kunde\")  \r\nexport class Kunde extends DBObject implements ExtensionProvider {\r\n    @PrimaryColumn()\r\n    declare id: number;\r\n    @Column() \r\n    vorname: string;\r\n    @Column()\r\n    nachname: string; \r\n    @Column()\r\n    strasse: string;\r\n    @Column()\r\n    PLZ: string;\r\n    @Column({ nullable: true })\r\n    ort: string;\r\n    @Column()\r\n    hausnummer: number;\r\n    @OneToMany(type => AR, ar => ar.kunde)\r\n    rechnungen: AR[];\r\n    initExtensions() {\r\n        //this function would be extended\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.id = 0;\r\n        this.vorname = \"\";\r\n        this.nachname = \"\";\r\n        this.strasse = \"\";\r\n        this.PLZ = \"\";\r\n        this.hausnummer = 0;\r\n        this.initExtensions();\r\n    }\r\n    /**\r\n    * add here all properties for the PropertyEditor\r\n    * @param {[jassijs.ui.ComponentDescriptor]} desc - describe fields for propertyeditor\r\n    * e.g.  desc.fields.push(new jassijs.ui.Property(\"id\",\"number\"));\r\n    */\r\n    static describeComponent(desc) {\r\n        desc.actions.push({\r\n            name: \"Bewertung\", description: \"Bewerte den Kunden\", icon: \"mdi mdi-car\", run: function (kunden) {\r\n                for (var x = 0; x < kunden.length; x++) {\r\n                    // notify(\"bewerte...\" + kunden[x].vorname, \"info\", { position: \"right\" });\r\n                    //\talert(\"bewerten...\"+kunden[x].vorname);\r\n                } \r\n            }\r\n        });\r\n    }\r\n    @$DBObjectQuery({ name: \"Alle nach Namen\", description: \"Kundenliste nach Namen\" })\r\n    static async alleKundenNachNachname(): Promise<any[]> {\r\n        return await Kunde.find({ order: \"nachname\" });\r\n    }\r\n    @$DBObjectQuery({ name: \"Alle nach Nummer\", description: \"Kundenliste nach Nummer\" })\r\n    static async alleKundenNachNummer(): Promise<any[]> {\r\n        return await Kunde.find({ order: \"id\" });\r\n    }\r\n    static async find(options = undefined,context:Context=undefined): Promise<any[]> {\r\n        if (!context?.isServer) {\r\n            return await this.call(this.find, options,context);\r\n        } \r\n        else {\r\n            return await (await serverservices.db).find(context,this, options);\r\n        }\r\n    }\r\n    static async sample() {\r\n        var kunde1 = new Kunde();\r\n        Object.assign(kunde1, { id: 1, vorname: \"Max\", nachname: \"Meier\", strasse: \"Dorfstre\", hausnummer: 100 });\r\n        var kunde2 = new Kunde();\r\n        Object.assign(kunde2, { id: 2, vorname: \"Mario\", nachname: \"Meier\", strasse: \"Dorfstrae\", hausnummer: 87 });\r\n        var kunde3 = new Kunde();\r\n        Object.assign(kunde3, { id: 3, vorname: \"Alma\", nachname: \"Alser\", strasse: \"Hauptstrae\", hausnummer: 7 });\r\n        var kunde4 = new Kunde();\r\n        Object.assign(kunde4, { id: 4, vorname: \"Elke\", nachname: \"Krautz\", strasse: \"Gehweg\", hausnummer: 5 });\r\n        await kunde1.save();\r\n        await kunde2.save();\r\n        await kunde3.save();\r\n        await kunde4.save();\r\n        //jassijs.db.delete(kunde);\r\n    }\r\n    @Column({\tnullable: true})\r\n    land: string;\r\n}\r\nexport async function test() {\r\n    //var g=test.extFunc2();   \r\n    //var h=test.extFunc();\r\n    \r\n    //await Kunde.sample();\r\n    var k = <Kunde>await Kunde.findOne({ id: 1 });\r\n    if(k===undefined)\r\n        k=new Kunde();\r\n    k.id=1;\r\n    k.vorname = \"Ella\";\r\n    k.land=\"Deutschland\";\r\n    k.nachname = \"Klotz\";\r\n    k.ort = \"Mainz\";\r\n    k.PLZ = \"99992\";\r\n    var tt=await k.validate(k);\r\n    k.save();\r\n\r\n    //\tnew de.Kunde().generate();\r\n    //jassijs.db.uploadType(de.Kunde);\r\n}\r\n;\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Entity, PrimaryColumn, Column, OneToOne, ManyToMany, ManyToOne, OneToMany } from \"jassijs/util/DatabaseSchema\";\nimport { Kunde } from \"de/remote/Kunde\";\nimport { extensions, $Extension } from \"jassijs/remote/Extensions\";\n\n//Do not import the class we want to extend!\ndeclare module \"de/remote/Kunde\"{\n    export  interface Kunde{\n        extFunc():string;\n        extField:string;\n    }\n}\n\n \n\nextensions.annotateMember(\"de.Kunde\",\"extField\",String,Column({nullable:true}));\n\n\n//  de.Kunde.prototype.extFunc=function(){return 6;}\n@$Extension(\"de.Kunde\")\n@$Class(\"de.KundeExt\")\nclass KundeExt {\n    hello:string;\n\n    get hello2(){\n        return \"pp\";\n    }\n    //this is called on Kunde\n    \n    /**\n    * sample Extension\n    */\n   initExtensions() {\n        \n    }\n    extFunc(){\n        return 3;\n    }\n    /**\n     * is called after main class is loaded\n     * example type.prototype.hallo=function(){}\n     * @param {class} type - the type to extend\n     */\n    static extend(type) {\n        //type.prototype.extFunc = function () { return 8; }\n    }\n\n}\n//Hack for tabulator.js\nKundeExt.prototype.extFunc[\"match\"]=function(){return false;}\n//jassijs.register(\"extensions\", \"de.Kunde\", KundeExt, \"KundeExt\");\n\n","\nimport { Kunde } from \"de/remote/Kunde\";\nimport { extensions, $Extension } from \"jassijs/remote/Extensions\";\nimport { $Class } from \"jassijs/remote/Registry\";\n\n//Do not import the class we want to extend!\ndeclare module \"de/remote/Kunde\"{\n    export interface Kunde{\n        extFunc2;\n    }\n}\n\n@$Extension(\"de.Kunde\")\n@$Class(\"de.KundeExt2\")\nclass KundeExt2 {\n    /**\n    * sample Extension\n    */ \n    constructor() {\n\n    }\n    //Error wenn tabelle mit Tabulator mit Kunden gefllt wird\n    //extFunc2() { return 8; }\n    /**\n     * is called after main class is loaded\n     * example type.prototype.hallo=function(){}\n     * @param {class} type - the type to extend\n     */\n    static extend(type) {\n        //Error wenn tabelle mit Tabulator mit Kunden gefllt wird\n        //type.prototype.extFunc2 = function () { return 8; }\n    }\n\n}\n//jassijs.register(\"extensions\", \"de.Kunde\", KundeExt2, \"KundeExt2\");\n\n","import { $Class } from \"jassijs/remote/Registry\";\r\nimport {DBObject, $DBObject } from \"jassijs/remote/DBObject\";\r\nimport { PrimaryColumn, Column, OneToOne } from \"jassijs/util/DatabaseSchema\";\r\n//import { Entity, PrimaryColumn, Column,OneToOne,ManyToMany,ManyToOne,OneToMany } from \"typeorm\";\r\n\r\n\r\n@$Class(\"de.Lieferant\")\r\n@$DBObject() \r\nexport class Lieferant extends DBObject {\r\n    @PrimaryColumn()\r\n    declare id:number;\r\n    @Column({nullable:false})\r\n    name:string;\r\n     \r\n} \r\n\r\n/*export async function test(){\r\n\tvar l=new Lieferant();\r\n\tl.id=900;\r\n\tl.name=\"kkkkkk\";\r\n\tl.save();\r\n\t//var z:Lieferant=(await Lieferant.find({id:900}))[0];\r\n   // z.plz=\"09456\";\r\n//    console.log(JSON.stringify(z));\r\n}*/","import { $Class } from \"jassijs/remote/Registry\";\nimport { Context, RemoteObject } from \"jassijs/remote/RemoteObject\";\nimport { serverservices } from \"jassijs/remote/Serverservice\";\nimport { ValidateFunctionParameter, ValidateIsInt, ValidateIsString } from \"jassijs/remote/Validator\";\n\n@$Class(\"de.remote.MyRemoteObject\")\nexport class MyRemoteObject extends RemoteObject{\n    //this is a sample remote function\n    async tt(@ValidateIsString() name){\n        return \"oo\";\n    }\n    @ValidateFunctionParameter()\n    public async sayHello(@ValidateIsString() name: string,context: Context = undefined) {\n\n        console.log(this.sayHello.name);\n        \n        if (!context?.isServer) {\n            return await this.call(this, this.sayHello, name,context);\n        } else {\n            console.log(await this.tt(\"hallo\"));\n            return \"Hello \"+name;  //this would be execute on server  \n        }\n    }\n    @ValidateFunctionParameter()\n    public static async sayHello2(@ValidateIsString() name: string,context: Context = undefined) {\n        if (!context?.isServer) {\n            return await this.call( this.sayHello2, name,context);\n        } else {\n            return \"Hello static \"+name;  //this would be execute on server  \n        }\n    }\n}\nexport async function test(){\n    console.log(await new MyRemoteObject().sayHello(\"Kurt\"));\n   // console.log(await MyRemoteObject.sayHello2(\"5\"));\n}\n","import {Entity, PrimaryColumn, Column} from \"jassijs/util/DatabaseSchema\"; \r\nimport { $DBObject } from \"jassijs/remote/DBObject\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\n\r\n\r\n@$DBObject()\r\n@Entity()\r\n@$Class(\"de.MyUser\")\r\nexport class MyUser{   \r\n\r\n    @PrimaryColumn()\r\n    declare id: number;\r\n\r\n    @Column()\r\n    firstName: string;\r\n \r\n    @Column()\r\n    lastName: string;\r\n\r\n    @Column()\r\n    age: number;\r\n\r\n}"]}