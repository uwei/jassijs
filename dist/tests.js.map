{"version":3,"file":"tests.js","sourceRoot":"","sources":["../client/tests/BigDataTest.ts","../client/tests/DBTests.ts","../client/tests/FileActionsTests.ts","../client/tests/RemoteModulTests.ts","../client/tests/ServerTests.ts","../client/tests/TestDialog.ts","../client/tests/TestReport.ts","../client/tests/modul.js","../client/tests/registry.js","../client/tests/remote/T.ts","../client/tests/remote/TestBigData.ts","../client/tests/remote/TestCustomer.ts","../client/tests/remote/TestOrder.ts","../client/tests/remote/TestOrderDetails.ts","../client/tests/remote/TestServerfile.ts"],"names":[],"mappings":"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","sourcesContent":["import { TestBigData } from \"tests/remote/TestBigData\";\r\nimport { Transaction } from \"jassijs/remote/Transaction\";\r\nfunction makeid(length) {\r\n  var result = '';\r\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n  var charactersLength = characters.length;\r\n  for (var i = 0; i < length; i++) {\r\n    result += characters.charAt(Math.floor(Math.random() *\r\n      charactersLength));\r\n  }\r\n  return result;\r\n}\r\nfunction getRandomInt(max) {\r\n  return Math.floor(Math.random() * max);\r\n}\r\nexport async function test2() {\r\n\r\n  for (var x = 0; x < 10000; x++) {\r\n    var trans = new Transaction();\r\n\r\n\t\r\n    for (var i = 1; i < 10000; i++) {\r\n      var e = new TestBigData();\r\n      e.name = makeid(200);\r\n      e.name2 = makeid(200);\r\n      e.number1 = getRandomInt(99999999);\r\n      e.number2 = getRandomInt(99999999);\r\n      trans.add(e, e.save);\r\n   \r\n    }\r\n     console.log(x);\r\n    await trans.execute();\r\n  }\r\n}","import { TestOrderDetails } from \"tests/remote/TestOrderDetails\";\r\nimport { TestCustomer } from \"tests/remote/TestCustomer\";\r\nimport { TestOrder } from \"tests/remote/TestOrder\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\nimport { Database } from \"jassijs/remote/Database\";\r\nimport { DBObject } from \"jassijs/remote/DBObject\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { User } from \"jassijs/remote/security/User\";\r\nimport { Group } from \"jassijs/remote/security/Group\";\r\nimport { ParentRight } from \"jassijs/remote/security/ParentRight\";\r\nimport { RemoteProtocol } from \"jassijs/remote/RemoteProtocol\";\r\n\r\n\r\nexport async function clearDB(test: Test) {\r\n     await RemoteProtocol.simulateUser();\r\n    var obs = await TestOrderDetails.find();\r\n    for (var x = 0; x < obs.length; x++) {\r\n        await obs[x].remove();\r\n    }\r\n    obs = await TestOrder.find();\r\n    for (var x = 0; x < obs.length; x++) {\r\n        await obs[x].remove();\r\n    }\r\n    obs = await TestCustomer.find();\r\n    for (var x = 0; x < obs.length; x++) {\r\n        await obs[x].remove();\r\n    }\r\n    obs = await User.find({ email: \"testuser@dbtests\" });\r\n    for (var x = 0; x < obs.length; x++) {\r\n        await obs[x].remove();\r\n    }\r\n    obs = await Group.find({ id: -85485425 });\r\n    for (var x = 0; x < obs.length; x++) {\r\n        await obs[x].remove();\r\n    }\r\n    obs = await ParentRight.find({ classname: \"tests.TestCustomer\" });\r\n    for (var x = 0; x < obs.length; x++) {\r\n        await obs[x].remove();\r\n    }\r\n   \r\n}\r\n\r\nexport async function insertSample(test: Test) {\r\n    var c1 = new TestCustomer();\r\n    c1.id = 1;\r\n    c1.name = \"Max\";\r\n    await c1.save();\r\n    var c2 = new TestCustomer();\r\n    c2.id = 2;\r\n    c2.name = \"Meier\";\r\n    await c2.save();\r\n    var c3 = new TestCustomer();\r\n    c3.id = 3;\r\n    c3.name = \"Schulze\";\r\n    await c3.save();\r\n\r\n    var d1 = new TestOrderDetails();\r\n    d1.id = 1;\r\n    await d1.save();\r\n    var d2 = new TestOrderDetails();\r\n    d2.id = 2;\r\n    await d2.save();\r\n    var d3 = new TestOrderDetails();\r\n    d3.id = 3;\r\n    await d3.save();\r\n    var d4 = new TestOrderDetails();\r\n    d4.id = 4;\r\n    await d4.save();\r\n    var o = new TestOrder();\r\n    o.customer = c1;\r\n    o.id = 1;\r\n    o.details = [d1, d2];\r\n    await o.save();\r\n\r\n    var o2 = new TestOrder();\r\n    o2.id = 2;\r\n    o2.customer = c1;\r\n    o2.details = [d3];\r\n    await o2.save();\r\n\r\n    var o3 = new TestOrder();\r\n    o3.id = 3;\r\n    o3.customer = c2;\r\n    o2.details = [d4];\r\n    await o3.save();\r\n\r\n    test.expectEqual((await TestCustomer.find()).length === 3);\r\n    test.expectEqual((await TestOrder.find()).length === 3);\r\n    test.expectEqual((await TestOrderDetails.find()).length === 4);\r\n}\r\nasync function testRelations(test: Test) {\r\n    DBObject.clearCache(\"tests.TestCustomer\");\r\n    DBObject.clearCache(\"tests.TestOrder\");\r\n    DBObject.clearCache(\"tests.TestOrderDetails\");\r\n    var o = new TestOrder();\r\n    o.id = 1;\r\n    await test.expectErrorAsync(async () => { await o.save() });\r\n    var a = <TestOrder>await TestOrder.findOne(1);\r\n\r\n    o = new TestOrder();\r\n    o.id = 1;\r\n    await test.expectErrorAsync(async () => { await o.save() });\r\n\r\n    test.expectEqual(a.customer === undefined && a.details === undefined);\r\n    var b = <TestOrder>await TestOrder.findOne({ id: 1, relations: [\"customer\"] });\r\n    test.expectEqual(a === b);\r\n    b.removeFromCache();\r\n    b = <TestOrder>await TestOrder.findOne({ id: 1, relations: [\"customer\"] });\r\n    test.expectEqual(a !== b);\r\n    test.expectEqual(a.customer !== undefined && a.details === undefined);\r\n    b = <TestOrder>await TestOrder.findOne({ id: 1, relations: [\"*\"] });\r\n    test.expectEqual(b.customer !== undefined && b.details !== undefined);\r\n    test.expectEqual(b.details[0].Order === undefined);\r\n    b = <TestOrder>await TestOrder.findOne({ id: 1, relations: [\"details.Order\"] });\r\n    test.expectEqual(b.customer !== undefined && b.details !== undefined);\r\n    test.expectEqual(b.details[0].Order !== undefined);\r\n\r\n\r\n}\r\nasync function testParentRights(test: Test) {\r\n    var user = new User();\r\n    user.email = \"testuser@dbtests\";\r\n    user.password = \"hallo\";\r\n    await user.save();\r\n    console.log(user.id);\r\n    \r\n    var group = new Group();\r\n    group.id = -85485425;\r\n    group.name = \"Group\"\r\n    await group.save();\r\n    var t2 = await Group.findOne(-85485425);\r\n    user.groups = [group];\r\n    await user.save();\r\n\r\n    var sec = new ParentRight();\r\n    sec.classname = \"tests.TestCustomer\";\r\n    sec.name = \"TestCustomers\";\r\n    sec.i1 = 1;\r\n    sec.i2 = 1;\r\n    sec.groups = [group];\r\n    await sec.save();\r\n    DBObject.clearCache(\"tests.TestCustomer\");\r\n    DBObject.clearCache(\"tests.TestOrder\");\r\n    DBObject.clearCache(\"tests.TestOrderDetails\");\r\n    console.log(\"simulate User \"+user.id);\r\n    var allus=await User.find({relations:[\"groups\"]});\r\n    var allg=await Group.find();\r\n    var allr=await ParentRight.find();\r\n\r\n\r\n     await RemoteProtocol.simulateUser(user.email, user.password);\r\n    \r\n   \r\n\r\n    var kunden = await TestCustomer.find();\r\n    test.expectEqual(kunden.length === 1);\r\n    \r\n    var orders=await TestOrder.find();\r\n    test.expectEqual(orders.length === 2);\r\n   \r\n    var ordersd=await TestOrderDetails.find();\r\n    test.expectEqual(ordersd.length === 3);\r\n     await RemoteProtocol.simulateUser();\r\n \r\n\r\n}\r\nexport async function test(test: Test) {\r\n    DBObject.clearCache(\"tests.TestCustomer\");\r\n    DBObject.clearCache(\"tests.TestOrder\");\r\n    DBObject.clearCache(\"tests.TestOrderDetails\");\r\n    await clearDB(test);\r\n    try {\r\n        await insertSample(test);\r\n        await testRelations(test);\r\n        await testParentRights(test);\r\n    } catch (err) {\r\n        throw err;\r\n    } finally {\r\n        await clearDB(test);\r\n    }\r\n}","import { FileActions } from \"jassijs/ui/FileExplorer\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\n\r\n\r\nexport async function test(t: Test) {\r\n    var tests = new FileNode(\"tests\");\r\n    tests.files = [];\r\n    try {\r\n        var code = `export function testfunc(){return 2;}`;\r\n        await FileActions.newFile([tests], \"TestFile.ts\", code, false);\r\n        var testcode = await new Server().loadFile(\"tests/TestFile.ts\");\r\n        t.expectEqual(testcode === code);\r\n        await new Server().saveFile(\"tests/TestFile.ts\",code);\r\n        //@ts-ignore\r\n        var imp = (await import(\"tests/TestFile\")).testfunc;\r\n        t.expectEqual(imp() === 2);\r\n      var file = new FileNode(\"tests/TestFile.ts\");\r\n       await FileActions.dodelete([file], false);\r\n        await FileActions.newFolder([tests], \"testfolder\");\r\n        var tf = new FileNode(\"tests/testfolder\");\r\n        tf.parent = tests;\r\n        tf.files=[];\r\n         await FileActions.rename([tf], \"testfolder2\");\r\n          var tf2 = new FileNode(\"tests/testfolder2\");\r\n        tf2.files = [];\r\n       await FileActions.download([tf2]);\r\n        await FileActions.dodelete([tf2], false);\r\n\r\n    } catch (err) {\r\n        throw err;\r\n    } finally {\r\n        try {\r\n            new Server().delete(\"tests/TestFile.ts\");\r\n        } catch {\r\n\r\n        }\r\n        try {\r\n            new Server().delete(\"tests/testfolder\");\r\n        } catch {\r\n\r\n        }\r\n        try {\r\n            new Server().delete(\"tests/testfolder2\");\r\n        } catch {\r\n\r\n        }\r\n    }\r\n}\r\n","import { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { FileActions } from \"jassijs/ui/FileExplorer\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Tests } from \"jassijs/base/Tests\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { DatabaseDesigner } from \"jassijs/ui/DatabaseDesigner\";\r\nimport { DBObject } from \"jassijs/remote/DBObject\";\r\nimport { DatabaseTools } from \"jassijs/remote/DatabaseTools\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\n\r\nexport async function test(teste: Test) {\r\n    try {\r\n        await new Server().createModule(\"testrmodul\");\r\n        await new Server().createFolder(\"testrmodul/remote\");\r\n        await new Server().saveFile(\"testrmodul/remote/TestRModul.ts\", `import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Context, RemoteObject } from \"jassijs/remote/RemoteObject\";\r\n\r\n@$Class(\"testrmodul.remote.TestRModul\")\r\nexport class TestRModul extends RemoteObject{\r\n    //this is a sample remote function\r\n    public async sayHello(name: string,context: Context = undefined) {\r\n        if (!context?.isServer) {\r\n            return await this.call(this, this.sayHello, name,context);\r\n        } else {\r\n            return \"Hello \"+name;  //this would be execute on server  \r\n        }\r\n    }\r\n}`);\r\n        //create new DB Object\r\n        var ret = new DatabaseDesigner(false);\r\n        await ret.readSchema();\r\n        await ret.addClass(\"testrmodul.TestRCustomer\");\r\n        await ret.addField(\"string\",\"name\");\r\n        var sr=await ret.saveAll(false);\r\n        if(sr!==\"\"){\r\n            throw new Error(sr);\r\n        }\r\n        teste.expectEqual(sr===\"\");\r\n        ret.destroy();\r\n        await registry.reload();\r\n        var ro = await new (await classes.loadClass(\"testrmodul.remote.TestRModul\"))().sayHello(\"you\");\r\n        teste.expectEqual(ro === \"Hello you\");\r\n\r\n        var TestRCustomer:any= await classes.loadClass(\"testrmodul.TestRCustomer\");\r\n        DBObject.clearCache(\"testrmodul.TestRCustomer\");\r\n        var cust:any=new TestRCustomer();\r\n        cust.id=52;\r\n        cust.name=\"Hallo\";\r\n        await cust.save();\r\n        var tcust:DBObject=await TestRCustomer.findOne();\r\n        //@ts-ignore\r\n        teste.expectEqual(tcust?.name===\"Hallo\");\r\n        await tcust.remove();\r\n\r\n    } catch (err) {\r\n        throw err;\r\n    } finally {\r\n        var root = new FileNode(\"\");\r\n        root.files = [];\r\n        await new Server().delete(\"testrmodul\");\r\n        await new Server().removeServerModul(\"testrmodul\");\r\n        try{\r\n            var hh=await DatabaseTools.dropTables([\"testrmodul_testrcustomer\"]);\r\n        \r\n        }catch(err){\r\n           \r\n        }\r\n    }\r\n}","import registry from \"jassijs/remote/Registry\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\n\r\nexport async function test(tests:Test) {\r\n        var text=\"export class Hallo{};export function test(){return \"+ registry.nextID()+ \"};\"\r\n        await new Server().saveFile(\"$serverside/Hallo.ts\", text);\r\n        var text2=await new Server().loadFile(\"$serverside/Hallo.ts\");\r\n        tests.expectEqual(text===text2);\r\n        //,\"export class Hallo{};export function test(){return 2};\");\r\n\r\n\r\n}","import { Button } from \"jassijs/ui/Button\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { Panel } from \"jassijs/ui/Panel\";\ntype Me = {\n    button?: Button;\n};\n@$Class(\"tests/TestDialog\")\nexport class TestDialog extends Panel {\n    me: Me;\n    constructor() {\n        super();\n        this.me = {};\n        this.layout(this.me);\n    }\n    layout(me: Me) {\n        me.button = new Button();\n        this.config({ children: [\n                me.button.config({ text: \"button\" })\n            ] });\n    }\n}\nexport async function test() {\n    var ret = new TestDialog();\n    return ret;\n}\n","","export default {}","//this file is autogenerated don't modify\ndefine(\"tests/registry\",[\"require\"], function(require) {\n return {\n  default: {\n\t\"tests/DBTests.ts\": {\n\t\t\"date\": 1624296652000\n\t},\n\t\"tests/FileActionsTests.ts\": {\n\t\t\"date\": 1624296374000\n\t},\n\t\"tests/remote/T.ts\": {\n\t\t\"date\": 1655556792356,\n\t\t\"tests.remote.T\": {}\n\t},\n\t\"tests/remote/TestCustomer.ts\": {\n\t\t\"date\": 1656073034029,\n\t\t\"tests.TestCustomer\": {\n\t\t\t\"$ParentRights\": [\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"TestCustomers\",\n\t\t\t\t\t\t\"sqlToCheck\": \"me.id>=:i1 and me.id<=:i2\",\n\t\t\t\t\t\t\"description\": {\n\t\t\t\t\t\t\t\"text\": \"TestCustomer\",\n\t\t\t\t\t\t\t\"i1\": \"from\",\n\t\t\t\t\t\t\t\"i2\": \"to\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t],\n\t\t\t\"$DBObject\": [],\n\t\t\t\"@members\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"PrimaryColumn\": []\n\t\t\t\t},\n\t\t\t\t\"name\": {\n\t\t\t\t\t\"Column\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"nullable\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"orders\": {\n\t\t\t\t\t\"OneToMany\": [\n\t\t\t\t\t\t\"function\",\n\t\t\t\t\t\t\"function\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"tests/remote/TestOrder.ts\": {\n\t\t\"date\": 1656073023813,\n\t\t\"tests.TestOrder\": {\n\t\t\t\"$DBObject\": [],\n\t\t\t\"@members\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"PrimaryColumn\": []\n\t\t\t\t},\n\t\t\t\t\"customer\": {\n\t\t\t\t\t\"$CheckParentRight\": [],\n\t\t\t\t\t\"ManyToOne\": [\n\t\t\t\t\t\t\"function\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"details\": {\n\t\t\t\t\t\"OneToMany\": [\n\t\t\t\t\t\t\"function\",\n\t\t\t\t\t\t\"function\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"tests/remote/TestOrderDetails.ts\": {\n\t\t\"date\": 1656073236783,\n\t\t\"tests.TestOrderDetails\": {\n\t\t\t\"$DBObject\": [],\n\t\t\t\"@members\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"PrimaryColumn\": []\n\t\t\t\t},\n\t\t\t\t\"Order\": {\n\t\t\t\t\t\"$CheckParentRight\": [],\n\t\t\t\t\t\"ManyToOne\": [\n\t\t\t\t\t\t\"function\",\n\t\t\t\t\t\t\"function\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"tests/remote/TestServerfile.ts\": {\n\t\t\"date\": 1624999038000\n\t},\n\t\"tests/RemoteModulTests.ts\": {\n\t\t\"date\": 1655556792356\n\t},\n\t\"tests/ServerTests.ts\": {\n\t\t\"date\": 1656077953224\n\t},\n\t\"tests/TestDialog.ts\": {\n\t\t\"date\": 1656079687883,\n\t\t\"tests/TestDialog\": {}\n\t},\n\t\"tests/TestReport.ts\": {\n\t\t\"date\": 1623864074000\n\t},\n\t\"tests/remote/TestBigData.ts\": {\n\t\t\"date\": 1656620693167,\n\t\t\"tests.TestBigData\": {\n\t\t\t\"$DBObject\": [],\n\t\t\t\"@members\": {\n\t\t\t\t\"id\": {\n\t\t\t\t\t\"PrimaryGeneratedColumn\": []\n\t\t\t\t},\n\t\t\t\t\"name\": {\n\t\t\t\t\t\"Column\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"nullable\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"name2\": {\n\t\t\t\t\t\"Column\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"nullable\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"number1\": {\n\t\t\t\t\t\"Column\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"nullable\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"number2\": {\n\t\t\t\t\t\"Column\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"nullable\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"tests/BigDataTest.ts\": {\n\t\t\"date\": 1659171561228\n\t}\n}\n }\n});","import { $Class } from \"jassijs/remote/Registry\";\nimport { Context, RemoteObject } from \"jassijs/remote/RemoteObject\";\nimport { Server } from \"jassijs/remote/Server\";\n\n@$Class(\"tests.remote.T\")\nexport class T extends RemoteObject{\n    //this is a sample remote function\n    public async sayHello(name: string,context: Context = undefined) {\n        if (!context?.isServer) {\n            return await this.call(this, this.sayHello, name,context);\n        } else {\n            var H=await import(\"Hallo\");\n            return \"Hello \"+name+H.test();  //this would be execute on server  \n        }\n    }\n}\nexport async function test(){\n     await new Server().saveFile(\"Hallo.ts\",\"export class Hallo{};export function test(){return 2 };\");\n    console.log(await new T().sayHello(\"Kurt\"));\n}\n\nexport async function test2(){\n   \n       \n    \n}","import { $DBObject, DBObject } from \"jassijs/remote/DBObject\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { JoinColumn, JoinTable, Entity, PrimaryColumn,PrimaryGeneratedColumn, Column, ManyToMany, ManyToOne, OneToMany, OneToOne } from \"jassijs/util/DatabaseSchema\";\r\n\r\n\r\n@$DBObject()\r\n@$Class(\"tests.TestBigData\")\r\nexport class TestBigData extends DBObject {\r\n    @PrimaryGeneratedColumn()\r\n    declare id: number;\r\n    constructor() {\r\n        super();\r\n    }\r\n    @Column({\tnullable: true})\r\n    name: string;\r\n    @Column({\tnullable: true})\r\n    name2: string;\r\n    @Column({\tnullable: true})\r\n    number1: number;\r\n    @Column({\tnullable: true})\r\n    number2: number;\r\n    \r\n}","import { TestOrder } from \"tests/remote/TestOrder\";\nimport { DBObject, $DBObject } from \"jassijs/remote/DBObject\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { Entity, PrimaryColumn, Column, OneToOne, ManyToMany, ManyToOne, OneToMany, JoinColumn, JoinTable } from \"jassijs/util/DatabaseSchema\";\nimport { $DBObjectQuery } from \"jassijs/remote/DBObjectQuery\";\nimport { $ParentRights } from \"jassijs/remote/security/Rights\";\n@$ParentRights([{ name: \"TestCustomers\", sqlToCheck: \"me.id>=:i1 and me.id<=:i2\",\n        description: {\n            text: \"TestCustomer\",\n            i1: \"from\",\n            i2: \"to\"\n        } }])\n@$DBObject()\n@$Class(\"tests.TestCustomer\")\nexport class TestCustomer extends DBObject {\n    @PrimaryColumn()\n    declare id: number;\n    constructor() {\n        super();\n    }\n    @Column({\tnullable: true})\n    name: string;\n    @OneToMany(type => TestOrder,order=>order.customer)\n    orders: TestOrder[];\n}\nexport async function test() {\n}\n;\n","import { TestOrderDetails } from \"tests/remote/TestOrderDetails\";\nimport { TestCustomer } from \"tests/remote/TestCustomer\";\nimport { DBObject, $DBObject } from \"jassijs/remote/DBObject\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { Entity, PrimaryColumn, Column, OneToOne, ManyToMany, ManyToOne, OneToMany, JoinColumn, JoinTable } from \"jassijs/util/DatabaseSchema\";\nimport { $DBObjectQuery } from \"jassijs/remote/DBObjectQuery\";\nimport { $CheckParentRight } from \"jassijs/remote/security/Rights\";\n@$DBObject()\n@$Class(\"tests.TestOrder\")\nexport class TestOrder extends DBObject {\n    @PrimaryColumn()\n    declare id: number;\n    constructor() {\n        super();\n    }\n    @$CheckParentRight()\n    @ManyToOne(type => TestCustomer)\n    customer: TestCustomer; \n    @OneToMany(type => TestOrderDetails,e=>e.Order)\n    details: TestOrderDetails[];\n}\nexport async function test() {\n}\n;\n","import { TestOrder } from \"tests/remote/TestOrder\";\nimport { DBObject, $DBObject } from \"jassijs/remote/DBObject\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { Entity, PrimaryColumn, Column, OneToOne, ManyToMany, ManyToOne, OneToMany, JoinColumn, JoinTable } from \"jassijs/util/DatabaseSchema\";\nimport { $DBObjectQuery } from \"jassijs/remote/DBObjectQuery\";\nimport { $CheckParentRight } from \"jassijs/remote/security/Rights\";\n@$DBObject()\n@$Class(\"tests.TestOrderDetails\")\nexport class TestOrderDetails extends DBObject {\n    @PrimaryColumn()\n    declare id: number;\n    constructor() {\n        super(); \n    }\n    @$CheckParentRight()\n    @ManyToOne(type => TestOrder,e=>e.details)\n    Order: TestOrder;\n} \nexport async function test() {\n}\n;\n",""]}