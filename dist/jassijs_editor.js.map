<<<<<<< HEAD
{"version":3,"file":"jassijs_editor.js","sourceRoot":"","sources":["../client/jassijs_editor/AcePanel.ts","../client/jassijs_editor/AcePanelSimple.ts","../client/jassijs_editor/ChromeDebugger.ts","../client/jassijs_editor/CodeEditor.ts","../client/jassijs_editor/CodeEditorInvisibleComponents.ts","../client/jassijs_editor/CodePanel.ts","../client/jassijs_editor/ComponentDesigner.ts","../client/jassijs_editor/ComponentExplorer.ts","../client/jassijs_editor/ComponentPalette.ts","../client/jassijs_editor/ComponentSpy.ts","../client/jassijs_editor/DatabaseDesigner.ts","../client/jassijs_editor/Debugger.ts","../client/jassijs_editor/ErrorPanel.ts","../client/jassijs_editor/ext/monaco.ts","../client/jassijs_editor/ext/monaco2.ts","../client/jassijs_editor/ext/typescriptservices.ts","../client/jassijs_editor/FileExplorer.ts","../client/jassijs_editor/HtmlDesigner.ts","../client/jassijs_editor/modul.ts","../client/jassijs_editor/MonacoPanel.ts","../client/jassijs_editor/registry.js","../client/jassijs_editor/SearchExplorer.ts","../client/jassijs_editor/StartEditor.ts","../client/jassijs_editor/template/TemplateDBDialog.ts","../client/jassijs_editor/template/TemplateDBObject.ts","../client/jassijs_editor/template/TemplateEmptyDialog.ts","../client/jassijs_editor/template/TemplateEmptyTSXDialog.ts","../client/jassijs_editor/template/TemplateRemoteObject.ts","../client/jassijs_editor/util/DatabaseSchema.ts","../client/jassijs_editor/util/DragAndDropper.ts","../client/jassijs_editor/util/Parser.ts","../client/jassijs_editor/util/Resizer.ts","../client/jassijs_editor/util/Tests.ts","../client/jassijs_editor/util/TSSourceMap.ts","../client/jassijs_editor/util/Typescript.ts","../jassijs_editor/registry.js"],"names":[],"mappings":"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","sourcesContent":["/// <amd-dependency path=\"ace/ace\" name=\"ace\"/>\r\ndeclare var ace;\r\nimport 'ace/ext/language_tools';\r\nimport \"jassijs_editor/Debugger\";\r\nimport {mytypescript} from \"jassijs_editor/util/Typescript\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\nimport { Runlater } from \"jassijs/util/Runlater\";\r\nimport { Component, nextID } from 'jassijs/ui/Component';\r\n\r\n\r\n\r\n/**\r\n* wrapper for the Ace-Code editor with Typesccript-Code-Completion an other features\r\n* @class jassijs.ui.CodePanel\r\n*/\r\n@$Class(\"jassijs.ui.AcePanel\")\r\nexport class AcePanel extends CodePanel {\r\n    private _mode: string;\r\n    private _editor;\r\n    private _isInited: boolean;\r\n    //   private _lastCursorPosition;\r\n    declare file: string;\r\n    private static _tooltipdiv: HTMLElement;\r\n    private _lastTooltipRefresh;\r\n    checkErrorTask: Runlater;\r\n    constructor() {\r\n        super();\r\n     }\r\n    render(){\r\n        return <any>React.createElement(\"div\", { className:\"CodePanel\",style:{height:\"500px\",width:\"500px\"}});\r\n    }\r\n    componentDidMount(): void {\r\n        var _this = this;\r\n        this.domWrapper.style.display = \"\";\r\n        this._editor = ace.edit(this._id);\r\n        this.file = \"\";\r\n        this.checkErrorTask = new Runlater(function () {\r\n            _this._checkCode();\r\n        }, 900);\r\n        this._editor.setOptions({\r\n            enableBasicAutocompletion: true,\r\n            //   maxLines:Infinity,\r\n            useSoftTabs: false,\r\n            autoScrollEditorIntoView: false\r\n            //      enableMultiselect: false,\r\n            //    enableLinking: true\r\n        });\r\n\r\n        // this._editor.setAutoScrollEditorIntoView(false);\r\n        this._editor.session.setOption(\"useWorker\", false)\r\n        this._editor.$blockScrolling = Infinity;\r\n        this._editor.jassi = this;\r\n        this._installLangTools();\r\n        var include = /[a-z.]/i;\r\n        this._addEvents();\r\n        this._addCommands();\r\n    }\r\n    private _addEvents() {\r\n        var _this = this;\r\n        this._editor.on('change', (obj, editor) => {\r\n            switch (obj.action) {\r\n                case 'insert':\r\n                    let lines = obj.lines;\r\n                    let char = lines[0];\r\n                    if ((lines.length === 1) && (char.length === 1) && char === \".\") {\r\n                        setTimeout(() => {\r\n                            this._editor.commands.byName.startAutocomplete.exec(this._editor);\r\n                        }, 50);\r\n                    }\r\n                    if (lines.length == 1 && lines[0].length > 1 && lines[0].indexOf(\" \") < 0) {\r\n                        //no check after .\r\n                        var idx = _this.positionToNumber(obj.start);\r\n                        var test = _this.value[idx - 1];\r\n                        if (test !== \".\") {\r\n                            setTimeout(() => {\r\n                                _this._doRequiredImports(obj.end, lines);\r\n\r\n                            }, 500);\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            _this.checkErrorTask.runlater();\r\n            var lineHeight = this._editor.renderer.lineHeight;\r\n            var editorDiv = document.getElementById(_this._id);\r\n            editorDiv.style.height = lineHeight * _this._editor.getSession().getDocument().getLength() + \" px\";\r\n            _this._editor.resize();\r\n        });\r\n\r\n        _this._editor.on(\"guttermousedown\", function (e) {\r\n\r\n            var row = e.getDocumentPosition().row;\r\n            var breakpoints = e.editor.session.getBreakpoints(row, 0);\r\n            var type = \"debugpoint\";\r\n            if (e.domEvent.ctrlKey)\r\n                type = \"checkpoint\";\r\n            var column = _this._editor.session.getLine(row).length;\r\n            if (typeof breakpoints[row] === typeof undefined) {\r\n                e.editor.session.setBreakpoint(row);\r\n                _this.callEvent(\"breakpointChanged\", row, column, true, type);\r\n            } else {\r\n                e.editor.session.clearBreakpoint(row, false, undefined);\r\n                _this.callEvent(\"breakpointChanged\", row, column, false, type);\r\n            }\r\n        });\r\n        this._editor.on(\"mousemove\", function (e) {\r\n            _this._manageTooltip(e);\r\n        })\r\n    }\r\n    autocomplete() {\r\n        this._editor.commands.byName.startAutocomplete.exec(this._editor);\r\n    }\r\n    /**\r\n     * add commands to Ace Editor\r\n     **/\r\n    private _addCommands() {\r\n        var _this = this;\r\n        this._editor.commands.addCommand({\r\n            name: \"formatDocument\",\r\n            bindKey: { win: \"Shift-Alt-f\", mac: \"Shift-Alt-f\" },\r\n            exec: function (editor) {\r\n                mytypescript.formatDocument(_this.file, _this.value).then((val) => {\r\n                    _this.value = val;\r\n                });\r\n            }\r\n        });\r\n        this._editor.commands.addCommand({\r\n            name: \"goToDeclaration\",\r\n            bindKey: { win: \"Ctrl-F12\", mac: \"Ctrl-F12\" },\r\n            exec: function (editor) {\r\n                _this.gotoDeclaration();\r\n            }\r\n        })\r\n    }\r\n    private _tooltiprefresh(event) {\r\n\r\n        if (this._lastTooltipRefresh === undefined)\r\n            return;\r\n        if (this._lastTooltipRefresh + 400 < Date.now()) {\r\n            var pos = event.getDocumentPosition();\r\n            if (pos.row === 0 || pos.column == 0)\r\n                return;\r\n            let lpos = this.positionToNumber({\r\n                column: pos.column + 1,\r\n                row: pos.row + 1\r\n            }) - 1;\r\n            if (!mytypescript.isInited(this.file))\r\n                return;\r\n            var p;\r\n            mytypescript.getQuickInfoAtPosition(this.file, lpos, this.value).then((p) => {\r\n                if (p !== undefined) {\r\n                    var text = \"<div style='font-size:12px'>\";\r\n                    for (let x = 0; x < p.displayParts.length; x++) {\r\n                        text = text + p.displayParts[x].text;\r\n                    }\r\n                    if (p.documentation !== undefined) {\r\n                        for (let x = 0; x < p.documentation.length; x++) {\r\n                            text = text + \"<br>\" + p.documentation[x].text;\r\n                        }\r\n                    }\r\n                    text = text + \"<br>\" + (p.documentation === undefined ? \"\" : p.documentation) + \"<div>\";\r\n                    AcePanel._tooltipdiv.innerHTML = text;\r\n                    AcePanel._tooltipdiv.style[\"background-color\"] = \"#f7f4a5\";\r\n                    AcePanel._tooltipdiv.style.display = \"block\";\r\n                    AcePanel._tooltipdiv.style.position = \"absolute\";\r\n                    AcePanel._tooltipdiv.style.top = event.y + \"px\";\r\n                    AcePanel._tooltipdiv.style.left = event.x + \"px\";\r\n                }\r\n            })\r\n        }\r\n    }\r\n    /**\r\n     * show tooltip\r\n     */\r\n    private _manageTooltip(event) {\r\n        if (AcePanel._tooltipdiv === undefined) {\r\n            AcePanel._tooltipdiv = Component.createHTMLElement('<div id=\"tt\">hallo</div>');\r\n            document.body.append(AcePanel._tooltipdiv);\r\n        }\r\n        if (event !== undefined) {\r\n            AcePanel._tooltipdiv.style.display = \"none\";\r\n            AcePanel._tooltipdiv.style.position = \"absolute\";\r\n            AcePanel._tooltipdiv.style.top = event.y + \"px\";\r\n            AcePanel._tooltipdiv.style.left = event.x + \"px\";\r\n        }\r\n        this._lastTooltipRefresh = Date.now();\r\n        event = event;\r\n        window.setTimeout(this._tooltiprefresh.bind(this), 400, event);\r\n    }\r\n\r\n    public insert(pos: number, text: string) {\r\n        this._editor.session.insert(pos, text);\r\n    }\r\n    /**\r\n     * check if imports are neded and do so \r\n     **/\r\n    _doRequiredImports(pos: { row: number, column: number }, name: string) {\r\n        if (!mytypescript.isInited(this.file))\r\n            return;\r\n        if (this.value.indexOf(\"import \" + name + \" \") === -1 && this.value.indexOf(\"import {\" + name + \"} \") === -1) {\r\n\r\n            let lpos = this.positionToNumber({\r\n                column: pos.column + 1,\r\n                row: pos.row + 1\r\n            }) - 1;\r\n            CodePanel.getAutoimport(lpos, this.file, this.value).then((data) => {\r\n                if (data !== undefined) {\r\n                    this._editor.session.insert(data.pos, data.text);\r\n                    mytypescript.setCode(this.file, this.value);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * check for errors or warnings\r\n     */\r\n    private _checkCode() {\r\n        if (this.file !== undefined && !this.file.toLowerCase().endsWith(\".ts\"))\r\n            return;\r\n        var _this = this;\r\n        mytypescript.waitForInited.then(() => {\r\n            if (_this._editor !== undefined && _this._editor.getSession() !== undefined) {\r\n                _this._editor.getSession().setAnnotations([{\r\n                    row: 1,\r\n                    column: 1,\r\n                    text: \"typescript initialization still in progress...\",\r\n                    type: \"information\" // also warning and information\r\n                }]);\r\n\r\n            }\r\n            mytypescript.setCode(_this.file, _this.value).then((tt) => {\r\n                if (_this.file === undefined)\r\n                    return;\r\n                    mytypescript.getDiagnostics(_this.file, _this.value).then((diag) => {\r\n                    var annotaions = [];\r\n                    var iserror = false;\r\n                    for (var x = 0; x < diag.semantic.length; x++) {\r\n                        // if (diag.semantic[x].file === undefined)\r\n                        //   continue;\r\n                        // if (diag.semantic[x].file === undefined||diag.semantic[x].file.fileName === (\"file:///\" + _this.file) {\r\n                        var err = _this.numberToPosition(diag.semantic[x].start);\r\n                        annotaions.push({\r\n                            row: err.row - 1,\r\n                            column: err.column - 1,\r\n                            text: diag.semantic[x].messageText[\"messageText\"] === undefined ? diag.semantic[x].messageText : diag.semantic[x].messageText[\"messageText\"],//Bug\r\n                            type: \"error\" // also warning and information\r\n                        })\r\n                        iserror = true;\r\n                        //  }\r\n                    }\r\n                    for (var y = 0; y < diag.suggestion.length; y++) {\r\n                        //if (diag.suggestion[y].file === undefined)\r\n                        //    continue;\r\n                        //   if (diag.suggestion[y].file === undefined||diag.suggestion[y].file.fileName === _this.file) {\r\n                        var err = _this.numberToPosition(diag.suggestion[y].start);\r\n                        annotaions.push({\r\n                            row: err.row - 1,\r\n                            column: err.column - 1,\r\n                            text: diag.suggestion[y].messageText,\r\n                            type: \"warning\" // also warning and information\r\n                        })\r\n                        //  }\r\n                    }\r\n                    for (var x = 0; x < diag.syntactic.length; x++) {\r\n                        //  if (diag.syntactic[x].file === undefined)\r\n                        //    continue;\r\n                        // if (iag.syntactic[x].file === undefined||diag.syntactic[x].file.fileName === _this.file) {\r\n                        var err = _this.numberToPosition(diag.syntactic[x].start);\r\n                        annotaions.push({\r\n                            row: err.row - 1,\r\n                            column: err.column - 1,\r\n                            text: diag.syntactic[x].messageText[\"messageText\"] === undefined ? diag.syntactic[x].messageText : diag.syntactic[x].messageText[\"messageText\"],//Bug\r\n                            type: \"error\" // also warning and information\r\n                        })\r\n                        iserror = true;\r\n                        //}\r\n                    }\r\n                    _this._editor.getSession().setAnnotations(annotaions);\r\n                    if (_this.dom) {\r\n                        if (iserror) {\r\n                            (<HTMLElement>_this.dom.querySelector(\".ace_gutter\")).style.background = \"#ffbdb9\";\r\n                        } else {\r\n                            (<HTMLElement>_this.dom.querySelector(\".ace_gutter\")).style.background = \"\";\r\n                        }\r\n                    }\r\n\r\n\r\n                })\r\n            });\r\n        });\r\n\r\n\r\n    }\r\n    /**\r\n     * text changes\r\n     * @param {function} handler\r\n     */\r\n    onchange(handler) {\r\n        this._editor.on('change', handler);\r\n    }\r\n    /**\r\n     * initialize the Ace language Tools (only once)\r\n     */\r\n    private _installLangTools() {\r\n        var aceLangTools = ace.require(\"ace/ext/language_tools\");\r\n        var _this = this;\r\n        if (aceLangTools.jassi === undefined) {\r\n            aceLangTools.jassi = {\r\n                constructor: {\r\n\r\n                },\r\n                getDocTooltip: function (item) {\r\n                    return item.codePanel.getDocTooltip(item);\r\n                    // if (item.jassi !== undefined && item.jassijs.getDocTooltip !== undefined)\r\n                    //     return item.jassijs.getDocTooltip(item);\r\n                },\r\n                getCompletions: function (editor, session, pos, prefix, callback) {\r\n                    return _this.getCompletions(editor, session, pos, prefix, callback);\r\n                }\r\n            }\r\n\r\n        }\r\n        aceLangTools.setCompleters([aceLangTools.jassi, aceLangTools.keyWordCompleter]);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n    * get the completion entrys for the Ace-Code-Editor\r\n    * @param editor - the editor instance\r\n    * @param session - the editor session\r\n    * @param pos - the current code position\r\n    * @param prefix - the word before the code position\r\n    * @param callback - the function to transfer the completions\r\n    */\r\n    getCompletions(editor, session, pos: { row: number, column: number }, prefix, callback) {\r\n        /*   var ret = [];\r\n           var entry = { caption: caption, name: sname, value: sname, score: 10, meta: \"object\", parent: ob };\r\n           ret.push(entry);\r\n           callback(null, ret);*/\r\n        var ret = [];\r\n        var _this = this;\r\n        var p = _this.positionToNumber({\r\n            column: pos.column + 1,\r\n            row: pos.row + 1\r\n        });\r\n        var code = this.value;\r\n\r\n        if (mytypescript.isInited(this.file) !== true) {\r\n            let entry = { caption: \"please try later ... loading in progress\", name: \"loading\", value: \"empty\", score: 10, meta: \"object\", parent: \"otto\", codePanel: _this };\r\n            ret.push(entry);\r\n            return;\r\n        }\r\n        if (_this.file.endsWith(\".js\"))\r\n            return;\r\n            mytypescript.getCompletion(_this.file, p, code, { includeExternalModuleExports: true }).then((data) => {\r\n            if (data !== undefined) {\r\n                for (let e = 0; e < data.entries.length; e++) {\r\n                    let entr = data.entries[e];\r\n                    var icon = \"variableicon\";\r\n                    if (entr.kind === \"method\" || entr.kind === \"function\")\r\n                        icon = \"functionicon\";\r\n                    if (entr.kind === \"property\" || entr.kind === \"getter\" || entr.kind === \"setter\")\r\n                        icon = \"membericon\";\r\n                    if (entr.name.startsWith(\"$\") && entr.kind === \"function\") {\r\n                        icon = \"annotationicon\";\r\n                    }\r\n                    if (entr.kind === \"class\")\r\n                        icon = \"classicon\";\r\n                    var entry = {\r\n                        caption: entr.name, name: entr.name, value: entr.name,\r\n                        score: 10, meta: entr.kind, codePanel: _this, pos: p, file: _this.file, className: icon, icon: \"method\"\r\n                    };\r\n                    ret.push(entry);\r\n                }\r\n            } else {\r\n                let entry = { caption: \"empty\", name: \"empty\", value: \"empty\", score: 10, meta: \"object\", parent: \"otto\", codePanel: _this };\r\n                ret.push(entry);\r\n            }\r\n            callback(null, ret);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n    * get the documentation for a member for the Ace-Code-Editor\r\n    * @param {object} item - the member to describe\r\n    */\r\n    getDocTooltip(item) {\r\n        if (item.file === undefined)\r\n            return \"\";\r\n        var _id = \"j\" + nextID();\r\n        item.docHTML = \"<span id='\" + _id + \"'> please try later ... loading in progress<span>\";\r\n\r\n        mytypescript.getCompletionEntryDetails(item.file, item.pos, item.name, {}, undefined, {}).then((ret) => {\r\n            if (ret === undefined)\r\n                return;\r\n            var doc = \"<b>\";\r\n            if (ret.displayParts !== undefined) {\r\n                for (var x = 0; x < ret.displayParts.length; x++) {\r\n                    doc = doc + ret.displayParts[x].text;//+ret.tags[x].text;\r\n                }\r\n            }\r\n            //doc = \"<div style='width:50px;word-wrap: break-word'>\"+doc + \"</div></b><br>\";\r\n            doc = \"<div style='word-wrap: break-word'>\" + doc + \"</div></b><br>\";\r\n            if (ret.documentation !== undefined) {\r\n                for (var x = 0; x < ret.documentation.length; x++) {\r\n                    doc = doc + ret.documentation[x].text + \"<br>\";//+ret.tags[x].text;\r\n                }\r\n            }\r\n            doc = doc;\r\n            if (ret.tags !== undefined) {\r\n                for (var x = 0; x < ret.tags.length; x++) {\r\n                    var text = ret.tags[x].text;\r\n                    if (Array.isArray(text)) {\r\n                        var t = \"\";\r\n                        text.forEach((e) => t += e.text);\r\n                        text = t;\r\n                    }\r\n                    doc = doc + \"<b>\" + ret.tags[x].name + \" </b> \" + (text === undefined ? \"\" : text.replaceAll(\"<\", \"&#60;\").replaceAll(\">\", \"&#62;\") + \"<br>\");\r\n                }\r\n            }\r\n            doc = doc;\r\n            var html = \"<div style='font-size:12px'>\" + doc + \"<div>\";//this._getDescForMember(item.parent, item.name);\r\n            //window.setTimeout(()=>{\r\n            document.getElementById(_id).outerHTML = html;\r\n\r\n            // },10);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * gets a list of all lines with breakpoint\r\n     * @returns {Object.<number, boolean>}\r\n     */\r\n    getBreakpoints(): { [line: number]: boolean } {\r\n        var ret = {};\r\n        var breakpoints = this._editor.session.getBreakpoints(0, 0);\r\n        for (var x = 0; x < breakpoints.length; x++) {\r\n            if (breakpoints[x] !== undefined) {\r\n                ret[x] = true;\r\n            }\r\n            //\tdebugger;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    /**\r\n     * component get focus\r\n     * @param {function} handler\r\n     */\r\n    onfocus(handler) {\r\n        return this._editor.on(\"focus\", handler);\r\n    }\r\n    /**\r\n     * component lost focus\r\n     * @param {function} handler\r\n     */\r\n    onblur(handler) {\r\n        return this._editor.on(\"blur\", handler);\r\n    }\r\n    /**\r\n     * @param - the codetext\r\n     */\r\n    set value(value: string) { //the Code\r\n        var lastcursor = this.cursorPosition;\r\n        this._editor.setValue(value);\r\n        this._editor.clearSelection();\r\n        //force ctrl+z not shows an empty document\r\n        if (this._isInited === undefined) {\r\n            this._isInited = true;\r\n            this._editor.getSession().setUndoManager(new ace.UndoManager());\r\n        }\r\n        if (lastcursor !== undefined) {\r\n            //this.cursorPosition = lastcursor;\r\n        }\r\n        var _this = this;\r\n        //asynchron\r\n        window.setTimeout(() => {\r\n            this._checkCode();\r\n\r\n        }, 10);\r\n    }\r\n    get value(): string {\r\n        return this._editor.getValue();\r\n    }\r\n    /**\r\n     * @param {object} position - the current cursor position {row= ,column=}\r\n     */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._editor.focus();\r\n        this._editor.gotoLine(cursor.row, cursor.column, true);\r\n        var r = cursor.row;\r\n        if (r > 5)\r\n            r = r - 5;\r\n        var _this = this;\r\n        //_this._editor.renderer.scrollToRow(r);\r\n        // _this._editor.renderer.scrollCursorIntoView({ row: cursor.row, column: cursor.column  }, 0.5);\r\n    }\r\n    get cursorPosition(): { row: number, column: number } {\r\n        var ret = this._editor.getCursorPosition();\r\n        ret.row++;\r\n        ret.column++;\r\n        return ret;\r\n    }\r\n    /**\r\n     * returns a single line\r\n     * @param {number} line - the line number\r\n     */\r\n    getLine(line) {\r\n        return this._editor.getSession().getLine(line);\r\n    }\r\n    /**\r\n     * @member {string} - the language of the editor e.g. \"ace/mode/javascript\"\r\n     */\r\n    set mode(mode) {\r\n        //  alert(mode);\r\n        this._mode = mode;\r\n        this._editor.getSession().setMode(\"ace/mode/\" + mode);\r\n    }\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n    destroy() {\r\n        this._editor.destroy();\r\n        super.destroy();\r\n    }\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        this._editor.undo();\r\n    }\r\n    /**\r\n     * resize the editor\r\n     * */\r\n    resize() {\r\n        this._editor.resize();\r\n    }\r\n}\r\n\r\nexport async function test() {\r\n\r\n    var dlg = new AcePanel();\r\n    dlg.value = \"var h;\\r\\nvar k;\\r\\nvar k;\\r\\nvar k;\\r\\nconsole.debug('ddd');\";\r\n    dlg.mode = \"typescript\";\r\n    dlg.height = 100;\r\n\r\n    //dlg._editor.renderer.setShowGutter(false);\t\t\r\n    //dlg._editor.getSession().addGutterDecoration(1,\"error_line\");\r\n    //  dlg._editor.getSession().setBreakpoint(1);\r\n    // dlg._editor.getSession().setBreakpoint(2);\r\n    var h = dlg.getBreakpoints();\r\n    return dlg;\r\n}\r\n\r\n","/// <amd-dependency path=\"ace/ace\" name=\"ace\"/>\r\ndeclare var ace;\r\nimport 'ace/ext/language_tools';\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\n\r\n\r\n\r\n/**\r\n* wrapper for the Ace-Code editor with Typesccript-Code-Completion an other features\r\n* @class jassijs.ui.CodePanel\r\n*/\r\n@$Class(\"jassijs.ui.AcePanelSimple\")\r\nexport class AcePanelSimple extends CodePanel{\r\n    private _mode: string;\r\n    private _editor;\r\n    private _isInited: boolean;\r\n    constructor() {\r\n        super();\r\n      \r\n       \r\n        //editor.$blockScrolling = Infinity;\r\n    }\r\n    render(){\r\n        return <any>React.createElement(\"div\", { className:\"CodePanel\",style:{height:\"500px\",width:\"500px\"}});\r\n    }\r\n    componentDidMount(): void {\r\n        this.domWrapper.style.display=\"\";\r\n        this._editor = ace.edit(this._id);\r\n        this.file = \"\";\r\n        this._editor.setOptions({\r\n            enableBasicAutocompletion: true,\r\n            //   maxLines:Infinity,\r\n            useSoftTabs: false,\r\n            autoScrollEditorIntoView: false\r\n            //      enableMultiselect: false,\r\n            //    enableLinking: true\r\n        });\r\n\r\n        // this._editor.setAutoScrollEditorIntoView(false);\r\n        this._editor.session.setOption(\"useWorker\", false)\r\n        this._editor.$blockScrolling = Infinity;\r\n        this._editor.jassi = this;\r\n        this._addEvents();\r\n    }\r\n    private _addEvents() {\r\n        var _this = this;\r\n   /*     this._editor.on('change', (obj, editor) => {\r\n            var lineHeight = this._editor.renderer.lineHeight;\r\n            var editorDiv = document.getElementById(_this._id);\r\n            editorDiv.style.height = lineHeight * _this._editor.getSession().getDocument().getLength() + \" px\";\r\n            _this._editor.resize();\r\n        });*/\r\n\r\n\r\n    }\r\n    autocomplete(){\r\n        console.log(\"not implemented\");\r\n    }\r\n\tpublic insert(pos:number,text:string){\r\n\t\tthis._editor.session.insert(pos, text);\r\n\t}\r\n\t/**\r\n     * text changes\r\n     * @param {function} handler\r\n     */\r\n    onchange(handler) {\r\n       this._editor.on('change', handler);\r\n    }\r\n  \r\n    \r\n    /**\r\n     * component get focus\r\n     * @param {function} handler\r\n     */\r\n    onfocus(handler) {\r\n        return this._editor.on(\"focus\", handler);\r\n    }\r\n    /**\r\n     * component lost focus\r\n     * @param {function} handler\r\n     */\r\n    onblur(handler) {\r\n        return this._editor.on(\"blur\", handler);\r\n    }\r\n    /**\r\n     * @param - the codetext\r\n     */\r\n    set value(value: string) { //the Code\r\n        var lastcursor = this.cursorPosition;\r\n        this._editor.setValue(value);\r\n        this._editor.clearSelection();\r\n        //force ctrl+z not shows an empty document\r\n        if (this._isInited === undefined) {\r\n            this._isInited = true;\r\n            this._editor.getSession().setUndoManager(new ace.UndoManager());\r\n        }\r\n        if (lastcursor !== undefined) {\r\n            //this.cursorPosition = lastcursor;\r\n        }\r\n        var _this = this;\r\n        \r\n    }\r\n    get value(): string {\r\n        return this._editor.getValue();\r\n    }\r\n    /**\r\n     * @param {object} position - the current cursor position {row= ,column=}\r\n     */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._editor.focus();\r\n        this._editor.gotoLine(cursor.row, cursor.column, true);\r\n        var r = cursor.row;\r\n        if (r > 5)\r\n            r = r -5;\r\n        var _this = this;\r\n        //_this._editor.renderer.scrollToRow(r);\r\n       // _this._editor.renderer.scrollCursorIntoView({ row: cursor.row, column: cursor.column  }, 0.5);\r\n    }\r\n    get cursorPosition(): { row: number, column: number } {\r\n        var ret= this._editor.getCursorPosition();\r\n        ret.row++;\r\n        ret.column++;\r\n        return ret;\r\n    }\r\n    /**\r\n     * returns a single line\r\n     * @param {number} line - the line number\r\n     */\r\n    getLine(line) {\r\n        return this._editor.getSession().getLine(line);\r\n    }\r\n    /**\r\n     * @member {string} - the language of the editor e.g. \"ace/mode/javascript\"\r\n     */\r\n    set mode(mode) {\r\n        //  alert(mode);\r\n        this._mode = mode;\r\n        this._editor.getSession().setMode(\"ace/mode/\" + mode);\r\n    }\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n    destroy() {\r\n        this._editor.destroy();\r\n        super.destroy();\r\n    }\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        this._editor.undo();\r\n    }\r\n    /**\r\n     * resize the editor\r\n     * */\r\n    resize() {\r\n        this._editor.resize();\r\n    }\r\n}\r\nexport async function test() {\r\n\r\n    var dlg = new AcePanelSimple();\r\n    dlg.value = \"var h;\\r\\nvar k;\\r\\nvar k;\\r\\nvar k;\\r\\nconsole.debug('ddd');\";\r\n    dlg.mode = \"typescript\";\r\n    dlg.height=100;\r\n\r\n    //dlg._editor.renderer.setShowGutter(false);\t\t\r\n    //dlg._editor.getSession().addGutterDecoration(1,\"error_line\");\r\n    //  dlg._editor.getSession().setBreakpoint(1);\r\n    // dlg._editor.getSession().setBreakpoint(2);\r\n    var h = dlg.getBreakpoints();\r\n    return dlg;\r\n}\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Debugger } from \"jassijs_editor/Debugger\";\nimport { CodeEditor } from \"jassijs_editor/CodeEditor\";\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\nimport { TSSourceMap } from \"jassijs_editor/util/TSSourceMap\";\nimport { Reloader } from \"jassijs/util/Reloader\";\nimport { Server } from \"jassijs/remote/Server\";\nimport windows from \"jassijs/base/Windows\";\nimport { notify, notifyAddStyle } from \"jassijs/ui/Notify\";\nvar installed = undefined;\n\n\n/**\n * debugging in Chrome\n */\n@$Class(\"jassijs_editor.ChromeDebugger\")\nexport class ChromeDebugger extends Debugger {\n    private static mid = 0;\n    private responseList = {};\n    allBreakPoints: { [file: string]: string[] } = {};\n    constructor() {\n        super();\n        //listen to code changes\n        this.sendChromeMessage({ name: \"getCodeChange\" });\n        window.addEventListener(\"message\", (event) => {\n            // console.log(\"mess\"+JSON.stringify(event));\n            this.onChromeMessage(event);\n        });\n    }\n    public static showHintExtensionNotInstalled() {\n        notifyAddStyle('downloadlink', {\n            html: \"<div><a href='https://uwei.github.io/jassijs/jassichrome/jassijsext.zip'><span data-notify-text/></a></div>\",\n            classes: {\n                base: {\n                    \"color\": \"white\",\n                    \"background-color\": \"lightblue\"\n                }\n            }\n        });\n\n        notify(\"Jassi Debugger Chrome extension not installed. Click here to download.\", { position: \"right bottom\", style: 'downloadlink', autoHideDelay: 7000 });\n\n    }\n    //on receiving messages from chrome extension\n    private onChromeMessage(event) {\n        var _this = this;\n        //console.log(\"Website received message: \" + JSON.stringify(event.data));\n        if (event?.data?.event === \"onResourceContentCommitted\") {\n            _this.saveCode(event.data.url.url, event.data.data);\n        }\n        if (event.data.fromJassiExtension && event.data.connected) {\n            installed = true;\n            //clearTimeout(checkExtensionInstalled);\n            if (jassijs.debugger !== undefined)\n                jassijs.debugger.destroy();\n            jassijs.debugger = this;\n        }\n        if (event.data.fromJassiExtension && event.data.mid) {\n            var test = this.responseList[event.data.mid];\n            if (test) {\n                test(event);\n                delete this.responseList[event.data.mid];\n            }\n        }\n    }\n    //send message to chrome extension\n    private sendChromeMessage(msg, response = undefined) {\n        msg.toJassiExtension = true;\n        msg.mid = ChromeDebugger.mid++;\n        if (response)\n            this.responseList[msg.mid] = response;\n        window.postMessage(msg, \"*\");\n    }\n    urlToFile(url) {\n        var file = url;\n        var wurl = window.location.href.split(\"/index.html\")[0];\n        file = file.replace(wurl + \"/\", \"\");\n        file = file.split(\"?\")[0];\n        return file;\n    }\n    async saveCode(url, code) {\n        //alert(code);\n        var file: string = this.urlToFile(url);\n        var filename: string = file.replace(\"$temp\", \"\");\n        var _this = this;\n        //give the user the option to reload the changes in codeeditor\n        var editor = windows.findComponent(\"jassijs_editor.CodeEditor-\" + filename);\n        if (editor !== undefined) {\n\n            if (editor._codeToReload === undefined) {\n\n                OptionDialog.show(\"The source was updated in Chrome. Do you want to load this modification?\", [\"Yes\", \"No\"], editor, false).then(function (data) {\n                    if (data.button === \"Yes\")\n                        editor.value = editor._codeToReload;\n                    delete editor._codeToReload;\n                });\n            }\n            //remove temporary debugpoints\n            if (file.indexOf(\"$temp\") > -1) {\n                var reg = new RegExp(\"{var debug_editor.*debug_editor\\\\.addVariables\\\\(_variables_\\\\)\\\\;}\");\n                var ret = reg.exec(code);\n                while (ret !== null) {\n                    code = code.substring(0, ret.index) + code.substring(ret.index + ret[0].length);\n                    ret = reg.exec(code);\n                }\n            }\n            editor._codeToReload = code;\n\n        }\n        if (file.indexOf(\"$temp\") > -1) {\n            return;\n        }\n        new Server().saveFile(file, code).then(function () {\n            Reloader.instance.reloadJS(file.replace(\".ts\", \"\"));\n            if (code.indexOf(\"jassijs.register(\") > -1) {\n                jassijs.registry.reload();\n            }\n        });\n    }\n\n    /**\n     * remove all breakpoints for the file\n     * @param file \n     */\n    async removeBreakpointsForFile(file: string) {\n        var bps = this.allBreakPoints[file];\n        if (bps === undefined)\n            return;\n        while (bps.length > 0) {\n            await this.breakpointChanged(file, Number(bps[0].split(\":\")[0]), Number(bps[0].split(\":\")[1]), false);\n        }\n    }\n    /**\n     * sets a breakpoint for debugging\n     * @param {string} file\n     * @param {number} line\n     * @param {number} enable - if true then breakpoint is set if false then removed\n     * @param {string} type - the type default undefined->stop debugging \n     **/\n    async breakpointChanged(file, line, column, enable, type = undefined) {\n        if (!installed)\n            ChromeDebugger.showHintExtensionNotInstalled();\n        if (this.allBreakPoints[file] === undefined) {\n            this.allBreakPoints[file] = [];\n        }\n        if (enable) {\n            this.allBreakPoints[file].push(line + \":\" + column);\n        } else {\n            var pos = this.allBreakPoints[file].indexOf(line + \":\" + column);\n            this.allBreakPoints[file].splice(pos, 1);\n        }\n        var _this = this;\n        var newline = await new TSSourceMap().getLineFromTS(file, line, column);\n        var ret = new Promise(function (resolve) {\n            //http://localhost/jassijs/public_html/demo/TreeTable.js?bust=1551539152470\n            var sfile = newline.jsfilename;//file.replace(\".ts\", \".js\");\n            var root = window.location.origin + window.location.pathname;\n            root = root.substring(0, root.lastIndexOf(\"/\"));\n            var url = root + \"/\" + newline.jsfilename;//+\"?bust=\"+window.jassiversion;\n            if (newline.jsfilename.indexOf(\":\") > -1)\n                url = newline.jsfilename;//load module from js-file\n            _this.sendChromeMessage({\n                name: \"breakpointChanged\",\n                url: url,\n                line: newline.line,\n                enable: enable,\n                condition: \"1===1\",\n                type: type\n            }, (data) => {\n                resolve(data);\n            });\n        })\n        return ret;\n    }\n    /**\n    * add debugpoints in code\n    * @param {[string]} lines - code\n    * @param {Object.<number, boolean>} debugpoints - the debugpoints\n    * @param {jassijs_editor.CodeEditor} codeEditor\n    */\n    addDebugpoints(lines, debugpoints, codeEditor) {\n        //added directly\n\n    }\n    /**\n     * report current variable scope\n     * @param {numer} url - url of the script\n     * @param {[Object.<string,object>]} variables \n     */\n    reportVariables(url, variables, type = undefined) {\n        return;\n        var file = this.urlToFile(url);\n        var _this = this;\n\n        var editor = jassijs.windows.findComponent(\"jassijs_editor.CodeEditor-\" + file);\n        if (editor !== undefined) {\n            editor.addVariables(variables);\n        }\n\n    }\n    destroy() {\n        //\tchrome.runtime.sendMessage(extensionId,{name: \"disconnect\"},undefined);\n        this.destroyed = true;\n    }\n\n}\n\n\n//if connected then this instance is registred to jassijs.debugger;\nnew ChromeDebugger();\nwindow.postMessage({ toJassiExtension: true, name: \"connect\" }, \"*\");\nexport function test(){\n    ChromeDebugger.showHintExtensionNotInstalled();\n}","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\nimport { VariablePanel } from \"jassijs/ui/VariablePanel\";\r\nimport { DockingContainer } from \"jassijs/ui/DockingContainer\";\r\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { Reloader } from \"jassijs/util/Reloader\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Component, createComponent } from \"jassijs/ui/Component\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\n\r\nimport { AcePanel } from \"jassijs_editor/AcePanel\";\r\nimport { mytypescript, Typescript } from \"jassijs_editor/util/Typescript\";\r\nimport { MonacoPanel } from \"jassijs_editor/MonacoPanel\";\r\nimport { $SettingsDescriptor, Settings } from \"jassijs/remote/Settings\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\nimport { currentsettings } from \"jassijs/base/CurrentSettings\";\r\nimport windows from \"jassijs/base/Windows\";\r\nimport { notify } from \"jassijs/ui/Notify\";\r\n\r\njassijs.includeCSSFile(\"jassijs_editor.css\");\r\n\r\ndeclare global {\r\n    export interface KnownSettings {\r\n        Development_DefaultEditor: \"ace\" | \"monaco\" | \"aceOnBrowser\";\r\n        Development_MoanacoEditorTheme: \"vs-dark\" | \"vs-light\" | \"hc-black\";\r\n    }\r\n}\r\n@$SettingsDescriptor()\r\n@$Class(\"jassijs_editor.CodeEditorSettingsDescriptor\")\r\nclass CodeEditorSettingsDescriptor {\r\n    @$Property({ chooseFrom: [\"ace\", \"monaco\", \"aceOnBrowser\"], default: \"aceOnBrowser\", chooseFromStrict: true })\r\n    Development_DefaultEditor: string;\r\n    @$Property({ chooseFrom: [\"vs-dark\", \"vs-light\", \"hc-black\"], default: \"vs-light\", chooseFromStrict: true })\r\n    Development_MoanacoEditorTheme: string;\r\n}\r\n\r\n\r\n/**\r\n * Panel for editing sources\r\n * @class jassijs_editor.CodeEditor\r\n */\r\n@$Class(\"jassijs_editor.CodeEditor\")\r\nexport class CodeEditor extends Panel {\r\n    _main: DockingContainer;\r\n    _codeView: Panel;\r\n    _codeToolbar: Panel;\r\n    _codePanel: CodePanel;\r\n    _errors: ErrorPanel;\r\n    _file: string;\r\n    variables: VariablePanel;\r\n    _design: Panel;\r\n    editMode: boolean;\r\n    __evalToCursorReached: boolean;\r\n    autoCompleteButton: Button;\r\n\r\n    private _line: number;\r\n    constructor(properties: { codePanel?: CodePanel, hideToolbar?: boolean } = undefined) {\r\n        super();\r\n        this.maximize();\r\n        this._main = new DockingContainer();\r\n        this._codeView = new Panel();\r\n        this._codeToolbar = new Panel();\r\n        //if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n        let mobil = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n        let sett = currentsettings.gets(Settings.keys.Development_DefaultEditor);\r\n        if (properties?.codePanel) {\r\n            this._codePanel = properties.codePanel;\r\n        } else {\r\n            CodePanel.typescript = mytypescript;\r\n            if (sett === \"ace\" || (mobil && (sett === \"aceOnBrowser\" || sett === undefined))) {\r\n                this._codePanel = new AcePanel();\r\n\r\n            } else {\r\n                this._codePanel = <any>new MonacoPanel();\r\n                // this._codePanel = new AcePanel(); \r\n\r\n            }\r\n\r\n        }\r\n        this._errors = new ErrorPanel();\r\n        this._file = \"\";\r\n        this.variables = new VariablePanel();\r\n        this._design = new Panel();\r\n        this._init(properties?.hideToolbar);\r\n\r\n        this.editMode = true;\r\n    }\r\n    private _initCodePanel() {\r\n        this._codePanel.width = \"100%\";\r\n        this._codePanel.mode = \"typescript\";\r\n        this._codePanel.height = \"calc(100% - 31px)\";\r\n        let _this = this;\r\n        this._codePanel.onBreakpointChanged(function (line, column, enable, type) {\r\n            jassijs.debugger.breakpointChanged(_this._file, line, column, enable, type);\r\n        });\r\n    }\r\n\r\n    private _init(hideToolbar: boolean) {\r\n        var _this = this;\r\n        this._initCodePanel();\r\n        this._codeView[\"horizontal\"] = true;\r\n\r\n        if (hideToolbar !== true) {\r\n            this._codeView.add(this._codeToolbar);\r\n            this._codeToolbar[\"horizontal\"] = true;\r\n            this._codeToolbar.height = \"30\";\r\n\r\n            var run = new Button();\r\n            run.icon = \"mdi mdi-car-hatchback mdi-18px\";\r\n            run.tooltip = \"Run(F4)\";\r\n            run.onclick(function () {\r\n                _this.evalCode();\r\n            });\r\n            this._codeToolbar.add(run);\r\n\r\n\r\n            var save = new Button();\r\n            save.tooltip = \"Save(Ctrl+S)\";\r\n            save.icon = \"mdi mdi-content-save mdi-18px\";\r\n            save.onclick(function () {\r\n                _this.save();\r\n            });\r\n            this._codeToolbar.add(save);\r\n\r\n\r\n            var undo = new Button();\r\n            undo.icon = \"mdi mdi-undo mdi-18px\";\r\n            undo.tooltip = \"Undo (Strg+Z)\";\r\n            undo.onclick(function () {\r\n                _this._codePanel.undo();\r\n            });\r\n            this._codeToolbar.add(undo);\r\n\r\n            var goto = new Button();\r\n            goto.icon = \"mdi mdi-ray-start-arrow mdi-18px\";\r\n            goto.tooltip = \"Goto\";\r\n            goto.onclick(function () {\r\n                _this.gotoDeclaration();\r\n            });\r\n            this._codeToolbar.add(goto);\r\n            this.autoCompleteButton = new Button();\r\n            this.autoCompleteButton.icon = \"mdi mdi-robot-happy-outline mdi-18px\";\r\n            this.autoCompleteButton.tooltip = \"autocomplete (ctrl space)\";\r\n            this.autoCompleteButton.onclick(function () {\r\n                _this._codePanel.autocomplete();\r\n            });\r\n            this._codeToolbar.add(this.autoCompleteButton);\r\n            jassijs[\"$CodeEditor\"] = CodeEditor;\r\n            // $(goto.dom).attr(\"ondrop\", \"event.preventDefault();jassijs.$CodeEditor.search(event.dataTransfer.getData('text'));\");\r\n            //  $(goto.dom).attr(\"ondragover\", \"event.preventDefault();\");\r\n\r\n        }\r\n        this._codeView.add(this._codePanel);\r\n\r\n        this._main.width = \"calc(100% - 1px)\";\r\n        this._main.height = \"99%\";\r\n        this._main.onresize = function () {\r\n            setTimeout(function () {\r\n                _this._codePanel.resize();\r\n\r\n            }, 1000);\r\n        }\r\n        /*var test = new Button();\r\n        test.icon = \"mdi mdi-bug mdi-18px\";\r\n        test.tooltip = \"Test\";\r\n        test.onclick(function () {\r\n            var kk = _this._main.layout;\r\n        });\r\n        this._codeToolbar.add(test);*/\r\n\r\n\r\n        super.add(this._main);\r\n\r\n        this._installView();\r\n        this.registerKeys();\r\n\r\n        this.variables.createTable();\r\n        //   this._codePanel.setCompleter(this);\r\n        setTimeout(() => {\r\n            //_this.editorProvider=\"ace\";\r\n        }, 100);\r\n    }\r\n    static async addFilesToCompletion(filenames: string[]) {\r\n        // await typescript.initService();\r\n\r\n\r\n    }\r\n\r\n    _installView() {\r\n        this._main.add(this._codeView, \"Code..\", \"code\");\r\n        this._main.add(this.variables, \"Variables\", \"variables\");\r\n        this._main.add(this._design, \"Design\", \"design\");\r\n        this._main.add(this._errors, \"Errors\", \"errors\");\r\n        this._main.layout = '{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\"},\"dimensions\":{\"borderWidth\":5,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":100,\"content\":[{\"type\":\"stack\",\"width\":33.333333333333336,\"height\":80.34682080924856,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":19.653179190751445,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":50,\"width\":50,\"content\":[{\"title\":\"Errors\",\"type\":\"component\",\"componentName\":\"errors\",\"componentState\":{\"title\":\"Errors\",\"name\":\"errors\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"width\":50,\"content\":[{\"title\":\"Variables\",\"type\":\"component\",\"componentName\":\"variables\",\"componentState\":{\"title\":\"Variables\",\"name\":\"variables\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}'\r\n\r\n    }\r\n\r\n    /*set editorProvider(value: \"ace\" | \"monaco\") {\r\n        if (value !== this.editorProvider) {\r\n            //switch to new provider\r\n            let pos = this.cursorPosition;\r\n            let val = this.value;\r\n            let old = this._codePanel;\r\n            \r\n            if (value === \"ace\") {\r\n                this._codePanel = new AcePanel();\r\n            } else {\r\n                this._codePanel = new MonacoPanel();\r\n            }\r\n            this._initCodePanel();\r\n            this._codeView.remove(old);\r\n            this._codeView.add(this._codePanel);\r\n            this.value=val;\r\n            this.cursorPosition=pos;\r\n            old.destroy();\r\n        }\r\n        \r\n    }*/\r\n\r\n\r\n    private async _save(code) {\r\n        await new Server().saveFile(this._file, code);\r\n\r\n\r\n        var f = this._file.replace(\".tsx\", \"\").replace(\".ts\", \"\");\r\n        if (this._file?.startsWith(\"$serverside/\")) {\r\n\r\n        } else {\r\n            if (code.indexOf(\"@$\") > -1) {\r\n                await registry.reload();\r\n            }\r\n            await Reloader.instance.reloadJS(f);\r\n        }\r\n\r\n    }\r\n    /**\r\n    * save the code to server\r\n    */\r\n    save() {\r\n        var code = this._codePanel.value;\r\n        var _this = this;\r\n        this._save(code);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * goto to the declariation on cursor\r\n     */\r\n    async gotoDeclaration() {\r\n        this._codePanel.gotoDeclaration();\r\n    }\r\n\r\n    /**\r\n     * search text in classes at the given text\r\n     * @param {string} text - the text to search\r\n     * @returns {jassijs_editor.CodeEditor} - the editor instance\r\n     */\r\n    static async search(text) {\r\n        //TODO ask typescript service\r\n        /* var found = undefined;\r\n         text = text.replaceAll(\"\\r\\n\", \"\\n\");\r\n         var content = undefined;\r\n         //Fast search\r\n         for (var file in classes.getCache()) {\r\n             var fname = file.replaceAll(\".\", \"/\");\r\n             var cl = classes.getCache()[file];\r\n             var code = cl.toString().replaceAll(\"\\r\\n\", \"\\n\");\r\n             if (code.indexOf(text) > -1) {\r\n                 found = fname + \".js\";\r\n                 content = code;\r\n                 break;\r\n             }\r\n         }\r\n         if (found === undefined) {\r\n             //Deep search (slow)\r\n             var files = registry.getAllFilesForService(\"classes\");\r\n             if (files !== undefined) {\r\n                 for (var x = 0; x < files.length; x++) {\r\n                     let code:string = await new Server().loadFile(files[x]);\r\n                     code = code.replaceAll(\"\\r\\n\", \"\\n\");\r\n                     if (code.indexOf(text) > -1) {\r\n                         found = files[x];\r\n                         content = code;\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n         if (found !== undefined) {\r\n             var line = code.substring(0, content.indexOf(text)).split(\"\\n\").length + 1;\r\n             router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + found + \"&line=\" + line.toString());\r\n             //                return await jassijs_editor.CodeEditor.open(found+\":\"+line.toString()+\":0\");\r\n         }*/\r\n        return undefined;\r\n    }\r\n\r\n\r\n    /**\r\n     * manage shortcuts\r\n     */\r\n    registerKeys() {\r\n        var _this = this;\r\n        this._codePanel.dom.addEventListener(\"keydown\", function (evt) {\r\n            if (evt.keyCode === 115 && evt.shiftKey) {//F4\r\n                // var thiss=this._this._id;\r\n                // var editor = ace.edit(this._this._id);\r\n                _this.evalCode(true);\r\n                evt.preventDefault();\r\n                return false;\r\n            } else if (evt.keyCode === 115) {//F4\r\n                _this.evalCode(false);\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 116) {//F5\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n\r\n            if ((String.fromCharCode(evt.which).toLowerCase() === 's' && evt.ctrlKey)/* && (evt.which == 19)*/) {//Str+s\r\n                _this.save();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n\r\n        });\r\n\r\n\r\n    }\r\n    /**\r\n     * extract lines from code\r\n     * @param {string} code - the code\r\n     * @returns {[string]} - all lines\r\n     */\r\n    _codeToLines(code) {\r\n        var lines = code.split(\"\\n\");\r\n        for (var x = 0; x < lines.length; x++) {\r\n            while (lines[x].startsWith(\"/\") || lines[x].startsWith(\" \")\r\n                || lines[x].startsWith(\"*\") || lines[x].startsWith(\"\\t\")) {\r\n                lines[x] = lines[x].substring(1);\r\n            }\r\n        }\r\n        return lines;\r\n    }\r\n\r\n\r\n    _evalToCursorReached() {\r\n        if (this.__evalToCursorReached !== true)\r\n            this._main.show('code');\r\n        this.__evalToCursorReached = true;\r\n    }\r\n    /**\r\n     * add variables to variabelpanel\r\n     * @param Object<string,object> variables [\"name\"]=value\r\n     */\r\n    addVariables(variables) {\r\n        this.variables.addAll(variables);\r\n    }\r\n    private async fillVariablesAndSetupParser(url: string, root: Component, thecomponent: Component, cache: { [componentid: string]: [{ component: Component, line: number, column: number, pos: number, name: string }] }, parser, codePositions) {\r\n\r\n        var useThis = false;\r\n        var connectedComponents = [thecomponent];\r\n        if (thecomponent.__dom._thisOther)\r\n            thecomponent.__dom._thisOther.forEach(e => connectedComponents.push(e));\r\n        for (var i = 0; i < connectedComponents.length; i++) {\r\n            var component = connectedComponents[i];\r\n\r\n            if (cache[component._id] === undefined && component[\"__stack\"] !== undefined ) {\r\n                var lines = component[\"__stack\"]?.split(\"\\n\");\r\n                for (var x = 0; x < lines.length; x++) {\r\n                    var sline: string = lines[x];\r\n                    if (sline.indexOf(\"$temp.js\") > 0) {\r\n                        var spl = sline.split(\":\");\r\n                        var entr = {\r\n\r\n                        }\r\n                        if (cache[component._id] === undefined)\r\n                            cache[component._id] = <any>[];\r\n                        var data = {\r\n                            line: Number(spl[spl.length - 2]),\r\n                            column: Number(spl[spl.length - 1].replace(\")\", \"\")),\r\n                            component: component,\r\n                            pos: 0,\r\n                            name: undefined\r\n                        };\r\n                        if (codePositions[data.line + \",\" + data.column] === undefined) {//we collect first position in the scourecode file\r\n                            codePositions[data.line + \",\" + data.column] = data;\r\n                        }\r\n                        cache[component._id].push(data);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // if (this.file.toLocaleLowerCase().endsWith(\".tsx\")) {\r\n        for (var x = 0; x < thecomponent.dom.childNodes.length; x++) {//children\r\n            var ch = <any>thecomponent.dom.childNodes[x];\r\n            if (ch._this) {\r\n                this.fillVariablesAndSetupParser(url, root, ch._this, cache, parser, codePositions);\r\n            }\r\n        }\r\n        /* } else {\r\n             if (thecomponent[\"_components\"]) {\r\n                 for (var x = 0; x < thecomponent[\"_components\"].length; x++) {\r\n                     this.fillVariablesAndSetupParser(url, root, thecomponent[\"_components\"][x], cache, parser, codePositions);\r\n                 }\r\n             }\r\n         }*/\r\n\r\n        if (thecomponent === root) {\r\n            //fertig\r\n            var hh = 0;\r\n            var TSSourceMap = await classes.loadClass(\"jassijs_editor.util.TSSourceMap\");\r\n            var values = [];\r\n\r\n            //@ts-ignore\r\n            Object.values(cache).forEach((e) => {\r\n                e.forEach(f => values.push(f));\r\n            });\r\n\r\n            var tmap = await new TSSourceMap().getLinesFromJS(\"js/\" + url.replace(\".tsx\", \".js\").replace(\".ts\", \".js\"), values)\r\n            for (var x = 0; x < tmap.length; x++) {\r\n                var val = values[x];\r\n                val.column = tmap[x].column;\r\n                val.line = tmap[x].line;\r\n                val.pos = this._codePanel.positionToNumber({\r\n                    row: val.line,\r\n                    column: val.column\r\n                });\r\n\r\n            }\r\n            //setupClasscope\r\n            var foundscope;\r\n            if (cache[root._id]) {\r\n                for (var xx = 0; xx < cache[root._id].length; xx++) {\r\n                    foundscope = parser.getClassScopeFromPosition(this._codePanel.value, cache[root._id][xx].pos);\r\n                    if (foundscope)\r\n                        break;\r\n                }\r\n            }\r\n            var scope = [{ classname: root?.constructor?.name, methodname: \"layout\" }];\r\n            if (foundscope)\r\n                scope = [{ classname: root?.constructor?.name, methodname: \"layout\" }, foundscope];\r\n            if (this.file.toLowerCase().endsWith(\".tsx\")) {\r\n                //@ts-ignore\r\n                values = Object.values(codePositions);\r\n                parser.parse(this._codePanel.value, undefined, values, true);\r\n                for (var x = 0; x < values.length; x++) {\r\n                    this.variables.addVariable(values[x].name, values[x].component, false,values[x].autoGenerated);\r\n                }\r\n                // this.variables.addVariable(sname, val.component, false);\r\n\r\n            } else {\r\n                values = Object.values(codePositions);\r\n                parser.parse(this._codePanel.value, undefined, values); //scope);\r\n                for (var x = 0; x < values.length; x++) {\r\n                    this.variables.addVariable(values[x].name, values[x].component, false,values[x].autoGenerated);\r\n                }\r\n                //if layout is rendered and an other variable is assigned to this, then remove ths variable\r\n                if (parser.classes[root?.constructor?.name] && parser.classes[root?.constructor?.name].members[\"layout\"]) {\r\n                    useThis = true;\r\n                    this.variables.addVariable(\"this\", root);\r\n                }\r\n                for (var key in parser.data) {\r\n                    var com = parser.data[key];\r\n                    var _new_ = com[\"_new_\"];\r\n                    if (_new_) {\r\n                        var pos = _new_[0].node.pos;\r\n                        var end = _new_[0].node.end;\r\n                        for (var x = 0; x < values.length; x++) {\r\n                            var val = values[x];\r\n                            if (val.pos >= pos && val.pos <= end) {\r\n                                val.name = key;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                var ignoreVar = [];\r\n                for (var x = 0; x < values.length; x++) {\r\n                    var val = values[x];\r\n                    var sname = val.name;\r\n\r\n                    var found = false;\r\n                    this.variables.value.forEach((it) => {\r\n                        if (it.name === sname)\r\n                            found = true;\r\n                    });\r\n                    //sometimes does a constructor create other Components so we need the first one\r\n                    if (found)\r\n                        continue;\r\n\r\n                    if (sname && this.variables.getObjectFromVariable(sname) === undefined) {\r\n                        if (ignoreVar.indexOf(sname) === -1) {\r\n                            if (useThis && root === val.component)\r\n                                ignoreVar.push(sname);//do nothing\r\n                            else\r\n                                this.variables.addVariable(sname, val.component, false);\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n\r\n                this.variables.updateCache();\r\n                this.variables.update();\r\n                // parser.parse(,)\r\n            }\r\n        }\r\n        return parser;\r\n\r\n\r\n\r\n    }\r\n    getDesigner() {\r\n        return this._design;\r\n    }\r\n    /**\r\n     * load the right editor for the returned value\r\n     */\r\n    private async _processEvalResult(ret, filename) {\r\n        //_this.variables.addVariable(\"me\", ret.me);\r\n        var _this = this;\r\n        _this.variables.updateCache();\r\n        if (ret instanceof Component && ret[\"reporttype\"] === undefined) {\r\n            //require([\"jassijs_editor/ComponentDesigner\", \"jassijs_editor/util/Parser\"], function () {\r\n            //    var ComponentDesigner = classes.getClass(\"jassijs_editor.ComponentDesigner\");\r\n            //   var Parser = classes.getClass(\"jassijs_editor.base.Parser\");\r\n\r\n            var ComponentDesigner;\r\n            // if (this.file.toLowerCase().endsWith(\".tsx\"))\r\n            ComponentDesigner = await classes.loadClass(\"jassijs_editor.HtmlDesigner\");\r\n            // else\r\n            //   ComponentDesigner = await classes.loadClass(\"jassijs_editor.ComponentDesigner\");\r\n\r\n            var Parser = await classes.loadClass(\"jassijs_editor.util.Parser\");\r\n            var parser = new Parser();\r\n            // await _this.fillVariablesAndSetupParser(filename, ret, ret, {},parser);\r\n            if (!((_this._design) instanceof ComponentDesigner)) {\r\n                _this._design = new ComponentDesigner();\r\n\r\n                _this._main.add(_this._design, \"Design\", \"design\");\r\n                _this._design[\"codeEditor\"] = _this;\r\n            }\r\n            //@ts-ignore\r\n            _this._design.connectParser(parser);\r\n\r\n            var codePositions = {};\r\n            await _this.fillVariablesAndSetupParser(filename, ret, ret, {}, parser, codePositions);\r\n            (<any>_this._design).designedComponent = ret;\r\n            (<any>_this._design).editDialog(true);\r\n            //});\r\n        } else if (ret[\"reportdesign\"] !== undefined) {\r\n            var Parser = await classes.loadClass(\"jassijs_editor.util.Parser\");\r\n            var ReportDesigner = await classes.loadClass(\"jassijs_report.designer.ReportDesigner\");\r\n            var ReportDesign = await classes.loadClass(\"jassijs_report.ReportDesign\");\r\n            if (!((_this._design) instanceof ReportDesigner)) {\r\n                _this._design = new ReportDesigner();\r\n                _this._main.add(_this._design, \"Design\", \"design\");\r\n                _this._design[\"codeEditor\"] = _this;\r\n                parser = new Parser();\r\n                parser.classScope = undefined;// [{ classname: _this._design?.constructor?.name, methodname: \"layout\" }, { classname: undefined, methodname: \"test\" }];\r\n                //@ts-ignore\r\n                _this._design.connectParser(parser);\r\n\r\n            }\r\n            var rep = new ReportDesign();\r\n            rep.design = Object.assign({}, ret.reportdesign);\r\n            if (ret.value && rep.design.data === undefined)\r\n                rep.design.data = ret.value;\r\n            else if (ret.data && rep.design.data === undefined)\r\n                rep.design.data = ret.data;\r\n\r\n            if (ret.parameter && rep.design.parameter === undefined)\r\n                rep.design.parameter = ret.parameter;\r\n            _this._design[\"designedComponent\"] = rep;\r\n\r\n            /*   require([\"jassijs_report/ReportDesign\"], function() {\r\n                   var rd = classes.getClass(\"jassijs_report.ReportDesign\");\r\n                   let rep = rd[\"fromJSON\"](ret);\r\n                   \r\n                   _this._design[\"designedComponent\"] = rep;\r\n               });*/\r\n\r\n\r\n        }/*else if (ret[\"reporttype\"] !== undefined) {\r\n                    require([\"jassijs_report/designer/ReportDesigner\"], function () {\r\n                        var ReportDesigner = classes.getClass(\"jassijs_report.designer.ReportDesigner\");\r\n                        if (!((_this._design) instanceof ReportDesigner)) {\r\n                            _this._design = new ReportDesigner();\r\n                            _this._main.add(_this._design, \"Design\", \"design\");\r\n                            _this._design[\"codeEditor\"] = _this;\r\n                        }\r\n                        _this._design[\"designedComponent\"] = ret;\r\n\r\n             \r\n                    });\r\n                }*/\r\n    }\r\n    private hookComponents(name, component: Component, react) {\r\n        if (name === \"create\") {\r\n\r\n            if (component?.props?.[\"__stack\"]) {\r\n                component[\"__stack\"] = component.props[\"__stack\"];\r\n                delete component.props[\"__stack\"];\r\n            } else {\r\n                var ex = new Error();\r\n                if (ex?.stack?.indexOf(\"$temp.js\") === -1) {\r\n                    ex = <any>{};\r\n                    //@ts-ignore\r\n                    Error.captureStackTrace(ex, createComponent);\r\n                }\r\n\r\n                if (ex?.stack?.indexOf(\"$temp.js\") != -1) {\r\n                    if (react === \"React.createElement\") {\r\n                        if (component?.props === undefined)\r\n                            component.props = {};\r\n                        component.props[\"__stack\"] = ex.stack;\r\n                    } else {\r\n                        //\r\n                        component[\"__stack\"] = ex.stack;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private async _evalCodeOnLoad(data) {\r\n        this.variables.clear();\r\n        var code = this._codePanel.value;\r\n        var lines = code.split(\"\\n\");\r\n        var _this = this;\r\n        var breakpoints = _this._codePanel.getBreakpoints();\r\n        var filename = \"\";\r\n        if (_this._file.endsWith(\".tsx\"))\r\n            filename = _this._file.replace(\".tsx\", \"$temp.tsx\");\r\n        else\r\n            filename = _this._file.replace(\".ts\", \"$temp.ts\");\r\n        await jassijs.debugger.removeBreakpointsForFile(filename);\r\n        for (var line in breakpoints) {\r\n            if (breakpoints[line]) {\r\n                var row = lines[line].length;\r\n                await jassijs.debugger.breakpointChanged(filename, line, row, true, \"debugpoint\");\r\n            }\r\n        }\r\n\r\n        var islocaldb = classes.getClass(\"jassijs_localserver.DBManager\");\r\n        if (islocaldb && code.indexOf(\"@$DBObject(\") > -1) {\r\n\r\n            (<any>islocaldb).destroyConnection();\r\n        }\r\n        //@ts-ignore\r\n        if (data?.test !== undefined || window.reportdesign) {\r\n            //capure created Components\r\n\r\n            try {\r\n                Component.onComponentCreated(this.hookComponents);\r\n                var ret;\r\n                if (data?.test) {\r\n                    ret = await data.test(new Test());\r\n                } else {\r\n                    //@ts-ignore\r\n                    if (window.reportdesign) {\r\n                        ret = {\r\n                            //@ts-ignore\r\n                            reportdesign: window.reportdesign\r\n                        }\r\n                    } else {\r\n                        Component.offComponentCreated(this.hookComponents);\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                // Promise.resolve(ret).then(async function(ret) {\r\n                if (ret !== undefined) {\r\n\r\n                    await this._processEvalResult(ret, filename);\r\n                    // Component.offComponentCreated(hook);\r\n\r\n                }\r\n\r\n                //  });\r\n            } finally {\r\n                Component.offComponentCreated(this.hookComponents);\r\n            }\r\n        }\r\n\r\n    }\r\n    private async saveTempFile(file: string, code: string) {\r\n\r\n        //@ts-ignore \r\n        var tss = await import(\"jassijs_editor/util/Typescript\");\r\n        //@ts-ignore \r\n        var settings = Object.assign({}, Typescript.compilerSettings);\r\n        settings[\"inlineSourceMap\"] = true;\r\n        settings[\"inlineSources\"] = true;\r\n        var files;\r\n        if (this.file.endsWith(\".tsx\"))\r\n            files = await tss.mytypescript.transpile(file + \".tsx\", code, settings);\r\n        else\r\n            files = await tss.mytypescript.transpile(file + \".ts\", code, settings);\r\n\r\n        var codets = -1;\r\n        var codemap = -1;\r\n        var codejs = -1;\r\n        for (var x = 0; x < files.fileNames.length; x++) {\r\n            if (files.fileNames[x].endsWith(\".ts\") || files.fileNames[x].endsWith(\".tsx\")) {\r\n                codets = x;\r\n            }\r\n            if (files.fileNames[x].endsWith(\".js.map\")) {\r\n                codemap = x;\r\n            }\r\n            if (files.fileNames[x].endsWith(\".js\")) {\r\n                codejs = x;\r\n            }\r\n        }\r\n        /*  var all = JSON.parse(files.contents[codemap]);\r\n          all[\"sourcesContent\"] = [files.contents[codets]];\r\n          files.contents[codemap] = JSON.stringify(all);\r\n          var b64 = btoa(unescape(encodeURIComponent(files.contents[codemap])));\r\n          var pos = files.contents[codejs].indexOf(\"//\" + \"# sourceMappingURL=\");\r\n          files.contents[codejs] = files.contents[codejs].substring(0, pos);\r\n          files.contents[codejs] = files.contents[codejs] + \"//\" + \"# sourceMappingURL=data:application/json;charset=utf8;base64,\" + b64;\r\n          */\r\n        const channel = new MessageChannel();\r\n\r\n        var ret = new Promise((res, rej) => {\r\n            channel.port1.onmessage = (evt) => {\r\n                channel.port1.close();\r\n                res(evt);\r\n            };\r\n        });\r\n        let abspath = location.origin + location.pathname;\r\n        abspath = abspath.substring(0, abspath.lastIndexOf(\"/\") + 1);\r\n        navigator.serviceWorker.controller.postMessage({\r\n            type: 'SAVE_FILE',\r\n            filename: abspath + files.fileNames[codejs],\r\n            code: files.contents[codejs]\r\n        }, [channel.port2]);\r\n        var test = await ret;\r\n    }\r\n    async evalServerside() {\r\n        var code = this._codePanel.value;\r\n        var testcode = await new Server().loadFile(this.file);\r\n        var hasModified = testcode !== code;\r\n        if (hasModified) {\r\n            notify(\"please save code before test\", \"error\");\r\n            return undefined;\r\n        }\r\n        var res = await new Server().testServersideFile(this._file.substring(0, this._file.length - 3));\r\n        return res;\r\n    }\r\n    /**\r\n     * execute the current code\r\n     * @param {boolean} toCursor -  if true the variables were inspected on cursor position, \r\n     *                              if false at the end of the layout() function or at the end of the code\r\n     */\r\n    async evalCode(toCursor = undefined) {\r\n        this.__evalToCursorReached = false;\r\n        this.variables.clear();\r\n\r\n        var code = this._codePanel.value;\r\n        var lines = code.split(\"\\n\");\r\n\r\n        var _this = this;\r\n        if (this.file?.startsWith(\"$serverside/\")) {\r\n\r\n            var res = await this.evalServerside();\r\n            await this._processEvalResult(res, undefined);\r\n\r\n            return;\r\n        }\r\n\r\n        window[\"test\"] = undefined;\r\n\r\n        code = \"\";\r\n        for (var x = 0; x < lines.length; x++) {\r\n            code = code + lines[x] + \"\\n\";\r\n        }\r\n        code = code;\r\n        var _this = this;\r\n        var tmp = new Date().getTime();\r\n        var jsfile = _this._file.replace(\".tsx\", \"\").replace(\".ts\", \"\") + \"$temp\";\r\n        //await new Server().saveFile(\"tmp/\" + _this._file, code);\r\n        //only local - no TS File in Debugger\r\n        await this.saveTempFile(jsfile, code);\r\n        //@ts-ignore\r\n        window.reportdesign = undefined;\r\n        try { requirejs.undef(\"js/\" + jsfile + \".js\"); } catch (ex) { };\r\n        var onload = function (data) {\r\n\r\n            _this._evalCodeOnLoad(data).catch((err) => {\r\n                throw err;\r\n            });\r\n\r\n        }\r\n        //await new Promise(resolve => setTimeout(resolve, 1000));\r\n        //if this is the first save for the tmpfile then it fails - I dont know why, give it a second try\r\n        //@ts-ignore\r\n        require([\"js/\" + jsfile + \".js\"], onload,/*error*/function (err) {\r\n            //console.log(\"reload\");\r\n            window.setTimeout(function () {\r\n                //@ts-ignore\r\n                require([\"js/\" + jsfile + \".js\"], onload, function (err) {\r\n                    throw err;\r\n                });\r\n            }, 20);\r\n        });\r\n\r\n\r\n\r\n    }\r\n    /**\r\n     * switch view\r\n     * @member {string} view - \"design\" or \"code\"\r\n     */\r\n    set viewmode(view) {\r\n        this._main.show(view);\r\n    }\r\n\r\n    /**\r\n    * get all known instances for type\r\n    * @param {type} type - the type we are interested\r\n    * @returns {[string]}\r\n    */\r\n    getVariablesForType(type) {\r\n        return this.variables.getVariablesForType(type);\r\n    }\r\n    /**\r\n     * gets the name of the variabel that holds the object\r\n     * @param {object} ob - the\r\n     */\r\n    getVariableFromObject(ob) {\r\n        return this.variables.getVariableFromObject(ob);\r\n    }\r\n\r\n    /**\r\n     * gets the name object of the given variabel\r\n     * @param {string} ob - the name of the variable\r\n     */\r\n    getObjectFromVariable(varname) {\r\n        return this.variables.getObjectFromVariable(varname);\r\n    }\r\n    isVariableAutogenerated(varname){\r\n        return this.variables.isVariableAutogenerated(varname);\r\n    }\r\n\r\n    /**\r\n      * renames a variable in design\r\n      * @param {string} oldName\r\n      * @param {string} newName\r\n      */\r\n    renameVariable(oldName:string, newName:string,autogenerated:boolean) {\r\n        this.variables.renameVariable(oldName, newName,autogenerated);\r\n        if (this._design !== undefined && this._design[\"_componentExplorer\"] !== undefined)\r\n            this._design[\"_componentExplorer\"].update();\r\n    }\r\n\r\n    /**\r\n     * gets the name object of the given variabel\r\n     * @param {string} ob - the name of the variable\r\n     */\r\n    removeVariableInDesign(varname) {\r\n        return this.variables.removeVariable(varname);\r\n    }\r\n\r\n    /**\r\n     * @member {string} - the code\r\n     */\r\n    set value(value) {\r\n        this._codePanel.file = this._file;\r\n        this._codePanel.value = value;\r\n\r\n    }\r\n    get value() {\r\n        return this._codePanel.value;\r\n    }\r\n    setCursorPorition(position: number) {\r\n        this.cursorPosition = this._codePanel.numberToPosition(position);\r\n    }\r\n    /**\r\n    * @param {object} position - the current cursor position {row= ,column=}\r\n    */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._codePanel.cursorPosition = cursor;\r\n    }\r\n    get cursorPosition() {\r\n        return this._codePanel.cursorPosition;\r\n    }\r\n\r\n    /**\r\n     * @member {string} - title of the component\r\n     */\r\n    get title() {\r\n        var s: any = this.file.split(\"/\");\r\n        s = s[s.length - 1];\r\n        if (this.file?.startsWith(\"$serverside\"))\r\n            s = s + \"(s)\";\r\n        return s;\r\n    }\r\n    /**\r\n    * @member {string} - the url to edit\r\n    */\r\n    set file(value: string) { //the Code\r\n        this._file = value;\r\n        this.openFile(value);\r\n\r\n    }\r\n    @$Property({ isUrlTag: true, id: true })\r\n    get file(): string {\r\n        return this._file;\r\n    }\r\n    /**\r\n    * goes to the line number \r\n    * @param {object} value - the line number \r\n    */\r\n    set line(value: number) {\r\n        this._line = Number(value);\r\n        this.cursorPosition = { row: this._line, column: 1 };\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.cursorPosition = { row: _this._line, column: 1 };\r\n        }, 300);\r\n        /*setTimeout(function() {\r\n            _this.cursorPosition = { row: value, column: 0 };\r\n        }, 1000);//start takes one second....*/\r\n    }\r\n    @$Property({ isUrlTag: true })\r\n    get line(): number {\r\n        return this.cursorPosition.row;\r\n    }\r\n    /**\r\n     * open the file\r\n     */\r\n    async openFile(_file) {\r\n        this._file = _file;\r\n        var content = await new Server().loadFile(this._file);\r\n        this._codePanel.file = _file;\r\n        this._codePanel.value = content;\r\n        this._codePanel.width = \"100%\";\r\n        //  this._codePanel.height=\"100%\";\r\n        this._main.update();\r\n        if (this._line)\r\n            this.line = this._line;\r\n\r\n    }\r\n    destroy() {\r\n        this._codeView.destroy();\r\n        this._codeToolbar.destroy();\r\n        this._codePanel.destroy();\r\n        this._errors.destroy();\r\n        this.variables.destroy();\r\n        this._design.destroy();\r\n        //this._main.destroy();\r\n        super.destroy();\r\n    }\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        this._codePanel.undo();\r\n    }\r\n\r\n}\r\n\r\nexport async function test() {\r\n    var editor = new CodeEditor();\r\n    //var url = \"jassijs_editor/AcePanel.ts\";\r\n    editor.height = \"100%\";\r\n    editor.width = \"100%\";\r\n    //await editor.openFile(url);\r\n    editor.file = \"tests/TestDialog.ts\";//\"$serverside/jassijs_report/TestServerreport.ts\";//\r\n    setTimeout(() => {\r\n        editor.evalCode();\r\n\r\n    }, 500);\r\n    windows.add(editor, editor.title);\r\n    // debugger;\r\n    // var k=await new Server().testServersideFile(\"$serverside/jassijs_report/TestServerreport\");\r\n};\r\n//jassijs.myRequire(modul.css[\"jassijs_editor.css\"]);","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\r\nimport \"jassijs/ui/Image\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { InvisibleComponent } from \"jassijs/ui/InvisibleComponent\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\n//import {CodeEditor} from \"jassijs_editor/CodeEditor\";//could be removed\r\n\r\n\r\n@$Class(\"jassijs_editor.CodeEditorInvisibleComponents\")\r\nexport class CodeEditorInvisibleComponents extends Panel {\r\n\r\n    codeeditor;\r\n    constructor(codeeditor) {\r\n        super();\r\n        \r\n        /** \r\n       * @member {jassijs_editor.CodeEditor} - the parent CodeEditor\r\n       * */\r\n\r\n        this.codeeditor = codeeditor;\r\n        this.layout();\r\n    }\r\n    render(){\r\n        return <any>React.createElement(\"span\", { className:\"Panel\",style:{border:\"1px solid #ccc\"}});\r\n    }\r\n    componentDidMount(): void {\r\n       \r\n    }\r\n    layout() {\r\n        this.update();\r\n    }\r\n    update() {\r\n\r\n        var _this = this;\r\n        while (_this._components.length > 0) {\r\n            _this.remove(_this._components[0]);\r\n        }\r\n        var elements = _this.codeeditor.getVariablesForType(\"$isInivisibleComponent\");//InvisibleComponent);\r\n        for (var x = 0; x < elements.length; x++) {\r\n            var img = new Button();\r\n            var name = elements[x];\r\n            img.tooltip = name;\r\n            //                    img.height=24;\r\n            //  img.width=24;\r\n            img.text = name.startsWith(\"me.\") ? name.substring(3) : name;\r\n            var ob = _this.codeeditor.getObjectFromVariable(name);\r\n            img.dom[\"ob\"] = ob;\r\n            img.onclick(function (evt) {\r\n                _this.codeeditor._design._propertyEditor.value = evt.currentTarget.ob;\r\n                var ac = evt.currentTarget.ob.extensionCalled;\r\n                if (ac !== undefined) {\r\n                    evt.currentTarget.ob.extensionCalled({ componentDesignerInvisibleComponentClicked: { codeEditor: _this.codeeditor, designButton: img } });\r\n                }\r\n            });\r\n            var cn = classes.getClassName(ob);\r\n            //search icon\r\n            registry.getJSONData(\"$UIComponent\").then((regdata) => {\r\n                regdata.forEach(function (val) {\r\n                    if (val.classname === cn) {\r\n                        img.icon = val.params[0].icon;\r\n                    }\r\n                });\r\n            });\r\n\r\n            _this.add(img);\r\n        }\r\n        /* if(entries===undefined)\r\n              return;\r\n          for(var key in entries){\r\n              var entry=entries[key].data;\r\n              var img=new jassijs.ui.Image();\r\n              var name=entry[1].split(\"/\");\r\n              name=name[name.length-1];\r\n              img.tooltip=name;\r\n              img.src=entry[2];\r\n              img.height=24;\r\n              img.width=24;\r\n              img.createFromType=entry[0];\r\n              _this._makeDraggable(img);\r\n              _this.add(img);\r\n          }*/\r\n\r\n    }\r\n    /**\r\n     * install the draggable\r\n     * @param {jassijs.ui.Component} component\r\n     */\r\n    _makeDraggable(component) {\r\n        var helper = new (classes.getClass(component.createFromType))();\r\n        document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n        $(component.dom).draggable({\r\n            cancel: \"false\", revert: \"invalid\",\r\n            appendTo: \"body\",\r\n            helper: function (event) {\r\n                return $(helper.dom);\r\n            }\r\n            /*   drag:function(event,ui){\r\n                   var mouse=event.target._this.dom.style.cursor;\r\n                   if(mouse===\"e-resize\"||mouse===\"s-resize\"||mouse===\"se-resize\")\r\n                       return false;\r\n                   else\r\n                       return true;\r\n               }*/\r\n\r\n        });\r\n    }\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\n//import typescript from \"jassijs_editor/util/Typescript\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { notify } from \"jassijs/ui/Notify\";\r\n\r\n@$Class(\"jassijs_editor.CodePanel\")\r\nexport abstract class CodePanel extends Panel {\r\n    static typescript:any;\r\n    file: string;\r\n\r\n\r\n    resize() {\r\n\r\n    }\r\n    undo() {\r\n\r\n    }\r\n    abstract set mode(mode: string);\r\n    abstract get mode(): string;\r\n    abstract set value(value: string);\r\n    abstract get value(): string;\r\n    abstract autocomplete();\r\n    /**\r\n     * breakpoint changed\r\n     * @param {function} handler - function(line,enabled,type)\r\n     */\r\n    onBreakpointChanged(handler) {\r\n        this.addEvent(\"breakpointChanged\", handler);\r\n    }\r\n\r\n    /**\r\n    * gets a list of all lines with breakpoint\r\n    * @returns {Object.<number, boolean>}\r\n    */\r\n    getBreakpoints(): { [line: number]: boolean } {\r\n        return undefined;\r\n    }\r\n    public numberToPosition(pos: number): { row: number, column: number } {\r\n\t\treturn CodePanel.numberToPosition(this.file,pos,this.value);\r\n        /*var ret = typescript.getLineAndCharacterOfPosition(this.file, pos);\r\n        return {\r\n            row: ret.line,\r\n            column: ret.character\r\n        };*/\r\n    }\r\n    public static numberToPosition(file:string,pos: number,code:string): { row: number, column: number } {\r\n\t\tif(code!==undefined)\r\n        CodePanel.typescript.setCode(file,code);\r\n        var ret = CodePanel.typescript.getLineAndCharacterOfPosition(file, pos);\r\n        return {\r\n            row: ret.line,\r\n            column: ret.character\r\n        };\r\n    }\r\n    public positionToNumber(pos: { row: number, column: number }): number {\r\n    \tCodePanel.typescript.setCode(this.file,this.value);\r\n        var ret = CodePanel.typescript.getPositionOfLineAndCharacter(this.file, {\r\n            line: pos.row,\r\n            character: pos.column\r\n        });\r\n        return ret;\r\n    }\r\n    public static async getAutoimport(lpos:number,file:string,code:string):Promise<{text:string,pos:{ row: number, column: number }}> {\r\n       \r\n        //var lpos = this.positionToNumber(this.cursorPosition);\r\n        //@ts-ignore\r\n        var change=await CodePanel.typescript.getCodeFixesAtPosition(file, code, lpos, lpos, [2304]);\r\n            if (change === undefined)\r\n                return;\r\n            for (let x = 0;x < change.length;x++) {\r\n                if (change[x].changes[0].textChanges[0].newText === \"const \") {\r\n                    change.splice(x, 1);\r\n                }\r\n            }\r\n            if (change.length > 0) {\r\n                var entr = change[0].changes[0].textChanges[0];\r\n                let insertPos = CodePanel.numberToPosition(file,entr.span.start,code);\r\n                insertPos.row = insertPos.row - 1;\r\n                //Bug duplicate insert {Kunde,Kunde}\r\n                if (entr.newText.indexOf(\",\")>-1) {\r\n                    var thisline = code.substring(1 + code.lastIndexOf(\"{\", entr.span.start), code.indexOf(\"}\", entr.span.start));\r\n                    thisline=\"*\"+thisline.replaceAll(\" \",\"*\").replaceAll(\"}\",\"*\").replaceAll(\",\",\"*\")+\"*\";\r\n                    \r\n                    var cl = entr.newText.split(\",\")[0];\r\n                    if (thisline.indexOf(\"*\"+cl+\"*\")>0) {\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                //relative to absolute\r\n                var words = entr.newText.split(\"\\\"\");\r\n                var oldPath: string = words[1];\r\n\r\n                var path = file.split(\"/\");\r\n                path.splice(-1, 1);//remove last\r\n                if (oldPath !== undefined && oldPath.startsWith(\".\")) {//convert relative to absolute\r\n                    if (oldPath.startsWith(\"./\"))\r\n                        oldPath = oldPath.substring(2);\r\n                    while (oldPath.startsWith(\"../\")) {\r\n                        oldPath = oldPath.substring(3);\r\n                        path.splice(-1, 1);\r\n                    }\r\n                    var newPath = \"\";\r\n                    for (let x = 0;x < path.length;x++) {\r\n                        newPath = newPath + path[x] + \"/\";\r\n                    }\r\n                    newPath = newPath + oldPath;\r\n                    return {\r\n                    \ttext:words[0] + \"\\\"\" + newPath + \"\\\"\" + words[2],\r\n                    \tpos:insertPos\r\n                    }\r\n                  //  this.insert(this.positionToNumber(insertPos), words[0] + \"\\\"\" + newPath + \"\\\"\" + words[2]);\r\n                } else {\r\n                \t return {\r\n                    \ttext:entr.newText,\r\n                    \tpos:insertPos\r\n                    }\r\n                    //this.insert(this.positionToNumber(insertPos), entr.newText);\r\n                }\r\n               // typescript.setCode(this.file, this.value);\r\n            }\r\n            return undefined;\r\n\r\n    }\r\n\r\n    /**\r\n   * @param {object} position - the current cursor position {row= ,column=}\r\n   */\r\n    abstract set cursorPosition(cursor: { row: number, column: number });\r\n\r\n    abstract get cursorPosition(): { row: number, column: number };\r\n    /**\r\n         * goes to the declaration under cursor\r\n         */\r\n    gotoDeclaration() {\r\n        var pos = this.positionToNumber(this.cursorPosition)\r\n        var test = this.numberToPosition(pos);\r\n        if (!CodePanel.typescript.isInited(this.file)) {\r\n            notify(\"please try later ... loading in progress\", \"info\", { position: \"bottom right\" });\r\n            return;\r\n        }\r\n        CodePanel.typescript.getDefinitionAtPosition(this.file, pos).then((def) => {\r\n            if (def !== undefined && def.length > 0) {\r\n                var entr = def[0];\r\n                var file = entr.fileName?.replace(\"file:///\", \"\");\r\n                var p = entr.textSpan.start;\r\n                var newPos = CodePanel.numberToPosition(file,p,undefined);\r\n                var line = newPos.row;\r\n                router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + file + \"&line=\" + line);\r\n            }\r\n\r\n        });\r\n    }\r\n}\r\n\r\n","import registry, { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { VariablePanel } from \"jassijs/ui/VariablePanel\";\r\nimport { PropertyEditor } from \"jassijs/ui/PropertyEditor\";\r\nimport { ComponentExplorer } from \"jassijs_editor/ComponentExplorer\";\r\nimport { ComponentPalette } from \"jassijs_editor/ComponentPalette\";\r\nimport { Resizer } from \"jassijs_editor/util/Resizer\";\r\n//import DragAndDropper from \"jassijs/ui/helper/DragAndDropper\";\r\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\r\nimport { CodeEditorInvisibleComponents } from \"jassijs_editor/CodeEditorInvisibleComponents\";\r\nimport \"jassijs/ui/StateBinder\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport { DragAndDropper } from \"jassijs_editor/util/DragAndDropper\";\r\nimport { ComponentDescriptor } from \"jassijs/ui/ComponentDescriptor\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Container } from \"jassijs/ui/Container\";\r\nimport { BoxPanel } from \"jassijs/ui/BoxPanel\";\r\n\r\n//import { Parser } from \"./util/Parser\";\r\n\r\n\r\n\r\nexport class ClipboardData {\r\n    varNamesToCopy: string[] = [];\r\n    children: { [name: string]: string[] } = {};\r\n    properties: { [name: string]: { [propname: string]: any[] } } = {};\r\n    types: { [name: string]: string } = {};\r\n    allChilds: string[] = [];\r\n}\r\n\r\n\r\n@$Class(\"jassijs_editor.ComponentDesigner\")\r\nexport class ComponentDesigner extends Panel {\r\n    _codeEditor;\r\n    editMode: boolean;\r\n    variables: VariablePanel;\r\n    _propertyEditor: PropertyEditor;\r\n    _errors: ErrorPanel;\r\n    _componentPalette: ComponentPalette;\r\n    _componentExplorer: ComponentExplorer; dummy\r\n    _invisibleComponents: CodeEditorInvisibleComponents;\r\n    _designToolbar: Panel;\r\n    _designPlaceholder: Panel;\r\n    _resizer: Resizer;\r\n    _draganddropper: DragAndDropper;\r\n    saveButton: Button;\r\n    runButton: Button;\r\n    lassoButton: Button;\r\n    undoButton: Button;\r\n    editButton: Button;\r\n    cutButton: Button;\r\n    inlineEditorPanel: Panel;\r\n    copyButton: Button;\r\n    pasteButton: Button;\r\n    dummyHolder: HTMLSpanElement;\r\n    lastSelectedDummy = {\r\n        component: undefined,\r\n        pre: false\r\n    }\r\n    private _lastComponent;\r\n    constructor(props) {\r\n        super(props);\r\n        this._codeEditor = undefined;\r\n        this._initDesign();\r\n        this.editMode = true;\r\n\r\n    }\r\n\r\n    connectParser(parser) {\r\n        this._propertyEditor.parser = parser;\r\n    }\r\n    set codeEditor(value) {\r\n        var _this = this;\r\n        this._codeEditor = value;\r\n        this.variables = this._codeEditor.variables;\r\n        this._propertyEditor = new PropertyEditor(value, undefined);\r\n        //   this._propertyEditor=new PropertyEditor(undefined);\r\n        this._errors = this._codeEditor._errors;\r\n        this._componentPalette = new ComponentPalette();\r\n        this._componentPalette.service = \"$UIComponent\";\r\n        this._componentExplorer = new ComponentExplorer(value, this._propertyEditor);\r\n        this._invisibleComponents = new CodeEditorInvisibleComponents(value);\r\n        this.add(this._invisibleComponents);\r\n        this._initComponentExplorer();\r\n        this._installView();\r\n        this._codeEditor._codePanel.onblur(function (evt) {\r\n            _this._propertyEditor.updateParser();\r\n        });\r\n        this.registerKeys();\r\n\r\n    }\r\n    get codeEditor() {\r\n        return this._codeEditor;\r\n    }\r\n    _initDesign() {\r\n        var _this = this;\r\n        this._designToolbar = new Panel();\r\n        this._designPlaceholder = new Panel();\r\n        this.editButton = new Button();\r\n        this.editButton.icon = \"mdi mdi-run mdi-18px\";\r\n        this.editButton.tooltip = \"Test Dialog\";\r\n        this.editButton.onclick(function () {\r\n            _this.editDialog(!_this.editMode);\r\n\r\n        });\r\n\r\n        this._designToolbar.add(this.editButton);\r\n\r\n        this.saveButton = new Button();\r\n        this.saveButton.tooltip = \"Save(Ctrl+S)\";\r\n        this.saveButton.icon = \"mdi mdi-content-save mdi-18px\";\r\n        this.saveButton.onclick(function () {\r\n            _this.save();\r\n        });\r\n        this._designToolbar.add(this.saveButton);\r\n\r\n        /*  this.runButton = new Button();\r\n          this.runButton.icon = \"mdi mdi-car-hatchback mdi-18px\";\r\n          this.runButton.tooltip = \"Run(F4)\";\r\n          this.runButton.onclick(function () {\r\n              _this.evalCode();\r\n          });\r\n          this._designToolbar.add(this.runButton);*/\r\n\r\n        this.undoButton = new Button();\r\n        this.undoButton.icon = \"mdi mdi-undo mdi-18px\";\r\n        this.undoButton.tooltip = \"Undo (Strg+Z)\";\r\n        this.undoButton.onclick(function () {\r\n            _this.undo();\r\n        });\r\n        this._designToolbar.add(this.undoButton);\r\n\r\n        /*  var test=new Button();\r\n         test.icon=\"mdi mdi-bug mdi-18px\";\r\n         test.tooltip=\"Test\";\r\n         test.onclick(function(){\r\n                     //var kk=_this._codeView.layout;\r\n         });\r\n         this._designToolbar.add(test);*/\r\n\r\n\r\n\r\n\r\n        this.lassoButton = new Button();\r\n        this.lassoButton.icon = \"mdi mdi-lasso mdi-18px\";\r\n        this.lassoButton.tooltip = \"Select rubberband\";\r\n        this.lassoButton.onclick(function () {\r\n            var val = _this.lassoButton.toggle();\r\n            _this._resizer.setLassoMode(val);\r\n            _this._draganddropper.enableDraggable(!val);\r\n            //_this._draganddropper.activateDragging(!val);\r\n        });\r\n        this._designToolbar.add(this.lassoButton);\r\n\r\n        this.cutButton = new Button();\r\n        this.cutButton.icon = \"mdi mdi-content-cut mdi-18px\";\r\n        this.cutButton.tooltip = \"Cut selected Controls (Ctrl+Shift+X)\";\r\n        this.cutButton.onclick(function () {\r\n            _this.cutComponent();\r\n        });\r\n        this._designToolbar.add(this.cutButton);\r\n\r\n\r\n        this.copyButton = new Button();\r\n        this.copyButton.icon = \"mdi mdi-content-copy mdi-18px\";\r\n        this.copyButton.tooltip = \"Copy (Ctrl+Shift+C)\";\r\n        this.copyButton.onclick(function () {\r\n            _this.copy();\r\n        });\r\n        this._designToolbar.add(this.copyButton);\r\n        this.pasteButton = new Button();\r\n        this.pasteButton.icon = \"mdi mdi-content-paste mdi-18px\";\r\n        this.pasteButton.tooltip = \"Paste (Ctrl+Shift+V)\";\r\n        this.pasteButton.onclick(function () {\r\n            _this.paste();\r\n        });\r\n        this._designToolbar.add(this.pasteButton);\r\n        var box = new BoxPanel();\r\n        box.horizontal = true;\r\n\r\n        this.inlineEditorPanel = new Panel();\r\n        this.inlineEditorPanel._id = \"i\" + this.inlineEditorPanel._id;\r\n        this.inlineEditorPanel.dom.setAttribute(\"id\", this.inlineEditorPanel._id);\r\n        this.inlineEditorPanel.dom.style.display = \"inline\";\r\n        this.inlineEditorPanel.domWrapper.style.display = \"inline\";\r\n        this.inlineEditorPanel.dom.classList.add(\"InlineEditorPanel\");\r\n\r\n        //   box.height=40;\r\n        box.add(this._designToolbar);\r\n        box.add(this.inlineEditorPanel);\r\n        this.add(box);\r\n        this._designPlaceholder.domWrapper.style.position = \"relative\";\r\n        this.dummyHolder = document.createElement(\"span\");\r\n        this.__dom.append(this.dummyHolder);\r\n        this.add(this._designPlaceholder);\r\n\r\n    }\r\n    /**\r\n   * manage shortcuts\r\n   */\r\n    registerKeys() {\r\n        var _this = this;\r\n        this._codeEditor._design.dom.tabindex = \"1\";\r\n        this._codeEditor._design.dom.addEventListener(\"keydown\", function (evt) {\r\n            if (evt.keyCode === 115 && evt.shiftKey) {//F4\r\n                // var thiss=this._this._id;\r\n                // var editor = ace.edit(this._this._id);\r\n                _this.evalCode(true);\r\n                evt.preventDefault();\r\n                return false;\r\n            } else if (evt.keyCode === 115) {//F4\r\n                _this.evalCode(false);\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 90 && evt.ctrlKey) {//Ctrl+Z\r\n                _this.undo();\r\n            }\r\n            if (evt.keyCode === 116) {//F5\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 46 || (evt.keyCode === 88 && evt.ctrlKey && evt.shiftKey)) {//Del or Ctrl X)\r\n                _this.cutComponent();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 67 && evt.ctrlKey && evt.shiftKey) {//Ctrl+C\r\n                _this.copy();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 86 && evt.ctrlKey && evt.shiftKey) {//Ctrl+V\r\n                _this.paste();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if ((String.fromCharCode(evt.which).toLowerCase() === 's' && evt.ctrlKey)/* && (evt.which == 19)*/) {//Str+s\r\n                _this.save();\r\n                event.preventDefault();\r\n                return false;\r\n            }\r\n\r\n        });\r\n    }\r\n    resize() {\r\n        this._updateInvisibleComponents();\r\n    }\r\n    _installView() {\r\n        this._codeEditor._main.add(this._propertyEditor, \"Properties\", \"properties\");\r\n        this._codeEditor._main.add(this._componentExplorer, \"Components\", \"components\");\r\n        this._codeEditor._main.add(this._componentPalette, \"Palette\", \"componentPalette\");\r\n        this._codeEditor._main.layout = '{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\"},\"dimensions\":{\"borderWidth\":5,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"content\":[{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":81.04294066258988,\"content\":[{\"type\":\"stack\",\"width\":80.57491289198606,\"height\":71.23503465658476,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":19.42508710801394,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":19.844357976653697,\"content\":[{\"title\":\"Palette\",\"type\":\"component\",\"componentName\":\"componentPalette\",\"componentState\":{\"title\":\"Palette\",\"name\":\"componentPalette\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":80.1556420233463,\"content\":[{\"title\":\"Properties\",\"type\":\"component\",\"componentName\":\"properties\",\"componentState\":{\"title\":\"Properties\",\"name\":\"properties\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]},{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":18.957059337410122,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":18.957059337410122,\"width\":77.70034843205575,\"content\":[{\"title\":\"Variables\",\"type\":\"component\",\"componentName\":\"variables\",\"componentState\":{\"title\":\"Variables\",\"name\":\"variables\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Errors\",\"type\":\"component\",\"componentName\":\"errors\",\"componentState\":{\"title\":\"Errors\",\"name\":\"errors\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"width\":22.299651567944256,\"content\":[{\"title\":\"Components\",\"type\":\"component\",\"componentName\":\"components\",\"componentState\":{\"title\":\"Components\",\"name\":\"components\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}';\r\n    }\r\n\r\n    _updateInvisibleComponents() {\r\n        var _this = this;\r\n        this._invisibleComponents.update();\r\n    }\r\n\r\n    _initComponentExplorer() {\r\n        var _this = this;\r\n        this._componentExplorer.onselect(function (data) {\r\n\r\n            // console.log(_this._componentExplorer.selection);\r\n            //  var ob = data.data;\r\n            setTimeout(() => {\r\n                var sel = _this._componentExplorer.tree.selection;\r\n                if (sel.length === 1)\r\n                    sel = sel[0];\r\n                _this._propertyEditor.value = sel;\r\n            }, 10);\r\n        });\r\n        this._componentExplorer.getComponentName = function (item) {\r\n            var varname = _this._codeEditor.getVariableFromObject(item);\r\n            if (varname === undefined)\r\n                return;\r\n            if (varname.startsWith(\"this.\"))\r\n                return varname.substring(5);\r\n            return varname;\r\n        };\r\n    }\r\n    deleteComponents(text) {\r\n        var clip: ClipboardData = JSON.parse(text);//to Clipboard\r\n\r\n        var all = [];\r\n        for (var x = 0; x < clip.allChilds.length; x++) {\r\n            var varname = clip.allChilds[x];//this._codeEditor.getVariableFromObject(todel);\r\n            var todel = this._codeEditor.getObjectFromVariable(varname);\r\n            if (varname !== \"this\") {\r\n                if (todel?.domWrapper?._parent !== undefined) {\r\n                    todel.domWrapper._parent.remove(todel);\r\n                }\r\n                all.push(varname);\r\n                this._propertyEditor.removeVariableInDesign(varname);\r\n            }\r\n        }\r\n        console.log(all);\r\n        this._propertyEditor.removeVariablesInCode(all);\r\n        this._componentExplorer.update();\r\n\r\n    }\r\n    /**\r\n     * removes the selected component\r\n     */\r\n    async cutComponent() {\r\n        var text = await this.copy();\r\n        if (await navigator.clipboard.readText() !== text) {\r\n            alert(\"could not copy to Clipboard.\")\r\n            return;\r\n        }\r\n        this.deleteComponents(text);\r\n\r\n        this._updateInvisibleComponents();\r\n\r\n        this.updateDummies();\r\n\r\n    }\r\n    private copyProperties(clip: ClipboardData, component: Component) {\r\n        var varname = this._codeEditor.getVariableFromObject(component);\r\n        var parserdata = this._propertyEditor.parser.data[varname];\r\n        clip.allChilds.push(varname);\r\n        clip.types[varname] = classes.getClassName(component);\r\n        if (!clip.properties[varname]) {\r\n            clip.properties[varname] = {};\r\n        }\r\n        var editorfields = {};\r\n        ComponentDescriptor.describe(component.constructor)?.fields.forEach((f) => { editorfields[f.name] = f });\r\n        for (var key in parserdata) {\r\n            //if (editorfields[key] ||key === \"_new_\" || key === \"add\") {\r\n            if (!clip.properties[varname][key]) {\r\n                clip.properties[varname][key] = []\r\n            }\r\n            for (var i = 0; i < parserdata[key].length; i++) {\r\n                //only add fields in Propertydescriptor\r\n                clip.properties[varname][key].push(parserdata[key][i].value);\r\n            }\r\n            //}\r\n        }\r\n        if (component[\"_components\"]) {\r\n            for (var x = 0; x < component[\"_components\"].length; x++) {\r\n                var childname = this._codeEditor.getVariableFromObject(component[\"_components\"][x]);\r\n                if (childname) {\r\n                    if (clip.children[varname] === undefined) {\r\n                        clip.children[varname] = [];\r\n                    }\r\n                    clip.children[varname].push(childname);\r\n                    this.copyProperties(clip, component[\"_components\"][x]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    componentsToString(components: Component[]): string {\r\n        var clip = new ClipboardData();\r\n        clip.varNamesToCopy = [];\r\n        for (var x = 0; x < components.length; x++) {\r\n            var component: Component = components[x];\r\n            var varname = this._codeEditor.getVariableFromObject(component);\r\n            clip.varNamesToCopy.push(varname);\r\n            this.copyProperties(clip, component);\r\n        }\r\n\r\n\r\n\r\n        var text = JSON.stringify(clip);\r\n        return text;\r\n    }\r\n    async copy(): Promise<string> {\r\n\r\n        var components = this._propertyEditor.value;\r\n        if (!Array.isArray(components)) {\r\n            components = [components];\r\n        }\r\n\r\n        var text = this.componentsToString(components);\r\n        await navigator.clipboard.writeText(text);\r\n        return text;\r\n    }\r\n    private async pasteComponent(clip: ClipboardData, target: Container, before: Component, varname: string, variablelistold: any[], variablelistnew: any[]) {\r\n        var _this = this;\r\n        var created: Component;\r\n        console.log(clip);\r\n        if (clip.properties[varname] !== undefined && clip.properties[varname][\"_new_\"] !== undefined) {\r\n\r\n            var vartype = clip.properties[varname][\"_new_\"][0];\r\n            if (variablelistold.indexOf(varname) > -1)\r\n                return;\r\n            vartype = vartype.split(\"(\")[0].split(\"new \")[1];\r\n\r\n            var targetname = _this._codeEditor.getVariableFromObject(target);\r\n            var newcomp = { createFromType: clip.types[varname] };\r\n            await classes.loadClass(clip.types[varname]);\r\n            var svarname = varname.split(\".\")[varname.split(\".\").length - 1];\r\n\r\n            created = _this.createComponent(clip.types[varname], newcomp, undefined, undefined, target, before, false, svarname, false);\r\n            variablelistold.push(varname);\r\n            var newvarname = _this._codeEditor.getVariableFromObject(created);\r\n            variablelistnew.push(newvarname);\r\n            //correct designdummy\r\n            for (var t = 0; t < target._components.length; t++) {\r\n                var ch = target._components[t];\r\n                if (ch[\"type\"] === \"atEnd\") {\r\n                    target.remove(ch);\r\n                    // target.add(ch);\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            //component is already created outside the code\r\n            created = _this._codeEditor.getObjectFromVariable(varname);\r\n        }\r\n        if (clip.children[varname] !== undefined) {\r\n            for (var k = 0; k < clip.children[varname].length; k++) {\r\n                await _this.pasteComponent(clip, <Container>created, undefined, clip.children[varname][k], variablelistold, variablelistnew);\r\n            }\r\n        }\r\n        return created;\r\n    }\r\n    async pasteComponents(text: string, parent: Container, before: Component = undefined) {\r\n        var _this = this;\r\n        var variablelistold = [];\r\n        var variablelistnew = [];\r\n        var clip: ClipboardData = JSON.parse(text);\r\n        //create Components\r\n        for (var x = 0; x < clip.varNamesToCopy.length; x++) {\r\n            var varname = clip.varNamesToCopy[x];\r\n\r\n            await _this.pasteComponent(clip, parent, before, varname, variablelistold, variablelistnew);\r\n\r\n            //set properties\r\n        }\r\n        //in the new Text the variables are renamed\r\n        var textnew = text;\r\n        for (var x = 0; x < variablelistnew.length; x++) {\r\n            var oldName = variablelistold[x];\r\n            var newName = variablelistnew[x];\r\n            if (oldName !== newName) {\r\n\r\n                var reg = new RegExp(\"\\\\W\" + oldName + \"\\\\W\");\r\n                var found = true;\r\n                while (found == true) {\r\n                    found = false;\r\n                    textnew = textnew.replace(reg, function replacer(match, offset, string) {\r\n                        // p1 is nondigits, p2 digits, and p3 non-alphanumerics\r\n                        found = true;\r\n                        return match.substring(0, 1) + newName + match.substring(match.length - 1, match.length);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        clip = JSON.parse(textnew);\r\n\r\n        //set properties\r\n        for (var x = 0; x < variablelistnew.length; x++) {\r\n            var variablename = variablelistnew[x]\r\n            for (var key in clip.properties[variablename]) {\r\n                if (key !== \"_new_\" && key !== \"config\" && key != \"add\") {\r\n                    var propdata = clip.properties[variablename][key];\r\n                    for (var v = 0; v < propdata.length; v++) {\r\n                        var svalue: string = propdata[v];\r\n                        var component = _this._codeEditor.getObjectFromVariable(variablename);\r\n                        var argnames = [];\r\n                        var args = [];\r\n                        var allvars = _this.codeEditor.variables.value;\r\n                        //introduce variables replace me.textbox1->me_textbox1\r\n                        for (var vv = 0; vv < allvars.length; vv++) {\r\n\r\n                            var newvarname = allvars[vv].name.replaceAll(\".\", \"_\");\r\n                            svalue = svalue.replaceAll(allvars[vv].name, newvarname);\r\n                            if (newvarname !== \"this\") {\r\n                                argnames.push(newvarname);\r\n                                args.push(allvars[vv].value);\r\n                            }\r\n                        }\r\n                        try {\r\n                            //set value in Designer\r\n                            var realvalue = new Function(...argnames, \"return (\" + svalue + \");\").bind(_this._codeEditor.getObjectFromVariable(\"this\"))(...args);\r\n                            if (typeof (component[key]) === \"function\") {\r\n                                component[key](realvalue);\r\n                            } else {\r\n                                component[key] = realvalue;\r\n                            }\r\n                        } catch {\r\n\r\n                        }\r\n                        //_this._propertyEditor.setPropertyInDesign(key,value);\r\n                        _this._propertyEditor.setPropertyInCode(key, propdata[v], propdata.length > 0, variablename, undefined, undefined, false);\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        _this.variables.updateCache();\r\n    }\r\n    async paste() {\r\n        var text = await navigator.clipboard.readText();\r\n        //    var clip: ClipboardData = JSON.parse(text);\r\n        var _this = this;\r\n        var target: Container = _this._propertyEditor.value;\r\n        var insertBefore = target._components === undefined;\r\n        if (this.lastSelectedDummy.component === target && this.lastSelectedDummy.pre)\r\n            insertBefore = true;\r\n        if (this.lastSelectedDummy.component === target && !this.lastSelectedDummy.pre)\r\n            insertBefore = false;\r\n        if (!insertBefore)\r\n            await this.pasteComponents(text, target, undefined); // await _this.pasteComponent(clip, target, undefined, varname, variablelistold, variablelistnew);\r\n        else {\r\n            // if(x===0)\r\n            //    before=target;\r\n            await this.pasteComponents(text, target._parent, target);//await _this.pasteComponent(clip, target._parent, target, varname, variablelistold, variablelistnew);\r\n        }\r\n        //_this._propertyEditor.value = created;\r\n        // _this._propertyEditor.codeEditor.value = _this._propertyEditor.parser.getModifiedCode();\r\n        _this._propertyEditor.updateParser();\r\n        _this.codeHasChanged();\r\n        // _this._propertyEditor.callEvent(\"codeChanged\", {});\r\n        //include the new element\r\n        _this.editDialog(true);\r\n        //  _this._componentExplorer.update();\r\n        //  _this._updateInvisibleComponents();\r\n\r\n    }\r\n    /**\r\n    * execute the current code\r\n    * @param {boolean} toCursor -  if true the variables were inspected on cursor position, \r\n    *                              if false at the end of the layout() function or at the end of the code\r\n    */\r\n    evalCode(toCursor = undefined) {\r\n        this._codeEditor.evalCode(toCursor);\r\n\r\n    }\r\n    /**\r\n    * save the code to server\r\n    */\r\n    save() {\r\n        this._codeEditor.save();\r\n\r\n    }\r\n\r\n    /**\r\n     * undo action\r\n     */\r\n    undo() {\r\n        this._codeEditor.undo();\r\n    }\r\n    private getComponentIDsInDesign(component: Component, collect: string[]) {\r\n\r\n        collect.push(\"#\" + component._id);\r\n        var childs = component[\"_components\"];\r\n        if (childs !== undefined) {\r\n            for (let x = 0; x < childs.length; x++) {\r\n                this.getComponentIDsInDesign(childs[x], collect);\r\n            }\r\n        }\r\n    }\r\n    createDragAndDropper(): DragAndDropper {\r\n        return new DragAndDropper();\r\n    }\r\n    selectComponents(components: Component[]) {\r\n        var component = this._designPlaceholder._components[0];\r\n        component.dom.querySelectorAll(\".jselected\").forEach((c) => { c.classList.remove(\"jselected\") });\r\n            //                   $(\".jselected\").removeClass(\"jselected\");\r\n            \r\n        for (var x = 0; x < components.length; x++) {\r\n            if (components[x][\"editorselectthis\"])\r\n                components[x] = components[x][\"editorselectthis\"];\r\n            components[x].domWrapper.classList.add(\"jselected\");\r\n        }\r\n        if (components.length === 1){\r\n            this._propertyEditor.value = components[0];\r\n            this._componentExplorer.select( components[0]);\r\n        }else if(components.length > 0) {\r\n            this._propertyEditor.value = components;\r\n            this._componentExplorer.select(components[0]);\r\n        }\r\n\r\n    }\r\n    /**\r\n     * dialog edit mode\r\n     * @param {boolean} enable - if true allow resizing and drag and drop \r\n     */\r\n    editDialog(enable) {\r\n        var _this = this;\r\n        this.editMode = enable;\r\n        this.editButton.toggle(!this.editMode);\r\n        this.undoButton.hidden = !enable;\r\n        this.lassoButton.hidden = !enable;\r\n        this.cutButton.hidden = !enable;\r\n        this.copyButton.hidden = !enable;\r\n        this.pasteButton.hidden = !enable;\r\n        var component = this._designPlaceholder._components[0];\r\n        //switch designmode\r\n        var comps = component.dom.querySelectorAll(\".jeditablecomponent\");\r\n        if (enable)\r\n            comps.forEach((c) => c.classList.add(\"jdesignmode\"));\r\n        else\r\n            comps.forEach((c) => c.classList.remove(\"jdesignmode\"));\r\n        for (var c = 0; c < comps.length; c++) {\r\n\r\n            if (comps[c]._this[\"extensionCalled\"] !== undefined) {\r\n                comps[c]._this[\"extensionCalled\"]({\r\n                    componentDesignerSetDesignMode: { enable, componentDesigner: this }\r\n                });\r\n            }\r\n        }\r\n        if (component[\"extensionCalled\"] !== undefined) {\r\n            component[\"extensionCalled\"]({\r\n                componentDesignerSetDesignMode: { enable, componentDesigner: this }\r\n            });\r\n\r\n        }\r\n\r\n        this.variables.updateCache();//variables can be added with Repeater.setDesignMode\r\n        if (this._resizer !== undefined) {\r\n            this._resizer.uninstall();\r\n        }\r\n        if (this._draganddropper !== undefined) {\r\n            this._draganddropper.uninstall();\r\n        }\r\n\r\n        if (enable === true) {\r\n            var _this = this;\r\n            var allcomponents = this.variables.getEditableComponents(component);\r\n            if (this._propertyEditor.codeEditor === undefined) {\r\n                var ret = [];\r\n\r\n                this.getComponentIDsInDesign(component, ret);\r\n                allcomponents = ret.join(\",\");\r\n            } else\r\n                allcomponents = this.variables.getEditableComponents(component);\r\n            //this._installTinyEditor();\r\n           // this._draganddropper = this.createDragAndDropper();\r\n            this._resizer = new Resizer();\r\n            this._resizer.draganddropper = this._draganddropper;\r\n\r\n            this._resizer.onelementselected = function (elementIDs, e) {\r\n                var ret = [];\r\n                for (var x = 0; x < elementIDs.length; x++) {\r\n                    var ob = document.getElementById(elementIDs[x])._this;\r\n\r\n                    ret.push(ob);\r\n                }\r\n                _this.selectComponents(ret);\r\n            };\r\n\r\n            this._resizer.onpropertychanged = function (comp: Component, prop: string, value: any) {\r\n                if (_this._propertyEditor.value !== comp)\r\n                    _this._propertyEditor.value = comp;\r\n                _this._propertyEditor.setPropertyInCode(prop, value + \"\", true);\r\n                _this._propertyEditor.value = _this._propertyEditor.value;\r\n                // _this._propertyEditor.setPropertyInDesign(prop, value);\r\n                console.log(value);\r\n                _this.updateDummies();\r\n            };\r\n            this._resizer.install(component, allcomponents);\r\n            allcomponents = this.variables.getEditableComponents(component, true);\r\n            if (this._draganddropper) {\r\n                this._draganddropper.install(component, allcomponents);\r\n                this._draganddropper.onpropertychanged = function (component, top, left, oldParent, newParent, beforeComponent) {\r\n                    _this.moveComponent(component, top, left, oldParent, newParent, beforeComponent);\r\n                }\r\n                this._draganddropper.onpropertyadded = function (type, component, top, left, newParent, beforeComponent) {\r\n                    _this.createComponent(type, component, top, left, newParent, beforeComponent);\r\n\r\n                }\r\n\r\n                this._draganddropper.isDragEnabled = function (event, ui) {\r\n                    if (_this._resizer === undefined)\r\n                        return false;\r\n                    return _this._resizer.componentUnderCursor !== undefined;\r\n                }\r\n            }\r\n            this.dummyHolder.hidden = false;\r\n        } else {\r\n            this.dummyHolder.hidden = true;\r\n        }\r\n        this._componentExplorer.update();\r\n    }\r\n\r\n    /**\r\n     * move a component\r\n     * @param {jassijs.ui.Component} component - the component to move\r\n     * @param {number} top - the top absolute position\r\n     * @param {number} left - the left absolute position\r\n     * @param {jassijs.ui.Container} newParent - the new parent container where the component move to\r\n     * @param {jassijs.ui.Component} beforeComponent - insert the component before beforeComponent\r\n     **/\r\n    moveComponent(component, top, left, oldParent, newParent, beforeComponent) {\r\n        var _this = this;\r\n        var oldName = _this._codeEditor.getVariableFromObject(oldParent);\r\n        var newName = _this._codeEditor.getVariableFromObject(newParent);\r\n        var compName = _this._codeEditor.getVariableFromObject(component);\r\n        if (top !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"x\", top + \"\", true);\r\n        } else {\r\n            _this._propertyEditor.removePropertyInCode(\"x\");\r\n        }\r\n        if (left !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"y\", left + \"\", true);\r\n        } else {\r\n            _this._propertyEditor.removePropertyInCode(\"y\");\r\n        }\r\n\r\n        if (oldParent !== newParent || beforeComponent !== undefined || top === undefined) {//top=undefined ->on relative position at the end call the block\r\n            //get Position\r\n            var oldVal = _this._propertyEditor.removePropertyInCode(\"add\", compName, oldName, false);\r\n            var before;\r\n            if (beforeComponent !== undefined && beforeComponent.type !== \"atEnd\") {//designdummy atEnd\r\n                var on = _this._codeEditor.getVariableFromObject(beforeComponent);\r\n                var par = _this._codeEditor.getVariableFromObject(beforeComponent._parent);\r\n                before = { variablename: par, property: \"add\", value: on };\r\n            }\r\n            _this._propertyEditor.setPropertyInCode(\"add\", /*compName*/oldVal, false, newName, before);\r\n\r\n        }\r\n        _this.variables.updateCache();\r\n        _this._propertyEditor.value = _this._propertyEditor.value;\r\n        _this._componentExplorer.value = _this._componentExplorer.value;\r\n    }\r\n    /**\r\n     * create a new component\r\n     * @param {string} type - the type of the new component\r\n     * @param {jassijs.ui.Component} component - the component themself\r\n     * @param {number} top - the top absolute position\r\n     * @param {number} left - the left absolute position\r\n     * @param {jassijs.ui.Container} newParent - the new parent container where the component is placed\r\n     * @param {jassijs.ui.Component} beforeComponent - insert the new component before beforeComponent\r\n     **/\r\n    createComponent(type, component, top, left, newParent, beforeComponent, doUpdate = true, suggestedName: string = undefined, refresh: boolean = undefined): Component {\r\n        var _this = this;\r\n        /*if(beforeComponent!==undefined&&beforeComponent.designDummyFor&&beforeComponent.type===\"atEnd\"){\r\n            beforeComponent=undefined;\r\n        }*/\r\n        var file = type.replaceAll(\".\", \"/\");\r\n        var stype = file.split(\"/\")[file.split(\"/\").length - 1];\r\n        registry.getJSONData(\"$Class\", type).then((data) => {\r\n            var filename = data[0].filename;\r\n            _this._propertyEditor.addImportIfNeeded(stype, filename.substring(0, filename.lastIndexOf(\".\")));\r\n        })\r\n\r\n\r\n        var scope = undefined;\r\n\r\n\r\n        var varvalue;\r\n        if (classes.getClassName(component) === type)\r\n            varvalue = component;\r\n        else\r\n            varvalue = new (classes.getClass(type));\r\n        var varname = _this.createVariable(type, scope, varvalue, suggestedName, refresh);\r\n        if (this._propertyEditor.codeEditor !== undefined) {\r\n\r\n            var newName = _this._codeEditor.getVariableFromObject(newParent);\r\n            var before;\r\n            if (beforeComponent !== undefined && beforeComponent.type !== \"atEnd\") {//Designdummy atEnd\r\n                //if(beforeComponent.type===\"beforeComponent\")\r\n                //   beforeComponent=beforeComponent.designDummyFor;\r\n                var on = _this._codeEditor.getVariableFromObject(beforeComponent);\r\n                var par = _this._codeEditor.getVariableFromObject(beforeComponent._parent);\r\n                before = { variablename: par, property: \"add\", value: on };\r\n            }\r\n            _this._propertyEditor.setPropertyInCode(\"add\", varname, false, newName, before, scope);\r\n        }\r\n\r\n        if (beforeComponent !== undefined) {\r\n            newParent.addBefore(varvalue, beforeComponent);\r\n        } else {\r\n            newParent.add(varvalue);\r\n        }\r\n        if (refresh)\r\n            _this.variables.updateCache();\r\n\r\n        //set initial properties for the new component\r\n        if (component.createFromParam !== undefined) {\r\n            for (var key in component.createFromParam) {\r\n                var val = component.createFromParam[key];\r\n                if (typeof val === 'string')\r\n                    val = '\"' + val + '\"';\r\n                _this._propertyEditor.setPropertyInCode(key, val, true, varname);\r\n            }\r\n            $.extend(varvalue, component.createFromParam);\r\n        }\r\n        if (top !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"x\", top + \"\", true, varname);\r\n            varvalue.x = top;\r\n        }\r\n        if (left !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"y\", left + \"\", true, varname);\r\n            varvalue.y = left;\r\n        }\r\n\r\n        //notify componentdescriptor \r\n        var ac = varvalue.extensionCalled;\r\n        if (ac !== undefined) {\r\n            varvalue.extensionCalled({\r\n                componentDesignerComponentCreated: {\r\n                    newParent: newParent\r\n                }\r\n            });\r\n        }\r\n        if (doUpdate) {\r\n            _this._propertyEditor.value = varvalue;\r\n            //include the new element\r\n            _this.editDialog(true);\r\n            _this._componentExplorer.update();\r\n            _this._updateInvisibleComponents();\r\n            _this.updateDummies();\r\n        }\r\n        return varvalue;\r\n    }\r\n    createVariable(type, scope, varvalue, suggestedName: string = undefined, refresh: boolean = undefined) {\r\n        if (this._propertyEditor.codeEditor === undefined)\r\n            return;\r\n        var varname = this._propertyEditor.addVariableInCode(type, scope, suggestedName);\r\n\r\n        /* if (varname.startsWith(\"me.\") && this._codeEditor.getObjectFromVariable(\"me\") !== undefined) {\r\n             var me = this._codeEditor.getObjectFromVariable(\"me\");\r\n             me[varname.substring(3)] = varvalue;\r\n         } else if (varname.startsWith(\"this.\")) {\r\n             var th = this._codeEditor.getObjectFromVariable(\"this\");\r\n             th[varname.substring(5)] = varvalue;\r\n         } else*/\r\n        this.variables.addVariable(varname, varvalue, refresh, true);\r\n        return varname;\r\n    }\r\n\r\n\r\n    private fillVariables(root: Component, component: Component, cache: { [componentid: string]: { line: number, column: number } }) {\r\n        if (cache[component._id] === undefined && component[\"__stack\"] !== undefined) {\r\n            var lines = component[\"__stack\"]?.split(\"\\n\");\r\n            for (var x = 0; x < lines.length; x++) {\r\n                var sline: string = lines[x];\r\n                if (sline.indexOf(\"$temp.js\") > 0) {\r\n                    var spl = sline.split(\":\");\r\n                    var entr = {\r\n\r\n                    }\r\n                    cache[component._id] = {\r\n                        line: Number(spl[spl.length - 2]),\r\n                        column: Number(spl[spl.length - 1].replace(\")\", \"\"))\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            if (component[\"_components\"]) {\r\n                for (var x = 0; x < component[\"_components\"].length; x++) {\r\n                    this.fillVariables(root, component[\"_components\"][x], cache);\r\n                }\r\n            }\r\n            if (component === root) {\r\n                //fertig\r\n                var hh = 0;\r\n            }\r\n        }\r\n\r\n    }\r\n    codeHasChanged() {\r\n        var _this = this;\r\n        _this.updateDummies();\r\n        _this._propertyEditor.codeEditor.value = _this._propertyEditor.parser.getModifiedCode();\r\n        _this._propertyEditor.callEvent(\"codeChanged\", {});\r\n        _this._componentExplorer.update();\r\n        _this._updateInvisibleComponents();\r\n    }\r\n    createPreDummy(node: HTMLElement) {\r\n        var _this = this;\r\n        var dummy: HTMLSpanElement;\r\n        //  if (ComponentDesigner.beforeDummy === undefined) {\r\n        dummy = <HTMLSpanElement>document.createElement(\"span\");\r\n        dummy.contentEditable = node.tagName.toUpperCase() === \"BR\" ? \"true\" : \"false\";\r\n        dummy.draggable = true;\r\n        dummy.classList.add(\"_dummy_\");\r\n        dummy.onkeydown = (e) => {\r\n\r\n            if ((<any>_this).keydown) {\r\n                e.preventDefault();\r\n                (<any>_this).keydown(e);\r\n            }\r\n        }\r\n        dummy.ondrop = (ev) => {\r\n            ev.preventDefault();\r\n            async function doit() {\r\n                var data = ev.dataTransfer.getData(\"text\");\r\n                if (data.indexOf('\"createFromType\":') > -1) {\r\n                    var toCreate: { createFromType: string, createFromParam: string } = <any>JSON.parse(data);\r\n                    var cl = classes.getClass(toCreate.createFromType);\r\n                    var newComponent = new cl();\r\n                    newComponent.createFromParam=toCreate.createFromParam;\r\n                    var beforeComponent: Component = (<any>ev.target)._this;\r\n                    var newParent = beforeComponent._parent;\r\n                    _this.createComponent(toCreate.createFromType, newComponent, undefined, undefined, newParent, beforeComponent);// beforeComponent);\r\n                } else if (data.indexOf('\"varNamesToCopy\":') > -1) {\r\n                    var beforeComponent: Component = (<any>ev.target)._this;\r\n                    var newParent = beforeComponent._parent;\r\n                    await _this.pasteComponents(data, newParent, beforeComponent);\r\n                    _this.deleteComponents(data);\r\n                } else {\r\n\r\n                }\r\n                _this.codeHasChanged();\r\n            };\r\n            doit();\r\n        };\r\n\r\n        dummy.onclick = (ev) => {\r\n            ev.preventDefault();\r\n            var all = [(<any>ev.target)._this];\r\n            if (node._thisOther) {\r\n                for (var x = 0; x < node._thisOther.length; x++) {\r\n                    var varname = this._codeEditor.getVariableFromObject(node._thisOther[x]);\r\n                    if (varname) {\r\n                        all.push(node._thisOther[x]);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            var comp = (<any>ev.target)._this;\r\n            /* if (all.length > 1) {//there are more nodes under cursor so we switch the components\r\n                 var pos = all.indexOf(_this._propertyEditor.value);\r\n                 if (pos == -1)\r\n                     pos = 0;\r\n                 else\r\n                     pos++;\r\n                 if (pos >= all.length)\r\n                     pos = 0;\r\n                 comp = all[pos];\r\n             }*/\r\n\r\n            _this._propertyEditor.value = comp;\r\n\r\n            _this.lastSelectedDummy.component = comp;\r\n            this.lastSelectedDummy.pre = true;\r\n            if (_this.lastSelectedDummy.component.tag?.toUpperCase() === \"BR\") {\r\n                //dummy.contentEditable=true;\r\n                //dummy.focus();//with this the keydown event will work\r\n                console.log(\"focus\");\r\n            }\r\n            console.log(\"setcomp\");\r\n            /*  var newSel = getSelection();\r\n              var range = document.createRange();\r\n              range.setStart(_this.lastSelectedDummy.component.dom, 0);\r\n              newSel.removeAllRanges();\r\n              newSel.addRange(range);*/\r\n\r\n            // (<any>newSel).modify(\"move\", \"left\", \"character\");\r\n            getSelection().removeAllRanges();//the next paste is before the component\r\n        }\r\n        dummy.ondragover = (ev) => {\r\n            ev.preventDefault();\r\n        }\r\n        dummy.ondragstart = ev => {\r\n            ev.dataTransfer.setDragImage((<any>event.target).nd, 20, 20);\r\n            ev.dataTransfer.setData(\"text\", _this.componentsToString([(<any>event.target)._this]));\r\n        }\r\n        dummy.style.zIndex = \"10000\";\r\n        dummy.style.backgroundColor = \"rgba(245,234,39,0.6)\";\r\n        dummy.innerHTML = \"&nbsp;&nbsp;&nbsp;&nbsp;\";\r\n        dummy.style.fontSize = \"10px\";\r\n        dummy.style.position = \"absolute\";\r\n        dummy.ondragenter = dummy.onmouseenter = (e) => {\r\n            (<any>e.target)._this.dom.classList.add(\"dummyselected\");\r\n\r\n        }\r\n        dummy.ondragleave = dummy.onmouseleave = (e) => (<any>e.target)._this.dom.classList.remove(\"dummyselected\");\r\n        //  ComponentDesigner.beforeDummy = dummy;\r\n        // }\r\n        // dummy = ComponentDesigner.beforeDummy.cloneNode(true);\r\n        return dummy;\r\n    }\r\n    createPostDummy() {\r\n        var _this = this;\r\n        var dummy: HTMLSpanElement;\r\n        //  if (ComponentDesigner.beforeDummy === undefined) {\r\n        dummy = <HTMLSpanElement>document.createElement(\"span\");\r\n        dummy.contentEditable = \"true\";\r\n        dummy.draggable = true;\r\n        dummy.classList.add(\"_dummy_\");\r\n        dummy.classList.add(\"ui-droppable\");\r\n        dummy.onclick = (ev) => {\r\n            _this._propertyEditor.value = (<any>ev.target)._this;\r\n            //getSelection().removeAllRanges();//the next paste is before the component\r\n            _this.lastSelectedDummy.component = (<any>ev.target)._this;\r\n            this.lastSelectedDummy.pre = false;\r\n            this.select(this.designedComponent.__dom, 0);\r\n            //setTimeout(()=>getSelection().removeAllRanges(),3000);\r\n        }\r\n        //dummy.onclick = (ev) => console.log(ev);\r\n        dummy.ondrop = (ev) => {\r\n            ev.preventDefault();\r\n\r\n            async function doit() {\r\n                var data = ev.dataTransfer.getData(\"text\");\r\n                if (data.indexOf('\"createFromType\":') > -1) {\r\n                    var toCreate: { createFromType: string, createFromParam: string } = <any>JSON.parse(data);\r\n                    var cl = classes.getClass(toCreate.createFromType);\r\n                    var newComponent = new cl();\r\n                    newComponent.createFromParam=toCreate.createFromParam;\r\n                    let newParent = (<any>ev.target)._this;\r\n                    _this.createComponent(toCreate.createFromType, newComponent, undefined, undefined, newParent, undefined);// beforeComponent);\r\n                } else if (data.indexOf('\"varNamesToCopy\":') > -1) {\r\n                    let newParent: Container = (<any>ev.target)._this;\r\n                    await _this.pasteComponents(data, newParent, undefined);\r\n                    _this.deleteComponents(data);\r\n                } else {\r\n\r\n                }\r\n                _this.codeHasChanged();\r\n            };\r\n            doit();\r\n\r\n        };\r\n        /* dummy.onkeydown = (e) => {\r\n            \r\n            if ((<any>_this).keydown) {\r\n                e.preventDefault();\r\n                (<any>_this).keydown(e);\r\n            }\r\n        }*/\r\n        dummy.ondragover = (ev) => {\r\n            ev.preventDefault();\r\n            //  ev.dataTransfer.dropEffect = \"move\";\r\n        } /*\r\n        dummy.ondragstart = ev => {\r\n            ev.dataTransfer.setDragImage((<any>event.target).nd, 20, 20);\r\n            ev.dataTransfer.setData(\"text\", \"Hallo\");\r\n        }*/\r\n        dummy.style.zIndex = \"10000\";\r\n        dummy.style.backgroundColor = \"rgba(56, 146, 232, 0.2)\";\r\n        dummy.innerHTML = \"&nbsp;&nbsp;&nbsp;&nbsp;\";\r\n        dummy.style.fontSize = \"10px\";\r\n        dummy.style.position = \"absolute\";\r\n        dummy.ondragenter = dummy.onmouseenter = (e) => {\r\n            (<any>e.target)._this.dom.classList.add(\"dummyselected\");\r\n            var name = this._codeEditor.getVariableFromObject((<any>e.target)._this);\r\n            if ((<any>e.target)._this.dom._backgroundsic === undefined)\r\n                (<any>e.target)._this.dom._backgroundsic = (<any>e.target)._this.dom.style[\"background-image\"];\r\n            (<any>e.target)._this.dom.style[\"background-image\"] = 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='12'>\" + name + \"</text></svg>\" + '\")';\r\n        }\r\n        dummy.ondragleave = dummy.onmouseleave = (e) => {\r\n            (<any>e.target)._this.dom.classList.remove(\"dummyselected\");\r\n\r\n            (<any>e.target)._this.dom.style[\"background-image\"] = (<any>e.target)._this.dom._backgroundsic;\r\n            delete (<any>e.target)._this.dom._backgroundsic;\r\n\r\n        }\r\n        //   ComponentDesigner.beforeDummy = dummy;\r\n        // }\r\n        // dummy = ComponentDesigner.beforeDummy.cloneNode(true);\r\n        return dummy;\r\n    }\r\n    private insertDummies(node: HTMLElement, root: HTMLElement, arr, rootRect: DOMRect) {\r\n        if (node._this === undefined)\r\n            return;\r\n        var node = node._this.dom;//eliminate Wrapper\r\n        if ((<any>node)._dummyholder === true)\r\n            return;\r\n        if (root === undefined)\r\n            root = node;\r\n        //only elements with varaiables can have dummies\r\n        var allComponents: Component[] = [];\r\n        var varname = this._codeEditor.getVariableFromObject(node._this);\r\n        if (varname)\r\n            allComponents.push(node._this);\r\n        if (node._thisOther) {\r\n            for (var x = 0; x < node._thisOther.length; x++) {\r\n                var varname2 = this._codeEditor.getVariableFromObject(node._thisOther[x]);\r\n                if (varname2)\r\n                    allComponents.push(node._thisOther[x]);\r\n            }\r\n        }\r\n        for (var curComponent = 0; curComponent < allComponents.length; curComponent++) {\r\n\r\n            varname = this._codeEditor.getVariableFromObject(allComponents[curComponent]);\r\n            var comp = allComponents[curComponent];\r\n            /* if (!varname && node._thisOther) {\r\n                 for (var x = 0; x < node._thisOther.length; x++) {\r\n                     varname = this._codeEditor.getVariableFromObject(node._thisOther[x]);\r\n                     if (varname) {\r\n                         comp = node._thisOther[x];\r\n                         break;\r\n                     }\r\n                 }\r\n             }*/\r\n\r\n            var hasChildren = false;\r\n            var desc = ComponentDescriptor.describe(comp.constructor);\r\n            var fnew = desc.findField(\"children\");\r\n            if (fnew) {\r\n                if (fnew?.createDummyInDesigner !== undefined) {\r\n                    if (typeof (fnew.createDummyInDesigner) == \"boolean\") {\r\n                        hasChildren = fnew.createDummyInDesigner;\r\n                    } else {\r\n                        hasChildren = fnew.createDummyInDesigner(comp, false);\r\n                    }\r\n\r\n                } else {\r\n                    hasChildren = true;\r\n                }\r\n                if (hasChildren) {\r\n                    if (!node.classList.contains(\"jeditablecontainer\")) {\r\n                        node.classList.add(\"jeditablecontainer\");\r\n                    }\r\n                }\r\n            }\r\n            if (varname&&node.classList) {\r\n                if (!node.classList.contains(\"jeditablecomponent\")) {\r\n                        node.classList.add(\"jeditablecomponent\");\r\n                    }\r\n            }else{\r\n                 \r\n                if (node.contentEditable !== \"false\")\r\n                    node.contentEditable = \"false\";\r\n            }\r\n            if (fnew?.createDummyInDesigner !== undefined) {\r\n                if (typeof (fnew.createDummyInDesigner) === \"boolean\") {\r\n                    if (fnew.createDummyInDesigner === false)\r\n                        varname = undefined;\r\n\r\n                } else {\r\n                    if (fnew.createDummyInDesigner(comp, true) === false)\r\n                        varname = undefined;\r\n                }\r\n\r\n            }\r\n\r\n\r\n            if (node.getClientRects === undefined)\r\n                return;\r\n\r\n            var rect = node.getClientRects()[0];\r\n            if (rect === undefined)\r\n                return;\r\n            rect = <any>{\r\n                left: rect.left - rootRect.left + window.scrollX,\r\n                top: rect.top - rootRect.top + window.scrollY,\r\n                right: rect.right - rootRect.left + window.scrollX,\r\n                bottom: rect.bottom - rootRect.top + window.scrollY\r\n            }\r\n            if ((<any>node)?.nd)\r\n                return;\r\n            if (varname) {\r\n                var preDummy = undefined;\r\n                if ((<any>node)._preDummies_)\r\n                    preDummy = (<any>node)._preDummies_[curComponent];\r\n                if (!preDummy) {\r\n                    if ((<any>node)._preDummies_ === undefined)\r\n                        (<any>node)._preDummies_ = [];\r\n                    preDummy = this.createPreDummy(node);\r\n                    (<any>preDummy).nd = node;\r\n                    (<any>preDummy)._this = comp;\r\n                    preDummy.title = varname;\r\n                    arr.push(preDummy);\r\n                    (<any>node)._preDummies_.push(preDummy);\r\n                }\r\n                var newTop = rect.top;\r\n                var newLeft = rect.left + curComponent * 8;\r\n                (<any>node).myTop = rect.top;\r\n                (<any>node).myLeft = rect.left;\r\n\r\n                var parentNode = node.parentNode;\r\n                //wrapper\r\n\r\n                if (node._this === (<any>node.parentNode)._this)\r\n                    parentNode = node.parentNode.parentNode;\r\n                if ((<any>parentNode)._preDummies_) {\r\n\r\n                    const rp = {\r\n                        top: (<any>parentNode).myTop,\r\n                        left: (<any>parentNode).myLeft,\r\n                        right: (<any>parentNode).myLeft + (<any>parentNode)._preDummies_.length * 8\r\n                    }\r\n                    if (rect.top > rp.top - 5 && rect.top < rp.top + 5 && rect.left > rp.left - 5 && rect.left < rp.right + 5) {\r\n                        var pr = (<any>parentNode)._preDummies_[(<any>parentNode)._preDummies_.length - 1];\r\n                        newLeft = parseInt(pr.style.left.replace(\"px\", \"\")) + 8;\r\n                    }\r\n                }\r\n                preDummy.style.top = newTop + \"px\";\r\n                preDummy.style.left = newLeft + \"px\";\r\n            }\r\n            if (hasChildren) {\r\n                var postDummy = undefined;\r\n                if ((<any>node)._postDummies_)\r\n                    postDummy = (<any>node)._postDummies_[curComponent];\r\n                if (!(postDummy)) {\r\n                    if ((<any>node)._postDummies_ === undefined)\r\n                        (<any>node)._postDummies_ = [];\r\n                    postDummy = this.createPostDummy();\r\n                    (<any>postDummy).nd = node;\r\n                    (<any>postDummy)._this = comp;\r\n                    postDummy.title = varname;\r\n                    arr.push(postDummy);\r\n                    (<any>node)._postDummies_.push(postDummy);\r\n                }\r\n                var newBottom = rect.bottom;\r\n                var newRight = rect.right - curComponent * 8;\r\n                (<any>node).myBottom = rect.bottom;\r\n                (<any>node).myRight = rect.right;\r\n                //var par = (<any>node)._this._parent;\r\n                if ((<any>parentNode)._postDummies_) {\r\n                    const rp = {\r\n                        bottom: (<any>parentNode).myBottom,\r\n                        right: (<any>parentNode).myRight,\r\n                        left: (<any>parentNode).myRight - (<any>parentNode)._postDummies_.length * 8\r\n                    }\r\n                    if (rect.bottom > rp.bottom - 5 && rect.bottom < rp.bottom + 5 && rect.right > rp.right - 5 && rect.right < rp.right + 5) {\r\n                        var pr = (<any>parentNode)._postDummies_[(<any>parentNode)._postDummies_.length - 1];\r\n                        newRight = pr.style.left.replace(\"px\", \"\");\r\n                    }\r\n                }\r\n                postDummy.style.top = (newBottom - 8) + \"px\";\r\n                postDummy.style.left = (newRight - 8) + \"px\";\r\n            }\r\n        }\r\n        for (var x = 0; x < node.childNodes.length; x++) {\r\n            if (node._this !== (<any>node.childNodes[x])._this)//Wrapper\r\n                this.insertDummies(<any>node.childNodes[x], root, arr, rootRect);\r\n        }\r\n\r\n    }\r\n    select(nodeStart: Node, posStart: number, nodeEnd: Node = undefined, posEnd: number = undefined) {\r\n        var newSel = getSelection();\r\n        var range = document.createRange();\r\n        range.setStart(nodeStart, posStart);\r\n        if (nodeEnd !== undefined)\r\n            range.setEnd(nodeEnd, posEnd);\r\n        newSel.removeAllRanges();\r\n        newSel.addRange(range);\r\n        return range;\r\n    }\r\n    /**\r\n     * @member {jassijs.ui.Component} - the designed component\r\n     */\r\n    set designedComponent(component) {\r\n        this.fillVariables(component, component, {});\r\n        var com = component;\r\n        if (com[\"isAbsolute\"] !== true && com.width === \"0\" && com.height === \"0\") {\r\n            component.width = \"calc(100% - 1px)\";\r\n            component.height = \"calc(100% - 1px)\";\r\n        }\r\n        if (this._codeEditor.__evalToCursorReached !== true) {\r\n            this._codeEditor._main.show(\"design\");\r\n        }\r\n        while (this._designPlaceholder._components.length > 0)\r\n            this._designPlaceholder.remove(this._designPlaceholder._components[0], true);\r\n        this._designPlaceholder.add(component);\r\n        // \r\n        this._propertyEditor.updateParser();\r\n        this.editDialog(this.editMode === undefined ? true : this.editMode);\r\n\r\n        this._componentExplorer.value = component;\r\n\r\n        this.dom.focus();\r\n\r\n\r\n        this._updateInvisibleComponents();\r\n        while (this.inlineEditorPanel.dom.firstChild) {\r\n            this.inlineEditorPanel.dom.firstChild.remove();\r\n        }\r\n        this.updateDummies();\r\n        this.callEvent(\"onDesignedComponentChanged\", component);\r\n        //var parser=new jassijs.ui.PropertyEditor.Parser();\r\n        //parser.parse(_this.value);\r\n    }\r\n    onDesignedComponentChanged(handler: (Component) => void) {\r\n        this.addEvent(\"onDesignedComponentChanged\", handler);\r\n    }\r\n    updateDummies() {\r\n        var arr = [];\r\n        var component = this.designedComponent;//this._componentExplorer.value;\r\n        if (this._lastComponent !== component) {//delete dummies if the designedComponent has changed\r\n            //if((<any>this.dom).dummyholder)\r\n            //  (<any>this.dom).dummyholder.innerHTML=\"\";\r\n            this.dummyHolder.innerHTML = \"\";//delete all\r\n            this._lastComponent = component;\r\n        }\r\n        /* if ((<any>this.dom).dummyholder === undefined) {\r\n             (<any>this.dom).dummyholder = document.createElement(\"span\");\r\n             (<any>this.dom).dummyholder._dummyholder = true;\r\n             this.dom.prepend((<any>component.dom).dummyholder);\r\n         }*/\r\n        this.insertDummies(component.dom, this.dummyHolder, arr, this.dom.getClientRects()[0]);\r\n        this.dummyHolder.append(...arr);\r\n        component.dom.contentEditable = \"true\";\r\n        this._designPlaceholder.domWrapper.contentEditable = \"false\";\r\n        this._designPlaceholder.dom.contentEditable = \"false\";\r\n        //delete removed dummies\r\n        for (var x = 0; x < this.dummyHolder.childNodes.length; x++) {\r\n            if ((<any>this.dummyHolder.childNodes[x])._this.dom?._this?._parent === undefined) {\r\n                //if ((<any>this.dummyHolder.childNodes[x])._this._parent === undefined) {\r\n                this.dummyHolder.removeChild(this.dummyHolder.childNodes[x]);\r\n            }\r\n        }\r\n    }\r\n    get designedComponent() {\r\n        return this._designPlaceholder._components[0];\r\n    }\r\n    destroy() {\r\n        if (this._resizer !== undefined) {\r\n            this._resizer.uninstall();\r\n        }\r\n        if (this._draganddropper !== undefined) {\r\n            this._draganddropper.isDragEnabled = undefined;\r\n            this._draganddropper.uninstall();\r\n        }\r\n        this._propertyEditor?.destroy();\r\n        this._componentPalette?.destroy();\r\n        this._componentExplorer?.destroy();\r\n        this._invisibleComponents?.destroy();\r\n        super.destroy();\r\n    }\r\n\r\n}\r\nexport async function test() {\r\n    return new ComponentDesigner({});\r\n\r\n};\r\n\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { Tree } from \"jassijs/ui/Tree\";\nimport { ComponentDescriptor } from \"jassijs/ui/ComponentDescriptor\";\nimport { ContextMenu } from \"jassijs/ui/ContextMenu\";\nimport { Action, Actions } from \"jassijs/base/Actions\";\nimport { Container } from \"jassijs/ui/Container\";\n//import { CodeEditor } from \"jassijs_editor/CodeEditor\";\nimport { ComponentDesigner } from \"jassijs_editor/ComponentDesigner\";\nimport { PropertyEditor } from \"jassijs/ui/PropertyEditor\";\nimport { propertyeditor } from \"jassijs/base/PropertyEditorService\";\nimport { classes } from \"jassijs/remote/Classes\";\nimport { Component } from \"jassijs/ui/Component\";\n\n@$Class(\"jassijs_editor.ComponentExplorer\")\nexport class ComponentExplorer extends Panel {\n    codeEditor;//:CodeEditor;\n    propertyEditor: PropertyEditor;\n    tree: Tree;\n    //contextMenu:ContextMenu;\n    _value;\n    /**\n    * edit object properties\n    */\n    constructor(codeEditor, propertyEditor: PropertyEditor) {\n        super();\n        /** @member {jassijs_editor.CodeEditor} - the parent CodeEditor */\n        this.codeEditor = codeEditor;\n        this.tree = new Tree();\n        this.tree.height = \"100%\";\n        this.contextMenu = new ContextMenu();\n        this.add(this.contextMenu);\n        this.layout();\n        this.propertyEditor = propertyEditor;\n    }\n    /**\n     * @member {jassijs.ui.Component}  - the rendered object \n     */\n    set value(value) {\n        this._value = value;\n        this.tree.items = (value === undefined ? [] : value);\n        this.tree.expandAll();\n    }\n    get value() {\n        return this._value;\n    }\n    /**\n     * get the displayname of the item\n     * must be override\n     * @param {object} item\n     */\n    getComponentName(item) {\n        return item;\n    }\n\n    /**\n     * get the child components\n     * must be override\n     * @param {object} item\n     */\n    getComponentChilds(item) {\n        if (this.codeEditor === undefined)\n            return this.getComponentChildsOld(item);\n        if (item === undefined)\n            return [];\n        var ret = [];\n        if (item.dom?._thisOther) {\n            // <Comp1><Comp2><div> rsults in Tree Comp1-Comp2-div\n            //\n            var pos = item.dom?._thisOther.indexOf(item);\n            if (pos == -1)\n                pos = 0;\n            else\n                pos++;\n            if (pos < item.dom?._thisOther.length) {\n                var varname = this.codeEditor.getVariableFromObject(item.dom._thisOther[pos]);\n                if (varname) {\n                    ret.push(item.dom._thisOther[pos]);\n                    return ret;\n                }\n            }\n        }\n        if (item.dom?.childNodes) {\n            for (var x = 0; x < item.dom.childNodes.length; x++) {\n                var nd = item.dom.childNodes[x];\n                var varname = this.codeEditor.getVariableFromObject(nd._this);\n                if (varname)\n                    ret.push(nd._this);\n            }\n        }\n        return ret;\n    }\n    getComponentChildsOld(item) {\n        if (item === undefined)\n            return [];\n        if (item === this.value && item._components) {\n            var all = [];\n            (<Component[]>item._components).forEach((e) => {\n               \n                    all.push(e);\n            });\n            return all;\n        }\n        var comps = ComponentDescriptor.describe(item.constructor).resolveEditableComponents(item);\n\n        var ret = [];\n        for (var name in comps) {\n            var comp = comps[name];\n            if (comp === undefined)\n                continue;\n            var complist = comp._components;\n            if (name !== \"this\" && this.getComponentName(comp) !== undefined) {\n                if (ret.indexOf(comp) === -1)\n                    ret.push(comp);\n            }\n            if (complist !== undefined) {\n                for (var y = 0; y < complist.length; y++) {\n                    if (this.getComponentName(complist[y]) !== undefined) {\n                        if (ret.indexOf(complist[y]) === -1)\n                            ret.push(complist[y]);\n                    }\n                }\n            }\n        }\n        return ret;\n    }\n    select(component:Component){\n        this.tree.selection=[component];\n        //this.tree.scrollToSelection();\n        setTimeout(()=>this.tree.scrollToSelection(),200);\n    }\n    layout() {\n        var _this = this;\n        this.tree.width = \"100%\";\n        this.tree.height = \"100%\";\n        this.tree.propChilds = function (item) {\n            return _this.getComponentChilds(item);\n        }\n\n        this.tree.propDisplay = function (item) {\n            return _this.getComponentName(item);\n        }\n        this.contextMenu.getActions = async function (data: any[]): Promise<Action[]> {\n            var ret = [];\n            var parent = <Container>data[0]._parent;\n\n            if (parent !== undefined && parent._components !== undefined) {\n                if ((parent._components.length > 1 ) && parent._components.indexOf(data[0]) !== 0) {\n                    var ac: Action = {\n                        call: function () {\n\n                            _this.propertyEditor.swapComponents(parent._components[parent._components.indexOf(data[0]) + -1], data[0]);\n                            _this.tree.items = _this.tree.items;\n                            _this.tree.value = data[0];\n                        },\n                        name: \"move up\"\n                    };\n                    ret.push(ac)\n                }\n                if (parent._components.length > 1  &&\n                    parent._components.indexOf(data[0]) +  1 < parent._components.length) {\n                    var ac: Action = {\n                        call: function () {\n                            _this.propertyEditor.swapComponents(data[0], parent._components[parent._components.indexOf(data[0]) + 1]);\n                            _this.tree.items = _this.tree.items;\n                            _this.tree.value = data[0];\n                        },\n                        name: \"move down\"\n                    };\n                    ret.push(ac)\n                }\n            }\n            return ret;\n        }\n        this.tree.contextMenu = this.contextMenu;\n        this.add(this.tree);\n    }\n    update() {\n        this.value = this.value;\n    }\n    onselect(handler) {\n        this.tree.onselect(handler);\n    }\n    onclick(handler) {\n        this.tree.addEvent(\"click\", handler);\n    }\n    destroy() {\n        this._value = undefined;\n        super.destroy();\n    }\n}\nexport async function test() {\n    var dlg = new ComponentExplorer(undefined, undefined);\n    dlg.getComponentName = function (item) {\n        return classes.getClassName(item);\n    };\n    dlg.value = dlg;\n    return dlg;\n}\n\n\n","import \"jassijs/ext/jquerylib\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\r\nimport { Image } from \"jassijs/ui/Image\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { UIComponentProperties } from \"jassijs/ui/UIComponents\";\r\n\r\n\r\n@$Class(\"jassijs_editor.ComponentPalette\")\r\nexport class ComponentPalette extends Panel {\r\n    _service: string;\r\n    constructor() {\r\n        super();\r\n        this.layout();\r\n    }\r\n    layout() {\r\n    }\r\n    /**\r\n     * @member {string} - the service where the palette-items are registred\r\n     **/\r\n    set service(value) {\r\n        var _this = this;\r\n        this._service = value;\r\n        while (this._components.length > 0) {\r\n            this.remove(this._components[0]);\r\n        }\r\n        registry.getJSONData(this._service).then((jdata) => {\r\n         /*   for (var x = 0; x < jdata.length; x++) {\r\n                var mdata = jdata[x];\r\n                var data: UIComponentProperties = mdata.params[0];\r\n                if (data.fullPath === undefined || data.fullPath === \"undefined\")\r\n                    continue;\r\n                var img = new Image();\r\n                var name = data.fullPath.split(\"/\");\r\n                var sname = name[name.length - 1];\r\n                img.tooltip = sname;\r\n\r\n                img.src = data.icon === undefined ? \"mdi mdi-chart-tree mdi-18px\" : data.icon + (data.icon.startsWith(\"mdi\") ? \" mdi-18px\" : \"\");\r\n                //img.height = 24;\r\n                //img.width = 24;\r\n                img[\"createFromType\"] = mdata.classname;\r\n                img[\"createFromParam\"] = data.initialize;\r\n                _this._makeDraggable(img);\r\n                _this.add(img);\r\n            }*/\r\n            for (var x = 0; x < jdata.length; x++) {\r\n                var mdata = jdata[x];\r\n                var data: UIComponentProperties = mdata.params[0];\r\n                if (data.fullPath === undefined || data.fullPath === \"undefined\")\r\n                    continue;\r\n                var img = new Image();\r\n                var name = data.fullPath.split(\"/\");\r\n                var sname = name[name.length - 1];\r\n                img.tooltip = sname;\r\n                img.src = data.icon === undefined ? \"mdi mdi-chart-tree mdi-18px\" : data.icon + (data.icon.startsWith(\"mdi\") ? \" mdi-18px\" : \"\");\r\n                //img.height = 24;\r\n                //img.width = 24;\r\n                img[\"createFromType\"] = mdata.classname;\r\n                img[\"createFromParam\"] = data.initialize;\r\n                _this._makeDraggable2(img);\r\n                _this.add(img);\r\n            }\r\n        });\r\n\r\n\r\n\r\n       /* registry.loadAllFilesForService(this._service).then(function(){\r\n            registry.getData(_this._service).forEach(function(mdata){\r\n                var data:UIComponentProperties=mdata.params[0];\r\n                var img=new Image();\r\n                if(data.fullPath===undefined)\r\n                    return;\r\n                var name=data.fullPath.split(\"/\");\r\n                var sname=name[name.length-1];\r\n                img.tooltip=sname;\r\n                img.src=data.icon===undefined?\"res/unknowncomponent.png\":data.icon;\r\n                img.height=24;\r\n                img.width=24;\r\n                img[\"createFromType\"]=classes.getClassName(mdata.oclass);\r\n                img[\"createFromParam\"]=data.initialize;\r\n                _this._makeDraggable(img);\r\n                _this.add(img);\r\n            });\r\n       });*/\r\n    }\r\n    get service() {\r\n        return this._service;\r\n    }\r\n    /**\r\n     * install the draggable\r\n     * @param {jassijs.ui.Image} component\r\n     */\r\n    /*_makeDraggable(component) {\r\n        var helper = undefined;\r\n\r\n\r\n        $(component.dom).draggable({\r\n            cancel: \"false\", revert: \"invalid\",\r\n\r\n            appendTo: \"body\",\r\n            helper: function (event) {\r\n                if (helper === undefined) {\r\n                    var cl = classes.getClass(component.createFromType);\r\n                    if (cl === undefined) {\r\n                        classes.loadClass(component.createFromType);//for later\r\n                        cl = Panel;\r\n                    }\r\n                    helper = new cl();\r\n                    var img = new Image();\r\n                    img.src = component.src;\r\n                    img.height = \"24\";\r\n                    img.width = \"24\";\r\n                    img.x = component.x;\r\n                    img.y = component.y;\r\n                    helper._position = img;\r\n                    component._helper = helper;\r\n                    if (component.createFromParam !== undefined) {\r\n                        $.extend(helper, component.createFromParam);\r\n                    }\r\n                    document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n                    document.getElementById(\"jassitemp\").removeChild(helper._position.domWrapper);\r\n                }\r\n                return helper._position.dom;\r\n            }\r\n        });\r\n    }*/\r\n    _makeDraggable2(component) {\r\n        var helper = undefined;\r\n        var cl = classes.getClass(component.createFromType);\r\n        if (cl === undefined) {\r\n            classes.loadClass(component.createFromType);//for later\r\n            cl = Panel;\r\n        }\r\n              \r\n        /*   var img = new Image();\r\n           (<any>img).native=true;\r\n           img.src = component.src;\r\n           img.dom.style.color = \"blue\";\r\n           img.height = \"24\";\r\n           img.width = \"24\";\r\n           img.x = component.x;\r\n           img.y = component.y;*/\r\n        component.dom.draggable = true;\r\n        component.dom.ondragstart = ev => {\r\n        /*    helper = new cl();\r\n            var img = new Image();\r\n            img.src = component.src;\r\n            img.height = \"24\";\r\n            img.width = \"24\";\r\n            img.x = component.x;\r\n            img.y = component.y;\r\n            helper._position = img;\r\n            component._helper = helper;\r\n            if (component.createFromParam !== undefined) {\r\n                $.extend(helper, component.createFromParam);\r\n            }*/\r\n          //  ev.dataTransfer.setDragImage(img.dom, 20, 20);\r\n            ev.dataTransfer.setData(\"text\", JSON.stringify({\r\n               createFromType : component[\"createFromType\"],\r\n               createFromParam : component[\"createFromParam\"]                       \r\n            }));\r\n            //document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n            //document.getElementById(\"jassitemp\").removeChild(helper._position.domWrapper);\r\n        }\r\n \r\n        //helper._position = img;\r\n        //component._helper = helper;\r\n        // if (component.createFromParam !== undefined) {\r\n        //   $.extend(helper, component.createFromParam);\r\n        //  }\r\n\r\n        /* $(component.dom).draggable({\r\n             cancel: \"false\", revert: \"invalid\",\r\n \r\n             appendTo: \"body\",\r\n             helper: function (event) {\r\n                 if (helper === undefined) {\r\n                     var cl = classes.getClass(component.createFromType);\r\n                     if (cl === undefined) {\r\n                         classes.loadClass(component.createFromType);//for later\r\n                         cl = Panel;\r\n                     }\r\n                     helper = new cl();\r\n                     var img = new Image();\r\n                     img.src = component.src;\r\n                     img.height = \"24\";\r\n                     img.width = \"24\";\r\n                     img.x = component.x;\r\n                     img.y = component.y;\r\n                     helper._position = img;\r\n                     component._helper = helper;\r\n                     if (component.createFromParam !== undefined) {\r\n                         $.extend(helper, component.createFromParam);\r\n                     }\r\n                     document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n                     document.getElementById(\"jassitemp\").removeChild(helper._position.domWrapper);\r\n                 }\r\n                 return helper._position.dom;\r\n             }\r\n         });*/\r\n    }\r\n    destroy() {\r\n\r\n        for (var x = 0; x < this._components.length; x++) {\r\n            var comp = this._components[x];\r\n            if ((<any>comp).native !== true) {\r\n                $(comp.dom).draggable({});\r\n                $(comp.dom).draggable(\"destroy\");\r\n                if (comp[\"_helper\"] !== undefined)\r\n                    comp[\"_helper\"].destroy();\r\n            }\r\n        }\r\n        super.destroy();\r\n    }\r\n}\r\nexport function test() {\r\n    var comp = new ComponentPalette();\r\n    comp.service = \"$UIComponent\";\r\n    return comp;\r\n}","import { $Class } from \"jassijs/remote/Registry\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\nimport {Table} from \"jassijs/ui/Table\";\r\nimport {HTMLPanel} from \"jassijs/ui/HTMLPanel\";\r\nimport {Button} from \"jassijs/ui/Button\";\r\nimport {BoxPanel} from \"jassijs/ui/BoxPanel\";\r\nimport {Select} from \"jassijs/ui/Select\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\n\r\nclass Me {\r\n    IDText? : ErrorPanel;\r\n    boxpanel1? : BoxPanel;\r\n    IDUpdate? : Button;\r\n    IDClear ?: Button;\r\n    IDTable?:Table;\r\n}\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs_editor.ui.ComponentSpy\")\r\nexport class ComponentSpy extends Panel {\r\n    ids;\r\n    labelids;\r\n    me:Me;\r\n    hook=undefined;\r\n    constructor() {\r\n        super();\r\n        var _this=this;\r\n        this.hook=Component.onComponentCreated((name,comp)=>{\r\n            if(name===\"create\"){\r\n                _this.watch(comp);\r\n            }\r\n            if(name===\"precreate\"||name===\"destroy\"){\r\n                _this.unwatch(comp);\r\n            }\r\n        });\r\n        this.ids = {};\r\n        this.labelids = {};\r\n        this.layout();\r\n    }\r\n\r\n    @$Action ({\r\n        name: \"Administration\",\r\n        icon: \"mdi mdi-account-cog-outline\",\r\n    })\r\n    static async dummy() {\r\n        \r\n    }\r\n    \r\n\r\n    @$Action ({\r\n        name: \"Administration/Spy Components\",\r\n        icon: \"mdi mdi-police-badge\",\r\n    })\r\n    static async showDialog() {\r\n        router.navigate(\"#do=jassijs.ui.ComponentSpy\");\r\n    }\r\n    layout() {\r\n        var me:Me = this.me = {};\r\n\r\n        me.IDText = new  ErrorPanel();//HTMLPanel();\r\n        this.style={overflow: \"scroll\"};\r\n        var _this = this;\r\n        me.boxpanel1 = new BoxPanel();\r\n        me.IDUpdate = new Button();\r\n        me.IDClear = new Button();\r\n        me.IDTable = new Table();\r\n        this.add(me.boxpanel1);\r\n        this.add(me.IDTable);\r\n        this.add(me.IDText);\r\n        me.boxpanel1.add(me.IDUpdate);\r\n        me.boxpanel1.add(me.IDClear);\r\n        me.boxpanel1.horizontal = false;\r\n        me.IDClear.text = \"clear\";\r\n        me.IDUpdate.text = \"update\";\r\n        me.IDUpdate.onclick(function (event) {\r\n            _this.update();\r\n        });\r\n        me.IDClear.onclick(function (event) {\r\n            _this.clear();\r\n        });\r\n        me.IDText.height=100;\r\n        me.IDUpdate.text = \"Update\";\r\n        me.IDTable.width = \"100%\";\r\n        me.IDTable.height = \"400\";\r\n       \r\n        me.IDTable.onchange(function (ob) {\r\n            me.IDText.addError({error:ob.data});//.stack.replaceAll(\"\\n\", \"<br>\");\r\n        });\r\n       \r\n    }\r\n    update() {\r\n        \r\n        var data = [];\r\n        for (var k in jassijs.componentSpy.ids) {\r\n            data.push(jassijs.componentSpy.ids[k]);\r\n        }\r\n        try{\r\n             this.me.IDTable.items = data;\r\n        }catch{\r\n            setTimeout(()=>this.me.IDTable.items = data,100);\r\n        }\r\n    }\r\n    clear() {\r\n        jassijs.componentSpy.ids = {};\r\n        jassijs.componentSpy.labelids = {};\r\n        this.update();\r\n    }\r\n\r\n    watch(component) {\r\n    \r\n    \t\t\r\n            var ob = {\r\n                type: classes.getClassName(component),\r\n                id: component._id,\r\n                labelid: component.domWrapper === undefined ? 0 : component.domWrapper._id,\r\n                stack: new Error().stack\r\n            }\r\n            this.ids[ob.id] = ob\r\n            this.labelids[ob.labelid] = ob;\r\n        \r\n    }\r\n    stack(id) {\r\n        var test = this.ids[id];\r\n        if (test === undefined)\r\n            test = this.labelids[id];\r\n        if (test !== undefined)\r\n            return test.stack;\r\n        else\r\n            return \"empty\";\r\n    }\r\n    unwatch(component) {\r\n        var ob = this.ids[component._id];\r\n        if (ob !== undefined) {\r\n            delete this.ids[ob.id];\r\n            delete this.labelids[ob.labelid];\r\n        }\r\n    }\r\n    list() {\r\n        var test = [\"jj\", \"kkk\"];\r\n        return test;\r\n    }\r\n    destroy() {\r\n        super.destroy();\r\n        Component.offComponentCreated(this.hook);\r\n        this.hook=undefined;\r\n    }\r\n}\r\nexport function test() {\r\n    var sp=new ComponentSpy();\r\n    sp.update();\r\n    sp.height=100;\r\n    return sp;\r\n}\r\njassijs.componentSpy = new ComponentSpy();\r\n","import { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport { Button } from \"jassijs/ui/Button\";\nimport { Select } from \"jassijs/ui/Select\";\nimport { Table } from \"jassijs/ui/Table\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { Panel } from \"jassijs/ui/Panel\";\n\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\nimport { router } from \"jassijs/base/Router\";\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\nimport windows from \"jassijs/base/Windows\";\nimport { DatabaseClass, DatabaseField, DatabaseSchema } from \"jassijs_editor/util/DatabaseSchema\";\nimport { StateDatabinder } from \"jassijs/ui/StateBinder\";\ntype Me = {\n    table?: Table;\n    select?: Select;\n    databinder?: StateDatabinder;\n    newclass?: Button;\n    boxpanel1?: BoxPanel;\n    save?: Button;\n    boxpanel2?: BoxPanel;\n    newfield?: Button;\n    removefield?: Button;\n    boxpanel3?: BoxPanel;\n};\n\n@$ActionProvider(\"jassijs.base.ActionNode\")\n@$Class(\"jassijs_editor/DatabaseDesigner\")\nexport class DatabaseDesigner extends Panel {\n    me: Me;\n    currentSchema: DatabaseSchema;\n    currentClass: DatabaseClass;\n    allTypes = { values: [\"\"] };\n    posibleRelations = { values: [\"\"] };\n    constructor(readShema = true) {\n        super();\n        this.me = {};\n        this.layout(this.me, readShema);\n    }\n    @$Action({\n        name: \"Administration/Database Designer\",\n        icon: \"mdi mdi-database-edit\",\n    })\n    static async showDialog() {\n        router.navigate(\"#do=jassijs_editor/DatabaseDesigner\");\n    }\n\n    layout(me: Me, readShema = true) {\n        me.newclass = new Button();\n        me.boxpanel1 = new BoxPanel();\n        me.save = new Button();\n        me.boxpanel2 = new BoxPanel({horizontal :false});\n        me.newfield = new Button();\n        me.removefield = new Button();\n        me.boxpanel3 = new BoxPanel();\n        me.boxpanel1.horizontal = true;\n        var _this = this;\n        var xxx = 0;\n        var params = { values: [\"hall\", \"du\"] };\n        me.table = new Table(\n            {\n                options: {\n                    autoColumns: false,\n                    columns: [\n                        //@ts-ignore\n                        { title: \"name\", field: \"name\", editor: \"input\", editable: true },\n                        //@ts-ignore\n                        { title: \"type\", field: \"type\", editor: \"select\", editorParams: this.allTypes },\n                        //@ts-ignore\n                        { title: \"nullable\", field: \"nullable\", editor: \"tickCross\", editorParams: { tristate: false } },\n\n                        {\n                            //@ts-ignore\n                            title: \"relationinfo\", field: \"relationinfo\", editor: \"select\",\n                            editorParams: this.posibleRelations,\n                            cellEditing: function (cell) {\n                                _this.updatePossibleRelations(cell);\n                            }\n                        }\n                    ]\n                }\n            });\n        me.select = new Select();\n        //me.databinder = new Databinder();\n        //this.add(me.databinder);\n        me.table.width = 565;\n        me.table.height = \"300\";\n        me.table.onchange(function (event?: JQueryEventObject, data?: any/*Tabulator.RowComponent*/) {\n        });\n        me.select.display = \"name\";\n        me.select.selectComponent = me.databinder;\n        me.select.onchange(function (event) {\n            _this.update();\n        });\n        me.select.width = 210;\n        if (readShema) {\n            this.readSchema();\n        }\n        this.width = 719;\n        this.height = 386;\n        this.add(me.boxpanel1);\n        this.add(me.boxpanel2);\n        me.newclass.text = \"Create DBClass\";\n        me.newclass.onclick(function (event) {\n            _this.addClass();\n        });\n        me.newclass.icon = \"mdi mdi-note-plus-outline\";\n        me.newclass.tooltip = \"new DBClass\";\n        me.newclass.width = \"150\";\n        me.boxpanel1.add(me.select);\n        me.boxpanel1.width = 365;\n        me.boxpanel1.height = 25;\n        me.boxpanel1.add(me.newclass);\n        me.boxpanel1.add(me.save);\n        me.save.text = \"Save all Classes\";\n        me.save.onclick(function (event) {\n            _this.saveAll().then((s) => {\n                if (s !== \"\") {\n                    alert(s);\n                }\n            })\n        });\n        me.save.width = 150;\n        me.save.icon = \"mdi mdi-content-save\";\n        me.save.width = 180;\n        me.boxpanel2.height = 115;\n        me.boxpanel2.horizontal = true;\n        me.boxpanel2.width = 55;\n        me.newfield.text = \"Create Field\";\n        me.newfield.icon = \"mdi mdi-playlist-plus\";\n        me.newfield.onclick(function (event) {\n            _this.addField();\n        });\n        me.newfield.width = \"120\";\n        me.newfield.height = 25;\n        me.newfield.style = {\n            textAlign: \"left\"\n        };\n        me.boxpanel2.add(me.table);\n        me.boxpanel2.add(me.boxpanel3);\n        me.removefield.text = \"Remove Field\";\n        me.removefield.icon = \"mdi mdi-playlist-minus\";\n        me.removefield.width = \"120\";\n        me.removefield.style = {\n            textAlign: \"left\"\n        };\n        me.removefield.onclick(function (event) {\n            var field = me.table.value;\n            if (field) {\n                var pos = _this.currentClass.fields.indexOf(field);\n                _this.currentClass.fields.splice(pos, 1);\n                me.table.items = _this.currentClass.fields;\n                me.table.value = undefined;\n            }\n        });\n        me.boxpanel3.add(me.newfield);\n        me.boxpanel3.add(me.removefield);\n    }\n\n    async saveAll(showChanges = undefined): Promise<string> {\n        try {\n            var text = await this.currentSchema.updateSchema(true);\n            if (text !== \"\") {\n                if (showChanges === false || (await OptionDialog.show(\"Do you won't this changes?<br/>\" + text.replaceAll(\"\\n\", \"<br/>\"), [\"Yes\", \"Cancel\"])).button === \"Yes\") {\n                    await this.currentSchema.updateSchema(false);\n                    //@ts-ignore\n                    windows.findComponent(\"Files\")?.refresh();\n                }\n            }\n            else {\n                return \"no changes detected\";\n            }\n        }\n        catch (err) {\n\n            return err.message + \"\\r\\n\" + err.stack;\n        }\n        return \"\";\n    }\n\n    addField(typename: string = undefined, name: string = undefined, nullable: boolean = undefined, relation: string = undefined) {\n        var field = new DatabaseField();\n        //@ts-ignore\n        field.parent = this.currentClass;\n        if (name)\n            field.name = name;\n        if (nullable)\n            field.nullable = nullable;\n        if (typename)\n            field.type = typename;\n        if (relation)\n            field.relation = relation;\n        this.currentClass.fields.push(field);\n        this.me.table.items = this.currentClass.fields;\n    }\n\n    async addClass(classname: string = undefined) {\n        var sub = this.currentClass.name.substring(0, this.currentClass.name.lastIndexOf(\".\"));\n        var res;\n        if (classname) {\n            res = {\n                button: \"OK\",\n                text: classname\n            }\n        } else\n            res = await OptionDialog.show(\"Enter classname\", [\"OK\", \"Cancel\"], undefined, true, sub + \".MyOb\");\n        if (res.button === \"OK\") {\n            this.currentClass = new DatabaseClass();\n            this.currentClass.name = res.text;\n            this.currentClass.parent = this.currentSchema;\n            var f = new DatabaseField();\n            f.name = \"id\";\n            f.type = \"int\";\n            f.relation = \"PrimaryColumn\";\n            this.currentClass.fields = [f];\n            this.currentSchema.databaseClasses.push(this.currentClass);\n            this.me.select.items = this.currentSchema.databaseClasses;\n            this.me.select.value = this.currentClass;\n            this.update();\n        }\n    }\n\n    updatePossibleRelations(cell: any /*Tabulator.CellComponent*/) {\n        var _this = this;\n        var tp: DatabaseField = <DatabaseField>cell.getData();\n        this.posibleRelations.values = tp.getPossibleRelations();\n    }\n    updateTypes() {\n        var _this = this;\n        this.allTypes.values = [];\n        DatabaseSchema.basicdatatypes.forEach((e) => {\n            _this.allTypes.values.push(e);\n        });\n        this.currentSchema.databaseClasses.forEach((cl) => {\n            _this.allTypes.values.push(cl.name);\n            _this.allTypes.values.push(cl.name + \"[]\");\n        });\n    }\n    update() {\n        this.currentClass = this.me.select.value;\n        this.me.table.items = this.currentClass.fields;\n        this.updateTypes();\n    }\n    async readSchema() {\n        this.currentSchema = new DatabaseSchema();\n        await this.currentSchema.loadSchemaFromCode();\n        this.me.select.items = this.currentSchema.databaseClasses;\n        this.me.select.value = this.currentSchema.databaseClasses[0];\n        this.update();\n    }\n}\n\nexport async function test() {\n    var ret = new DatabaseDesigner();\n\n    return ret;\n}\n","import { $Class } from \"jassijs/remote/Registry\";\n\n//https://developer.chrome.com/extensions/messaging\n@$Class(\"jassijs_editor.Debugger\")\nexport class Debugger\n{\n        destroyed:boolean;\n        debugpoints;\n        /**\n         * routing of url\n         * @class jassijs.base.Debugger\n         */\n\t\tconstructor(){\n   \n\t\t}\n\t\t/**\n\t\t * @param {string} file - the file to save\n\t\t * @param {string} code - the code to Transform\n\t\t * @param [number] debuglines - lines which updates the variables\n\t\t * @param {Object.<int,string>}  debuglinesConditions - is the breakpoint in line conitionally [line]->condition\n\t\t **/\n\t\tasync debugCode(file,code,debuglines,debuglinesConditions,evalToCursorPosition){\n        }\n        /**\n         * remove all breakpoints for the file\n         * @param file \n         */\n        async removeBreakpointsForFile(file:string){\n        }\n\t\t /**\n         * extract all variables in code\n         * @param {string} code - the code to inspect\n         */\n        _extractVariables(code){\n            var pos=0;\n            var ret=[];\n            while(pos!==-1){\n                pos=code.indexOf(\"var\"+\" \",pos);\n                if(pos!==-1){\n                    var p1=code.indexOf(\" \",pos+4);\n                    var p2=code.indexOf(\";\",pos+4);\n                    var p3=code.indexOf(\"=\",pos+4);\n                    var p=Math.min(p1===-1?999999999:p1,p2===-1?999999999:p2,p3===-1?999999999:p3);\n                    var variabel=code.substring(pos+4,p);\n                    var patt = new RegExp(\"\\\\W\");\n                    if(!patt.test(variabel))\n                        ret.push(variabel);\n                     pos=pos+1;\n                }\n               \n            }\n            return ret;\n        }\n        /**\n         * sets a breakpoint for debugging\n         * @param {string} file\n         * @param {number} line\n         * @param {number} enable - if true then breakpoint is set if false then removed\n         * @param {string} type - the type default undefined->stop debugging \n         **/\n        breakpointChanged(file,line,column,enable,type){\n            if(navigator.userAgent.indexOf(\"Chrome\")>-1){\n                (import(\"jassijs_editor/ChromeDebugger\")).then((deb)=>{\n                    deb.ChromeDebugger.showHintExtensionNotInstalled();\n\n                });\n            }\n        //\tconsole.log(\"break on\"+file);\n        }\n        /**\n         * report current variable scope\n         * @param {numer} id - id of the variablepanel\n         * @param {[Object.<string,object>]} variables \n         */\n    \treportVariables(id,variables){\n    \t\tvar editor=document.getElementById(id)._this;\n    \t\talert(editor);\n    \t    \t\n    \t\n    \t\teditor[\"addVariables\"](variables);\n    \t}\n    \t /**\n         * add debugpoints in code\n         * @param {[string]} lines - code\n         * @param {Object.<number, boolean>} debugpoints - the debugpoints\n         * @param {jassijs_editor.CodeEditor} codeEditor\n         */\n        addDebugpoints(lines,debugpoints,codeEditor){\n        \tjassijs.d[codeEditor._id]=undefined;\n//        \tjassijs.ui.VariablePanel.get(this._id).__db=undefined;\n        \tvar hassome=undefined;\n        \tthis.debugpoints=debugpoints;\n        \tfor(var point in debugpoints){\n        \t\tif(debugpoints[point]===true){\n        \t\t\t//lines[point]=\"if(jassijs.ui.VariablePanel.get(\"+this._id+\").__db===undefined){ jassijs.ui.VariablePanel.get(\"+this._id+\").__db=true;debugger;}\"+lines[point];\n        \t\t\tlines[point]=\"if(jassijs.d(\"+codeEditor._id+\")) debugger;\"+lines[point];\n \n        \t\t}\n        \t}\n        }\n\t\t/**\n         * \n         * @param {string} code - full source code\n         * @param {jassijs_editor.CodeEditor} codeEditor\n         * @returns {string}\n         */\n        getCodeForBreakpoint(code,codeEditor){\n        /*\tvar reg = /([\\w]*)[\\(][^\\)]*[\\)]/g;\n        \tvar test=reg.exec(code);\n        \ttest=reg.exec();\n        \talert(test);*/\n        \t\n            var vars=this._extractVariables(code);\n            var reg=/[A-Z,a-z,0-9,\\_]*[/w]*[\\(][A-Z,a-z,0-9,\\_,\\,]*\\)\\{/g;\n            var test=reg.exec(code);\n            while(test){\n                \n                \n                if(!test[0].startsWith(\"while\")&&!test[0].startsWith(\"if\")){\n                    var params=test[0].substring(test[0].indexOf(\"(\")+1,test[0].indexOf(\")\"));\n                    if(params.length>0){\n                        var ps=params.split(\",\");\n                        for(var p=0;p<ps.length;p++){\n                            if(vars.indexOf(ps[p])===-1)\n                                vars.push(ps[p]);\n                        }\n                    }\n                }\n                test=reg.exec(code);\n            }\n            var svars=\"{var debug_editor=document.getElementById(\"+codeEditor._id+\")._this;var _variables_={} ;try{if(this!==jassi)_variables_['this']=this;}catch(ex){};\";\n            //svars=svars+\"try{_variables_.addParameters(arguments);}catch(ex){};\";\n            for(var x=0;x<vars.length;x++){\n        //        alert(vars[x]);\n                svars=svars+\"try{_variables_['\"+vars[x]+\"']=\"+vars[x]+\";}catch(ex){};\";\n            }\n            svars=svars+\"debug_editor.addVariables(_variables_);}\";\n            return svars;\n        }\n         destroy(){\n\t\t\tthis.destroyed=true;\n        }\n}\n\t   \n\t   if(jassijs.debugger===undefined)\n           jassijs.debugger=new Debugger();\n           //@ts-ignore\n        require([\"jassijs_editor/ChromeDebugger\"]);\n\n\n\n   ","\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { errors, Errors } from \"jassijs/base/Errors\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\n\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport { notify } from \"jassijs/ui/Notify\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport { config } from \"jassijs/remote/Config\";\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs_editor.ui.ErrorPanel\")\r\nexport class ErrorPanel extends Panel {\r\n    IDClear: Button;\r\n    _container;\r\n    IDToolbar: Panel;\r\n    IDSearch: Button;\r\n    withControls: boolean;\r\n    withLastErrors: boolean;\r\n    withNewErrors: boolean;\r\n    /**\r\n * shows errors \r\n * @class jassijs.ui.ErrorPanel\r\n */\r\n    constructor(withControls = true, withLastErrors = true, withNewErrors = true) {\r\n        super();\r\n        this.withControls = withControls;\r\n        this.withLastErrors = withLastErrors;\r\n        this.withNewErrors = withNewErrors;\r\n        this.layout();\r\n    }\r\n    @$Action({\r\n        name: \"Administration/Errors\",\r\n        icon: \"mdi mdi-emoticon-confused-outline\",\r\n    })\r\n    static async showDialog() {\r\n        router.navigate(\"#do=jassijs.ui.ErrorPanel\");\r\n    }\r\n    layout() {\r\n        var _this = this;\r\n        if (this.withControls) {\r\n            this.IDClear = new Button();\r\n            this.IDClear.tooltip = \"Clear log\";\r\n            this.IDClear.icon = \"mdi mdi-delete\";\r\n            this.IDClear.onclick(function () {\r\n                _this.clear();\r\n                errors.items = [];\r\n            });\r\n            this.IDClear.width = 35;\r\n            this.IDSearch = new Button();\r\n            this.IDSearch.tooltip = \"search errors\";\r\n            this.IDSearch.icon = \"mdi mdi-file-search-outline\";\r\n            this.IDSearch.onclick(function () {\r\n                _this.search();\r\n\r\n            });\r\n            this.IDToolbar = new Panel();\r\n            this.IDToolbar.width = \"99%\";\r\n\r\n            this.IDToolbar.add(this.IDClear);\r\n            this.IDToolbar.add(this.IDSearch);\r\n            this.IDToolbar.height = 20;\r\n            super.add(this.IDToolbar);\r\n        }\r\n        var value = Component.createHTMLElement('<div><font  size=\"2\"><div class=\"errorpanel\"></div></font></div>');\r\n        this.dom.appendChild(value);\r\n        this._container = this.dom.querySelector(\".errorpanel\");\r\n        if (this.withNewErrors)\r\n            this.registerError();\r\n        if (this.withLastErrors) {\r\n            //old Errors\r\n            for (var x = 0; x < errors.items.length; x++) {\r\n                this.addError(errors.items[x]);\r\n            }\r\n        }\r\n        if (window[\"jassijs_debug\"] === undefined)\r\n            window[\"jassijs_debug\"] = { variables: [] };\r\n\r\n    }\r\n    /**\r\n     * search Errors in code\r\n     **/\r\n    async search() {\r\n        var typescript = (await import(\"jassijs_editor/util/Typescript\")).mytypescript;\r\n        await typescript.initService();\r\n       \r\n        var all = await typescript.getDiagnosticsForAll();\r\n        \r\n        if (all.length === 0)\r\n            notify(\"no Errors found\", \"info\", { position: \"right\" });\r\n        for (var x = 0; x < all.length; x++) {\r\n            var diag = all[x];\r\n            var s = diag.file.fileName;\r\n            var pos = typescript.getLineAndCharacterOfPosition(diag.file.fileName, diag.start);\r\n            var href = window.location.origin;\r\n            var err = {\r\n                filename: diag.file.fileName,\r\n                lineno: pos.line,\r\n                colno: pos.character,\r\n                error: {\r\n\r\n                    message: diag.messageText,\r\n                    stack: \"\"//href + \"/\" + diag.file.fileName + \":\" + pos.line + \":\" + pos.character\r\n\r\n                }\r\n\r\n\r\n            }\r\n            Errors.errors.addError(err);\r\n        }\r\n\r\n    }\r\n    /**\r\n     * adds a new error\r\n     * @param {object} error - the error\r\n     */\r\n    async addError(error) {\r\n        var msg = \"\";\r\n        if (error.infoMsg !== undefined) {\r\n            msg = error.infoMsg + \"<br>\";\r\n        } else {\r\n            var sstack = \"\";\r\n            var m = error.error?.message;\r\n            if (!m)\r\n                m = \"\";\r\n            if (m.messageText)\r\n                m = m.messageText;\r\n            if (error.error) {\r\n                sstack = m.replaceAll(\":\", \"\") + \"(\" + error.filename + \":\" + error.lineno + \":\" + error.colno + \")\\n\";\r\n                if (error.error.stack !== undefined)\r\n                    sstack = sstack + error.error.stack;\r\n            }\r\n            if (error.reason !== undefined) {\r\n                sstack = error.reason.message + \":::\\n\";\r\n                if (error.reason.stack !== undefined)\r\n                    sstack = sstack + error.reason.stack;\r\n            }\r\n            var stack = sstack.split('\\n');\r\n            msg = \"\";\r\n            for (var i = 0; i < stack.length; i++) {\r\n                var line = stack[i];\r\n                if (line.indexOf(\".ts:\") > 0) {\r\n                    msg = msg + '<div>' + line.substring(0, line.lastIndexOf(\"(\")) +\r\n                        '<a href=\"#\" onclick=\"jassijs.ErrorPanel.prototype.onsrclink(this);\">' +\r\n                        line.substr(line.lastIndexOf(\"(\") + 1, line.length - 1) + '</a>)' + \"\" + '</div>';\r\n\r\n                } else {\r\n                    if (line.split(\":\").length < 4)\r\n                        continue;//edge and chrome insert message in stack->ignore\r\n                    var poshttp = line.indexOf(\"http\");\r\n                    var url: string = await this._convertURL(line.substring(poshttp, line.length));\r\n                    line = line.replace(\"\\n\", \"\");\r\n                    var ident = (i === 0 ? \"0\" : \"20\");\r\n                    msg = msg + '<div style=\"text-indent:' + ident + 'px;\">' + line.substring(0, poshttp) +\r\n                        '<a href=\"#\" onclick=\"jassijs.ErrorPanel.prototype.onsrclink(this);\">' +\r\n                        url + '</a>' + (line.endsWith(\")\") ? \")\" : \"\") + '</div>';\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n        var value = Component.createHTMLElement('<span>' + msg + '</span>');\r\n        this._container.prepend(value);\r\n        //  this.dom.appendChild(value);\r\n    }\r\n    async _convertURL(url: string) {\r\n        var wurl = window.location.href.split(\"/index.html\")[0];\r\n        if (url.endsWith(\")\"))\r\n            url = url.substring(0, url.length - 1);\r\n        var wurl = url.substring(0, url.indexOf(\"#\"));\r\n\r\n\r\n        var aurl = url.split(\":\");\r\n        if (aurl.length >= 3) {\r\n            var line = aurl[aurl.length - 2];\r\n            var col = aurl[aurl.length - 1];\r\n            var u = url.substring(0, url.length - 2 - line.length - col.length);\r\n            if (line === \"\" || col === \"\" || u === \"\")\r\n                return url;\r\n            var ismodul = false;\r\n            for (var mod in config.modules) {\r\n                if (config.modules[mod] === u)\r\n                    ismodul = true;\r\n            }\r\n            if (u.indexOf(\"/js/\") > -1 || ismodul) {\r\n                try {\r\n                    //@ts-ignore\r\n                    var TSSourceMap = (await import(\"jassijs_editor/util/TSSourceMap\")).TSSourceMap;\r\n                var map=new TSSourceMap();\r\n                    var pos = await map.getLineFromJS(u, Number(line), Number(col));\r\n                    if (pos) {\r\n                        return pos.source.replace(\"../client/\", \"\").replaceAll(\"../\", \"\").replace(\"$temp\", \"\") +\r\n                            \":\" + pos.line + \":\" + pos.column;\r\n                    }\r\n                } catch (err) {\r\n                    return url;\r\n                }\r\n            }\r\n\r\n        }\r\n        /* if (!url.startsWith(\"/\"))\r\n             url = \"/\" + url;\r\n         if (url.startsWith(\"/js\") && url.indexOf(\".js\") > -1) {\r\n             var aurl = url.substring(1).split(\":\");\r\n             var newline = await new TSSourceMap().getLineFromJS(aurl[0], Number(aurl[1]), Number(aurl[2]));\r\n             url = aurl[0].substring(3).replace(\".js\", \".ts\") + \":\" + newline + \":\" + aurl[2];\r\n             if (url.startsWith(\"tmp/\"))\r\n                 url = url.substring(4);\r\n         }*/\r\n        return url;\r\n    }\r\n    /**\r\n     * deletes all errors\r\n     */\r\n    clear() {\r\n        while (this._container.firstChild) {\r\n            this._container.removeChild(this._container.firstChild);\r\n        }\r\n    }\r\n    registerError() {\r\n        var _this = this;\r\n        errors.onerror(function (err) {\r\n            _this.addError(err);\r\n\r\n        }, this._id);\r\n    }\r\n    unregisterError() {\r\n        errors.offerror(this._id);\r\n    }\r\n    destroy() {\r\n        this.unregisterError();\r\n        super.destroy();\r\n        //this._container\r\n    }\r\n\r\n    /*  set value(value){ //the Code\r\n          //this.table.value=value;\r\n      }\r\n      get value(){\r\n          //return this.table.value;\r\n      }*/\r\n}\r\nexport function test2() {\r\n    var ret = new ErrorPanel();\r\n    return ret;\r\n};\r\n\r\n\r\n\r\nErrorPanel.prototype[\"onsrclink\"] = function (param) {\r\n    var data = param.text.split(\":\");\r\n    if (data[1] === \"\")\r\n        return;\r\n    router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + data[0] + \"&line=\" + data[1]);\r\n    // jassijs_editor.CodeEditor.open(param.text);\r\n}\r\njassijs.ErrorPanel = ErrorPanel;\r\n","/// <amd-dependency path=\"vs/editor/editor.main\" name=\"_monaco\"/>\r\n\r\n/*\r\n/// <amd-dependency path=\"vs/editor/editor.main\" name=\"_monaco\"/>\r\n/// <amd-dependency path=\"vs/language/typescript/tsWorker\" name=\"tsWorker\"/>\r\n*/\r\ndeclare var _monaco;\r\ndeclare var tsWorker;\r\ndeclare var require;\r\n\r\nexport { };\r\n\r\n\r\n","\r\nimport modul from \"jassijs_editor/modul\";\r\n//hack to make autocompletion for autoimports from other modules\r\n//let monacopath=\"https://cdn.jsdelivr.net/npm/monaco-editor@0.21.2/dev\";\r\nlet monacopath = modul.require.paths.vs.replace(\"/vs\", \"\");\r\nexport { };\r\nconst channel = new MessageChannel();\r\n\r\n\r\nasync function downloadFile(file: string) {\r\n    return await new Promise((resolve, reject) => {\r\n        var xmlHttp = new XMLHttpRequest();\r\n        xmlHttp.open('GET', file.replace(\"./client\", \"\"), true);\r\n\r\n        xmlHttp.onreadystatechange = function () {\r\n            if (xmlHttp.readyState == 4) {\r\n                if (xmlHttp.status === 200)\r\n                    resolve(xmlHttp.responseText);\r\n                else\r\n                    resolve(undefined);\r\n            };\r\n        };\r\n        xmlHttp.onerror = (err) => {\r\n            resolve(undefined);\r\n        }\r\n        xmlHttp.send(null);\r\n\r\n    })\r\n};\r\n\r\nasync function test(){\r\n\r\n    var s=<string>await downloadFile(monacopath+\"/vs/language/typescript/tsWorker.js?1\");\r\n    /*async getCompletionsAtPosition(fileName, position) {\r\n        if (fileNameIsLib(fileName)) {\r\n          return void 0;\r\n        }\r\n        return this._languageService.getCompletionsAtPosition(fileName, position, void 0);\r\n      }*/\r\n    s=s.replace(\"async getCompletionsAtPosition(fileName, position)\",\"async getCompletionsAtPosition(fileName, position,settings)\");\r\n    s=s.replace(\"this._languageService.getCompletionsAtPosition(fileName, position, void 0);\",\"this._languageService.getCompletionsAtPosition(fileName, position, settings);\");\r\n    s=s.replace(\"var factory2 =\",\"var factory2 = globalThis.tsfactory =\")\r\n    navigator.serviceWorker.controller.postMessage({\r\n        type: 'SAVE_FILE',\r\n        filename:(monacopath+\"/vs/language/typescript/tsWorker.js\"),\r\n        code: s\r\n    }, [channel.port2]);\r\n }\r\ntest();","\r\n\r\n/// <amd-dependency path=\"vs/language/typescript/tsWorker\" name=\"tsWorker\"/>\r\n//// <amd-module name=\"jassijs_editor_ext_typescriptservices\"/>\r\nvar ts=window[\"ts\"];\r\nexport default ts;","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Tree } from \"jassijs/ui/Tree\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { Textbox } from \"jassijs/ui/Textbox\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { $ActionProvider, $Action, Actions } from \"jassijs/base/Actions\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { Menu } from \"jassijs/ui/Menu\";\r\nimport { MenuItem } from \"jassijs/ui/MenuItem\";\r\n\r\nimport { ContextMenu } from \"jassijs/ui/ContextMenu\";\r\nimport { CSSProperties } from \"jassijs/ui/CSSProperties\";\r\nimport windows from \"jassijs/base/Windows\";\r\nimport { config } from \"jassijs/remote/Config\";\r\n\r\nimport { Reloader } from \"jassijs/util/Reloader\";\r\n//drag from Desktop https://www.html5rocks.com/de/tutorials/file/dndfiles/\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs_editor.ui.FileActions\")\r\nexport class FileActions {\r\n\r\n    @$Action({\r\n        name: \"New/File\",\r\n        icon: \"mdi mdi-file\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[], fileName: string = undefined, code: string = \"\", open: boolean = false) {\r\n        if (all.length === 0 || !all[0].isDirectory())\r\n            return;\r\n        var path = all[0].fullpath;\r\n        if (fileName === undefined) {\r\n            var res = await OptionDialog.show(\"Enter file name:\", [\"ok\", \"cancel\"], undefined, true, \".ts\");\r\n            if (res.button === \"ok\" && res.text !== all[0].name) {\r\n                fileName = res.text;\r\n            } else\r\n                return;\r\n        }\r\n        //console.log(\"create \" + fileName);\r\n        var key = FileExplorer.instance?.tree?.getKeyFromItem(all[0]);\r\n        var newfile = path + (path===\"\"?\"\":\"/\") + fileName;\r\n\r\n        var ret = await new Server().createFile(newfile, code);\r\n        var newkey = path + (path===\"\"?\"\":\"|\")+ fileName;\r\n        if (ret !== \"\") {\r\n            alert(ret);\r\n            return;\r\n        }\r\n        try {\r\n            await FileExplorer.instance?.refresh();\r\n            await FileExplorer.instance?.tree.activateKey(newkey);\r\n            if (open)\r\n                router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + newkey.replaceAll(\"|\", \"/\"));\r\n        } catch (err) {\r\n            debugger;\r\n        }\r\n    }\r\n    @$Action({\r\n        name: \"Download\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async download(all: FileNode[]) {\r\n\r\n        var path = all[0].fullpath;\r\n        var byteCharacters = atob(<string>await new Server().zip(path));\r\n        const byteNumbers = new Array(byteCharacters.length);\r\n        for (let i = 0; i < byteCharacters.length; i++) {\r\n            byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n        }\r\n        const byteArray = new Uint8Array(byteNumbers);\r\n        // If you want to use the image in your DOM:\r\n        var blob = new Blob([byteArray], { type: \"application/zip\" });\r\n        var url = URL.createObjectURL(blob);\r\n        var link = document.createElement('a');\r\n        document.body.appendChild(link);\r\n        link.href = url;\r\n        link.click();\r\n        link.remove();\r\n    }\r\n\r\n    @$Action({\r\n        name: \"New/Folder\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFolder(all: FileNode[], filename: string = undefined) {\r\n        if (all.length === 0 || !all[0].isDirectory())\r\n            return;\r\n        var path = all[0].fullpath;\r\n\r\n        var res;\r\n        if (filename) {\r\n            res = { button: \"ok\", text: filename };\r\n        } else\r\n            res = await OptionDialog.show(\"Enter file name:\", [\"ok\", \"cancel\"], undefined, true, \"\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n           // console.log(\"create Folder\" + res.text);\r\n            var key = FileExplorer.instance?.tree.getKeyFromItem(all[0]);\r\n            var newfile = path + (path===\"\"?\"\":\"/\") + res.text;\r\n            var ret = await new Server().createFolder(newfile);\r\n            var newkey = path + (path===\"\"?\"\":\"|\") + res.text;\r\n            if (ret !== \"\") {\r\n                alert(ret);\r\n                return;\r\n            }\r\n            await FileExplorer.instance?.refresh();\r\n            FileExplorer.instance?.tree.activateKey(newkey);\r\n        }\r\n\r\n    }\r\n    @$Action({\r\n        name: \"New/Module\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].name === \"client\" && all[0].fullpath === \"\";\r\n        }\r\n    })\r\n    static async newModule(all: FileNode[]) {\r\n        if (all.length === 0 || !all[0].isDirectory())\r\n            return;\r\n        var path = all[0].fullpath;\r\n\r\n        var res = await OptionDialog.show(\"Enter file name:\", [\"ok\", \"cancel\"], undefined, true, \"\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n            var smodule = res.text.toLocaleLowerCase();\r\n            if (config.modules[smodule]) {\r\n                alert(\"modul allready exists\");\r\n                return;\r\n            }\r\n            var key = FileExplorer.instance.tree.getKeyFromItem(all[0]);\r\n\r\n            var ret = await new Server().createModule(smodule);\r\n            var newkey = path + (path===\"\"?\"\":\"|\") + smodule;\r\n            if (ret !== \"\") {\r\n                alert(ret);\r\n                return;\r\n            } else {\r\n                config.modules[smodule] = smodule;\r\n            }\r\n            await FileExplorer.instance.refresh();\r\n            FileExplorer.instance.tree.activateKey(newkey);\r\n        }\r\n\r\n    }\r\n    @$Action({ name: \"Delete\" })\r\n    static async dodelete(all: FileNode[], withwarning = true) {\r\n        var s = \"\";\r\n        all.forEach((node) => {\r\n            s = s + \"\" + node.fullpath + \"<br/>\";\r\n        })\r\n        var res;\r\n        if (withwarning) {\r\n            res = await OptionDialog.show(\"Delete this?<br/>\" + s, [\"ok\", \"cancel\"], undefined, true);\r\n        }\r\n        if (!withwarning || (res.button === \"ok\" && res.text !== all[0].name)) {\r\n            var ret = await new Server().delete(all[0].fullpath);\r\n            if (ret !== \"\") {\r\n                alert(ret);\r\n                return;\r\n            }\r\n            var key = FileExplorer.instance?.tree.getKeyFromItem(all[0].parent);\r\n            await FileExplorer.instance?.refresh();\r\n            FileExplorer.instance?.tree.activateKey(key);\r\n        }\r\n    }\r\n    private static async  reloadFilesystem(enableLocalFS) {\r\n        await new Promise((resolve)=>{\r\n            config.serverrequire([\"jassijs/server/NativeAdapter\",\"jassijs/server/LocalFS\",\"jassijs/server/FS\"],(native,localFS,FS)=>{\r\n                if(enableLocalFS){\r\n                native.myfs=new localFS.LocalFS();\r\n                native.exists=localFS.exists;\r\n                }else{\r\n                    native.myfs=new FS.FS();\r\n                    native.exists=FS.exists;\r\n                        \r\n                }\r\n                    resolve(undefined);\r\n               \r\n            })\r\n    \r\n        });\r\n    } \r\n    @$Action({ name: \"Map local folder\",isEnabled:(entr)=>entr[0].name===\"client\"&&config.serverrequire!==undefined})\r\n    static async mapLocalFolder(all: FileNode[], foldername = undefined) {\r\n        await new Promise((resolve)=>{\r\n            config.serverrequire([\"jassijs/server/LocalFS\"],(localFS)=>{\r\n                localFS.createHandle().then((res)=>{\r\n                    resolve(undefined);\r\n                })\r\n            })\r\n    \r\n        });\r\n        config.isLocalFolderMapped=true;\r\n        await FileActions.reloadFilesystem(true);\r\n        await FileActions.refresh(all);\r\n    }\r\n    @$Action({ name: \"Close local folder\",isEnabled:(entr)=>entr[0].name===\"client\"&&config.isLocalFolderMapped})\r\n    static async closeLocalFolder(all: FileNode[], foldername = undefined) {\r\n        await new Promise((resolve)=>{\r\n            config.serverrequire([\"jassijs/server/LocalFS\"],(localFS)=>{\r\n                localFS.deleteHandle().then((res)=>{\r\n                    resolve(undefined);\r\n                })\r\n            })\r\n    \r\n        });\r\n        config.isLocalFolderMapped=true;\r\n        await FileActions.reloadFilesystem(false);\r\n        await FileActions.refresh(all);\r\n    }\r\n    @$Action({ name: \"Rename\" })\r\n    static async rename(all: FileNode[], foldername = undefined) {\r\n        if (all.length !== 1)\r\n            alert(\"only one file could be renamed\");\r\n        else {\r\n            var res;\r\n            if (foldername) {\r\n                res = { button: \"ok\", text: foldername };\r\n            } else\r\n                res = await OptionDialog.show(\"Enter new name:\", [\"ok\", \"cancel\"], undefined, true, all[0].name);\r\n            if (res.button === \"ok\" && res.text !== all[0].name) {\r\n                //console.log(\"rename \" + all[0].name + \" to \" + res.text);\r\n                var key = FileExplorer.instance?.tree.getKeyFromItem(all[0]);\r\n                var path = all[0].parent !== undefined ? all[0].parent.fullpath : \"\";\r\n                var newfile = path + (path===\"\"?\"\":\"/\") + res.text;\r\n                var ret = await new Server().rename(all[0].fullpath, newfile);\r\n                var newkey = key?.replace(all[0].name, res.text);\r\n                if (ret !== \"\") {\r\n                    alert(ret);\r\n                    return;\r\n                }\r\n                if (!all[0].isDirectory()){\r\n\r\n                    let tss = (await import(\"jassijs_editor/util/\"+\"Typescript\")).default;//modul jassijs could not comp\r\n                    await tss?.renameFile(all[0].fullpath, newfile);\r\n                }\r\n                await FileExplorer.instance?.refresh();\r\n                FileExplorer.instance?.tree.activateKey(newkey);\r\n            }\r\n        }\r\n    }\r\n    @$Action({ name: \"Refresh\" })\r\n    static async refresh(all: FileNode[]) {\r\n        var key = FileExplorer.instance.tree.getKeyFromItem(all[0]);\r\n        await FileExplorer.instance.refresh();\r\n        FileExplorer.instance.tree.activateKey(key);\r\n    }\r\n    @$Action({\r\n        name: \"Open\", isEnabled: function (all: FileNode[]): boolean {\r\n            return !all[0].isDirectory();\r\n        }\r\n    })\r\n    static async open(all: FileNode[]) {\r\n        var node: FileNode = all[0];\r\n        if (node.isDirectory())\r\n            return;\r\n        router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + node.fullpath);\r\n    }\r\n\r\n}\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs.ui.FileExplorer\")\r\nexport class FileExplorer extends Panel {\r\n    tree: Tree;\r\n    _files: any;\r\n    search: Textbox;\r\n    static instance: FileExplorer = undefined;\r\n    constructor() {\r\n        super();\r\n        FileExplorer.instance = this;\r\n        //this.maximize();\r\n        this.dom.style.width=\"calc(100% - 8px)\";\r\n        this.dom.style.height=\"calc(100% - 25px)\";//why 25????\r\n        this.tree = new Tree();\r\n        this.search = new Textbox();\r\n        this.layout();\r\n        this.tree.propStyle = node => { return this.getStyle(node) };\r\n    }\r\n    @$Action({\r\n        name: \"Windows/Development/Files\",\r\n        icon: \"mdi mdi-file-tree\",\r\n    })\r\n    static async show() {\r\n        if (windows.contains(\"Files\"))\r\n            var window = windows.show(\"Files\");\r\n        else\r\n            windows.addLeft(new FileExplorer(), \"Files\");\r\n    }\r\n    getStyle(node: FileNode): CSSProperties {\r\n        var ret: CSSProperties = undefined;\r\n        if (node.flag?.indexOf(\"fromMap\") > -1) {\r\n            ret = {\r\n                color: \"green\"\r\n            }\r\n        }\r\n        if (node.flag?.indexOf(\"module\") > -1) {\r\n            ret = {\r\n                color: \"blue\"\r\n            }\r\n        }\r\n\r\n        return ret;\r\n    }\r\n    async refresh() {\r\n        let root = (await new Server().dir());\r\n        root.fullpath = \"\";\r\n        root.name = \"client\";\r\n        //flag modules\r\n        for (let x = 0; x < root.files.length; x++) {\r\n\r\n            if (config.modules[root.files[x].name] !== undefined) {\r\n                root.files[x].flag = (root.files[x].flag?.length > 0) ? \"module\" : root.files[x].flag + \" module\";\r\n            }\r\n        }\r\n        var keys = this.tree.getExpandedKeys();\r\n        this.tree.items = [root];\r\n        if (keys.indexOf(\"client\") === -1)\r\n            keys.push(\"client\");\r\n        await this.tree.expandKeys(keys);\r\n\r\n    }\r\n    async layout() {\r\n        var _this = this;\r\n        this.tree.width = \"100%\"\r\n        this.tree.height = \"100%\";\r\n        super.add(this.search);\r\n        super.add(this.tree);\r\n        this.tree.propDisplay = \"name\";\r\n        this.tree.propChilds = \"files\";\r\n        let context = new ContextMenu();\r\n        this.tree.contextMenu = context;\r\n        context.includeClassActions = true;\r\n        this.refresh();\r\n        this.add(this.tree);\r\n        // this._files.files;\r\n        this.tree.onclick(function (evt) {\r\n\r\n            if (evt.data !== undefined) {\r\n                FileActions.open([evt.data]);\r\n\r\n            }\r\n        });\r\n        //@ts-ignore\r\n        this.dom.style.flow=\"visible\";\r\n        this.search.onkeydown(function (evt) {\r\n            window.setTimeout(() => {\r\n                _this.tree.filter(<string>_this.search.value);\r\n                if (evt.code === \"Enter\") {\r\n                    //_this.tree.\r\n                }\r\n            }, 100);\r\n        });\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\nexport function test() {\r\n    var exp = new FileExplorer();\r\n    exp.height = 100;\r\n    return exp;\r\n\r\n}\r\n\r\n\r\n","import { ClipboardData, ComponentDesigner } from \"jassijs_editor/ComponentDesigner\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Component, TextComponent, createComponent, HTMLComponent, jc } from \"jassijs/ui/Component\";\r\nimport { Container } from \"jassijs/ui/Container\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport { Tools } from \"jassijs/util/Tools\";\r\nimport { Textbox } from \"jassijs/ui/Textbox\";\r\nimport \"jassijs/ext/spectrum\";\r\nimport { Select } from \"jassijs/ui/Select\";\r\nimport { ComponentDescriptor } from \"jassijs/ui/ComponentDescriptor\";\r\n@$Class(\"jassijs_editor.HtmlDesigner\")\r\nexport class HtmlDesigner extends ComponentDesigner {\r\n    boldButton: Button;\r\n    italicButton: Button;\r\n    underlineButton: Button;\r\n    colorIcon: Textbox;\r\n    bgcolorIcon: Textbox;\r\n    fontSizeButton: HTMLComponent;\r\n    constructor() {\r\n        super({});\r\n        var _this = this;\r\n        this._designPlaceholder.dom.addEventListener(\"keydown\", (ev => _this.keydown(ev)));\r\n        this._designPlaceholder.dom.contentEditable = \"true\";\r\n        this._designPlaceholder.dom.addEventListener(\"drop\", (ev) => _this.ondrop(ev));\r\n        this.onDesignedComponentChanged((component) => _this.updateContentEditable(component));\r\n        this.dom.onclick = ((ev: any) => _this.onclick(ev));\r\n    }\r\n    private onclick(ev) {\r\n        if (!ev.target.classList.contains(\"_dummy_\")) {\r\n            this.lastSelectedDummy.component = undefined;\r\n            this.lastSelectedDummy.pre = false;\r\n        }\r\n        return undefined;\r\n    }\r\n    private getParentList(node: Node, list: Node[]) {\r\n        list.push(node);\r\n        if (node !== <any>document)\r\n            this.getParentList(<any>node.parentNode, list);\r\n    }\r\n    private htmlToClipboardData(data: string) {\r\n        var nodes = Component.createHTMLElement(\"<span>\" + data + \"</span>\");\r\n        var toInsert = [];\r\n        var textvor;\r\n        var textnach;\r\n        var textpositions: any = {};\r\n        for (var x = 0; x < nodes.childNodes.length; x++) {\r\n            var nd: HTMLElement = <any>nodes.childNodes[x];\r\n            if (nd.classList.contains(\"jeditablecomponent\")) {\r\n                toInsert.push(document.getElementById(nd.id)._this);\r\n            }\r\n            else {\r\n                var text = nd.innerText;\r\n                textpositions[x] = nd.innerText;\r\n            }\r\n        }\r\n        var clip: ClipboardData = JSON.parse(this.componentsToString(toInsert));\r\n        var counter = 1000;\r\n        for (var p in textpositions) {\r\n            while (clip.allChilds.indexOf(\"text\" + counter) !== -1) {\r\n                counter++;\r\n            }\r\n            var varnamepre = \"text\" + counter;\r\n            clip.allChilds.push(varnamepre);\r\n            clip.varNamesToCopy.splice(parseInt(p), 0, varnamepre);\r\n            clip.properties[varnamepre] = { \"text\": ['\"' + textpositions[parseInt(p)] + '\"'], \"_new_\": ['\"' + textpositions[parseInt(p)] + '\"'] };\r\n            clip.types[varnamepre] = \"jassijs.ui.TextComponent\";\r\n        }\r\n        return clip;\r\n    }\r\n    select(nodeStart: Node, posStart: number, nodeEnd: Node = undefined, posEnd: number = undefined) {\r\n        var newSel = getSelection();\r\n        var range = document.createRange();\r\n        range.setStart(nodeStart, posStart);\r\n        if (nodeEnd !== undefined)\r\n            range.setEnd(nodeEnd, posEnd);\r\n        newSel.removeAllRanges();\r\n        newSel.addRange(range);\r\n        return range;\r\n    }\r\n    ondrop(ev: DragEvent) {\r\n        var _this = this;\r\n        ev.preventDefault();\r\n        var selection = document.getSelection();\r\n        let anchorNodeToDel = selection.anchorNode;\r\n        let anchorOffsetToDel = selection.anchorOffset;\r\n        let focusNodeToDel = selection.focusNode;\r\n        let focusOffsetToDel = selection.focusOffset;\r\n        var data = ev.dataTransfer.getData(\"text\");\r\n        var range: Range;\r\n        if (document.caretRangeFromPoint) {\r\n            // edge, chrome, android\r\n            range = document.caretRangeFromPoint(ev.clientX, ev.clientY);\r\n        }\r\n        else {\r\n\r\n            // firefox\r\n            //@ts-ignore\r\n            range = this.select(ev.rangeParent, ev.rangeOffse, ev.rangeParent, ev.rangeOffse);\r\n        }\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);\r\n        let anchorNode = selection.anchorNode;\r\n        let anchorOffset = selection.anchorOffset;\r\n        let focusNode = selection.focusNode;\r\n        let focusOffset = selection.focusOffset;\r\n        var position = anchorNode.compareDocumentPosition(focusNode);\r\n        if (!position && anchorOffset > focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            var k = focusNode;\r\n            focusNode = focusNode;\r\n            focusNode = k;\r\n            var k1 = anchorOffset;\r\n            anchorOffset = focusOffset;\r\n            focusOffset = k1;\r\n        }\r\n        console.log(\"a\" + anchorOffset);\r\n        if (data.indexOf('\"createFromType\":') > -1) {\r\n            var toCreate: {\r\n                createFromType: string;\r\n                createFromParam: string;\r\n            } = <any>JSON.parse(data);\r\n            var cl = classes.getClass(toCreate.createFromType);\r\n            var newComponent = new cl();\r\n            var last = _this.splitText(selection)[1];\r\n            var text2 = this.createComponent(classes.getClassName(newComponent), newComponent, undefined, undefined, last._parent, last, true);\r\n            //            _this.insertComponent(newComponent, selection);\r\n        }\r\n        else if (data.indexOf('\"varNamesToCopy\":') > -1) {\r\n            var clip: ClipboardData = JSON.parse(data);\r\n            var svar = clip.varNamesToCopy[0];\r\n            var comp = _this._propertyEditor.getObjectFromVariable(svar);\r\n            var last = _this.splitText(selection)[1];\r\n            this.moveComponent(comp, undefined, undefined, comp._parent, last._parent, last);\r\n            last.domWrapper.parentNode.insertBefore(comp.domWrapper, last.domWrapper);\r\n        }\r\n        else {\r\n            data = ev.dataTransfer.getData(\"text/html\");\r\n            var clip = this.htmlToClipboardData(data);\r\n            var nodes = Component.createHTMLElement(\"<span>\" + data + \"</span>\");\r\n            if (anchorNode === anchorNodeToDel && anchorOffsetToDel < anchorOffset) {\r\n                anchorOffset -= (<any>nodes.childNodes[0]).innerText.length; //removing the selection changes the insertposition\r\n            }\r\n            this.select(anchorNodeToDel, anchorOffsetToDel, focusNodeToDel, focusOffsetToDel);\r\n            var newSel = getSelection();\r\n            this.removeNodes(newSel);\r\n            range = this.select(anchorNode, anchorOffset);\r\n            selection.removeAllRanges();\r\n            selection.addRange(range);\r\n            var selection = getSelection();\r\n            var last = _this.splitText(selection)[1];\r\n            this.pasteComponents(JSON.stringify(clip), last._parent, last).then(() => {\r\n                _this._propertyEditor.updateParser();\r\n                _this.codeHasChanged();\r\n                _this.editDialog(true);\r\n            });\r\n            //this.removeNodes(anchorNodeToDel,anchorOffsetToDel,focusNodeToDel,focusOffsetToDel);\r\n            // var fneu=anchorNode.textContent.substring(0,anchorOffset)+toInsert[0]+anchorNode.textContent.substring(anchorOffset);\r\n            //this.changeText(anchorNode, fneu);                    \r\n        }\r\n    }\r\n    async paste() {\r\n        var data = await navigator.clipboard.read();\r\n        var sel = document.getSelection();\r\n        var comp;\r\n        if (sel.anchorNode == null)\r\n            comp = this._propertyEditor.value;\r\n        else\r\n            comp = this.splitText(sel)[1];\r\n        if (data[0].types.indexOf(\"text/html\") !== -1) {\r\n            var data2 = await data[0].getType(\"text/html\");\r\n            var text = await data2.text();\r\n            var clip = this.htmlToClipboardData(text);\r\n            if (this.lastSelectedDummy.component === comp && !this.lastSelectedDummy.pre)\r\n                await this.pasteComponents(JSON.stringify(clip), comp); //insert in Container at the End\r\n            else\r\n                await this.pasteComponents(JSON.stringify(clip), comp._parent, comp);\r\n        }\r\n        else {\r\n            this._propertyEditor.value = comp;\r\n            return await super.paste();\r\n        }\r\n        this._propertyEditor.updateParser();\r\n        this.codeHasChanged();\r\n        this.editDialog(true);\r\n        //  alert(8);\r\n        // debugger; \r\n        //return await super.paste(); \r\n    }\r\n    async copy(): Promise<string> {\r\n        var sel = document.getSelection();\r\n        if (sel.focusNode === sel.anchorNode && sel.focusOffset === sel.anchorOffset)\r\n            return await super.copy();\r\n        document.execCommand(\"copy\");\r\n        return await navigator.clipboard.readText();\r\n    }\r\n    updateContentEditable(component: Component) {\r\n        var allComponents: Component[] = [component.dom._this];\r\n        if (component.dom._thisOther)\r\n            allComponents.push(...component.dom._thisOther);\r\n        var varname = undefined;\r\n        for (var curComponent = 0; curComponent < allComponents.length; curComponent++) {\r\n            var comp = <Container>allComponents[curComponent];\r\n            varname = this._codeEditor.getVariableFromObject(comp);\r\n            if (varname !== undefined)\r\n                break;\r\n            //        var desc = ComponentDescriptor.describe(comp.constructor);\r\n            //      var fnew = desc.findField(\"children\");\r\n            for (var x = 0; x < comp._components?.length; x++) {\r\n                this.updateContentEditable(comp._components[x]);\r\n            }\r\n        }\r\n        if (varname === undefined) {\r\n            component.dom.contentEditable = \"false\";\r\n        }\r\n        else {\r\n            component.dom.contentEditable = \"true\";\r\n        }\r\n    }\r\n    registerKeys() {\r\n        //in keydown(...)\r\n    }\r\n    /* private deleteNodeBetween(node1: Node, node2: Node) {\r\n         var list1 = [];\r\n                                        var list2 = [];\r\n                                        this.getParentList(node1, list1);\r\n                                        this.getParentList(node2, list2);\r\n                                        var pos = 0;\r\n                                        var test = list1[pos];\r\n                                        while (list2.indexOf(list1[pos]) === -1) {\r\n                                            pos++;\r\n         }\r\n\r\n                                        var par1 = list1[pos];\r\n                                        var par2 = list2[list2.indexOf(list1[pos]) ];\r\n                                        var components = [];\r\n                                        if(node1===node2){\r\n                                            components.push(node1._this);\r\n         }else{\r\n             var todel = par1.nextSibling;\r\n\r\n                                        var components = [];\r\n                                        while (todel !== par2) {\r\n                 var del = todel;\r\n                                        todel = todel.nextSibling;\r\n                                        components.push(del._this);\r\n                 // del.remove();\r\n             }\r\n         }\r\n                                        var s = this.componentsToString(components);\r\n                                        this.deleteComponents(s);\r\n     }*/\r\n    private deleteNodeBetween(selection: Selection) {\r\n        var range = selection.getRangeAt(0);\r\n        var parent = range.commonAncestorContainer;\r\n        var contains = false;\r\n        var components: Component[] = [];\r\n        for (var x = 0; x < parent.childNodes.length; x++) {\r\n            var node = parent.childNodes[x];\r\n            //@ts-ignore\r\n            if (node._this === selection.anchorNode._this || node._this === selection.focusNode._this || selection.containsNode(node)) {\r\n                contains = true;\r\n            }\r\n            else {\r\n                contains = false;\r\n            }\r\n            if (contains) {\r\n                components.push((<any>node)._this);\r\n            }\r\n        }\r\n        //@ts-ignore\r\n        document.getSelection().modify(\"move\", \"left\", \"character\");\r\n        var a = getSelection().anchorNode;\r\n        var apos = getSelection().anchorOffset;\r\n        setTimeout(() => {\r\n            if (a.parentNode == null)\r\n                return;\r\n            this.select(a, apos); //removed position\r\n        }, 10);\r\n        //@ts-ignore\r\n        if (components.length > 0 && components[0].dom.nodeType === components[0].dom.TEXT_NODE)\r\n            components.splice(0, 1);\r\n        if (components.length > 0 && components[components.length - 1].dom.nodeType === components[components.length - 1].dom.TEXT_NODE)\r\n            components.splice(components.length - 1, 1);\r\n        var s = this.componentsToString(components);\r\n        console.log(components);\r\n        this.deleteComponents(s);\r\n    }\r\n    protected wrapTextNodeIfNeeded(found: Node) {\r\n        var parent = found.parentNode;\r\n        if (parent.childNodes.length !== 1) {\r\n            //no wrap\r\n            var textComp = (<any>found)._this;\r\n            var newSpan = new HTMLComponent({ tag: \"span\" });\r\n            var span = this.createComponent(classes.getClassName(newSpan), newSpan, undefined, undefined, textComp._parent, textComp, false);\r\n            var varspan = this.codeEditor.getVariableFromObject(span);\r\n            this._propertyEditor.setPropertyInCode(\"tag\", \"\\\"span\\\"\", true, varspan);\r\n            this.moveComponent(textComp, undefined, undefined, textComp._parent, span, undefined);\r\n            (<Container>span).add(textComp);\r\n            parent = span.__dom;\r\n        }\r\n        return parent;\r\n    }\r\n    bold() {\r\n        this.setStyle(\"bold\");\r\n    }\r\n    italic() {\r\n        this.setStyle(\"italic\");\r\n    }\r\n    underline() {\r\n        this.setStyle(\"underline\");\r\n    }\r\n    /**\r\n     * if user select lastnode to firstnode\r\n     */\r\n    private reverseSelectionIfNeeded() {\r\n        var sel = getSelection();\r\n        var anchorNode = sel.anchorNode;\r\n        var anchorOffset = sel.anchorOffset;\r\n        var focusNode = sel.focusNode;\r\n        var focusOffset = sel.focusOffset;\r\n        var position = anchorNode.compareDocumentPosition(focusNode);\r\n        if (!position && anchorOffset > focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            var k = focusNode;\r\n            anchorNode = focusNode;\r\n            focusNode = k;\r\n            var k1 = anchorOffset;\r\n            anchorOffset = focusOffset;\r\n            focusOffset = k1;\r\n            this.select(anchorNode, anchorOffset, focusNode, focusOffset);\r\n        }\r\n    }\r\n    setStyle(style: string, value = undefined): Component[] {\r\n        this.reverseSelectionIfNeeded();\r\n        var sel = getSelection();\r\n        var anchorNode = sel.anchorNode;\r\n        var anchorOffset = sel.anchorOffset;\r\n        var focusNode = sel.focusNode;\r\n        var focusOffset = sel.focusOffset;\r\n        var position = anchorNode.compareDocumentPosition(focusNode);\r\n        if (!position && anchorOffset > focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            var k = focusNode;\r\n            anchorNode = focusNode;\r\n            focusNode = k;\r\n            var k1 = anchorOffset;\r\n            anchorOffset = focusOffset;\r\n            focusOffset = k1;\r\n            this.select(anchorNode, anchorOffset, focusNode, focusOffset);\r\n            var sel = document.getSelection();\r\n        }\r\n        var container = sel.getRangeAt(0).commonAncestorContainer;\r\n        if (container.nodeType === container.TEXT_NODE)\r\n            container = container.parentNode;\r\n        var allModified: Component[] = [];\r\n        for (var x = 0; x < container.childNodes.length; x++) {\r\n            var child = container.childNodes[x];\r\n            if ((<HTMLElement>child).tagName === \"BR\" || (<HTMLElement>child).tagName === \"br\")\r\n                continue;\r\n            var found = undefined;\r\n            if (sel.containsNode(child)) {\r\n                found = child;\r\n            }\r\n            if (child.contains(anchorNode) || child === anchorNode) {\r\n                if (anchorOffset !== 0) {\r\n                    var samenode = anchorNode === focusNode;\r\n                    if (child === anchorNode)\r\n                        x++;\r\n                    var texts = this.splitText(sel);\r\n                    anchorNode = texts[1].dom;\r\n                    if (allModified.indexOf(texts[0]) === -1)\r\n                        allModified.push(texts[0]);\r\n                    if (allModified.indexOf(texts[1]) === -1)\r\n                        allModified.push(texts[1]);\r\n                    if (anchorNode.nodeType !== anchorNode.TEXT_NODE) { //textnode is wrapped\r\n                        anchorNode = anchorNode.childNodes[0];\r\n                    }\r\n                    if (samenode) {\r\n                        focusNode = anchorNode;\r\n                        focusOffset -= anchorOffset;\r\n                    }\r\n                    anchorOffset = 0;\r\n                }\r\n                found = anchorNode;\r\n            }\r\n            if (child.contains(focusNode) || child === focusNode) {\r\n                if (focusOffset !== (<any>child).length) {\r\n                    //  var samenode = anchorNode === focusNode;\r\n                    this.select(focusNode, focusOffset, focusNode, (<any>focusNode).length);\r\n                    sel = document.getSelection();\r\n                    if (child === focusNode)\r\n                        x++;\r\n                    var texts = this.splitText(sel);\r\n                    var pos = allModified.indexOf(texts[1]);\r\n                    if (pos !== -1)\r\n                        allModified.splice(pos, 0, texts[0]);\r\n                    else\r\n                        allModified.push(texts[0]);\r\n                    if (allModified.indexOf(texts[1]) === -1)\r\n                        allModified.push(texts[1]);\r\n                    var newNode: any = texts[0].dom;\r\n                    if (newNode.nodeType !== newNode.TEXT_NODE) { //textnode is wrapped\r\n                        newNode = newNode.childNodes[0];\r\n                    }\r\n                    if (focusNode === anchorNode) {\r\n                        focusNode = anchorNode = newNode;\r\n                    }\r\n                    else\r\n                        focusNode = newNode;\r\n                    //focusOffset=(<any>focusNode).length;\r\n                }\r\n                found = focusNode;\r\n            }\r\n            if (found) {\r\n                var parent = this.wrapTextNodeIfNeeded(found);\r\n                var compParent: Component = (<any>parent)._this;\r\n                if (allModified.indexOf(compParent) === -1)\r\n                    allModified.push(compParent);\r\n                this.applyStyle(compParent, style, value);\r\n            }\r\n        }\r\n        this.select(anchorNode, anchorOffset, focusNode, focusOffset);\r\n        return allModified;\r\n    }\r\n    applyStyle(comp: Component, stylename: string, value: any = undefined) {\r\n        var varParent = this.codeEditor.getVariableFromObject(comp);\r\n        var style = this._propertyEditor.parser.getPropertyValue(varParent, \"style\");\r\n        var st: React.CSSProperties = Tools.jsonToObject(style === undefined ? \"{}\" : style);\r\n        if (stylename === \"bold\") {\r\n            if (st.fontWeight === \"bold\")\r\n                delete st.fontWeight; //=\"normal\";\r\n            else\r\n                st.fontWeight = \"bold\";\r\n        }\r\n        else if (stylename === \"italic\") {\r\n            if (st.fontStyle === \"italic\")\r\n                delete st.fontStyle; //=\"normal\";\r\n            else\r\n                st.fontStyle = \"italic\";\r\n        }\r\n        else if (stylename === \"underline\") {\r\n            if (st.textDecorationLine === \"underline\")\r\n                delete st.textDecorationLine; //=\"normal\";\r\n            else\r\n                st.textDecorationLine = \"underline\";\r\n        }\r\n        else if (stylename === \"color\") {\r\n            st.color = value;\r\n        }\r\n        else if (stylename === \"backgroundColor\") {\r\n            st.backgroundColor = value;\r\n        }\r\n        else if (stylename === \"fontSize\") {\r\n            st.fontSize = value;\r\n        }\r\n        if (this._propertyEditor.codeEditor)\r\n            this._propertyEditor.setPropertyInCode(\"style\", JSON.stringify(st), true, varParent, undefined, undefined);\r\n        comp.style = st;\r\n    }\r\n    _initDesign() {\r\n        super._initDesign();\r\n        var _this = this;\r\n        this.boldButton = new Button();\r\n        this.boldButton.icon = \"mdi mdi-format-bold mdi-18px\";\r\n        this.boldButton.tooltip = \"bold\";\r\n        this.boldButton.onclick(function () {\r\n            _this.bold();\r\n        });\r\n        this._designToolbar.add(this.boldButton);\r\n        this.italicButton = new Button();\r\n        this.italicButton.icon = \"mdi mdi-format-italic mdi-18px\";\r\n        this.italicButton.tooltip = \"italic\";\r\n        this.italicButton.onclick(function () {\r\n            _this.italic();\r\n        });\r\n        this._designToolbar.add(this.italicButton);\r\n        this.underlineButton = new Button();\r\n        this.underlineButton.icon = \"mdi mdi-format-underline mdi-18px\";\r\n        this.underlineButton.tooltip = \"italic\";\r\n        this.underlineButton.onclick(function () {\r\n            _this.underline();\r\n        });\r\n        this._designToolbar.add(this.underlineButton);\r\n        this._createColorIcon();\r\n        this._createBGColorIcon();\r\n        this._createFontSizeIcon();\r\n    }\r\n    private _createFontSizeIcon() {\r\n        var _this = this;\r\n        this.fontSizeButton = <any>createComponent(jc(\"select\", {\r\n            style: {\r\n                fontSize: \"8pt\", \"height\": \"24px\", \"verticalAlign\": \"2px\"\r\n            },\r\n            onChange: (e) => {\r\n                var val = (<any>e.target).value;\r\n                _this.setStyle(\"fontSize\", val);\r\n            },\r\n            children: [\r\n                jc(\"option\", { children: [\"8px\"], value: \"8px\" }),\r\n                jc(\"option\", { children: [\"10px\"], value: \"10px\" }),\r\n                jc(\"option\", { children: [\"12px\"], value: \"12px\" }),\r\n                jc(\"option\", { children: [\"14px\"], value: \"14px\" }),\r\n                jc(\"option\", { children: [\"18px\"], value: \"18px\" }),\r\n                jc(\"option\", { children: [\"24px\"], value: \"24px\" }),\r\n                jc(\"option\", { children: [\"36px\"], value: \"36px\" }),\r\n            ]\r\n        }));\r\n        this._designToolbar.add(this.fontSizeButton);\r\n    }\r\n    private _createColorIcon() {\r\n        var _this = this;\r\n        this.colorIcon = new Textbox({ useWrapper: true });\r\n        var spec = $(this.colorIcon.dom)[\"spectrum\"]({\r\n            color: \"#f00\",\r\n            showPalette: true,\r\n            palette: [\r\n                ['black'], [\"brown\"], [\"blue\"], [\"green\"], [\"red\"], [\"orange\"], [\"yellow\"], ['white']\r\n            ],\r\n            change: function (color) {\r\n                var scolor = color.toHexString();\r\n                if (color.toName())\r\n                    scolor = color.toName();\r\n                _this.setStyle(\"color\", scolor);\r\n                // debugger;\r\n                //\t\t    _this.paletteChanged(color.toHexString()); // #ff0000\r\n            }\r\n        });\r\n        //correct height\r\n        var bt: HTMLElement = this.colorIcon.domWrapper.querySelector(\".sp-preview\");\r\n        bt.style.width = \"14px\";\r\n        bt.style.height = \"14px\";\r\n        var bx: HTMLElement = this.colorIcon.domWrapper.querySelector(\".sp-replacer\");\r\n        bx.style.verticalAlign = \"-7px\";\r\n        bx.style.height = \"16px\";\r\n        bx.style.width = \"16px\";\r\n        var bp: HTMLElement = this.colorIcon.domWrapper.querySelector(\".sp-dd\");\r\n        bp.innerHTML = \"<bolder>T</bolder>\";\r\n        bp.style.zIndex = \"100\";\r\n        bp.style.position = \"relative\";\r\n        bp.style.top = \"-19px\";\r\n        bp.style.height = \"12px\";\r\n        bp.style.fontSize = \"25px\";\r\n        // spec.width=\"10px\";\r\n        //\tspec.height=\"10px\";\r\n        this._designToolbar.add(this.colorIcon);\r\n    }\r\n    private _createBGColorIcon() {\r\n        var _this = this;\r\n        this.bgcolorIcon = new Textbox({ useWrapper: true });\r\n        var spec = $(this.bgcolorIcon.dom)[\"spectrum\"]({\r\n            color: \"#f00\",\r\n            showPalette: true,\r\n            palette: [\r\n                ['black'], [\"brown\"], [\"blue\"], [\"green\"], [\"red\"], [\"orange\"], [\"yellow\"], ['white']\r\n            ],\r\n            change: function (color) {\r\n                var scolor = color.toHexString();\r\n                if (color.toName())\r\n                    scolor = color.toName();\r\n                _this.setStyle(\"backgroundColor\", scolor);\r\n                // debugger;\r\n                //\t\t    _this.paletteChanged(color.toHexString()); // #ff0000\r\n            }\r\n        });\r\n        //correct height\r\n        var bt: HTMLElement = this.bgcolorIcon.domWrapper.querySelector(\".sp-preview\");\r\n        bt.style.width = \"14px\";\r\n        bt.style.height = \"14px\";\r\n        var bx: HTMLElement = this.bgcolorIcon.domWrapper.querySelector(\".sp-replacer\");\r\n        bx.style.verticalAlign = \"-7px\";\r\n        bx.style.height = \"16px\";\r\n        bx.style.width = \"16px\";\r\n        // spec.width=\"10px\";\r\n        //\tspec.height=\"10px\";\r\n        this._designToolbar.add(this.bgcolorIcon);\r\n    }\r\n    editDialog(enable) {\r\n        super.editDialog(enable);\r\n    }\r\n    createDragAndDropper() {\r\n        return undefined;\r\n    }\r\n    private removeNodes(selection: Selection) {\r\n        var from: Node = selection.anchorNode;\r\n        var frompos: number = selection.anchorOffset;\r\n        var to: Node = selection.focusNode;\r\n        var topos: number = selection.focusOffset;\r\n        var position = from.compareDocumentPosition(to);\r\n        // selection has wrong direction\r\n        if (!position && frompos > topos || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            var k = from;\r\n            from = to;\r\n            to = k;\r\n            var k1 = frompos;\r\n            frompos = topos;\r\n            topos = k1;\r\n        }\r\n        this.deleteNodeBetween(selection);\r\n        //@ts-ignore\r\n        if (from === to && to.nodeType === from.TEXT_NODE) {\r\n            var neu = to.textContent;\r\n            this.changeText(to, neu.substring(0, frompos) + \"\" + neu.substring(topos), true);\r\n        }\r\n        else {\r\n            if (from.nodeType === from.TEXT_NODE) {\r\n                this.changeText(from, from.textContent.substring(0, frompos), true);\r\n            }\r\n            if (to.nodeType === from.TEXT_NODE) {\r\n                this.changeText(to, to.textContent.substring(topos), true);\r\n            }\r\n            //this.changeText(from, from.textContent.substring(0, frompos));\r\n            //this.changeText(to, to.textContent.substring(topos));\r\n        }\r\n        /*else {\r\n            var end = to.childNodes[topos];\r\n                                                                                    if (end === undefined)\r\n                                                                                    end = to.childNodes[to.childNodes.length - 1];\r\n                                                                                    this.deleteNodeBetween(from.childNodes[frompos], end);\r\n        }*/\r\n        /*} else {\r\n            if (from.nodeType === from.TEXT_NODE){\r\n                                                                                        this.deleteNodeBetween(from,to);\r\n                                                                                    this.changeText(from, from.textContent.substring(0, frompos));\r\n                                                                                    this.changeText(to, to.textContent.substring(topos));\r\n            }else{\r\n                                                                                        this.deleteNodeBetween(from.childNodes[frompos],to);\r\n\r\n                                                                                    this.changeText(to, to.textContent.substring(topos));\r\n            }\r\n        }*/\r\n    }\r\n    protected changeText(node: Node, text: string, deleteNodeIfEmpty = false): Node {\r\n        var varname = this.codeEditor.getVariableFromObject((<any>node)._this);\r\n        if (this._propertyEditor.codeEditor) {\r\n            if (deleteNodeIfEmpty && text === \"\") {\r\n                var s = this.componentsToString([(<any>node)._this]);\r\n                this.deleteComponents(s);\r\n            }\r\n            else\r\n                this._propertyEditor.setPropertyInCode(\"text\", '\"' + text + '\"', true, varname);\r\n        }\r\n        if (text === \"&nbsp;\")\r\n            (<HTMLHtmlElement>node).innerHTML = text;\r\n        else\r\n            node.textContent = text;\r\n        this._propertyEditor.callEvent(\"propertyChanged\", event);\r\n        return node;\r\n    }\r\n    private splitText(sel: Selection = document.getSelection()): Component[] {\r\n        // selection has wrong direction\r\n        var offSet = sel.anchorOffset;\r\n        var node = sel.anchorNode;\r\n        if (sel.anchorNode.compareDocumentPosition(sel.focusNode) === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            node = sel.focusNode;\r\n            offSet = sel.focusOffset;\r\n        }\r\n        var old = node.textContent;\r\n        var node = node;\r\n        var v1 = old.substring(0, offSet);\r\n        var v2 = old.substring(offSet);\r\n        this.changeText(node, v2);\r\n        var comp: Component = (<any>node)._this;\r\n        // var br = this.createComponent(classes.getClassName(component), component, undefined, undefined, comp._parent, comp, true, suggestedvarname);\r\n        if (v1 === \"\")\r\n            return [comp, comp]; //v1 = \"&nbsp;\";\r\n        var text2 = this.createTextComponent(v1, comp._parent, comp);\r\n        /*        var nd = document.createTextNode(v1);\r\n                var comp2 = new TextComponent();\r\n                comp2.init(<any>nd, {});\r\n                                                                                                        var text2 = this.createComponent(\"jassijs.ui.TextComponent\", comp2, undefined, undefined, comp._parent, comp, true, \"text\");\r\n                                                                                                        */\r\n        this.changeText(text2.dom, v1);\r\n        //this.updateDummies();\r\n        return [text2, comp];\r\n    }\r\n    async cutComponent() {\r\n        var _this = this;\r\n        var sel = document.getSelection();\r\n        if (sel.focusNode === sel.anchorNode && sel.focusOffset === sel.anchorOffset)\r\n            return super.cutComponent();\r\n        document.execCommand(\"copy\");\r\n        var data = await navigator.clipboard.read();\r\n        var tt = await data[0].getType(\"text/html\");\r\n        var text = await tt.text();\r\n        var code = JSON.stringify(_this.htmlToClipboardData(text));\r\n        navigator.clipboard.writeText(code);\r\n        var e = new KeyboardEvent(\"keypress\", {\r\n            code: \"Delete\"\r\n        });\r\n        _this.keydown(e);\r\n    }\r\n    createTextComponent(text, par, before): Component {\r\n        /*        var comp2 = new TextComponent();\r\n                                                                                                        var newone = document.createTextNode(text);\r\n                                                                                                        comp2.init(<any>newone, {noWrapper: true });*/\r\n        var comp2 = new TextComponent();\r\n        var newone = comp2.dom;\r\n        return this.createComponent(\"jassijs.ui.TextComponent\", comp2, undefined, undefined, par, before, true, \"text\");\r\n        ;\r\n    }\r\n    protected insertLineBreak(sel: Selection, atEndOfContainer: Component = undefined) {\r\n        var enter = createComponent(React.createElement(\"br\"));\r\n        var center, comp;\r\n        if (sel.anchorNode.nodeType !== sel.anchorNode.TEXT_NODE) {\r\n            if (atEndOfContainer !== undefined) {\r\n                center = this.createComponent(classes.getClassName(enter), enter, undefined, undefined, atEndOfContainer, undefined, true, \"br\");\r\n            } else {\r\n                comp = (<any>sel.anchorNode)._this;\r\n                center = this.createComponent(classes.getClassName(enter), enter, undefined, undefined, comp._parent, comp, true, \"br\");\r\n            }\r\n        } else {\r\n            comp = this.splitText(sel)[1];\r\n            center = this.createComponent(classes.getClassName(enter), enter, undefined, undefined, comp._parent, comp, true, \"br\");\r\n        }\r\n        this._propertyEditor.setPropertyInCode(\"tag\", \"\\\"br\\\"\", true, this.codeEditor.getVariableFromObject(center));\r\n    }\r\n    private keydown(e: KeyboardEvent) {\r\n\r\n        var dummyPre = undefined;\r\n        //predeummy is selected\r\n        if (this.lastSelectedDummy?.pre && this.lastSelectedDummy.component !== undefined) {\r\n            this.select(this.lastSelectedDummy.component.dom, 0);\r\n            dummyPre = true;\r\n        }\r\n\r\n        if (!this.lastSelectedDummy?.pre && this.lastSelectedDummy.component !== undefined) {\r\n            var con: Container = this.lastSelectedDummy.component;\r\n            this.select(con.dom, 0);\r\n            dummyPre = false;\r\n        }\r\n        var _this = this;\r\n        if (e.keyCode === 115 && e.shiftKey) { //F4\r\n            return false;\r\n        }\r\n        else if (e.keyCode === 115) { //F4\r\n            return false;\r\n        }\r\n        if (e.keyCode === 90 && e.ctrlKey) { //Ctrl+Z\r\n        }\r\n        if (e.keyCode === 116) { //F5\r\n            e.preventDefault();\r\n            return false;\r\n        }\r\n        if ((e.keyCode === 88 && e.ctrlKey)) { //Del or Ctrl X)\r\n            e.preventDefault();\r\n            this.cutComponent();\r\n            return;\r\n        }\r\n        if (e.keyCode === 67 && e.ctrlKey) { //Ctrl+C\r\n            e.preventDefault();\r\n            this.copy();\r\n            return false;\r\n        }\r\n        if (e.keyCode === 86 && e.ctrlKey) { //Ctrl+V\r\n            e.preventDefault();\r\n            this.paste();\r\n            return false;\r\n        }\r\n        if ((String.fromCharCode(e.which).toLowerCase() === 's' && e.ctrlKey) /* && (evt.which == 19)*/) { //Str+s\r\n            return false;\r\n        }\r\n        if (e.ctrlKey)\r\n            return;\r\n        var sel = document.getSelection();\r\n        if (sel.anchorNode === null && sel.focusNode == null)\r\n            return;\r\n        if (sel.anchorNode === null) {\r\n            /*  var nd = document.createTextNode(\"\");\r\n                                                                                                            var comp2 = new TextComponent();\r\n                                                                                                            comp2.init(<any>nd, {noWrapper: true });*/\r\n            var comp2 = new TextComponent();\r\n            var nd = comp2.dom;\r\n            if (this.lastSelectedDummy.pre)\r\n                var text2 = this.createComponent(\"jassijs.ui.TextComponent\", comp2, undefined, undefined, this._propertyEditor.value._parent, this._propertyEditor.value, true, \"text\");\r\n            else\r\n                var text2 = this.createComponent(\"jassijs.ui.TextComponent\", comp2, undefined, undefined, this._propertyEditor.value, undefined, true, \"text\");\r\n            this.select(comp2.dom, 0, comp2.dom, 0);\r\n            var selection = getSelection();\r\n        }\r\n        var position = sel.anchorNode.compareDocumentPosition(sel.focusNode);\r\n        var anchorNode = sel.anchorNode;\r\n        var anchorOffset = sel.anchorOffset;\r\n        var focusNode = sel.focusNode;\r\n        var focusOffset = sel.focusOffset;\r\n        // selection has wrong direction\r\n        if (!position && sel.anchorOffset > sel.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            anchorOffset = sel.focusOffset;\r\n            anchorNode = sel.focusNode;\r\n            focusNode = sel.anchorNode;\r\n            focusOffset = sel.anchorOffset;\r\n        }\r\n        //Table up =up in same column\r\n        if (e.keyCode === 38 && ((<any>focusNode?.parentNode)?.tagName == \"TR\" || (<any>focusNode?.parentNode.parentNode)?.tagName == \"TR\")) {\r\n            var tr = (<any>focusNode?.parentNode)?.tagName == \"TR\" ? focusNode?.parentNode : focusNode?.parentNode.parentNode;\r\n            var td = focusNode;\r\n            if ((<any>focusNode?.parentNode)?.tagName == \"TD\")\r\n                td = focusNode?.parentNode;\r\n            var poscol = -1;\r\n            for (var x = 0; x < tr.children.length; x++) {\r\n                if (tr.children[x] === td)\r\n                    poscol = x;\r\n            }\r\n            var posrow = -1;\r\n            for (var x = 0; x < tr.parentNode.children.length; x++) {\r\n                if (tr.parentNode.children[x] === tr)\r\n                    posrow = x;\r\n            }\r\n            if (posrow !== -1 && posrow > 0 && poscol !== -1 && tr.parentNode.children[posrow - 1].children.length > poscol) {\r\n                e.preventDefault();\r\n                const cell = tr.parentNode.children[posrow - 1].children[poscol];\r\n                this.select(cell, 0);\r\n                return;\r\n            }\r\n        }\r\n        //Table down =down in same column\r\n        if (e.keyCode === 40 && ((<any>focusNode?.parentNode)?.tagName == \"TR\" || (<any>focusNode?.parentNode.parentNode)?.tagName == \"TR\")) {\r\n            var tr = (<any>focusNode?.parentNode)?.tagName == \"TR\" ? focusNode?.parentNode : focusNode?.parentNode.parentNode;\r\n            var td = focusNode;\r\n            if ((<any>focusNode?.parentNode)?.tagName == \"TD\")\r\n                td = focusNode?.parentNode;\r\n            var poscol = -1;\r\n            for (var x = 0; x < tr.children.length; x++) {\r\n                if (tr.children[x] === td)\r\n                    poscol = x;\r\n            }\r\n            var posrow = -1;\r\n            for (var x = 0; x < tr.parentNode.children.length; x++) {\r\n                if (tr.parentNode.children[x] === tr)\r\n                    posrow = x;\r\n            }\r\n            if (posrow !== -1 && posrow < (tr.parentNode.children.length - 1) && poscol !== -1 && tr.parentNode.children[posrow + 1].children.length > poscol) {\r\n                e.preventDefault();\r\n                const cell = tr.parentNode.children[posrow + 1].children[poscol];\r\n                this.select(cell, 0);\r\n                return;\r\n            }\r\n        }\r\n        if (e.keyCode === 13) {\r\n            e.preventDefault();\r\n            this.insertLineBreak(sel, dummyPre === false ? this.lastSelectedDummy.component : undefined);\r\n            //     this.insertComponent(enter, sel, \"br\");\r\n            //var enter = node.parentNode.insertBefore(document.createElement(\"br\"), node);\r\n            // var textnode = enter.parentNode.insertBefore(document.createTextNode(v1), enter);\r\n        }\r\n        else if (e.code === \"Delete\") {\r\n            e.preventDefault();\r\n            if (anchorNode === focusNode && anchorOffset === focusOffset) { //no selection\r\n                (<any>sel).modify(\"extend\", \"right\", \"character\");\r\n                var newsel = document.getSelection();\r\n                this.removeNodes(newsel);\r\n            }\r\n            else {\r\n                this.removeNodes(sel);\r\n            }\r\n            this.updateDummies();\r\n            return;\r\n        }\r\n        else if (e.code === \"Backspace\") {\r\n\r\n            e.preventDefault();\r\n            if (anchorNode === focusNode && anchorOffset === focusOffset) { //no selection\r\n                if (sel.anchorNode === sel.focusNode && sel.anchorNode.nodeName === \"TD\") {\r\n                    console.log(\"return\");\r\n                    return;\r\n                }\r\n                (<any>sel).modify(\"extend\", \"left\", \"character\");\r\n                var newsel = document.getSelection();\r\n                this.removeNodes(newsel);\r\n            }\r\n            else {\r\n\r\n\r\n                this.removeNodes(sel);\r\n            }\r\n            this.updateDummies();\r\n            return;\r\n        }\r\n        else if (e.key.length === 1) {\r\n            var end = focusOffset;\r\n            if (anchorNode !== focusNode) {\r\n                end = anchorNode.textContent.length;\r\n            }\r\n            if (anchorNode === focusNode && anchorOffset === focusOffset) { //no selection\r\n            }\r\n            else {\r\n                this.removeNodes(sel);\r\n            }\r\n            var neu = anchorNode.textContent.substring(0, anchorOffset) + e.key + anchorNode.textContent.substring(end);\r\n\r\n            if (anchorNode.nodeType !== anchorNode.TEXT_NODE) {//there is no Textnode here we create one\r\n                if (dummyPre === true) {\r\n                    var before = undefined;\r\n                    // if (anchorNode.childNodes.length > anchorOffset) {\r\n                    before = (<any>anchorNode)._this;\r\n                    var testpos=before._parent._components.indexOf(before);\r\n                    if(testpos>1&&before._parent._components[testpos-1] instanceof TextComponent){\r\n                        anchorOffset = 0;\r\n                        anchorNode = before._parent._components[testpos-1].dom ;\r\n                        neu =anchorNode.textContent+ e.key;                     \r\n                    }else{\r\n                    //}\r\n                        anchorOffset = 0;\r\n                        anchorNode = this.createTextComponent(e.key, (<any>anchorNode)._this._parent, before).dom;\r\n                        neu = e.key;\r\n                    }\r\n                } else if (dummyPre === false) {\r\n                    var container: Container = this.lastSelectedDummy.component;\r\n                    if (container?._components.length > 1 && container._components[container._components.length - 1] instanceof TextComponent) {\r\n                        anchorNode = container._components[container._components.length - 1].dom;\r\n                        anchorOffset = 0;\r\n                        neu =anchorNode.textContent+ e.key;\r\n                    } else {\r\n                        anchorOffset = 0;\r\n                        anchorNode = this.createTextComponent(e.key, container, undefined).dom;\r\n                        neu = e.key;\r\n                    }\r\n                    //}\r\n\r\n                } else {//insert in Container\r\n                    var desc = ComponentDescriptor.describe((<any>anchorNode)._this.constructor);\r\n                    var fnew = desc.findField(\"children\");\r\n                    if (fnew === undefined)\r\n                        return;\r\n                    var before = undefined;\r\n                    if (anchorNode.childNodes.length > anchorOffset) {\r\n                        before = (<any>anchorNode.childNodes[anchorOffset])._this;\r\n                    }\r\n                    anchorOffset = 0;\r\n                    anchorNode = this.createTextComponent(e.key, (<any>anchorNode)._this, before).dom;\r\n                    neu = e.key;\r\n                }\r\n            }\r\n            this.changeText(anchorNode, neu);\r\n            e.preventDefault();\r\n            this.select(anchorNode, anchorOffset + 1);\r\n        }\r\n        this.updateDummies();\r\n    }\r\n}\r\nexport function test() {\r\n    var dom = React.createElement(\"div\", {\r\n        contenteditable: \"true\"\r\n    }, \"Hallo\", \"Du\");\r\n    var ret = createComponent(dom);\r\n    //ret.dom.addEventListener(\"keydown\", keydown);\r\n    //windows.add(ret, \"Hallo\");\r\n    return ret;\r\n}\r\n","export default {\r\n    \"css\":{\"jassijs_editor.css\":\"jassijs_editor.css\"},\r\n    \"types\":{\r\n        \"node_modules/csstype.d.ts\":\"https://cdn.jsdelivr.net/gh/frenic/csstype@master/index.d.ts\",\r\n       \r\n       // \"node_modules/@types/csstype/index.d.ts\":\"https://cdn.jsdelivr.net/gh/frenic/csstype@master/index.d.ts\",\r\n        \"node_modules/@types/react/canary.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/canary.d.ts\",\r\n        \"node_modules/@types/react/experimental.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/experimental.d.ts\",\r\n        \"node_modules/@types/react/global.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/global.d.ts\",\r\n        \"node_modules/@types/react/index.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/index.d.ts\",\r\n        \"node_modules/@types/react/jsx-runtime.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/jsx-runtime.d.ts\",\r\n        \"node_modules/@types/react/jsx-dev-runtime.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/jsx-dev-runtime.d.ts\",\r\n        \"node_modules/monaco.d.ts\":\"https://cdn.jsdelivr.net/npm/monaco-editor@0.50.0/monaco.d.ts\",\r\n        \"node_modules/@types/typescript.d.ts\": \"https://cdn.jsdelivr.net/gh/microsoft/TypeScript@release-5.4/lib/typescript.d.ts\"\r\n    },\r\n    \"require\":{ \r\n        map:{\r\n            \"*\":{\r\n                \"typescript\":\"jassijs_editor/ext/typescriptservices\",\r\n            }\r\n        },\r\n        paths: {\r\n            'ace': '//cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/',\r\n            'ace/ext/language_tools': '//cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/ext-language_tools',\r\n            \r\n            //typescript:\"https://cdn.jsdelivr.net/gh/microsoft/TypeScript@release-5.4/lib/typescript\",\r\n            vs: \"https://cdn.jsdelivr.net/npm/monaco-editor@0.50.0/dev/vs\"\r\n        },\r\n        shim: {\r\n            'ace/ext/language_tools': ['ace/ace'],\r\n        }\r\n    \r\n    }\r\n}","\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport \"jassijs_editor/Debugger\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport \"jassijs_editor/ext/monaco\";\r\nimport {mytypescript} from \"jassijs_editor/util/Typescript\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\nimport { Settings } from \"jassijs/remote/Settings\";\r\nimport { currentsettings } from \"jassijs/base/CurrentSettings\";\r\n\r\n\r\nvar inited = false;\r\nfunction __init(editor: monaco.editor.IStandaloneCodeEditor) {\r\n    if (inited)\r\n        return;\r\n    //auto import \r\n    const cs = (editor as any)._commandService\r\n    var CommandsRegistry = require(\"vs/platform/commands/common/commands\").CommandsRegistry;\r\n    CommandsRegistry.registerCommand(\"autoimport\", (o1, model: monaco.editor.ITextModel, pos) => {\r\n        var file = model.uri.path.substring(1);\r\n        var code = model.getValue();\r\n        var p = mytypescript.getPositionOfLineAndCharacter(file, {\r\n            line: pos.lineNumber, character: pos.column\r\n        });\r\n        const oldpos = model[\"lastEditor\"].getPosition();\r\n        setTimeout(() => {\r\n            CodePanel.getAutoimport(p, file, code).then((data) => {\r\n\r\n                if (data !== undefined) {\r\n\r\n                    model.pushEditOperations([], [{\r\n                        range: monaco.Range.fromPositions({ column: data.pos.column, lineNumber: data.pos.row + 1 }),\r\n                        text: data.text\r\n                    }], (a) => {\r\n                        return null;\r\n                    });\r\n                    oldpos.lineNumber = oldpos.lineNumber + (data.text.indexOf(\"\\r\") ? 1 : 0);\r\n                    model[\"lastEditor\"].setPosition(oldpos);\r\n                }\r\n            });\r\n\r\n        }, 100);\r\n    })\r\n    //implement go to definition\r\n    //TODO FIX deprecrated in new Version s. monaco.editor.registerEditorOpener\r\n    const editorService = editor[\"_codeEditorService\"];\r\n    const openEditorBase = editorService.openCodeEditor.bind(editorService);\r\n    editorService.openCodeEditor = async (input, source) => {\r\n        const result = await openEditorBase(input, source);\r\n        if (result === null) {\r\n            var file = input.resource.path.substring(1);\r\n            var line = input.options.selection.startLineNumber;\r\n\r\n            router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + file + \"&line=\" + line);\r\n        }\r\n        return result; // always return the base result\r\n    };\r\n    //completion for autonimport\r\n    monaco.languages.registerCompletionItemProvider('typescript', {\r\n        provideCompletionItems: async function (model, position) {\r\n            var textUntilPosition = model.getValueInRange({ startLineNumber: 1, startColumn: 1, endLineNumber: position.lineNumber, endColumn: position.column });\r\n            var word = model.getWordUntilPosition(position);\r\n            var range = {\r\n                startLineNumber: position.lineNumber,\r\n                endLineNumber: position.lineNumber,\r\n                startColumn: word.startColumn,\r\n                endColumn: word.endColumn\r\n            };\r\n            var file = model.uri.path.substring(1);\r\n            var pos = mytypescript.getPositionOfLineAndCharacter(file, { line: position.lineNumber, character: position.column });\r\n            var all = await mytypescript.getCompletion(file, pos, undefined, { includeExternalModuleExports: true });\r\n            var sug = [];\r\n            for (var x = 0; x < all.entries.length; x++) {\r\n                var it = all.entries[x];\r\n                if ((it.kindModifiers === \"export\" || it.kindModifiers === \"\") && it.hasAction === true) {\r\n                    var item: monaco.languages.CompletionItem = {\r\n                        label: it.name,\r\n                        kind: <monaco.languages.CompletionItemKind>it.kind,\r\n                        documentation: \"import from \" + it.source,\r\n                        insertText: it.name,\r\n                        range: range,\r\n                        command: {\r\n                            arguments: [model, position],\r\n                            id: \"autoimport\",\r\n                            title: \"autoimport\"\r\n                        }\r\n                    }\r\n                    sug.push(item);\r\n                }\r\n            }\r\n            return {\r\n                suggestions: sug\r\n            };\r\n        }\r\n    });\r\n    inited = true;\r\n}\r\n\r\n/**\r\n* wrapper for the Ace-Code editor with Typescript-Code-Completion an other features\r\n* @class jassijs.ui.CodePanel\r\n*/\r\n@$Class(\"jassijs_editor.MonacoPanel\")\r\nexport class MonacoPanel extends CodePanel {\r\n    private _mode: string;\r\n    private _editor: monaco.editor.IStandaloneCodeEditor;\r\n    private _isInited: boolean;\r\n    //   private _lastCursorPosition;\r\n    declare file: string;\r\n    private static _tooltipdiv;\r\n    private _lastTooltipRefresh;\r\n    constructor() {\r\n        super();\r\n       \r\n        //this._editor.setModel(monaco.editor.getModels() [1]);\r\n\r\n    }\r\n    render(){\r\n        return React.createElement(\"div\", { className:\"MonacoPanel\",style:{borderSpacing:\"0px\", minWidth:\"50px\",tableLayout: \"fixed\"}});\r\n    }\r\n    componentDidMount(): void {\r\n        var _this = this;\r\n        \r\n        this.domWrapper.style.overflow=\"hidden\";\r\n        this.domWrapper.style.display= \"\";\r\n\r\n        let theme = currentsettings.gets(Settings.keys.Development_MoanacoEditorTheme);\r\n        this._editor = monaco.editor.create(this.dom, {\r\n            //value:  monaco.editor.getModels()[0], //['class A{b:B;};\\nclass B{a:A;};\\nfunction x() {', '\\tconsole.log(\"Hello world!\");', '}'].join('\\n'),\r\n            language: 'typescript',\r\n            theme: (theme ? theme : \"vs-light\"),\r\n            glyphMargin: true,\r\n            fontSize: 12,\r\n            automaticLayout: true,\r\n            //@ts-ignore\r\n            inlineSuggest:{}\r\n        });\r\n\r\n        __init(this._editor);\r\n        this._editor.onMouseDown(function (e) {\r\n            _this._mouseDown(e);\r\n        });\r\n    }\r\n    private getBreakpointDecoration(line: number): monaco.editor.IModelDecoration {\r\n        var decs = this._editor.getLineDecorations(line);\r\n        for (var x = 0; x < decs.length; x++) {\r\n            if (decs[x].options.glyphMarginClassName === \"jbreackpoint\")\r\n                return decs[x];\r\n        }\r\n        return undefined;\r\n    }\r\n     autocomplete(){\r\n        this._editor.trigger(\"äläöl\",'editor.action.triggerSuggest',\"{}\");\r\n    }\r\n    private _mouseDown(e) {\r\n        if (e.target.type === 2) {\r\n            var line = e.target.position.lineNumber;\r\n            var column = this._editor.getModel().getLineContent(line - 1).length;\r\n            var type = \"debugpoint\";\r\n            var dec = this.getBreakpointDecoration(line);\r\n            if (dec) {\r\n                this._editor.deltaDecorations([dec.id], []);\r\n                this.callEvent(\"breakpointChanged\", line - 1, column, false, type);\r\n            } else {\r\n                this.callEvent(\"breakpointChanged\", line - 1, column, true, type);\r\n                var decorations = this._editor.deltaDecorations([], [\r\n                    {\r\n                        range: new monaco.Range(line, 1, line, 1),\r\n                        options: {\r\n                            isWholeLine: true,\r\n                            className: 'jbreackpointclass',\r\n                            glyphMarginClassName: 'jbreackpoint'\r\n                        }\r\n                    }\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * gets a list of all lines with breakpoint\r\n     * @returns {Object.<number, boolean>}\r\n     */\r\n    getBreakpoints(): { [line: number]: boolean } {\r\n        var ret = {};\r\n        var decs = this._editor.getModel().getLineCount();\r\n        for (var x = 1; x <= this._editor.getModel().getLineCount(); x++) {\r\n            if (this.getBreakpointDecoration(x)) {\r\n                ret[x - 1] = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * breakpoint changed\r\n     * @param {function} handler - function(line,enabled,type)\r\n     */\r\n    onBreakpointChanged(handler) {\r\n        this.addEvent(\"breakpointChanged\", handler);\r\n    }\r\n    /**\r\n     * component get focus\r\n     * @param {function} handler\r\n     */\r\n    onfocus(handler) {\r\n        return undefined;\r\n        //   this._editor.on(\"focus\", handler);\r\n    }\r\n    /**\r\n     * component lost focus\r\n     * @param {function} handler\r\n     */\r\n    onblur(handler) {\r\n        return undefined;\r\n        // this._editor.on(\"blur\", handler);\r\n    }\r\n    /**\r\n     * @param - the codetext\r\n     */\r\n    set value(value: string) { //the Code\r\n        var lastcursor = this.cursorPosition;\r\n        var _this = this;\r\n        if (this.file) {\r\n            var ffile = monaco.Uri.from({ path: \"/\" + this.file, scheme: 'file' });\r\n            var mod = monaco.editor.getModel(ffile);\r\n            if (!mod) {\r\n                var stype=\"typescript\";\r\n                if(this.file.toLocaleLowerCase().endsWith(\".css\"))\r\n                    stype=\"css\";\r\n                 if(this.file.toLocaleLowerCase().endsWith(\".json\"))\r\n                    stype=\"json\";\r\n                if(this.file.toLocaleLowerCase().endsWith(\".html\"))\r\n                    stype=\"html\";\r\n                if(this.file.toLocaleLowerCase().endsWith(\".jpg\"))\r\n                    stype=\"jpg\";\r\n                mod = monaco.editor.createModel(value, stype, ffile);\r\n                this._editor.setModel(mod);\r\n                this._editor.setValue(value);\r\n            } else if (mod !== this._editor.getModel()) {\r\n                delete this._editor.getModel()[\"lastEditor\"];\r\n                this._editor.setModel(mod);\r\n                this._editor.setValue(value);\r\n            } else {\r\n                const fullRange = this._editor.getModel().getFullModelRange();\r\n\r\n                // Apply the text over the range\r\n                this._editor.executeEdits(null, [{\r\n                    text: value,\r\n                    range: fullRange\r\n                    \r\n                }]);\r\n                \r\n                /* alternative\r\n                this._editor.getModel().pushEditOperations([], [{\r\n                    range: this._editor.getModel().getFullModelRange(),// monaco.Range.fromPositions({ column: data.pos.column, lineNumber: data.pos.row }),\r\n                    text: value\r\n                }], (a) => {\r\n                    return null\r\n                });*/\r\n                this._editor.pushUndoStop();\r\n            }\r\n            if (this._editor.getModel()) {\r\n                this._editor.getModel()[\"lastEditor\"] = _this._editor;\r\n\r\n            }\r\n        } else\r\n\r\n            this._editor.setValue(value);\r\n    }\r\n\r\n    get value(): string {\r\n        return this._editor.getValue();\r\n    }\r\n    /**\r\n     * @param {object} position - the current cursor position {row= ,column=}\r\n     */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._editor.focus();\r\n        try {\r\n            this._editor.revealLine(cursor.row);\r\n            this._editor.setPosition({ column: cursor.column, lineNumber: cursor.row });\r\n        } catch {\r\n\r\n        }\r\n    }\r\n    get cursorPosition(): { row: number, column: number } {\r\n        var pos = this._editor.getPosition();\r\n        return {\r\n            row: pos.lineNumber,\r\n            column: pos.column\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        //this._editor.destroy();\r\n        super.destroy();\r\n        delete this._editor.getModel()[\"lastEditor\"];\r\n    }\r\n\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        //@ts-ignore\r\n        this._editor.getModel().undo();\r\n    }\r\n    /**\r\n     * resize the editor\r\n     * */\r\n    resize() {\r\n        //\r\n        //   this._editor.resize();\r\n    }\r\n    /**\r\n   * @member {string} - the language of the editor e.g. \"ace/mode/javascript\"\r\n   */\r\n    set mode(mode) {\r\n        //  alert(mode);\r\n        this._mode = mode;\r\n        //  this._editor.getSession().setMode(\"ace/mode/\" + mode);\r\n    }\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n    async loadsample() {\r\n\r\n        this.file = \"a/Dialog.ts\";\r\n        this.value = \"var a=window.document;\";\r\n    }\r\n}\r\n\r\nexport async function test() {\r\n    //await Settings.save(Settings.keys.Development_MoanacoEditorTheme, \"vs-dark\", \"user\")\r\n    var dlg = new MonacoPanel();\r\n    //  var code = await new Server().loadFile(\"a/Dialog.ts\");\r\n    await dlg.loadsample();\r\n    setTimeout(() => {\r\n        dlg.width = \"800\";\r\n        dlg.height = \"100\";\r\n\r\n    }, 200);\r\n    //@ts-ignore\r\n    //   dlg._editor.layout();\r\n\r\n    //    dlg.value = \"var h;\\r\\nvar k;\\r\\nvar k;\\r\\nvar k;\\r\\nconsole.debug('ddd');\";\r\n    //  dlg.mode = \"javascript\";\r\n    //dlg._editor.renderer.setShowGutter(false);\t\t\r\n    //dlg._editor.getSession().addGutterDecoration(1,\"error_line\");\r\n    //  dlg._editor.getSession().setBreakpoint(1);\r\n    // dlg._editor.getSession().setBreakpoint(2);\r\n\r\n    return dlg;\r\n}\r\n\r\n","//this file is autogenerated don't modify\ndefine(\"jassijs_editor/registry\",[\"require\"], function(require) {\n return {\n  default: {\n\t\"jassijs_editor/AcePanel.ts\": {\n\t\t\"date\": 1740653429301.0798,\n\t\t\"jassijs.ui.AcePanel\": {}\n\t},\n\t\"jassijs_editor/AcePanelSimple.ts\": {\n\t\t\"date\": 1719757301492.3672,\n\t\t\"jassijs.ui.AcePanelSimple\": {}\n\t},\n\t\"jassijs_editor/ChromeDebugger.ts\": {\n\t\t\"date\": 1681488352000,\n\t\t\"jassijs_editor.ChromeDebugger\": {}\n\t},\n\t\"jassijs_editor/CodeEditor.ts\": {\n\t\t\"date\": 1740761803088.7715,\n\t\t\"jassijs_editor.CodeEditorSettingsDescriptor\": {\n\t\t\t\"$SettingsDescriptor\": [],\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs_editor.CodeEditor\": {\n\t\t\t\"@members\": {}\n\t\t}\n\t},\n\t\"jassijs_editor/CodeEditorInvisibleComponents.ts\": {\n\t\t\"date\": 1740651512713.9685,\n\t\t\"jassijs_editor.CodeEditorInvisibleComponents\": {}\n\t},\n\t\"jassijs_editor/CodePanel.ts\": {\n\t\t\"date\": 1655661690000,\n\t\t\"jassijs_editor.CodePanel\": {}\n\t},\n\t\"jassijs_editor/ComponentDesigner.ts\": {\n\t\t\"date\": 1740828811263.884,\n\t\t\"jassijs_editor.ComponentDesigner\": {}\n\t},\n\t\"jassijs_editor/ComponentExplorer.ts\": {\n\t\t\"date\": 1740518126597.6243,\n\t\t\"jassijs_editor.ComponentExplorer\": {}\n\t},\n\t\"jassijs_editor/ComponentPalette.ts\": {\n\t\t\"date\": 1740651439292.9773,\n\t\t\"jassijs_editor.ComponentPalette\": {}\n\t},\n\t\"jassijs_editor/ComponentSpy.ts\": {\n\t\t\"date\": 1740510338564.4038,\n\t\t\"jassijs_editor.ui.ComponentSpy\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"dummy\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-account-cog-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Spy Components\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-police-badge\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/DatabaseDesigner.ts\": {\n\t\t\"date\": 1740518198514.8262,\n\t\t\"jassijs_editor/DatabaseDesigner\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Database Designer\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-database-edit\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/Debugger.ts\": {\n\t\t\"date\": 1656019586000,\n\t\t\"jassijs_editor.Debugger\": {}\n\t},\n\t\"jassijs_editor/ErrorPanel.ts\": {\n\t\t\"date\": 1720116488294.8394,\n\t\t\"jassijs_editor.ui.ErrorPanel\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Errors\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-emoticon-confused-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/ext/monaco.ts\": {\n\t\t\"date\": 1720105252684.6934\n\t},\n\t\"jassijs_editor/ext/monaco2.ts\": {\n\t\t\"date\": 1720090850426.468\n\t},\n\t\"jassijs_editor/ext/typescriptservices.ts\": {\n\t\t\"date\": 1720556246507.595\n\t},\n\t\"jassijs_editor/FileExplorer.ts\": {\n\t\t\"date\": 1683575950000,\n\t\t\"jassijs_editor.ui.FileActions\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/File\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"download\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Download\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newModule\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Module\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"dodelete\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Delete\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"mapLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Map local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"closeLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Close local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"rename\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Rename\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"refresh\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Refresh\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"open\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Open\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"jassijs.ui.FileExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Files\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file-tree\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/HtmlDesigner.ts\": {\n\t\t\"date\": 1740742771963.561,\n\t\t\"jassijs_editor.HtmlDesigner\": {}\n\t},\n\t\"jassijs_editor/modul.ts\": {\n\t\t\"date\": 1720612634385.9824\n\t},\n\t\"jassijs_editor/MonacoPanel.ts\": {\n\t\t\"date\": 1720101262364.5872,\n\t\t\"jassijs_editor.MonacoPanel\": {}\n\t},\n\t\"jassijs_editor/SearchExplorer.ts\": {\n\t\t\"date\": 1720256623984.0022,\n\t\t\"jassijs_editor.ui.SearchExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Search\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-folder-search-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/StartEditor.ts\": {\n\t\t\"date\": 1720115090825.8567\n\t},\n\t\"jassijs_editor/template/TemplateDBDialog.ts\": {\n\t\t\"date\": 1721659030283.6165,\n\t\t\"jassijs_editor.template.TemplateDBDialogProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBDialog\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateDBObject.ts\": {\n\t\t\"date\": 1681570394000,\n\t\t\"jassijs_editor.template.TemplateDBObjectProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateEmptyDialog.ts\": {\n\t\t\"date\": 1740567736806.9265,\n\t\t\"jassijs_editor.template.TemplateEmptyDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Dialog.ts\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateRemoteObject.ts\": {\n\t\t\"date\": 1750577040067.4404,\n\t\t\"jassijs_editor.template.TemplateRemoteObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/RemoteObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/DatabaseSchema.ts\": {\n\t\t\"date\": 1720101271019.9363,\n\t\t\"jassijs_editor.util.DatabaseSchema\": {}\n\t},\n\t\"jassijs_editor/util/DragAndDropper.ts\": {\n\t\t\"date\": 1657925428000,\n\t\t\"jassijs_editor.util.DragAndDropper\": {}\n\t},\n\t\"jassijs_editor/util/Parser.ts\": {\n\t\t\"date\": 1740570775364.1863,\n\t\t\"jassijs_editor.util.Parser\": {}\n\t},\n\t\"jassijs_editor/util/Resizer.ts\": {\n\t\t\"date\": 1740742895352.4688,\n\t\t\"jassijs_editor.util.Resizer\": {}\n\t},\n\t\"jassijs_editor/util/Tests.ts\": {\n\t\t\"date\": 1739727794640.8933,\n\t\t\"jassijs_editor.ui.TestAction\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"testNode\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Run Tests\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/TSSourceMap.ts\": {\n\t\t\"date\": 1720117379608.988,\n\t\t\"jassijs_editor.util.TSSourceMap\": {}\n\t},\n\t\"jassijs_editor/util/Typescript.ts\": {\n\t\t\"date\": 1750449152303.9917,\n\t\t\"jassijs_editor.util.Typescript\": {}\n\t},\n\t\"jassijs_editor/template/TemplateEmptyTSXDialog.ts\": {\n\t\t\"date\": 1740589015740.2244,\n\t\t\"jassijs_editor.template.TemplateEmptyTSXDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Dialog.tsx\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n }\n});","import { $Class } from \"jassijs/remote/Registry\";\r\nimport {Tree} from \"jassijs/ui/Tree\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\nimport {Textbox} from \"jassijs/ui/Textbox\";\r\nimport {Server} from \"jassijs/remote/Server\";\r\n\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport windows from \"jassijs/base/Windows\";\r\n\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs_editor.ui.SearchExplorer\")\r\nexport class SearchExplorer extends Panel {\r\n    tree: Tree;\r\n    search: Textbox;\r\n    //@member - maximal hits which are found \r\n    maximalFounds: Number = 100;\r\n    constructor() {\r\n        super();\r\n        //this.maximize();\r\n        this.dom.style.width= \"calc(100% - 8px)\";\r\n        this.dom.style.height= \"calc(100% - 25px)\";//why 25????\r\n        this.tree = new Tree();\r\n        this.search = new Textbox();\r\n        this.layout();\r\n    }\r\n      @$Action ({\r\n    \tname: \"Windows/Development/Search\",\r\n       \ticon: \"mdi mdi-folder-search-outline\",\r\n    })\r\n    static async show(){\r\n        if (windows.contains(\"Search\")) \r\n\t\t\tvar window = windows.show(\"Search\");\r\n\t\telse\r\n         windows.addLeft(new SearchExplorer(), \"Search\");\r\n    }\r\n    async doSearch() { \r\n        var typescript=(await import (\"jassijs_editor/util/Typescript\")).mytypescript;\r\n        var all = [];\r\n        var files = [];// [{name:\"Hallo\",lines:[{ name:\"Treffer1\",pos:1},{name:\"treffer2\" ,pos:2}]}];\r\n        var toFind: string =( <string>this.search.value).toLocaleLowerCase();\r\n        var count = 0;\r\n        var filenames=typescript.getFiles();\r\n        for (var f=0;f<filenames.length;f++){\r\n            var file=filenames[f];\r\n            if(file.indexOf(\"node_modules\")>-1)//no search in node modules\r\n                continue;\r\n            var code=typescript.getCode(file);\r\n            if(code){\r\n                var text = code.toLowerCase();\r\n                var pos = text.indexOf(toFind);\r\n                var foundedFile={name:file,lines: [] }\r\n                while (pos !== -1) {\r\n                    count++;\r\n                    if (count > this.maximalFounds) {\r\n                        break;\r\n                    }\r\n                    var startline = text.lastIndexOf(\"\\n\", pos);\r\n                    var endline = text.indexOf(\"\\n\", pos);\r\n                    var line = text.substring(startline, endline);\r\n                    foundedFile.lines.push({name:line,pos:pos,file:file})\r\n                    pos = text.indexOf(toFind,pos+1);\r\n                }\r\n                if(foundedFile.lines.length>0)\r\n                    files.push(foundedFile);\r\n                if (count > this.maximalFounds) { \r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this.tree.items = files;\r\n        this.tree.expandAll();\r\n    }\r\n    async layout() {\r\n        var _this = this;\r\n        this.tree.width = \"100%\";\r\n        this.tree.height = \"100%\";\r\n        super.add(this.search);\r\n        super.add(this.tree);\r\n\r\n        this.tree.propDisplay = \"name\";\r\n        this.tree.propChilds = \"lines\";\r\n\r\n        this.tree.onclick(function(evt) {\r\n\r\n            if (evt.data !== undefined && evt.data.file !== undefined) {\r\n            \tvar pos=evt.data.pos;\r\n                var file=evt.data.file;\r\n                import (\"jassijs_editor/util/Typescript\").then(Typescript=>{\r\n                    var text:string=Typescript.mytypescript.getCode(file);\r\n                    var line=text.substring(0,pos).split(\"\\n\").length;\r\n                    router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + file+\"&line=\"+line);\r\n                });\r\n\r\n            }\r\n        });\r\n        this.dom.style[\"flow\"]=\"visible\";\r\n        this.search.onkeydown(function(evt) {\r\n            window.setTimeout(() => {\r\n                //\tif(evt.code===\"Enter\"){\r\n                _this.doSearch();\r\n                //\t}\r\n            }, 100);\r\n        });\r\n        this.search.height = 15;\r\n    }\r\n\r\n\r\n}\r\nexport function test() {\r\n    return new SearchExplorer();\r\n\r\n}\r\n\r\n\r\n","\r\n\r\n\r\nimport {FileExplorer} from \"jassijs_editor/FileExplorer\";\r\nimport windows from \"jassijs/base/Windows\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\nimport {Button} from \"jassijs/ui/Button\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport {SearchExplorer} from \"jassijs_editor/SearchExplorer\";\r\nimport { DBObjectExplorer } from \"jassijs/ui/DBObjectExplorer\";\r\nimport { ActionNodeMenu } from \"jassijs/ui/ActionNodeMenu\";\r\n\r\n\r\n//var h=new RemoteObject().test();\r\n\r\nasync function start() {\r\n\r\n  //  jassijs.myRequire(\"https://unpkg.com/source-map@0.7.3/dist/source-map.js\");\r\n    //var body = new Panel({ id: \"body\" });\r\n    //body.max();\r\n    windows.addLeft(new DBObjectExplorer(), \"DBObjects\");\r\n    windows.addLeft(new SearchExplorer(), \"Search\");\r\n    windows.addLeft(new FileExplorer(), \"Files\");\r\n    var bt=new Button();\r\n    windows._desktop.add(bt);\r\n    bt.icon=\"mdi mdi-refresh\";\r\n    var am=new ActionNodeMenu();\r\n    bt.onclick(()=>{\r\n        windows._desktop.remove(am);\r\n        am=new ActionNodeMenu()\r\n        windows._desktop.add(am);\r\n    });\r\n    windows._desktop.add(am);\r\n    router.navigate(window.location.hash);\r\n\r\n\r\n}\r\nstart().then();\r\n\r\n\r\n\r\n","import registry, { $Class } from \"jassijs/remote/Registry\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { DBObject } from \"jassijs/remote/DBObject\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { FileActions } from \"jassijs_editor/FileExplorer\"; \r\n\r\nconst code=`\r\nimport { NumberConverter } from \"jassijs/ui/converters/NumberConverter\";\r\nimport { Textbox } from \"jassijs/ui/Textbox\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { {{dbclassname}} } from \"{{dbfilename}}\";\r\nimport { DBObjectView, $DBObjectView, ObjectViewToolbar } from \"jassijs/ui/DBObjectView\";\r\nimport { jc } from \"jassijs/ui/Component\";\r\n\r\n\r\n\r\n@$DBObjectView({classname:\"{{fulldbclassname}}\"})\r\n@$Class(\"{{fullclassname}}\")\r\nexport class {{dialogname}} extends DBObjectView<{{dbclassname}}> {\r\n    get title() {\r\n        return this.value === undefined ? \"{{dialogname}}\" : \"{{dialogname}} \" + this.value.id;\r\n    }\r\n    render() {\r\n        return jc(Panel, {\r\n            children: [\r\n                jc(ObjectViewToolbar, { view: this })\r\n            ]\r\n        })\r\n    }\r\n}\r\n\r\nexport async function test(){\r\n\tvar ret=new {{dialogname}}();\r\n\tret.value=<{{dbclassname}}>await {{dbclassname}}.findOne();\r\n\treturn ret;\r\n}`;\r\n@$Class(\"jassijs_editor.template.TemplateDBDialogProperties\")\r\nexport class TemplateDBDialogProperties {\r\n\t@$Property({decription:\"name of the dialog\"})\r\n\tdialogname:string;\r\n\t@$Property({type:\"classselector\", service:\"$DBObject\"})\r\n    dbobject:DBObject;\r\n}\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs.template.TemplateDBDialog\")\r\nexport class TemplateDBDialog {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/DBDialog\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\t\tvar props=new TemplateDBDialogProperties();\r\n        var res = await OptionDialog.askProperties(\"Create new DBDialog:\",props, [\"ok\", \"cancel\"],undefined,false);\r\n        if (res.button === \"ok\" ) {\r\n\t    \tvar scode=code.replaceAll(\"{{dialogname}}\",props.dialogname);\r\n\t    \tvar fulldbclassname= classes.getClassName(props.dbobject);\r\n\t    \tvar shortdbclassname=fulldbclassname.split(\".\")[fulldbclassname.split(\".\").length-1];\r\n\t    \tvar dbfilename=(await registry.getJSONData(\"$Class\",fulldbclassname))[0].filename;\r\n\t    \tdbfilename=dbfilename.substring(0,dbfilename.length-3);\r\n\t    \tscode=scode.replaceAll(\"{{fullclassname}}\",(all[0].fullpath+\"/\"+props.dialogname).replaceAll(\"/\",\".\"));\r\n\t    \tscode=scode.replaceAll(\"{{dbclassname}}\",shortdbclassname);\r\n\t    \tscode=scode.replaceAll(\"{{fulldbclassname}}\",fulldbclassname);\r\n\t    \tscode=scode.replaceAll(\"{{dbfilename}}\",dbfilename);\r\n\t    \r\n\t    \tFileActions.newFile(all,props.dialogname+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nimport { $ActionProvider, $Action } from \"jassijs/base/Actions\";\r\nimport { DBObject } from \"jassijs/remote/DBObject\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { FileActions } from \"jassijs_editor/FileExplorer\";\r\nimport { TemplateDBDialog } from \"jassijs_editor/template/TemplateDBDialog\";\r\n\r\nvar code=`import {DBObject, $DBObject } from \"jassijs/remote/DBObject\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Entity, PrimaryColumn, Column, OneToOne, ManyToMany, ManyToOne, OneToMany,JoinColumn,JoinTable } from \"jassijs/util/DatabaseSchema\";\r\nimport { $DBObjectQuery } from \"jassijs/remote/DBObjectQuery\";\r\n\r\n\r\n@$DBObject()\r\n@$Class(\"{{fullclassname}}\")\r\n\r\nexport class {{classname}} extends DBObject {\r\n\r\n    {{PrimaryAnnotator}}\r\n    declare id: number;\r\n  \r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n\r\n\r\nexport async function test() {\r\n};`;\r\n\r\n@$Class(\"jassijs_editor.template.TemplateDBObjectProperties\")\r\nexport class TemplateDBObjectProperties {\r\n\t@$Property({decription:\"name of the db class\"})\r\n\tname:string;\r\n\t@$Property({default:\"true\",description:\"the primary column alue will be automatically generated with an auto-increment value\"})\r\n    autogeneratedid:string;\r\n}\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs.template.TemplateDBObject\")\r\nexport class TemplateDBObject {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/DBObject\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory()&&all[0].fullpath.indexOf(\"/remote/\")!==-1;\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\t\tvar props=new TemplateDBObjectProperties();\r\n        var res = await OptionDialog.askProperties(\"Create Database Class:\",props, [\"ok\", \"cancel\"],undefined,false);\r\n        if (res.button === \"ok\" ) {\r\n\t    \tvar scode=TemplateDBObject.code.replaceAll(\"{{fullclassname}}\",all[0].fullpath+\"/\"+props.name);\r\n\t    \tscode=scode.replaceAll(\"{{classname}}\",props.name);\r\n\t    \tvar anno=\"@PrimaryColumn()\";\r\n\t    \tif(props.autogeneratedid)\r\n\t    \t\t anno=\"@PrimaryGeneratedColumn()\";\r\n\t    \tscode=scode.replaceAll(\"{{PrimaryAnnotator}}\",anno);\r\n\r\n\t    \tFileActions .newFile(all,props.name+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { $ActionProvider, $Action } from \"jassijs/base/Actions\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { FileExplorer, FileActions } from \"jassijs_editor/FileExplorer\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { router } from \"jassijs/base/Router\";\r\nconst code=`import { HTMLComponent } from \"jassijs/ui/Component\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Component,ComponentProperties,SimpleComponentProperties,jc } from \"jassijs/ui/Component\";\r\ntype Refs={};\r\ninterface {{dialogname}}Properties extends SimpleComponentProperties {//or ComponentProperties to publish DefaultProperties\r\n    sampleProp?: string;\r\n}\r\n\r\n@$Class(\"{{fullclassname}}\")\r\nexport class {{dialogname}} extends Component<{{dialogname}}Properties> {\r\n    declare refs: Refs;\r\n    constructor(props: {{dialogname}}Properties={}) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return jc(\"span\",{ children: [this.state.sampleProp] });\r\n    }\r\n}\r\nexport async function test() {\r\n    var ret=new  {{dialogname}}({ sampleProp: \"jj\" });\r\n    return ret;\r\n}`;\r\n\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs_editor.template.TemplateEmptyDialog\")\r\nexport class TemplateEmptyDialog {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/Dialog.ts\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\r\n        var res = await OptionDialog.show(\"Enter dialog name:\", [\"ok\", \"cancel\"], undefined, true, \"Dialog\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n\t    \tvar scode=code.replaceAll(\"{{dialogname}}\",res.text);\r\n\t    \tscode=scode.replaceAll(\"{{fullclassname}}\",all[0].fullpath+\"/\"+res.text);\r\n\t    \tFileActions.newFile(all,res.text+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { $ActionProvider, $Action } from \"jassijs/base/Actions\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { FileExplorer, FileActions } from \"jassijs_editor/FileExplorer\";\r\n\r\nconst code=`import { ComponentProperties,SimpleComponentProperties,createComponent } from \"jassijs/ui/Component\";\r\nimport { States,createRefs } from \"jassijs/ui/State\";\r\ntype Refs={};\r\ninterface {{dialogname}}Properties extends SimpleComponentProperties {\r\n    sampleProp?: string;\r\n}\r\nfunction {{dialogname}}(props: {{dialogname}}Properties,states: States<{{dialogname}}Properties>) {\r\n    var refs: Refs=createRefs();\r\n    return <div>{states.sampleProp}</div>;\r\n}\r\nexport function test() {\r\n    var ret=<{{dialogname}} sampleProp=\"jj\"></{{dialogname}}>;\r\n    var comp=createComponent(ret);\r\n    return comp;\r\n}\r\n`;\r\n\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs_editor.template.TemplateEmptyTSXDialog\")\r\nexport class TemplateEmptyTSXDialog {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/Dialog.tsx\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\r\n        var res = await OptionDialog.show(\"Enter dialog name:\", [\"ok\", \"cancel\"], undefined, true, \"Dialog\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n\t    \tvar scode=code.replaceAll(\"{{dialogname}}\",res.text);\r\n\t    \tscode=scode.replaceAll(\"{{fullclassname}}\",all[0].fullpath+\"/\"+res.text);\r\n\t    \tFileActions.newFile(all,res.text+\".tsx\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { $ActionProvider, $Action } from \"jassijs/base/Actions\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport {  FileActions } from \"jassijs_editor/FileExplorer\";\r\n\r\nconst code=`import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Context, DefaultParameterValue, UseServer } from \"jassijs/remote/RemoteObject\";\r\nimport { ValidateFunctionParameter, ValidateIsInt, ValidateIsString } from \"jassijs/remote/Validator\";\r\n\r\n@$Class(\"{{fullclassname}}\")\r\nexport class {{name}}{\r\n\r\n    @UseServer()\r\n    @ValidateFunctionParameter() \r\n    // name must be a string - validated on client and server\r\n    // if age is missing set 9 as default value\r\n    public async sayHello( @ValidateIsString() name: string, @DefaultParameterValue(9) age:number=9,context?:Context) {\r\n            //this runs serverside\r\n            return \"Hello3 \"+name+\"(\"+age+\")\";  //this would be execute on server  \r\n    }\r\n\r\n    @UseServer()\r\n    public static async info() {\r\n            //this runs serverside\r\n            try{\r\n                return \"static server runs on \"+(\\`Node.js version: \\${process.version}\\`);  //this would be execute on server  \r\n            }catch{\r\n                return \"static server runs on browser\";\r\n            }\r\n    }\r\n}\r\nexport async function test(){\r\n    console.log(await new {{name}}().sayHello(\"Kurtt\"));\r\n    console.log(await new {{name}}().sayHello(\"Kurtt\",10));\r\n    console.log(await {{name}}.info());\r\n\r\n}\r\n`;\r\n\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs_editor.template.TemplateRemoteObject\")\r\nexport class TemplateRemoteObject {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/RemoteObject\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory()&&all[0].fullpath.split(\"/\").length>1&&all[0].fullpath.split(\"/\")[1]===\"remote\";\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\r\n        var res = await OptionDialog.show(\"Enter RemoteObject name:\", [\"ok\", \"cancel\"], undefined, true, \"MyRemoteObject\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n\t    \tvar scode=code.replaceAll(\"{{name}}\",res.text);\r\n\t    \tscode=scode.replaceAll(\"{{fullclassname}}\",(all[0].fullpath+\"/\"+res.text).replaceAll(\"/\",\".\"));\r\n\t    \tFileActions.newFile(all,res.text+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport registry from \"jassijs/remote/Registry\";\nimport \"jquery.choosen\";\nimport {mytypescript} from \"jassijs_editor/util/Typescript\";\nimport { Parser, ParsedClass } from \"jassijs_editor/util/Parser\";\nimport { TemplateDBObject } from \"jassijs_editor/template/TemplateDBObject\";\nimport { Tools } from \"jassijs/util/Tools\";\nimport { Server } from \"jassijs/remote/Server\";\nimport windows from \"jassijs/base/Windows\";\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\"; \n\n\nexport class DatabaseField { \n    name: string;\n    type: string;\n    relation: string;\n    properties: any;\n    inverseSide: string;\n    join: boolean;\n\n\n    get nullable(): boolean {\n        return this.properties?.nullable;\n    }\n    set nullable(value: boolean) {\n        if (value === undefined) {\n            if (this.properties)\n                delete this.properties.nullable;\n            return;\n        }\n\n        if (DatabaseSchema.basicdatatypes.indexOf(this.type) === -1 || this.relation) {\n            if (value === undefined)\n                return;\n            throw \"This field could not be nullable\";\n        }\n        if (this.properties === undefined)\n            this.properties = {};\n        this.properties.nullable = value;\n\n    }\n    private parent: DatabaseClass;\n    getReverseField(): DatabaseField {\n        if (this.inverseSide && this.inverseSide !== \"\") {\n            if (this.inverseSide.indexOf(\".\") === -1)\n                return undefined;\n            var sp = this.inverseSide.split(\".\");\n            var clname = this.type.replace(\"[]\", \"\")\n            var cl = this.parent.parent.getClass(clname);\n            if (!cl)\n                return undefined;\n            return cl.getField(sp[1]);\n        }\n        return undefined;\n    }\n\n    /**\n     * looks possible relations in the type class\n     **/\n    getPossibleRelations(): string[] {\n        if (this.name === \"id\")\n            return [\"PrimaryColumn\", \"PrimaryGeneratedColumn\"];\n\n        if (!this.type || DatabaseSchema.basicdatatypes.indexOf(this.type) >= 0)\n            return [];\n        var values = [];\n        if (this.type.endsWith(\"[]\")) {\n            values = [\"\", \"OneToMany\", \"ManyToMany\"];\n        } else\n            values = [\"\", \"OneToOne\", \"ManyToOne\"];\n        var cl = this.type.replace(\"[]\", \"\");\n        var parentcl = this.parent.name;\n        var relclass = this.parent.parent.getClass(cl);\n        for (var x = 0; x < relclass.fields.length; x++) {\n            var relfield = relclass.fields[x];\n            if (this.type.endsWith(\"[]\")) {\n\n                if (relfield.type === parentcl) {\n                    //OneToMany\n                    values.push(\"e.\" + relfield.name);\n                }\n                if (relfield.type === (parentcl + \"[]\")) {\n                    //ManyToMany\n                    values.push(\"e.\" + relfield.name);\n                    values.push(\"e.\" + relfield.name + \"(join)\");\n                }\n            } else {\n\n                if (relfield.type === parentcl) {\n                    //OneToOne\n                    values.push(\"e.\" + relfield.name);\n                    values.push(\"e.\" + relfield.name + \"(join)\");\n                }\n                if (relfield.type === (parentcl + \"[]\")) {\n                    //ManyToOne\n                    values.push(\"e.\" + relfield.name);\n                }\n            }\n        }\n        return values;\n    }\n    get relationinfo(): string {\n        if (this.relation === \"OneToOne\" || this.relation === \"ManyToMany\" || this.relation === \"ManyToOne\" || this.relation === \"OneToMany\") {\n            if (this.inverseSide) {\n                return this.inverseSide + (this.join ? \"(join)\" : \"\");\n            } else {\n                return this.relation;\n            }\n        } else if (this.relation === \"PrimaryColumn\" || this.relation === \"PrimaryGeneratedColumn\")\n            return this.relation;\n        else\n            return undefined;\n    }\n    set relationinfo(value: string) {\n        if (value === \"\")\n            value = undefined;\n        if (value === undefined) {\n            this.relation = undefined;\n            //  return;\n        }\n        if (value === \"PrimaryColumn\" || value === \"PrimaryGeneratedColumn\") {\n            if (this.name === \"id\")\n                this.relation = value;\n            return;\n        }\n        if (value === undefined || value === \"OneToOne\" || value === \"ManyToMany\" || value === \"ManyToOne\" || value === \"OneToMany\") {\n\n            var old = this.getReverseField();\n            if (old !== undefined)\n                old.inverseSide = undefined;//delete the relation on the reverse side\n            this.relation = value;\n            this.inverseSide = undefined;\n        } else {\n            var oval = value;\n            if (oval.endsWith(\"(join)\")) {\n                oval = oval.replace(\"(join)\", \"\");\n                this.join = true;\n            } else\n                this.join = false;\n            this.inverseSide = oval;\n            var rfield = this.getReverseField();\n\n            if (rfield === undefined) {\n\n                this.inverseSide = undefined;\n                throw Error(\"relation not found\")\n            }\n            //set the relation on the reverse side\n            if (!rfield.inverseSide?.endsWith(\".\" + this.name))\n                rfield.inverseSide = \"e.\" + this.name;\n            if (this.type.endsWith(\"[]\")) {\n                if (rfield.type.endsWith(\"[]\")) {\n                    this.relation = \"ManyToMany\";\n                    //sets the join in the other\n                    rfield.join = !this.join;\n\n                } else {\n                    this.relation = \"OneToMany\";\n                }\n            } else {\n                if (rfield.type.endsWith(\"[]\")) {\n                    this.relation = \"ManyToOne\";\n                } else {\n                    this.relation = \"OneToOne\";\n                    //sets the join in the other\n                    rfield.join = !this.join;\n                }\n            }\n        }\n    }\n\n}\nexport class DatabaseClass {\n    filename: string;\n    name: string;\n    fields: DatabaseField[] = [];\n    properties: any;\n    parent: DatabaseSchema;\n    simpleclassname: string;\n    getField(name: string): DatabaseField {\n        for (var x = 0; x < this.fields.length; x++) {\n            var cl = this.fields[x];\n            if (cl.name === name)\n                return cl;\n        };\n        return undefined;\n    }\n}\n\nvar classnode = undefined;\n@$Class(\"jassijs_editor.util.DatabaseSchema\")\nexport class DatabaseSchema {\n    static basicdatatypes = [\"string\", \"int\", \"decimal\", \"boolean\", \"Date\"];\n    databaseClasses: DatabaseClass[] = [];\n    private parsedClasses: { [classname: string]: ParsedClass };\n    //AR|de/AR\n    private definedImports: { [importname: string]: ParsedClass };\n    getClass(name: string): DatabaseClass {\n        for (var x = 0; x < this.databaseClasses.length; x++) {\n            var cl = this.databaseClasses[x];\n            if (cl.name === name)\n                return cl;\n        };\n        return undefined;\n    }\n\n    //type => ARZeile\n    private getFulltype(type: string, parsedClass: ParsedClass): ParsedClass {\n        var pos = type.lastIndexOf(\">\");\n        if (pos > -1)\n            type = type.substring(pos + 1).trim();\n        var file = parsedClass.parent.imports[type];\n        if (type === parsedClass.name)\n            return parsedClass;\n        var ret = this.definedImports[type + \"|\" + file];\n        if (!ret) {\n            throw Error(\"Import not found \" + parsedClass.fullClassname + \" : \" + type);\n        }\n        return ret;\n    }\n    private createDBClass(cl: DatabaseClass) {\n        var scode = TemplateDBObject.code.replaceAll(\"{{fullclassname}}\", cl.name);\n        var file = cl.name.replaceAll(\".\", \"/\") + \".ts\";\n        file = file.substring(0, file.indexOf(\"/\")) + \"/remote\" + \"/\" + file.substring(file.indexOf(\"/\") + 1);\n        cl.filename = file;\n        cl.simpleclassname = cl.name.split(\".\")[cl.name.split(\".\").length - 1];\n        scode = scode.replaceAll(\"{{classname}}\", cl.simpleclassname);\n        scode = scode.replaceAll(\"{{PrimaryAnnotator}}\", \"@\" + cl.getField(\"id\").relation + \"()\");\n        var parser = new Parser();\n        parser.parse(scode);\n        for (var key in parser.classes) {\n            var pclass = parser.classes[key];\n            pclass[\"filename\"] = file;\n            if (pclass.decorator[\"$DBObject\"]) {\n                //var dbclass=pclass.decorator[\"$Class\"].param[0];\n                this.parsedClasses[pclass.fullClassname] = pclass;\n                this.definedImports[pclass.name + \"|\" + file.substring(0, file.length - 3)] = pclass;\n            }\n        }\n    }\n    private createDBField(field: DatabaseField, dbcl: DatabaseClass) {\n        var decs = {};\n        if ((field.join || field.inverseSide === undefined || field.inverseSide === \"\") && field.relation === \"OneToOne\")\n            decs[\"JoinColumn\"] = { name: \"JoinColumn\", parameter: [] };\n        if ((field.join || field.inverseSide === undefined || field.inverseSide === \"\") && field.join && field.relation === \"ManyToMany\")\n            decs[\"JoinTable\"] = { name: \"JoinTable\", parameter: [] };\n\n\n        var realtype = field.type;\n        var realprops = field.properties;\n        if (field.type === \"decimal\") {\n            realtype = \"number\";\n            if (!realprops)\n                realprops = {};\n            realprops.type = \"decimal\";\n        }\n        if (field.type === \"int\")\n            realtype = \"number\";\n        var s = realprops ? Tools.objectToJson(realprops, undefined, false)?.replaceAll(\"\\n\", \"\") : undefined;\n\n        var p = undefined;\n        if (!field.relation || field.relation === \"\") {\n            if (s)\n                p = [s];\n            decs[\"Column\"] = { name: \"Column\", parameter: p };\n        } else if (field.relation === \"PrimaryColumn\" || field.relation === \"PrimaryGeneratedColumn\") {\n            if (s)\n                p = [s];\n            decs[field.relation] = { name: field.relation, parameter: p };\n        } else {\n            var params = [];\n            var tcl = field.type.replace(\"[]\", \"\");\n\n            realtype = this.getClass(tcl).simpleclassname;\n            if (dbcl.name !== tcl)\n                this.parsedClasses[dbcl.name].parent.addImportIfNeeded(realtype, this.getClass(tcl).filename.substring(0, this.getClass(tcl).filename.length - 3));\n            let scl = tcl;\n            if (scl.indexOf(\".\") > -1) {\n                scl = scl.substring(scl.lastIndexOf(\".\") + 1);\n            }\n            params.push(\"type => \" + scl);\n            if (field.inverseSide && field.inverseSide !== \"\")\n                params.push(\"e=>\" + field.inverseSide);\n            if (s)\n                params.push(s);\n            decs[field.relation] = { name: field.relation, parameter: params };\n        }\n        this.parsedClasses[dbcl.name].parent.addOrModifyMember({ name: field.name, type: realtype, decorator: decs }, this.parsedClasses[dbcl.name]);\n    }\n    private async reloadCodeInEditor(file: string, text: string) {\n        var editor = windows.findComponent(\"jassijs_editor.CodeEditor-\" + file);\n        if (editor !== undefined) {\n\n            if (editor._codeToReload === undefined) {\n\n                var data = await OptionDialog.show(\"The source was updated in Chrome. Do you want to load this modification?\", [\"Yes\", \"No\"], editor, false);\n                if (data.button === \"Yes\")\n                    editor.value = text;\n                delete editor._codeToReload;\n\n            }\n        }\n    }\n    async updateSchema(onlyPreview: boolean = false): Promise<string> {\n        ///todo wenn kein basicfieldtype muss eine Beziehung hinterlegt sein throw Error\n        var changes = \"\";\n        var org = new DatabaseSchema();\n        await org.loadSchemaFromCode();\n        var modifiedclasses: DatabaseClass[] = [];\n        //check relations\n        for (var x = 0; x < this.databaseClasses.length; x++) {\n            var dbcl = this.databaseClasses[x];\n            for (var y = 0; y < dbcl.fields.length; y++) {\n                let f = dbcl.fields[y];\n                if (DatabaseSchema.basicdatatypes.indexOf(f.type) === -1 && (f.relation === undefined || f.relation === \"\"))\n                    throw Error(\"Relation must be filled \" + dbcl.name + \" field \" + f.name);\n            }\n        }\n        for (var x = 0; x < this.databaseClasses.length; x++) {\n            var dbcl = this.databaseClasses[x];\n            if (org.getClass(dbcl.name) === undefined) {\n                changes += \"create class \" + dbcl.name + \"\\n\";\n                modifiedclasses.push(dbcl);\n                if (!onlyPreview) {\n                    this.createDBClass(dbcl);\n                }\n            }\n            for (var y = 0; y < dbcl.fields.length; y++) {\n                var field = dbcl.fields[y];\n                var forg = org.getClass(dbcl.name)?.getField(field.name);\n                if (org.getClass(dbcl.name) === undefined || forg === undefined) {\n                    changes += \"create field \" + dbcl.name + \": \" + field.name + \"\\n\";\n                    if (modifiedclasses.indexOf(dbcl) === -1)\n                        modifiedclasses.push(dbcl);\n                    if (!onlyPreview) {\n                        this.createDBField(field, dbcl);\n                    }\n                } else {\n                    var jfield = JSON.stringify(field.properties);\n                    var jorg = JSON.stringify(forg.properties);\n                    var fieldjoin = field.join;\n                    if (fieldjoin === false)\n                        fieldjoin = undefined;\n                    if (field.type !== forg.type || field.inverseSide !== forg.inverseSide || field.relation !== forg.relation || jfield !== jorg || fieldjoin !== forg.join) {\n                        changes += \"modify deorator field \" + dbcl.name + \": \" + field.name + \"\\n\";\n                        if (modifiedclasses.indexOf(dbcl) === -1)\n                            modifiedclasses.push(dbcl);\n                        if (!onlyPreview) {\n                            this.createDBField(field, dbcl);\n                        }\n                    }\n                }\n            }\n        }\n\n        var files: string[] = [];\n        var contents: string[] = [];\n        if (!onlyPreview) {\n            for (var x = 0; x < modifiedclasses.length; x++) {\n                var mcl = modifiedclasses[x];\n                var text = this.parsedClasses[mcl.name].parent.getModifiedCode();\n                files.push(mcl.filename);\n                contents.push(text);\n                // console.log(mcl.filename + \"\\n\");\n                //  console.log(text + \"\\n\");\n\n            }\n            try {\n                await new Server().saveFiles(files, contents);\n                for (var y = 0; y < files.length; y++)\n                    await this.reloadCodeInEditor(files[y], contents[y]);\n            } catch (perr) {\n                alert(perr.message);\n            }\n        }\n        return changes;\n    }\n    private async parseFiles() {\n        this.parsedClasses = {};\n        this.definedImports = {};\n        await mytypescript.waitForInited;\n        var data = await registry.getJSONData(\"$DBObject\");\n        for (let x = 0; x < data.length; x++) {\n            var entr = data[x];\n            var parser = new Parser();\n            var file = entr.filename;\n            var code = mytypescript.getCode(file);\n           // if (code === undefined)\n           //     code = await new Server().loadFile(file);\n         if (code !== undefined) {\n                try {\n                    parser.parse(code);\n                } catch (err) {\n                    console.error(\"error in parsing \" + file);\n                    throw err;\n                }\n                for (var key in parser.classes) {\n                    var pclass = parser.classes[key];\n                    pclass[\"filename\"] = file;\n                    if (pclass.decorator[\"$DBObject\"]) {\n                        //var dbclass=pclass.decorator[\"$Class\"].param[0];\n                        this.parsedClasses[pclass.fullClassname] = pclass;\n                        this.definedImports[pclass.name + \"|\" + file.substring(0, file.length - 3)] = pclass;\n                    }\n                }\n            }\n        }\n    }\n    async loadSchemaFromCode() {\n        await this.parseFiles();\n        //await registry.loadAllFilesForService(\"$DBObject\")\n        await registry.reload();\n        var data = registry.getJSONData(\"$DBObject\");\n        this.databaseClasses = [];\n        var _this = this;\n        (await data).forEach((entr) => {\n            var dbclass = new DatabaseClass();\n            dbclass.name = entr.classname;\n            dbclass.parent = _this;\n            this.databaseClasses.push(dbclass);\n            var pclass = this.parsedClasses[entr.classname];\n            if (pclass) {\n                dbclass.filename = pclass[\"filename\"];\n                dbclass.simpleclassname = pclass.name;\n                dbclass.name = pclass.fullClassname;\n                for (var fname in pclass.members) {\n                    var pfield = pclass.members[fname];\n                    if (!pfield.decorator[\"Column\"] && !pfield.decorator[\"PrimaryColumn\"] && !pfield.decorator[\"PrimaryGeneratedColumn\"] && !pfield.decorator[\"OneToOne\"] && !pfield.decorator[\"ManyToOne\"] && !pfield.decorator[\"OneToMany\"] && !pfield.decorator[\"ManyToMany\"])\n                        continue;\n                    var field = new DatabaseField();\n                    field[\"parent\"] = dbclass;\n                    field.name = fname;\n                    dbclass.fields.push(field);\n                    var meta = pfield.decorator;\n\n                    if (meta[\"PrimaryColumn\"]) {\n                        field.relation = \"PrimaryColumn\";\n                    } else if (meta[\"PrimaryGeneratedColumn\"]) {\n                        field.relation = \"PrimaryColumn\";\n                    } else if (meta[\"Column\"]) {\n                        field.relation = undefined;\n\n                        //var mt=mtype[0][0];\n                        if (meta[\"Column\"].parameter.length > 0 && meta[\"Column\"].parameter.length > 0) {\n                            field.properties = meta[\"Column\"].parsedParameter[0];\n                        }\n\n                    } else if (meta[\"ManyToOne\"]) {\n                        field.relation = \"ManyToOne\";\n                        if (meta[\"ManyToOne\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"ManyToOne\"].parameter.length; x++) {\n                                let vd = meta[\"ManyToOne\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"ManyToOne\"].parameter[0], pclass).fullClassname;\n                                } else {\n                                    if (!meta[\"ManyToOne\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"ManyToOne\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                    } else if (meta[\"OneToMany\"]) {\n                        field.relation = \"OneToMany\";\n                        if (meta[\"OneToMany\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"OneToMany\"].parameter.length; x++) {\n                                let vd = meta[\"OneToMany\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"OneToMany\"].parameter[0], pclass).fullClassname + \"[]\";\n                                } else {\n                                    if (!meta[\"OneToMany\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"OneToMany\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                    } else if (meta[\"ManyToMany\"]) {\n                        field.relation = \"ManyToMany\";\n                        if (meta[\"ManyToMany\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"ManyToMany\"].parameter.length; x++) {\n                                let vd = meta[\"ManyToMany\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"ManyToMany\"].parameter[0], pclass).fullClassname + \"[]\";\n                                } else {\n                                    if (!meta[\"ManyToMany\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"ManyToMany\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                        if (meta[\"JoinTable\"])\n                            field.join = true;\n\n                    } else if (meta[\"OneToOne\"]) {\n                        field.relation = \"OneToOne\";\n                        if (meta[\"OneToOne\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"OneToOne\"].parameter.length; x++) {\n                                let vd = meta[\"OneToOne\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"OneToOne\"].parameter[0], pclass).fullClassname;\n                                } else {\n                                    if (!meta[\"OneToOne\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"OneToOne\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                        if (meta[\"JoinColumn\"])\n                            field.join = true;\n                    }\n\n                    if (meta[\"PrimaryColumn\"] || meta[\"PrimaryGeneratedColumn\"] || meta[\"Column\"]) {\n                        var tp = pfield.type;\n                        if (tp === \"string\")\n                            field.type = \"string\";\n                        else if (tp === \"number\")\n                            field.type = \"int\";\n                        else if (tp === \"boolean\")\n                            field.type = \"boolean\";\n                        else if (tp === \"Date\")\n                            field.type = \"Date\";\n                        else\n                            throw new Error(\"type unknown \" + dbclass.name + \":\" + field.name);\n                        if (field.properties !== undefined && field.properties[\"type\"]) {\n                            field.type = field.properties[\"type\"];\n                        }\n                    }\n                }\n            }\n\n        });\n    }\n\n}\n\n/*\n@$Class(\"jassijs.base.DatabaseColumnOptions\")\nclass ColumnOptions{\n//\t@$Property({type:\"string\",chooseFrom:DatabaseSchema.basicdatatypes,description:\"Column type. Must be one of the value from the ColumnTypes class.\"})\n  //  type?: ColumnType;\n    @$Property({description:\"Indicates if column's value can be set to NULL.\", default:false}) \n    nullable?: boolean;\n    @$Property({type:\"string\",description:\"Default database value.\"}) \n    default?: any;\n    @$Property({description:\"Indicates if column is always selected by QueryBuilder and find operations.\",default:true})\n    @$Property({description:'Column types length. Used only on some column types. For example type = \"string\" and length = \"100\" means that ORM will create a column with type varchar(100).'})\n    length?: number;\n    [name:string]:any;\n}*/\nexport async function test3() {\n    var schema = new DatabaseSchema();\n    await schema.loadSchemaFromCode();\n    var schema2 = new DatabaseSchema();\n    await schema2.loadSchemaFromCode();\n\n    var test = new DatabaseClass();\n    test.parent = schema2;\n    test.name = \"de.NeuerKunde\";\n    var testf = new DatabaseField();\n    testf.name = \"id\";\n    testf.type = \"int\";\n    testf.relation = \"PrimaryColumn\";\n    test.fields.push(testf);\n    schema2.databaseClasses.push(test);\n    var f = new DatabaseField();\n    f.name = \"hallo\";\n    f.type = \"string\";\n    schema2.getClass(\"de.AR\").fields.push(f);\n    schema2.getClass(\"de.AR\").getField(\"nummer\").properties = { nullable: false };\n    var text = await schema2.updateSchema(true);\n    //console.log(result);\n    //test.pop();\n    //schema.visitNode(sourceFile);\n\n}\n\nexport async function test2() {\n    var schema = new DatabaseSchema();\n    await schema.loadSchemaFromCode();\n    var h = schema.getClass(\"de.AR\").getField(\"kunde\");\n    var f = h.getReverseField();\n    var kk = f.relationinfo;\n    debugger;\n    f.relationinfo = kk;\n}\n\n\n\n\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Component } from \"jassijs/ui/Component\";\nimport \"jassijs/ext/jquerylib\";\n@$Class(\"jassijs_editor.util.DragAndDropper\")\nexport class DragAndDropper {\n    //called if a property has changed the position\n    public onpropertychanged: (component: Component, top: number, left: number, oldParent: Component, newParent: Component, beforeComponent: Component) => any;\n    //called if a property is added\n    public onpropertyadded: (typename: string, component: Component, top: number, left: number, newparent: number, beforecomponent: Component) => any;;\n    //the last drop has been canceled\n    private lastDropCanceled: boolean;\n    //all component id's which should be dragged\n    private allIDs: string;\n    //dragging is active\n    private _isDragging: boolean;\n    //all child Components can be drag and dropped\n    private parentPanel: Component;\n    //all draggable components\n    public draggableComponents: JQuery<Element>;\n    //all droppable Components\n    private droppableComponents: JQuery<Element>;\n    constructor() {\n        this.onpropertychanged = undefined;\n        this.onpropertyadded = undefined;\n        this.lastDropCanceled = false;\n        this.allIDs = \"\";\n    }\n    /**\n     * could be override to block dragging \n     */\n    public isDragEnabled(event: any, ui: any): boolean {\n        var mouse = event.target._this.dom.style.cursor;\n        if (mouse === \"e-resize\" || mouse === \"s-resize\" || mouse === \"se-resize\")\n            return true;\n        else\n            return false;\n    }\n    //dragging is active\n    public isDragging() {\n        return this._isDragging;\n    }\n    /*public activateDragging(enable:boolean) {\n        $(this.allIDs).find(\".jcontainer\").not(\".jdesigncontainer\").draggable(enable ? \"enable\" : \"disable\");\n    }*/\n    public enableDraggable(enable: boolean) {\n        //  this.onpropertychanged = undefined;\n        // this.onpropertyadded = undefined;\n\n        try{\n            if (this.draggableComponents !== undefined) {\n                if (!enable)\n                    this.draggableComponents.draggable('disable');\n                else\n                    this.draggableComponents.draggable('enable');\n            }\n        }catch{\n            console.log(\"fetched error\");;\n        }\n\n    }\n    private _drop(target, event, ui) {\n        var _this = this;\n        var newComponent = ui.draggable[0]._this;\n        var newParent = target._this;\n        var beforeComponent = target._this;\n        var designDummyAtEnd;\n        if (beforeComponent?.type === \"atEnd\") {\n            designDummyAtEnd = beforeComponent;\n            beforeComponent = undefined;\n            newParent = newParent.designDummyFor;\n        }\n        if (beforeComponent?.type === \"beforeComponent\") {\n            beforeComponent = newParent.designDummyFor;\n            newParent = newParent.designDummyFor._parent;\n        }\n        if (target._this.isAbsolute) {\n\n            var left = parseInt(ui.helper[0].style.left);\n            var top = parseInt(ui.helper[0].style.top);\n            if (ui.draggable[0]._this.createFromType !== undefined) {\n                var offsetNewParent = $(target._this.dom).offset();\n                left = -offsetNewParent.left + parseInt($(ui.helper).css('left'));\n                top = -offsetNewParent.top + parseInt($(ui.helper).css('top'));\n                //      ui.helper[0]._this.left=left;\n                //    ui.helper[0]._this.y=top;\n                if (this.onpropertyadded !== undefined)\n                    this.onpropertyadded(ui.draggable[0]._this.createFromType, newComponent, left, top, newParent, undefined);\n                return;\n            }\n            var oldParent = ui.draggable[0]._this._parent;\n            var pleft = $(newParent.dom).offset().left;\n            var ptop = $(newParent.dom).offset().top;\n            var oleft = $(oldParent.dom).offset().left;\n            var otop = $(oldParent.dom).offset().top;\n            left = left + oleft - pleft;\n            top = top + otop - ptop;\n            //snap to 5\n            if (top !== 1) {\n                top = Math.round(top / 5) * 5;\n            }\n            if (left !== 1) {\n                left = Math.round(left / 5) * 5;\n            }\n\n\n            oldParent.remove(ui.draggable[0]._this);\n            $(ui.draggable).css({ 'top': top, 'left': left, position: 'absolute' });\n            target._this.add(ui.draggable[0]._this);\n            if (_this.onpropertychanged !== undefined) {\n                _this.onpropertychanged(newComponent, left, top, oldParent, newParent, undefined);\n            }\n        } else {//relative layout\n\n            var oldParent = ui.draggable[0]._this._parent;\n\n            if (!$(newParent.domWrapper).hasClass(\"jcontainer\") && newParent._parent) {\n                newParent = newParent._parent;\n            }\n            $(ui.draggable).css({ 'top': \"\", 'left': \"\", \"position\": \"relative\" });\n            if (ui.draggable[0]._this.createFromType !== undefined) {\n                if (this.onpropertyadded !== undefined)\n                    this.onpropertyadded(newComponent.createFromType, ui.draggable[0]._this, undefined, undefined, newParent, beforeComponent);\n\n            } else {\n                //newParent.add(ui.draggable[0]._this);\n                if (target._this !== newParent)\n                    newParent.addBefore(ui.draggable[0]._this, target._this);\n                else\n                    newParent.add(ui.draggable[0]._this);\n                if (_this.onpropertychanged !== undefined) {\n                    _this.onpropertychanged(newComponent, undefined, undefined, oldParent, newParent, beforeComponent);\n                }\n            }\n\n        }\n        if (designDummyAtEnd) {//this Component should stand at last\n            var par = designDummyAtEnd._parent;\n            par.remove(designDummyAtEnd);\n            par.add(designDummyAtEnd);\n            par.designDummies.push(designDummyAtEnd);//bug insert dummy again\n        }\n    }\n\n    /**\n    * install the DragAndDropper\n    * all child jomponents are draggable\n    * all child containers are droppable\n    * @param  parentPanel - all childs are effected\n    * @param allIDs - ID's of all editable components e.g. #10,#12\n    * @returns {unresolved}\n    */\n    public install(parentPanel: Component, allIDs: string) {\n       \n        //$(this.parentPainer\");\n        var _this = this;\n        if (parentPanel !== undefined)\n            this.parentPanel = parentPanel;\n        if (allIDs !== undefined)\n            this.allIDs = allIDs;\n        var dcs = [];\n        this.allIDs.split(\",\").forEach((str) => {\n            let el = document.getElementById(str.substring(1));\n            if (el) {\n                var classes = el.classList;\n                if (classes.contains(\"jcomponent\") && !classes.contains(\"jdesigncontainer\") && !classes.contains(\"designerNoDraggable\"))\n                    dcs.push(document.getElementById(str.substring(1)));\n            }\n        });\n        //slow\n       // this.draggableComponents = $(this.allIDs).find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\");\n        this.draggableComponents = $(dcs);//.find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\");\n\n\n        this.draggableComponents.draggable({\n            cancel: \"false\",\n            revert: \"invalid\",\n            drag: function (event, ui) {\n\n                _this.lastDropCanceled = _this.isDragEnabled(event, ui);\n                setTimeout(function () {\n                    _this.lastDropCanceled = false;\n                }, 100);\n                return !_this.lastDropCanceled;\n            },\n            start: function () {\n                _this._isDragging = true;\n            },\n            stop: function () {\n                _this._isDragging = false;\n            },\n            //appendTo: \"body\"\n            helper: \"clone\",\n\n        });\n\n        //$(this.parentPanel.dom).find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\").draggable('disable');\n        //$(this.allIDs).find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\").draggable('enable');\n\n        this.draggableComponents.draggable('disable');\n        this.draggableComponents.draggable('enable');\n\n        var _this = this;\n        //all jcompoenents are proptargets                                         also jdesignummy     but no jcomponents in absolute Layout  no jcomponens that contains a jdesigndummy  absolutelayout container\n        this.droppableComponents = $(this.parentPanel.dom).parent().parent().find(\".jdesigndummy,.jcomponent:not(.jabsolutelayout>.jcomponent, :has(.jdesigndummy)),                      .jcontainer>.jabsolutelayout\")\n        //console.log(this.droppableComponents.length);\n        for (var c = 0; c < this.droppableComponents.length; c++) {\n            //  console.log(this.droppableComponents[c].id);\n        }\n        var isDropping = false;\n        var dropWnd;\n        var dropEvent;\n        var dropUI;\n        this.droppableComponents.droppable({\n            greedy: true,\n            hoverClass: \"ui-state-highlight\",\n            tolerance: \"pointer\",\n            drop: function (event, ui) {\n\n\n                //function is called for every Window in z-Index - we need the last one\n                if (_this.lastDropCanceled)\n                    return;\n                dropWnd = this;\n                dropEvent = event;\n                dropUI = ui;\n                if (!isDropping) {\n                    isDropping = true;\n                    window.setTimeout(function () {\n                        isDropping = false;\n                        _this._drop(dropWnd, dropEvent, dropUI);\n                    }, 50);\n                }\n            }\n        });\n        //this.droppableComponents.droppable(\"enable\");\n        //$(this.allIDs).eq(\".jcontainer\").not(\".jdesigncontainer\").droppable(\"enable\");\n        //$(this.allIDs).filter(\".jcontainer\").not(\".jdesigncontainer\").droppable(\"enable\");\n    }\n\n    /**\n     * uninstall the DragAndDropper\n     */\n    uninstall() {\n        this.onpropertychanged = undefined;\n        this.onpropertyadded = undefined;\n        // \t$(this.allIDs).eq(\".jcontainer\").not(\".jdesigncontainer\").droppable(\"disable\");  \n        //$(this.parentPanel.dom).parent().parent().find(\".jcontainer\").droppable(\"destroy\");\n        // var components=$(this.allIDs);\n        if (this.draggableComponents !== undefined) {\n\n            this.draggableComponents.draggable();\n            try{\n            this.draggableComponents.draggable('destroy');\n            }catch{\n                console.log(\"unable to destroy draganddrop\");\n            }\n            delete $.ui[\"ddmanager\"].current;//memory leak https://bugs.jqueryui.com/ticket/10667\n            this.draggableComponents = undefined;\n        }\n        if (this.droppableComponents !== undefined) {\n            this.droppableComponents.droppable();\n            this.droppableComponents.droppable(\"destroy\");\n        }\n    }\n}\n","\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\n\r\n//import \"typescript\";\r\n\r\nimport { Tests } from \"jassijs_editor/util/Tests\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\nimport { JassiError } from \"jassijs/remote/Classes\";\r\nimport { mytypescript } from \"jassijs_editor/util/Typescript\";\r\n\r\n\r\ninterface Properties {\r\n    [details: string]: Entry;\r\n}\r\ninterface Entry {\r\n    value?: any;\r\n    node?: ts.Node;\r\n    isFunction: boolean;\r\n    isJc?: boolean;\r\n    className?: string;\r\n}\r\nclass ParsedDecorator {\r\n    node?: ts.Decorator;\r\n    name?: string;\r\n    parsedParameter?: object[] = [];\r\n    parameter?: string[] = [];\r\n\r\n}\r\nclass ParsedMember {\r\n    node?: ts.Node;\r\n    name?: string;\r\n    decorator?: { [name: string]: ParsedDecorator } = {};\r\n    type?: string;\r\n}\r\nexport class ParsedClass {\r\n    parent?: Parser;\r\n    node?: ts.ClassElement;\r\n    name?: string;\r\n    fullClassname?: string;\r\n    members?: { [name: string]: ParsedMember } = {};\r\n    decorator?: { [name: string]: ParsedDecorator } = {};\r\n}\r\n\r\n@$Class(\"jassijs_editor.util.Parser\")\r\nexport class Parser {\r\n    isJSX: boolean = false;\r\n    sourceFile: ts.SourceFile = undefined;\r\n    refsNode: ts.Node;\r\n    refs: { [name: string]: Entry } = {};\r\n    classes: { [name: string]: ParsedClass } = {};\r\n    imports: { [name: string]: string } = {};\r\n    functions: { [name: string]: ts.Node } = {};\r\n    variables: { [name: string]: ts.Node } = {};\r\n    classScope: { classname: string, methodname: string }[];\r\n    variabelStack: any;\r\n    code: string;\r\n    /**\r\n    * @member {Object.<string,Object.<string,[object]>> - all properties\r\n    * e.g. data[\"textbox1\"][value]->Entry\r\n    */\r\n    data: { [variable: string]: { [property: string]: Entry[] } };\r\n    /**\r\n     * parses Code for UI relevant settings\r\n     * @class jassijs_editor.util.Parser\r\n     */\r\n    constructor() {\r\n\r\n        this.data = {};\r\n        /** {[string]} - all code lines*/\r\n    }\r\n\r\n    getModifiedCode(): string {\r\n        const printer = ts.createPrinter({ newLine: ts.NewLineKind.LineFeed });\r\n        const resultFile = ts.createSourceFile(\"dummy.ts\", \"\", ts.ScriptTarget.Latest, /*setParentNodes*/ false, this.isJSX ? ts.ScriptKind.TSX : ts.ScriptKind.TS);\r\n        var result = printer.printNode(ts.EmitHint.Unspecified, this.sourceFile, resultFile);\r\n        result = this.reformatCode(result);\r\n        return result;\r\n    }\r\n    updateCode() {\r\n\r\n        //nothing\r\n    }\r\n    reformatCode(code: string): string {\r\n\r\n        const serviceHost: ts.LanguageServiceHost = {\r\n            getScriptFileNames: () => [],\r\n            getScriptVersion: fileName => \"1.0\",\r\n            getScriptSnapshot: fileName => {\r\n                return ts.ScriptSnapshot.fromString(code);\r\n            },\r\n            getCurrentDirectory: () => \"\",\r\n            getCompilationSettings: () => <any>{},\r\n            getDefaultLibFileName: options => ts.getDefaultLibFilePath(options),\r\n            fileExists: (a) => false,\r\n            readFile: (a) => code,\r\n            readDirectory: (a) => []\r\n        };\r\n        var file = this.variabelStack ? \"tempdoc.tsx\" : \"tempdoc.ts\";\r\n        const languageService = ts.createLanguageService(serviceHost, ts.createDocumentRegistry());\r\n        const textChanges = languageService.getFormattingEditsForDocument(file, {\r\n            convertTabsToSpaces: true,\r\n\r\n            //  indentMultiLineObjectLiteralBeginningOnBlankLine:true,\r\n            // PlaceOpenBraceOnNewLineForFunctions:true,\r\n            //   insertSpaceAfterCommaDelimiter: true,\r\n            //  insertSpaceAfterKeywordsInControlFlowStatements: true,\r\n            // insertSpaceBeforeAndAfterBinaryOperators: true,\r\n            newLineCharacter: \"\\n\",\r\n            indentStyle: ts.IndentStyle.Smart,\r\n            indentSize: 4,\r\n            tabSize: 4\r\n        });\r\n\r\n        let finalText = code;\r\n        var arr = textChanges.sort((a, b) => b.span.start - a.span.start);\r\n        for (var x = 0; x < arr.length; x++) {\r\n            var textChange = arr[x];\r\n            const { span } = textChange;\r\n            finalText = finalText.slice(0, span.start) + textChange.newText\r\n                + finalText.slice(span.start + span.length);\r\n        }\r\n        return finalText;\r\n    }\r\n\r\n\r\n    /**\r\n     * add a property\r\n     * @param {string} variable - name of the variable\r\n     * @param {string} property - name of the property\r\n     * @param {string} value  - code - the value\r\n     * @param node - the node of the statement\r\n     */\r\n    private add(variable: string, property: string, value: string, node: ts.Node, isFunction = false, trim = true, isJc = false) {\r\n        var ret;\r\n        if (value === undefined || value === null)\r\n            return;\r\n        if (trim && (typeof value === \"string\"))\r\n            value = value.trim();\r\n        property = property.trim();\r\n        if (this.data[variable] === undefined) {\r\n            this.data[variable] = {};\r\n        }\r\n        if (this.data[variable][property] === undefined) {\r\n            this.data[variable][property] = [];\r\n        }\r\n        if (Array.isArray(this.data[variable][property])) {\r\n            ret = {\r\n                value: value,\r\n                node: node,\r\n                isFunction,\r\n                isJc: isJc\r\n            };\r\n            this.data[variable][property].push(ret);\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * read a property value from code\r\n     * @param {string} variable - the name of the variable \r\n     * @param {string} property - the name of the property\r\n     */\r\n    getPropertyValue(variable, property): any {\r\n        if (this.data[variable] !== undefined) {\r\n            if (this.data[variable][property] !== undefined) {\r\n                var ret = this.data[variable][property][0].value;\r\n                return ret;\r\n            }\r\n        }\r\n        return undefined;\r\n        /* variable=\"this.\"+variable;\r\n         if(this.data[variable]!==undefined){\r\n             if(this.data[variable][property]!==undefined){\r\n                 return this.data[variable][property][0].value;\r\n             }\r\n         }*/\r\n        //this \r\n        //   var value=this.propertyEditor.parser.getPropertyValue(this.variablename,this.property.name);\r\n\r\n    }\r\n\r\n    addRef(name: string, type: string) {\r\n        if (!this.refsNode)\r\n            return;\r\n        var tp = ts.factory.createTypeReferenceNode(type, []);\r\n        var newnode = ts.factory.createPropertySignature(undefined, name + \"?\", undefined, tp);\r\n        //@ts-ignore\r\n        newnode.parent = this.refsNode;\r\n        this.refs[name] = { node: newnode, value: type, isFunction: false };\r\n        this.refsNode[\"members\"].push(newnode);\r\n    }\r\n    /**\r\n     * add import {name} from file\r\n     * @param name \r\n     * @param file \r\n     */\r\n    addImportIfNeeded(name: string, file: string) {\r\n        if (this.imports[name] === undefined) {\r\n            //@ts-ignore\r\n            //            var imp = ts.createNamedImports([ts.createImportSpecifier(false, undefined, ts.createIdentifier(name))]);\r\n            const importNode = ts.factory.createImportDeclaration(undefined, ts.factory.createImportClause(false, ts.factory.createIdentifier(\"{\" + name + \"}\"), undefined), ts.factory.createIdentifier(\"\\\"\" + file + \"\\\"\"));\r\n            this.sourceFile = ts.factory.updateSourceFile(this.sourceFile, [importNode, ...this.sourceFile.statements]);\r\n            this.imports[name] = file;\r\n        }\r\n    }\r\n    private parseRefsNode(node: ts.Node) {\r\n        var _this = this;\r\n        if (node.kind === ts.SyntaxKind.TypeLiteral) {\r\n            if (node[\"members\"])\r\n                this.refsNode = node;\r\n            node[\"members\"].forEach(function (tnode: any) {\r\n                if (tnode.name) {\r\n                    var name = tnode.name.text;\r\n                    var stype = tnode.type.typeName.text;\r\n                    _this.refs[name] = { node: tnode, value: stype, isFunction: false };\r\n                }\r\n                //            this.add(\"me\", name, \"typedeclaration:\" + stype, undefined, aline, aline);\r\n            });\r\n        }\r\n        node.getChildren().forEach(c => this.parseRefsNode(c));\r\n    }\r\n    private convertArgument(arg: any) {\r\n        if (arg === undefined)\r\n            return undefined;\r\n\r\n        if (arg.kind === ts.SyntaxKind.ObjectLiteralExpression) {\r\n            var ret = {};\r\n            var props = arg.properties;\r\n            if (props !== undefined) {\r\n                for (var p = 0; p < props.length; p++) {\r\n                    ret[props[p].name.text] = this.convertArgument(props[p].initializer);\r\n                }\r\n            }\r\n            return ret;\r\n        } else if (arg.kind === ts.SyntaxKind.StringLiteral) {\r\n            return arg.text;\r\n        } else if (arg.kind === ts.SyntaxKind.ArrayLiteralExpression) {\r\n            let ret = [];\r\n            for (var p = 0; p < arg.elements.length; p++) {\r\n                ret.push(this.convertArgument(arg.elements[p]));\r\n            }\r\n            return ret;\r\n        } else if (arg.kind === ts.SyntaxKind.Identifier) {\r\n            return arg.text;\r\n        } else if (arg.kind === ts.SyntaxKind.TrueKeyword) {\r\n            return true;\r\n        } else if (arg.kind === ts.SyntaxKind.FalseKeyword) {\r\n            return false;\r\n        } else if (arg.kind === ts.SyntaxKind.NumericLiteral) {\r\n            return Number(arg.text);\r\n        } else if (arg.kind === ts.SyntaxKind.ArrowFunction || arg.kind === ts.SyntaxKind.FunctionExpression) {\r\n            return arg.getText();\r\n        }\r\n\r\n        throw new JassiError(\"Error type not found\");\r\n    }\r\n    private parseDecorator(dec: ts.Decorator): ParsedDecorator {\r\n        var ex: any = dec.expression;\r\n        var ret = new ParsedDecorator();\r\n        if (ex.expression === undefined) {\r\n            ret.name = ex.text;\r\n        } else {\r\n\r\n            ret.name = ex.expression.escapedText;\r\n            if (ex.expression !== undefined) {\r\n                for (var a = 0; a < ex.arguments.length; a++) {\r\n                    ret.parsedParameter.push(this.convertArgument(ex.arguments[a]));\r\n                    ret.parameter.push(ex.arguments[a].getText());\r\n                }\r\n\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    private parseClass(node: ts.ClassElement) {\r\n        if (node.kind === ts.SyntaxKind.ClassDeclaration) {\r\n            var parsedClass = new ParsedClass();\r\n            parsedClass.parent = this;\r\n            parsedClass.name = node.name.getText();\r\n            parsedClass.node = node;\r\n            this.classes[parsedClass.name] = parsedClass;\r\n            if (node[\"modifiers\"] !== undefined) {\r\n                for (var m = 0; m < node[\"modifiers\"].length; m++) {\r\n                    var nd: ts.Decorator = node[\"modifiers\"][m];\r\n                    if (nd.kind === ts.SyntaxKind.Decorator) {\r\n                        var parsedDec = this.parseDecorator(nd);\r\n                        parsedClass.decorator[parsedDec.name] = parsedDec;\r\n                        if (parsedClass.decorator[\"$Class\"] && parsedDec.parameter.length > 0)\r\n                            parsedClass.fullClassname = parsedDec.parameter[0].replaceAll('\"', \"\");\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            for (var x = 0; x < node[\"members\"].length; x++) {\r\n                var parsedMem = new ParsedMember()\r\n                var mem = node[\"members\"][x];\r\n                if (mem.name === undefined)\r\n                    continue;//Constructor\r\n                parsedMem.name = mem.name.escapedText;\r\n                parsedMem.node = node[\"members\"][x];\r\n                parsedMem.type = (mem.type ? mem.type.getFullText().trim() : undefined);\r\n                parsedClass.members[parsedMem.name] = parsedMem;\r\n                var params = [];\r\n                if (mem.decorators) {\r\n                    for (let i = 0; i < mem.decorators.length; i++) {\r\n                        let parsedDec = this.parseDecorator(mem.decorators[i]);\r\n                        parsedMem.decorator[parsedDec.name] = parsedDec;\r\n                    }\r\n                }\r\n            }\r\n            if (this.classScope) {\r\n                for (let x = 0; x < this.classScope.length; x++) {\r\n                    var col = this.classScope[x];\r\n                    if (col.classname === parsedClass.name && parsedClass.members[col.methodname]) {\r\n                        var nd2 = parsedClass.members[col.methodname].node;\r\n                        this.parseProperties(nd2);\r\n                    }\r\n                }\r\n            } else if (this.classScope === undefined) {\r\n                for (var key in parsedClass.members) {\r\n                    this.parseProperties(parsedClass.members[key].node);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n    private parseConfig(node: ts.CallExpression) {\r\n        if (node.arguments.length > 0) {\r\n            var left = node.expression.getText();\r\n            var lastpos = left.lastIndexOf(\".\");\r\n            var variable = left;\r\n            var prop = \"\";\r\n            if (lastpos !== -1) {\r\n                variable = left.substring(0, lastpos);\r\n                prop = left.substring(lastpos + 1);\r\n                //@ts-ignore\r\n                var props: any[] = node.arguments[0].properties;\r\n                if (props !== undefined) {\r\n                    for (var p = 0; p < props.length; p++) {\r\n                        var name = props[p].name.text;\r\n                        // var value = this.convertArgument(props[p].initializer);\r\n                        var code: string = props[p].initializer ? props[p].initializer.getText() : \"\";\r\n                        if (code?.indexOf(\".config\") > -1) {\r\n                            this.parseProperties(props[p].initializer);\r\n                        }\r\n                        this.add(variable, name, code, props[p], false);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private parseJC(node: ts.CallExpression, parent = undefined) {\r\n        var nd: ts.JsxElement = <any>node;\r\n        var element = node;\r\n        var diff = node.expression.getFullText().length - node.expression.getText().length + \"jc\".length;\r\n        if (this.variabelStack === undefined) {\r\n            console.error(\"this.variabelStack undefined\");\r\n            return;\r\n        }\r\n\r\n        var jsx = this.variabelStack[element.pos + diff];\r\n        /*        if (jsx === undefined)\r\n                    jsx = this.variabelStack[element.pos];\r\n                if (jsx === undefined)\r\n                    jsx = this.variabelStack[element.pos + 1];*/\r\n        if (jsx && node.arguments.length > 0) {\r\n            var tagname = node.arguments[0].getFullText();\r\n            //find varname\r\n\r\n            jsx.autoGenerated = true;\r\n            if (node.arguments.length > 1) {\r\n\r\n                props = node.arguments[1];\r\n                for (var x = 0; x < props.properties.length; x++) {\r\n                    var prop = props.properties[x];\r\n                    if ((<any>prop.name).text === \"ref\") {\r\n                        var val: string = prop[\"initializer\"].getText();\r\n                        if ((<any>prop.name).text === \"children\")\r\n                            children = prop;\r\n                        //if (val.startsWith(\"{\") && val.endsWith(\"}\"))\r\n                        //   val = val.substring(1, val.length - 1);\r\n                        if (val.startsWith(\"this.\"))\r\n                            val = val.substring(5);\r\n                        if (val.startsWith(\"refs.\"))\r\n                            val = val.substring(5);\r\n\r\n                        jsx.name = val;\r\n                        jsx.autoGenerated = false;\r\n                    }\r\n                }\r\n            }\r\n            if (jsx.autoGenerated)\r\n                jsx.name = this.getNextVariableNameForType(jsx.name);\r\n            this.variabelStack[jsx.name] = jsx;\r\n            nd[\"jname\"] = jsx.name;\r\n            var toAdd = this.add(jsx.name, \"_new_\", nd.getFullText(this.sourceFile), node, false, false, true);\r\n            toAdd.className = tagname;\r\n            var props: any;\r\n            var children;\r\n\r\n            if (jsx && node.arguments.length > 1) {\r\n\r\n                props = node.arguments[1];\r\n                for (var x = 0; x < props.properties.length; x++) {\r\n                    var prop = props.properties[x];\r\n                    var val: string = prop[\"initializer\"].getText();\r\n                    if ((<any>prop.name).text === \"children\")\r\n                        children = prop;\r\n                    //if (val.startsWith(\"{\") && val.endsWith(\"}\"))\r\n                    //  val = val.substring(1, val.length - 1);\r\n                    var sname = (<any>prop.name).text;\r\n                    if (sname === \"children\")\r\n                        sname = \"add\";\r\n                    this.add(jsx.name, sname, val, prop, false, false, true);\r\n                }\r\n            }\r\n\r\n\r\n            if (jsx.component.constructor.name === 'HTMLComponent') {\r\n                this.add(jsx.name, \"tag\", tagname, undefined, false, false, true);\r\n            }\r\n            if ((<any>node.parent)?.jname !== undefined) {\r\n                this.add((<any>node.parent)?.jname, \"add\", jsx.name, node, false, false, true);\r\n            }\r\n            if (children?.initializer?.elements) {\r\n                for (var x = 0; x < children.initializer.elements.length; x++) {\r\n                    var ch: any = children.initializer.elements[x];\r\n                    if (ch.kind === ts.SyntaxKind.StringLiteral) {\r\n\r\n                        var varname = this.getNextVariableNameForType(\"text\", \"text\");\r\n                        this.variabelStack[varname] = {\r\n                            component: jsx.component.dom.childNodes[x]._this\r\n                        }\r\n                        //this.variabelStack[0];\r\n                        var stext = JSON.stringify(ch.text);\r\n                        var toAdd = this.add(varname, \"_new_\", stext, ch, false, false, true);\r\n                        toAdd.className = \"TextComponent\";\r\n\r\n                        this.variabelStack[varname] = ch;\r\n                        this.add(varname, \"text\", stext, ch, false, false, true);\r\n                        //if ((<any>node.parent)?.jname !== undefined) {\r\n                        this.add(jsx.name, \"add\", varname, ch, false, false, true);\r\n                        // }\r\n                        var chvar = {\r\n                            pos: ch.pos,\r\n                            component: this.variabelStack[jsx.name].component._components[x],\r\n                            name: varname\r\n                        };\r\n                        this.variabelStack[varname] = chvar;\r\n                        this.variabelStack.__orginalarray__.push(chvar);\r\n\r\n                    } else {\r\n                        // debugger;\r\n                        this.parseProperties(ch);\r\n                        // this.parseJC(ch, {});// consumeProperties)\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private parseJSX(_this: Parser, node: ts.Node) {\r\n        var nd: ts.JsxElement = <any>node;\r\n        var element: ts.JsxOpeningElement | ts.JsxSelfClosingElement = <any>nd;\r\n        if (nd.openingElement)\r\n            element = <any>nd.openingElement;\r\n        var jsx = _this.variabelStack[element.pos - 1];\r\n        if (jsx === undefined)\r\n            jsx = _this.variabelStack[element.pos];\r\n        if (jsx === undefined)\r\n            jsx = _this.variabelStack[element.pos + 1];\r\n        if (jsx) {\r\n            jsx.autoGenerated = true;\r\n            for (var x = 0; x < element.attributes.properties.length; x++) {\r\n                var prop = element.attributes.properties[x];\r\n                if ((<any>prop.name).text === \"ref\") {\r\n                    var val: string = prop[\"initializer\"].getText();\r\n                    if (val.startsWith(\"{\") && val.endsWith(\"}\"))\r\n                        val = val.substring(1, val.length - 1);\r\n                    if (val.startsWith(\"this.\"))\r\n                        val = val.substring(5);\r\n                    if (val.startsWith(\"refs.\"))\r\n                        val = val.substring(5);\r\n                    jsx.name = val;\r\n                    jsx.autoGenerated = false;\r\n                }\r\n            }\r\n            var tagname = element.tagName.getText();\r\n            if (jsx.autoGenerated)\r\n                jsx.name = this.getNextVariableNameForType(jsx.name);\r\n            _this.variabelStack[jsx.name] = jsx;\r\n            nd[\"jname\"] = jsx.name;\r\n            var toAdd = _this.add(jsx.name, \"_new_\", nd.getFullText(this.sourceFile), node);\r\n            toAdd.className = tagname;\r\n            for (var x = 0; x < element.attributes.properties.length; x++) {\r\n                var prop = element.attributes.properties[x];\r\n                var val: string = prop[\"initializer\"].getText();\r\n                if (val.startsWith(\"{\") && val.endsWith(\"}\"))\r\n                    val = val.substring(1, val.length - 1);\r\n                _this.add(jsx.name, (<any>prop.name).text, val, prop);\r\n            }\r\n            if (jsx.component.constructor.name === 'HTMLComponent') {\r\n                _this.add(jsx.name, \"tag\", '\"' + tagname + '\"', undefined);\r\n            }\r\n            if ((<any>node.parent)?.jname !== undefined) {\r\n                _this.add((<any>node.parent)?.jname, \"add\", jsx.name, node);\r\n            }\r\n            //node.getChildren().forEach(c => _this.visitNode(c, consumeProperties));\r\n            //mark textnodes\r\n            var counttrivial = 0;\r\n            if (nd.children) {\r\n                for (var x = 0; x < nd.children.length; x++) {\r\n                    var ch = nd.children[x];\r\n                    if (ch.kind === ts.SyntaxKind.JsxText) {\r\n                        if (ch.containsOnlyTriviaWhiteSpaces) {\r\n                            counttrivial++;\r\n                        } else {\r\n                            var njsx = _this.variabelStack[ch.pos - 1];\r\n                            if (njsx === undefined)\r\n                                njsx = _this.variabelStack[ch.pos];\r\n                            if (njsx === undefined)\r\n                                njsx = _this.variabelStack[ch.pos + 1];\r\n                            if (njsx) {\r\n                            }\r\n                            var varname = this.getNextVariableNameForType(\"text\", \"text\");\r\n                            var stext = JSON.stringify(ch.text);\r\n                            var toAdd = _this.add(varname, \"_new_\", stext, ch, false, false);\r\n                            toAdd.className = \"HTMLTextComponent\";\r\n                            _this.variabelStack[varname] = ch;\r\n                            _this.add(varname, \"text\", stext, ch, false, false);\r\n                            //if ((<any>node.parent)?.jname !== undefined) {\r\n                            _this.add(jsx.name, \"add\", varname, ch);\r\n                            // }\r\n                            var chvar = {\r\n                                pos: ch.pos,\r\n                                component: _this.variabelStack[jsx.name].component._components[x - counttrivial],\r\n                                name: varname\r\n                            };\r\n                            _this.variabelStack[varname] = chvar;\r\n                            this.variabelStack.__orginalarray__.push(chvar);\r\n                        }\r\n                    } else {\r\n                        _this.visitNodeJSX(ch, {});// consumeProperties)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        //        console.log(nd.openingElement.getText(this.sourceFile));\r\n    }\r\n    private parseProperties(node: ts.Node) {\r\n        var _this = this;\r\n        if (ts.isVariableDeclaration(node)) {\r\n            var name = node.name.getText();\r\n            if (node.initializer !== undefined) {\r\n                var value = node.initializer.getText();\r\n                this.add(name, \"_new_\", value, node.parent.parent);\r\n            }\r\n        }\r\n\r\n        if ((ts.isBinaryExpression(node) && node.operatorToken.kind === ts.SyntaxKind.EqualsToken) ||\r\n            ts.isCallExpression(node)) {\r\n            var node1;\r\n            var node2;\r\n            var left: string;\r\n            var value: string;\r\n\r\n            var isFunction = false;\r\n            if (ts.isBinaryExpression(node)) {\r\n                node1 = node.left;\r\n                node2 = node.right;\r\n                left = node1.getText();// this.code.substring(node1.pos, node1.end).trim();\r\n                value = node2.getText();//this.code.substring(node2.pos, node2.end).trim();\r\n                if (value.startsWith(\"new \"))\r\n                    this.add(left, \"_new_\", value, node.parent);\r\n            }\r\n            if (ts.isCallExpression(node)) {\r\n                node1 = node.expression;\r\n                node2 = node.arguments;\r\n                isFunction = true;\r\n                left = node1.getText();// this.code.substring(node1.pos, node1.end).trim();\r\n                if (left === \"jc\") {\r\n                    this.parseJC(node);\r\n                    return;\r\n                }\r\n                var params = [];\r\n                node.arguments.forEach((arg) => {\r\n\r\n                    params.push(arg.getText());\r\n                    if ((<any>arg)?.expression?.name?.getText() === \"config\") {\r\n                        _this.parseConfig(<any>arg);\r\n                    }\r\n                    //arg.getText().indexOf(\".config(\")\r\n                });\r\n                if (left.endsWith(\".config\")) {\r\n                    var lastpos = left.lastIndexOf(\".\");\r\n                    var variable = left;\r\n                    var prop = \"\";\r\n                    if (lastpos !== -1) {\r\n                        variable = left.substring(0, lastpos);\r\n                        prop = left.substring(lastpos + 1);\r\n                    }\r\n                    value = params.join(\", \");\r\n                    this.add(variable, prop, value, node, isFunction);\r\n                    this.parseConfig(node);\r\n                    return;\r\n                }\r\n                if (left.endsWith(\".createRepeatingComponent\")) {\r\n                    this.visitNode(node.arguments[0][\"body\"], true)\r\n                    //this.parseProperties(node.arguments[0][\"body\"]);\r\n                }\r\n                value = params.join(\", \");//this.code.substring(node2.pos, node2.end).trim();//\r\n            }\r\n\r\n            var lastpos = left.lastIndexOf(\".\");\r\n            var variable = left;\r\n            var prop = \"\";\r\n            if (lastpos !== -1) {\r\n                variable = left.substring(0, lastpos);\r\n                prop = left.substring(lastpos + 1);\r\n            }\r\n            this.add(variable, prop, value, node.parent, isFunction);\r\n        } else\r\n            node.getChildren().forEach(c => _this.visitNode(c, true));\r\n    }\r\n    private visitNode(node: ts.Node, consumeProperties = undefined) {\r\n        var _this = this;\r\n        if (node.kind === ts.SyntaxKind.VariableDeclaration) {\r\n            this.variables[node[\"name\"].text] = node;\r\n        }\r\n        if (node.kind === ts.SyntaxKind.ImportDeclaration) {\r\n            var nd: any = node;\r\n            var file = nd.moduleSpecifier.text;\r\n            if (nd.importClause && nd.importClause.namedBindings) {\r\n                var names = nd.importClause.namedBindings.elements;\r\n                for (var e = 0; e < names.length; e++) {\r\n                    this.imports[names[e].name.escapedText] = file;\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        if (node.kind == ts.SyntaxKind.TypeAliasDeclaration && node[\"name\"].text === \"Refs\") {\r\n            this.parseRefsNode(node);\r\n            return;\r\n        } else if (node.kind === ts.SyntaxKind.ClassDeclaration) {\r\n            this.parseClass(<ts.ClassElement>node);\r\n\r\n            return;\r\n\r\n        } else if (node && node.kind === ts.SyntaxKind.FunctionDeclaration) {//functions out of class\r\n            this.functions[node[\"name\"].text] = node;\r\n            if (this.classScope) {\r\n                for (let x = 0; x < this.classScope.length; x++) {\r\n                    var col = this.classScope[x];\r\n                    if (col.classname === undefined && node[\"name\"].text === col.methodname)\r\n                        consumeProperties = true;\r\n                }\r\n            } else if (this.variabelStack === undefined)\r\n                consumeProperties = true;\r\n        }\r\n        if (node.kind === ts.SyntaxKind.JsxElement) {\r\n\r\n            _this.parseJSX(_this, node);\r\n            return;\r\n        }\r\n\r\n\r\n        if (consumeProperties)\r\n            this.parseProperties(node);\r\n        else\r\n            node.getChildren().forEach(c => _this.visitNode(c, consumeProperties));\r\n        //TODO remove this block\r\n        /*  if (node.kind === ts.SyntaxKind.FunctionDeclaration && node[\"name\"].text === \"test\") {\r\n              this.add(node[\"name\"].text, \"\", \"\", undefined);\r\n          }*/\r\n    }\r\n    private visitNodeJSX(node: ts.Node, consumeProperties = undefined) {\r\n\r\n        var _this = this;\r\n        if (node.kind === ts.SyntaxKind.ImportDeclaration) {\r\n            var nd: any = node;\r\n            var file = nd.moduleSpecifier.text;\r\n            if (nd.importClause && nd.importClause.namedBindings) {\r\n                var names = nd.importClause.namedBindings.elements;\r\n                for (var e = 0; e < names.length; e++) {\r\n                    this.imports[names[e].name.escapedText] = file;\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        if (node.kind == ts.SyntaxKind.TypeAliasDeclaration && node[\"name\"].text === \"Refs\") {\r\n            this.parseRefsNode(node);\r\n            return;\r\n        }\r\n        if (node.kind == ts.SyntaxKind.TypeAliasDeclaration && node[\"name\"].text === \"Me\") {\r\n            this.parseRefsNode(node);\r\n            return;\r\n        }\r\n        if (node.kind === ts.SyntaxKind.JsxElement || node.kind === ts.SyntaxKind.JsxSelfClosingElement) {\r\n            _this.parseJSX(_this, node);\r\n            return;\r\n        }\r\n\r\n        node.getChildren().forEach(c => _this.visitNodeJSX(c, consumeProperties));\r\n        //TODO remove this block\r\n        /*  if (node.kind === ts.SyntaxKind.FunctionDeclaration && node[\"name\"].text === \"test\") {\r\n              this.add(node[\"name\"].text, \"\", \"\", undefined);\r\n          }*/\r\n    }\r\n    searchClassnode(node: ts.Node, pos: number): { classname: string, methodname: string } {\r\n        if (ts.isMethodDeclaration(node)) {\r\n            return {\r\n                classname: node.parent[\"name\"][\"text\"],\r\n                methodname: node.name[\"text\"]\r\n            }\r\n        }\r\n        if (node && node.kind === ts.SyntaxKind.FunctionDeclaration) {//functions out of class\r\n            var funcname = node[\"name\"].text\r\n            return {\r\n                classname: undefined,\r\n                methodname: funcname\r\n            }\r\n        }\r\n        var childs = node.getChildren();\r\n        for (var x = 0; x < childs.length; x++) {\r\n            var c = childs[x];\r\n            if (pos >= c.pos && pos <= c.end) {\r\n                var test = this.searchClassnode(c, pos);\r\n                if (test)\r\n                    return test;\r\n            }\r\n        };\r\n        return undefined;\r\n    }\r\n    getClassScopeFromPosition(code: string, pos: number): { classname: string, methodname: string } {\r\n        this.data = {};\r\n        this.code = code;\r\n\r\n        this.sourceFile = ts.createSourceFile('dummy.ts', code, ts.ScriptTarget.ES5, true, this.isJSX ? ts.ScriptKind.TSX : ts.ScriptKind.TS);\r\n\r\n        return this.searchClassnode(this.sourceFile, pos);\r\n        //return this.parseold(code,onlyfunction);\r\n\r\n    }\r\n\r\n    private removePos(node: ts.Node) {\r\n        var _this = this;\r\n        //@ts-ignore\r\n        node.pos = -1;\r\n        //@ts-ignore\r\n        node.end = -1;\r\n        node.forEachChild((ch) => _this.removePos(ch));\r\n    }\r\n    private createNode(code: string, completeStatement = false) {\r\n        var ret = ts.createSourceFile('dummytemp.ts', code, ts.ScriptTarget.ES5, true, this.isJSX ? ts.ScriptKind.TSX : undefined);\r\n        if (completeStatement)\r\n            return ret.statements[0];\r\n        var node = (<any>ret.statements[0]).expression;\r\n        this.removePos(node);\r\n        return node;\r\n        //return this.parseold(code,onlyfunction);\r\n    }\r\n    initvariabelStack(values: any[]) {\r\n        var autovars = {};\r\n        var jsxvars = {}\r\n        for (var x = 0; x < values.length; x++) {\r\n            var v = values[x].component;\r\n            var tag = v.tag === undefined ? v.constructor.name : v.tag;\r\n            if (autovars[tag] === undefined)\r\n                autovars[tag] = 1;\r\n\r\n            values[x].name = this.getNextVariableNameForType(tag);//tag + (autovars[tag]++);\r\n            this.data[values[x].name] = {};//reserve variable\r\n            jsxvars[values[x].pos] = values[x];\r\n        }\r\n        this.variabelStack = jsxvars;\r\n        this.variabelStack.__orginalarray__ = values;\r\n    }\r\n    /**\r\n    * parse the code \r\n    * @param {string} code - the code\r\n    * @param {string} onlyfunction - only the code in the function is parsed, e.g. \"layout()\"\r\n    */\r\n    parse(code: string, classScope: { classname: string, methodname: string }[] = undefined, variabelStack: any = undefined, isJSX = false) {\r\n        this.data = {};\r\n        this.isJSX = isJSX\r\n        this.code = code;\r\n        if (classScope !== undefined)\r\n            this.classScope = classScope;\r\n        else\r\n            classScope = this.classScope;\r\n        this.sourceFile = ts.createSourceFile('dummy.ts', code, ts.ScriptTarget.ES5, true, isJSX ? ts.ScriptKind.TSX : undefined);\r\n        if (variabelStack)\r\n            this.initvariabelStack(variabelStack);\r\n        if (isJSX) {\r\n            this.visitNodeJSX(this.sourceFile, false);\r\n            return;\r\n        }\r\n\r\n        //    if (this.classScope === undefined)\r\n        this.visitNode(this.sourceFile, true);\r\n\r\n        //  else\r\n        //    this.visitNode(this.sourceFile);\r\n\r\n        //return this.parseold(code,onlyfunction);\r\n    }\r\n    private removeNode(node: ts.Node) {\r\n        if (node.parent === undefined)\r\n            return;\r\n        if (node.parent[\"statements\"]) {\r\n            var pos = node.parent[\"statements\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"statements\"].splice(pos, 1);\r\n        } else if (node.parent?.parent && node.parent?.parent[\"type\"] !== undefined) {\r\n            var pos = node.parent.parent[\"type\"][\"members\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent?.parent[\"type\"][\"members\"].splice(pos, 1);\r\n        } else if (node.parent[\"members\"] !== undefined) {\r\n            var pos = node.parent[\"members\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"members\"].splice(pos, 1);\r\n        } else if (node.parent[\"properties\"] !== undefined) {\r\n            var pos = node.parent[\"properties\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"properties\"].splice(pos, 1);\r\n        } else if (node.parent[\"elements\"] !== undefined) {\r\n            var pos = node.parent[\"elements\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"elements\"].splice(pos, 1);\r\n        } else if (node.parent.kind === ts.SyntaxKind.ExpressionStatement) {\r\n            var pos = node.parent.parent[\"statements\"].indexOf(node.parent);\r\n            if (pos >= 0)\r\n                node.parent.parent[\"statements\"].splice(pos, 1);\r\n        } else if (node.parent[\"children\"]) {\r\n            var pos = node.parent[\"children\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"children\"].splice(pos, 1);\r\n        } else\r\n            throw Error(node.getFullText() + \"could not be removed\");\r\n    }\r\n    renameVariable(oldName: string, newName: string) {\r\n        debugger;\r\n        var autoName = false;\r\n        var className = this.data[oldName][\"_new_\"][0].className\r\n        if (newName === \"\") {\r\n            autoName = true;\r\n            newName = this.getNextVariableNameForType(className.startsWith(\"\\\"\") ? className.substring(1, className.length - 1) : className);\r\n            //this.data[oldName][\"_new_\"][0].n\r\n            // this.data[oldName][\"_new_\"][0].autoGenerated\r\n        }\r\n        this.data[newName] = this.data[oldName];\r\n        delete this.data[oldName];\r\n        var prefix = \"this.refs.\";\r\n        if (this.code.indexOf(\"var refs=\")!==-1||this.code.indexOf(\"var refs \")!==-1||this.code.indexOf(\"var refs:\")!==-1||\r\n            this.code.indexOf(\"let refs=\")!==-1||this.code.indexOf(\"let refs \")!==-1||this.code.indexOf(\"let refs:\")!==-1)\r\n            prefix = \"refs.\";\r\n        if (autoName)\r\n            this.removePropertyInCode(\"ref\", undefined, newName)\r\n        else\r\n            this.setPropertyInCode(newName, \"ref\", prefix + newName, this.classScope);\r\n\r\n        if (this.refs[oldName])\r\n            this.removeNode(this.refs[oldName].node);\r\n     //   this.addImportIfNeeded(\"Ref\", \"jassijs/ui/Component\");\r\n        if (!autoName) {\r\n            if (className.startsWith(\"\\\"\")||this.data[newName].tag!==undefined) {\r\n                this.addImportIfNeeded(\"HTMLComponent\", \"jassijs/ui/Component\");\r\n                this.addRef(newName, \"HTMLComponent\");\r\n            } else\r\n                this.addRef(newName,  className );\r\n        }\r\n        return newName;\r\n    }\r\n    /** \r\n     * modify a member \r\n     **/\r\n    addOrModifyMember(member: ParsedMember, pclass: ParsedClass) {\r\n        //member.node\r\n        //var newmember=ts.createProperty\r\n        var newdec: ts.Decorator[] = undefined;\r\n        for (var key in member.decorator) {\r\n            var dec = member.decorator[key];\r\n            if (!newdec)\r\n                newdec = [];\r\n            //ts.createDecorator()\r\n            //member.decorator[key].name;\r\n            var params = undefined;\r\n            if (dec.parameter) {\r\n                params = [];\r\n                for (var i = 0; i < dec.parameter.length; i++) {\r\n                    params.push(ts.factory.createIdentifier(dec.parameter[i]));\r\n                }\r\n            }\r\n            var call = ts.factory.createCallExpression(ts.factory.createIdentifier(dec.name), undefined, params);\r\n            newdec.push(ts.factory.createDecorator(call));\r\n        }\r\n        //var type=ts.createTy\r\n        var newmember = ts.factory.createPropertyDeclaration(newdec, member.name, undefined, ts.factory.createTypeReferenceNode(member.type, []), undefined);\r\n        var node = undefined;\r\n        for (var key in pclass.members) {\r\n            if (key === member.name)\r\n                node = pclass.members[key].node\r\n        }\r\n        if (node === undefined) {\r\n            pclass.node[\"members\"].push(newmember);\r\n\r\n        } else {\r\n            var pos = pclass.node[\"members\"].indexOf(node);\r\n            pclass.node[\"members\"][pos] = newmember;\r\n        }\r\n        pclass.members[member.name] = member;\r\n        member.node = newmember;\r\n    }\r\n    /**\r\n    * removes the property from code\r\n    * @param {type} property - the property to remove\r\n    * @param {type} [onlyValue] - remove the property only if the value is found\r\n    * @param {string} [variablename] - thpe name of the variable - default=this.variablename\r\n    */\r\n    removePropertyInCode(property: string, onlyValue = undefined, variablename: string = undefined): ts.Node {\r\n        if (this.data[variablename] !== undefined && this.data[variablename].config !== undefined && property === \"add\") {\r\n            property = \"children\";\r\n            var oldparent: any = this.data[variablename][property][0].node;\r\n            for (var x = 0; x < oldparent.initializer.elements.length; x++) {\r\n                var valueNode = oldparent.initializer.elements[x];\r\n                if (valueNode.getText() === onlyValue || valueNode.getText().startsWith(onlyValue + \".\")) {\r\n                    oldparent.initializer.elements.splice(x, 1);\r\n\r\n                    if (oldparent.initializer.elements.length === 0) {\r\n                        this.removeNode(oldparent);\r\n                    }\r\n                    return valueNode;\r\n                }\r\n\r\n            }\r\n        }\r\n        if (this.data[variablename] !== undefined && this.data[variablename][property] !== undefined) {\r\n            var prop: Entry = undefined;\r\n            if (onlyValue !== undefined) {\r\n                for (var x = 0; x < this.data[variablename][property].length; x++) {\r\n                    if (this.data[variablename][property][x].value === onlyValue || this.data[variablename][property][x].value.startsWith(onlyValue + \".\")) {\r\n                        prop = this.data[variablename][property][x];\r\n                        this.data[variablename][property].splice(x, 1);\r\n                        break;\r\n                    }\r\n                }\r\n            } else\r\n                prop = this.data[variablename][property][0];\r\n            if (prop == undefined)\r\n                return;\r\n            this.removeNode(prop.node);\r\n            if (prop.node[\"expression\"]?.arguments?.length > 0) {\r\n                return prop.node[\"expression\"]?.arguments[0];\r\n            }\r\n            return prop.node;\r\n            /*var oldvalue = this.lines[prop.linestart - 1];\r\n            for (let x = prop.linestart;x <= prop.lineend;x++) {\r\n                this.lines[x - 1] = undefined;\r\n                if (x > 1 && this.lines[x - 2].endsWith(\",\"))//type Me={ bt2?:Button,\r\n                    this.lines[x - 2] = this.lines[x - 2].substring(0, this.lines[x - 2].length);\r\n            }*/\r\n            //var text = this.parser.linesToString();\r\n            //this.codeEditor.value = text;\r\n            //this.updateParser();\r\n        }\r\n\r\n    }\r\n    /**\r\n     * removes the variable from code\r\n     * @param {string} varname - the variable to remove\r\n     */\r\n    removeVariablesInCode(varnames: string[]) {\r\n        var allprops: Entry[] = [];\r\n        //collect allNodes to delete\r\n        for (var vv = 0; vv < varnames.length; vv++) {\r\n            var varname = varnames[vv];\r\n            var prop = this.data[varname];\r\n\r\n            if (varname.startsWith(\"me.\") && this.refs[varname.substring(3)] !== undefined)\r\n                allprops.push(this.refs[varname.substring(3)]);\r\n            //remove properties\r\n            for (var key in prop) {\r\n                let props = prop[key];\r\n                props.forEach((p) => {\r\n                    allprops.push(p);\r\n                });\r\n            }\r\n            if (varname.startsWith(\"me.\")) {\r\n                let props = this.data.me[varname.substring(3)];\r\n                props?.forEach((p) => {\r\n                    allprops.push(p);\r\n                });\r\n            }\r\n        }\r\n        //remove nodes\r\n        for (var x = 0; x < allprops.length; x++) {\r\n            if (allprops[x].node)\r\n                this.removeNode(allprops[x].node);\r\n        }\r\n        /*\r\n       for (var vv = 0; vv < varnames.length; vv++) {\r\n           var varname = varnames[vv];\r\n\r\n           //remove lines where used as parameter\r\n          for (var propkey in this.data) {\r\n               var prop = this.data[propkey];\r\n               for (var key in prop) {\r\n                   var props = prop[key];\r\n                   for (var x = 0; x < props.length; x++) {\r\n                       let p = props[x];\r\n                       var params = p.value.split(\",\");\r\n                       for (var i = 0; i < params.length; i++) {\r\n                           if (params[i] === varname || params[i] === \"this.\" + varname) {\r\n                               this.removeNode(p.node);\r\n                           }\r\n                       }\r\n                       //in children:[]\r\n                       //@ts-ignore\r\n                       var inconfig = prop[key][0]?.node?.initializer?.elements;\r\n                       if (inconfig) {\r\n                           for (var x = 0; x < inconfig.length; x++) {\r\n                               if (inconfig[x].getText() === varname || inconfig[x].getText().startsWith(varname)) {\r\n                                   this.removeNode(inconfig[x]);\r\n\r\n                               }\r\n                           }\r\n                           if (inconfig.length === 0) {\r\n                               this.removeNode(prop[key][0]?.node);\r\n                           }\r\n                       }\r\n                   }\r\n               }\r\n           }\r\n       }*/\r\n        for (var vv = 0; vv < varnames.length; vv++) {\r\n            delete this.data[varnames[vv]];\r\n        }\r\n\r\n    }\r\n    private getNodeFromScope(classscope: { classname: string, methodname: string }[], variablescope: { variablename: string, methodname } = undefined): ts.Node {\r\n        var scope;\r\n        if (classscope === undefined) {\r\n            return this.sourceFile;\r\n        }\r\n        if (variablescope) {\r\n            scope = this.data[variablescope.variablename][variablescope.methodname][0]?.node;\r\n            if (scope.expression)\r\n                scope = scope.expression.arguments[0];\r\n            else\r\n                scope = scope.initializer;\r\n\r\n        } else {\r\n            for (var i = 0; i < classscope.length; i++) {\r\n                var sc = classscope[i];\r\n                if (sc.classname) {\r\n                    scope = this.classes[sc.classname]?.members[sc.methodname]?.node;\r\n                    if (scope)\r\n                        break;\r\n                } else {//exported function\r\n                    scope = this.functions[sc.methodname];\r\n                }\r\n            }\r\n        }\r\n        return scope;\r\n    }\r\n    /**\r\n     * gets the next variablename\r\n     * */\r\n    getNextVariableNameForType(type: string, suggestedName: string = undefined) {\r\n        var varname = suggestedName;\r\n        if (varname === undefined)\r\n            varname = type.split(\".\")[type.split(\".\").length - 1].toLowerCase();\r\n        for (var counter = 1; counter < 1000; counter++) {\r\n            if (this.data[varname + (counter === 1 ? \"\" : counter)] === undefined && (this.data.me === undefined || this.data.me[varname + (counter === 1 ? \"\" : counter)] === undefined))\r\n                break;\r\n        }\r\n        return varname + (counter === 1 ? \"\" : counter);\r\n    }\r\n\r\n    /**\r\n     * change objectliteral to mutliline if needed\r\n     */\r\n    private switchToMutlilineIfNeeded(node: ts.Node, newProperty: string, newValue) {\r\n        try {\r\n            var oldValue = node.getText();\r\n            if (node[\"multiLine\"] !== true) {\r\n                var len = 0;\r\n                for (var x = 0; x < node.parent[\"arguments\"][0].properties.length; x++) {\r\n                    var prop = node.parent[\"arguments\"][0].properties[x];\r\n                    len += (prop.initializer.escapedText ? prop.initializer.escapedText.length : prop.initializer.getText().length);\r\n                    len += prop.name.escapedText.length + 5;\r\n                }\r\n                console.log(len);\r\n                if (oldValue.indexOf(\"\\n\") > -1 || (len > 60) || newValue.indexOf(\"\\n\") > -1) {\r\n                    //order also old elements\r\n                    for (var x = 0; x < node.parent[\"arguments\"][0].properties.length; x++) {\r\n                        var prop = node.parent[\"arguments\"][0].properties[x];\r\n                        prop.pos = -1;\r\n                        prop.len = -1;\r\n                    }\r\n                    node.parent[\"arguments\"][0] = ts.factory.createObjectLiteralExpression(node.parent[\"arguments\"][0].properties, true);\r\n                }\r\n            }\r\n        } catch {\r\n\r\n        }\r\n    }\r\n    private setPropertyInConfig(variableName: string, property: string, value: string | ts.Node,\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        scope: ts.Node) {\r\n\r\n        var svalue: any = typeof value === \"string\" ? ts.factory.createIdentifier(value) : value;\r\n        var config = <any>this.data[variableName][\"config\"][0].node;\r\n        config = config.arguments[0];\r\n        var newExpression = ts.factory.createPropertyAssignment(property, <any>svalue);\r\n        if (property === \"add\" && replace === false) {\r\n            property = \"children\";\r\n            svalue = typeof value === \"string\" ? ts.factory.createIdentifier(value + \".config({})\") : value;\r\n            if (this.data[variableName][\"children\"] == undefined) {//\r\n                newExpression = ts.factory.createPropertyAssignment(property, ts.factory.createArrayLiteralExpression([svalue], true));\r\n                config.properties.push(newExpression);\r\n            } else {\r\n                if (before === undefined) {\r\n                    //@ts-ignore\r\n                    this.data[variableName][\"children\"][0].node.initializer.elements.push(svalue);\r\n                } else {\r\n                    //@ts-ignore\r\n                    var array = this.data[variableName][\"children\"][0].node.initializer.elements;\r\n                    for (var x = 0; x < array.length; x++) {\r\n                        if (array[x].getText() === before.value || array[x].getText().startsWith(before.value + \".\")) {\r\n                            array.splice(x, 0, svalue);\r\n                            return;\r\n                        }\r\n                    }\r\n                    throw new Error(\"Node \" + before.value + \" not found.\");\r\n                }\r\n\r\n            }\r\n        } else {  //comp.add(a) --> comp.config({children:[a]})\r\n            if (replace && this.data[variableName] !== undefined && this.data[variableName][property] !== undefined) {//edit existing\r\n                let node = this.data[variableName][property][0].node;\r\n                this.data[variableName][property]\r\n                var pos = config.properties.indexOf(node);\r\n                config.properties[pos] = newExpression;\r\n                this.data[variableName][property][0].value = value;\r\n                this.data[variableName][property][0].node = newExpression;\r\n                this.switchToMutlilineIfNeeded(config, property, value);\r\n            } else {\r\n                config.properties.push(newExpression);\r\n                if (this.data[variableName][property] === undefined)\r\n                    this.data[variableName][property] = [{ isFunction, value, node: newExpression }];\r\n                this.data[variableName][property][0].node = newExpression;\r\n                this.switchToMutlilineIfNeeded(config, property, value);\r\n            }\r\n        }\r\n\r\n        console.log(\"todo correct spaces\");\r\n\r\n        this.parse(this.getModifiedCode());\r\n        //if (pos >= 0)\r\n        //  node.parent[\"statements\"].splice(pos, 1);\r\n\r\n    }\r\n    private setPropertyInJC(variableName: string, property: string, value: string | ts.Node,\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        scope: ts.Node) {\r\n\r\n        var svalue: any = typeof value === \"string\" ? ts.factory.createIdentifier(value) : value;\r\n        if (this.data[variableName][\"_new_\"][0].node.kind === ts.SyntaxKind.StringLiteral && property === \"text\") {\r\n            this.data[variableName][\"_new_\"][0].value = value;\r\n            //@ts-ignore\r\n            this.data[variableName][\"_new_\"][0].node.text = value.toString().substring(1, value.toString().length - 1);\r\n            //@ts-ignore\r\n            this.data[variableName][\"_new_\"][0].node[\"end\"] = -1;\r\n            //@ts-ignore\r\n            this.data[variableName][\"_new_\"][0].node[\"pos\"] = -1;\r\n            return;\r\n        }\r\n        var config = this.data[variableName][\"_new_\"][0].node[\"arguments\"][1];\r\n        if (this.data[variableName][\"_new_\"][0].node[\"arguments\"].length < 2) {\r\n            config = this.createNode(\"a={}\");\r\n            config = config.right;\r\n            this.data[variableName][\"_new_\"][0].node[\"arguments\"].push(config);\r\n        }\r\n        var newExpression = ts.factory.createPropertyAssignment(property, <any>svalue);\r\n        var jname;\r\n        if (property === \"add\") {//transfer a child to another\r\n            if (this.data[variableName][\"add\"] === undefined) {\r\n                newExpression = ts.factory.createPropertyAssignment(\"children\", ts.factory.createArrayLiteralExpression([], true));\r\n                config.properties.push(newExpression);\r\n                this.data[variableName][\"add\"] = [{ node: newExpression, value: [], isFunction: false }];\r\n            }\r\n\r\n            if (typeof value === \"string\") {\r\n                jname = value;\r\n                var prop = this.data[value][\"_new_\"][0];\r\n                var classname = (<any>prop).className;\r\n                if (classname === \"HTMLComponent\")\r\n                    classname = \"\\\"\" + (<any>prop).tag + \"\\\"\";\r\n                var node;\r\n                if (classname === \"text\") {\r\n\r\n                    node = ts.factory.createStringLiteral(\"\\\"\" + value + \"\\\"\");\r\n                    //this.add(value, \"text\", <string>\"\", node);\r\n                } else {\r\n                    node = this.createNode(\"jc(\" + classname + \",{})\\n\");\r\n                    // if (classname === \"br\")\r\n                    //   node = this.createNode(\"<\" + classname + \"/>\");\r\n                }\r\n                prop.node = node;\r\n                prop.isJc = true;\r\n                prop.value = value;\r\n\r\n            } else {\r\n                var name;\r\n                for (var key in this.data) {\r\n                    if (this.data[key][\"_new_\"]) {\r\n                        if (this.data[key][\"_new_\"][0].node === value)\r\n                            name = key;\r\n                    }\r\n                }\r\n                //jname=(<any>value).jname;\r\n                //remove old\r\n                if(value.parent[\"children\"]){\r\n                    var pos = value.parent[\"children\"].indexOf(value);\r\n                    value.parent[\"children\"].splice(pos, 0);\r\n                }else{\r\n                     var pos = value.parent[\"elements\"].indexOf(value);\r\n                    value.parent[\"elements\"].splice(pos, 0);\r\n                }\r\n                prop = this.data[name][\"_new_\"][0];\r\n                node = value;//removeold\r\n                \r\n            }\r\n            var props=this.data[variableName][\"_new_\"][0].node[\"arguments\"][1].properties;\r\n            for(var p=0;p<props.length;p++){\r\n                if(props[p].name.text===\"children\"){\r\n                    node.parent = props[p].initializer;\r\n                }\r\n            }\r\n            if( node.parent===undefined)\r\n                throw \"Parent not found\";\r\n            \r\n           \r\n\r\n            if (before) {\r\n                let found = undefined;\r\n                let ofound = -1;\r\n                console.log(\"var \" + before.variablename);\r\n                console.log(this.data);\r\n                for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                    if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                        found = this.data[before.variablename][before.property][o].node;\r\n                        ofound = o;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                //@ts-ignore\r\n                var childrenNode = this.data[variableName][\"add\"][0].node.initializer;\r\n                var args = childrenNode.elements;\r\n                var pos = args.indexOf(found);\r\n                args.splice(pos, 0, node);\r\n                // config.properties.splice(pos + 1, 0, ts.factory.createJsxText(\"\\n\", true));\r\n\r\n                this.data[variableName][\"add\"].splice(ofound, 0, {\r\n                    node: node,\r\n                    value: jname,\r\n                    isFunction: false\r\n                });\r\n                //this.data[variableName][\"add\"][0].node;\r\n\r\n            } else {\r\n\r\n                var childrenNode = this.data[variableName][\"add\"][0].node[\"initializer\"];\r\n                var args = childrenNode.elements;\r\n                args.push(node);\r\n                this.add(variableName, \"add\", <string>value, node);\r\n            }\r\n            this.switchToMutlilineIfNeeded(config, property, value);\r\n            return;\r\n        } else {  //comp.add(a) --> comp.config({children:[a]})\r\n            if ((replace!==false && this.data[variableName] !== undefined &&( this.data[variableName][property] !== undefined)|| property === \"tag\") ) {//edit existing\r\n                //let node = this.data[variableName][property][0].node;\r\n                //if (node === undefined && property === \"tag\") {//jc(\"div\" => jc(\"span\"\r\n                if (property === \"tag\") {//jc(\"div\" => jc(\"span\"\r\n                    //  this.data[variableName][property][0].value = value;\r\n                    var sval = (<string>value).substring(1, (<string>value).length - 1);\r\n\r\n                    this.data[variableName][\"_new_\"][0].node[\"arguments\"][0] = ts.factory.createStringLiteral(sval);\r\n                } else {\r\n                    let node = this.data[variableName][property][0].node;\r\n                    this.data[variableName][property]\r\n                    var pos = config.properties.indexOf(node);\r\n                    config.properties[pos] = newExpression;\r\n                    this.data[variableName][property][0].value = value;\r\n                    this.data[variableName][property][0].node = newExpression;\r\n                    this.switchToMutlilineIfNeeded(config, property, value);\r\n                }\r\n            } else {\r\n                config.properties.push(newExpression);\r\n                if (this.data[variableName][property] === undefined)\r\n                    this.data[variableName][property] = [{ isFunction, value, node: newExpression }];\r\n                this.data[variableName][property][0].node = newExpression;\r\n                this.switchToMutlilineIfNeeded(config, property, value);\r\n            }\r\n        }\r\n\r\n        console.log(\"todo correct spaces\");\r\n\r\n        // this.parse(this.getModifiedCode());\r\n        //if (pos >= 0)\r\n        //  node.parent[\"statements\"].splice(pos, 1);\r\n\r\n    }\r\n    setPropertyInJSX(variableName: string, property: string, value: string | ts.Node,\r\n        classscope: { classname: string, methodname: string }[],\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        variablescope: { variablename: string, methodname } = undefined) {\r\n\r\n        //if (this.data[variableName] === undefined)\r\n        //    this.data[variableName] = {};\r\n        var newValue: any;\r\n        if (typeof value === \"string\")\r\n            newValue = value.startsWith('\"') ? ts.factory.createIdentifier(value) : ts.factory.createIdentifier(\"{\" + value + \"}\");\r\n        else\r\n            newValue = value;;\r\n        var newExpression = newExpression = ts.factory.createJsxAttribute(ts.factory.createIdentifier(property), newValue);;\r\n        if (property === \"new\") { //me.panel1=new Panel({});\r\n            /*       let prop = this.data[variableName][\"_new_\"][0];//.substring(3)];\r\n                   var constr = prop.value;\r\n                   value = constr.substring(0, constr.indexOf(\"(\") + 1) + value + constr.substring(constr.lastIndexOf(\")\"));\r\n                   replace = true;\r\n                   var left = prop.node.getText();\r\n                   left = left.substring(0, left.indexOf(\"=\") - 1);\r\n                   property = \"_new_\";\r\n                   newExpression = ts.createExpressionStatement(ts.createAssignment(ts.createIdentifier(left), newValue));\r\n               */\r\n        } else if (isFunction) {\r\n\r\n            //   newExpression = ts.createExpressionStatement(ts.createCall(\r\n            //     ts.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), undefined, [newValue]));\r\n        } /*else\r\n            newExpression = ts.createExpressionStatement(ts.createAssignment(\r\n                ts.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), newValue));\r\n        */\r\n        var jname;\r\n        if (property === \"add\") {//transfer a child to another\r\n            var parent = this.data[variableName][\"_new_\"][0].node;\r\n            if (typeof value === \"string\") {\r\n                jname = value;\r\n                var prop = this.data[value][\"_new_\"][0];\r\n                var classname = (<any>prop).className;\r\n                if (classname === \"HTMLComponent\")\r\n                    classname = (<any>prop).tag;\r\n                var node;\r\n                if (classname === \"text\") {\r\n\r\n                    node = ts.factory.createJsxText(<string>\"\", false);\r\n                    this.add(value, \"text\", <string>\"\", node);\r\n                } else {\r\n                    node = this.createNode(\"<\" + classname + \"></\" + classname + \">\");\r\n                    if (classname === \"br\")\r\n                        node = this.createNode(\"<\" + classname + \"/>\");\r\n                }\r\n                prop.node = node;\r\n                prop.value = value;\r\n            } else {\r\n                var name;\r\n                for (var key in this.data) {\r\n                    if (this.data[key][\"_new_\"]) {\r\n                        if (this.data[key][\"_new_\"][0].node === value)\r\n                            name = key;\r\n                    }\r\n                }\r\n                //jname=(<any>value).jname;\r\n                //remove old\r\n                var pos = value.parent[\"children\"].indexOf(value);\r\n                value.parent[\"children\"].splice(pos, 0);\r\n                prop = this.data[name][\"_new_\"][0];\r\n                node = value;//removeold\r\n\r\n            }\r\n            node.parent = parent;\r\n\r\n            if (before) {\r\n                let found = undefined;\r\n                let ofound = -1;\r\n                console.log(\"var \" + before.variablename);\r\n                console.log(this.data);\r\n                for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                    if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                        found = this.data[before.variablename][before.property][o].node;\r\n                        ofound = o;\r\n                        break;\r\n                    }\r\n                }\r\n                var pos = parent[\"children\"].indexOf(found);\r\n                parent[\"children\"].splice(pos, 0, node);\r\n                parent[\"children\"].splice(pos + 1, 0, ts.factory.createJsxText(\"\\n\", true));\r\n\r\n                this.data[variableName][\"add\"].splice(ofound, 0, {\r\n                    node: node,\r\n                    value: jname,\r\n                    isFunction: false\r\n                });\r\n                //this.data[variableName][\"add\"][0].node;\r\n\r\n            } else {\r\n                if (parent[\"children\"] === undefined)\r\n                    debugger;\r\n                parent[\"children\"].push(node);\r\n                parent[\"children\"].push(ts.factory.createJsxText(\"\\n\", true));\r\n                this.add(variableName, \"add\", <string>value, node);\r\n            }\r\n            return;\r\n        }\r\n        if (this.data[variableName][\"_new_\"][0].node.kind === ts.SyntaxKind.JsxText) {\r\n            if (property === \"text\") {\r\n                var svalue = <string>value;\r\n                var old = (<any>this.data[variableName][property][0].node).text;//getText() throw error if created manuell\r\n                svalue = JSON.parse(`{\"a\":` + svalue + \"}\").a;\r\n                if (svalue.length === svalue.trim().length) {\r\n                    // @ts-ignore\r\n                    svalue = old.substring(0, old.length - old.trimStart().length) + svalue + old.substring(old.length - (old.length - old.trimEnd().length));\r\n                }\r\n\r\n                //correct spaces linebrak are lost in html editing\r\n\r\n                this.data[variableName][property][0].value = JSON.stringify(svalue);\r\n                (<any>this.data[variableName][property][0].node).text = svalue;\r\n            }\r\n            return;\r\n        } \r\n        if (replace !== false && this.data[variableName] !== undefined && this.data[variableName][property] !== undefined && typeof value === \"string\") {//edit existing\r\n            if (property === \"tag\") {\r\n\r\n\r\n                (<any>this.data[variableName][\"_new_\"][0].node).openingElement.tagName = ts.factory.createIdentifier(value.substring(1, value.length - 1));\r\n                (<any>this.data[variableName][\"_new_\"][0].node).closingElement.tagName = ts.factory.createIdentifier(value.substring(1, value.length - 1));\r\n                this.data[variableName][property][0].value = value;\r\n                (<any>this.data[variableName][\"_new_\"][0].node)[\"jname\"] = value.replaceAll('\"', \"\");\r\n                return;\r\n            }\r\n            let node = this.data[variableName][property][0].node;\r\n            var pos = node.parent[\"properties\"].indexOf(node);\r\n            //node.initializer.text=newValue;\r\n\r\n            node.parent[\"properties\"][pos] = newExpression;\r\n            newExpression.parent = node.parent;\r\n            this.data[variableName][property][0].node = newExpression;\r\n            this.data[variableName][property][0].value = value;\r\n            //var pos = node.parent[\"properties\"].indexOf(node);\r\n            //node.parent[\"properties\"][pos] = newValue;\r\n            //if (pos >= 0)\r\n            //  node.parent[\"statements\"].splice(pos, 1);\r\n        } else {//insert new\r\n            if (before) {\r\n                throw \"not implemented\";\r\n                /*  if (before.value === undefined)\r\n                      throw \"not implemented\";\r\n                  let node = undefined;\r\n                  for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                      if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                          node = this.data[before.variablename][before.property][o].node;\r\n                          break;\r\n                      }\r\n                  }\r\n                  if (!node)\r\n                      throw Error(\"Property not found \" + before.variablename + \".\" + before.property + \" value \" + before.value);\r\n                  var pos = node.parent[\"statements\"].indexOf(node);\r\n                  if (pos >= 0)\r\n                      node.parent[\"statements\"].splice(pos, 0, newExpression);*/\r\n            } else {\r\n\r\n                let parent = (<any>this.data[variableName][\"_new_\"][0].node).attributes;\r\n                if (parent === undefined)\r\n                    parent = (<any>this.data[variableName][\"_new_\"][0].node).openingElement.attributes;\r\n                if (property === \"tag\" && typeof value === \"string\") {//HTMLComponent tag\r\n\r\n                    var tagname = value.substring(1, value.length - 1);\r\n\r\n                    (<any>this.data[variableName][\"_new_\"][0].node)[\"jname\"] = value.replaceAll('\"', \"\");\r\n                    if ((<any>this.data[variableName][\"_new_\"][0].node).attributes) {\r\n                        (<any>this.data[variableName][\"_new_\"][0].node).tagName = ts.factory.createIdentifier(tagname);\r\n                    } else {\r\n                        if (tagname.toLowerCase() === \"br\") {//br is created as <br></br> ==> correct\r\n                            var oldnode:any = this.data[variableName][\"_new_\"][0].node;\r\n                            var newnode = this.createNode(\"<br/>\");\r\n                            var pos=oldnode.parent.children.indexOf(oldnode);\r\n                            oldnode.parent.children[pos]=newnode;\r\n                            this.data[variableName][\"_new_\"][0].node=newnode;\r\n                        } else {\r\n                            (<any>this.data[variableName][\"_new_\"][0].node).openingElement.tagName = ts.factory.createIdentifier(tagname);\r\n                            (<any>this.data[variableName][\"_new_\"][0].node).closingElement.tagName = ts.factory.createIdentifier(tagname);\r\n                        }\r\n                    }\r\n                } else {\r\n                    parent[\"properties\"].push(newExpression);\r\n                    newExpression.parent = parent;//[\"properties\"];\r\n                }\r\n                this.data[variableName][property] = [{ node: newExpression, isFunction, value }];\r\n\r\n            }\r\n        }\r\n    }\r\n    /*  movePropertValueInCode(variableName: string, property: string, value: string, newVariableName: string, beforeValue: any) {\r\n          if (this.data[variableName][\"config\"] !== undefined) {\r\n              if (property === \"add\")\r\n                  property = \"children\";\r\n              var oldparent:any=this.data[variableName][property][0].node;\r\n              for (var x = 0; x < oldparent.initializer.elements.length; x++) {\r\n                  var valueNode=oldparent.initializer.elements[x];\r\n                  if (valueNode.getText() === value ||valueNode.getText().startsWith(value + \".\")) {\r\n                      oldparent.initializer.elements.splice(x,1);\r\n                  }\r\n              }\r\n          }\r\n      }*/\r\n    /**\r\n    * modify the property in code\r\n    * @param variablename - the name of the variable\r\n    * @param  property - the property \r\n    * @param value - the new value\r\n    * @param classscope  - the property would be insert in this block\r\n    * @param isFunction  - true if the property is a function\r\n    * @param [replace]  - if true the old value is deleted\r\n    * @param [before] - the new property is placed before this property\r\n    * @param [variablescope] - if this scope is defined - the new property would be insert in this variable\r\n    */\r\n    setPropertyInCode(variableName: string, property: string, value: string | ts.Node,\r\n        classscope: { classname: string, methodname: string }[],\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        variablescope: { variablename: string, methodname } = undefined) {\r\n        if (this.isJSX)\r\n            return this.setPropertyInJSX(variableName, property, <string>value, classscope, isFunction, replace, before, variablescope);\r\n        if (this.data[variableName] === undefined)\r\n            this.data[variableName] = {};\r\n        if (classscope === undefined)\r\n            classscope = this.classScope;\r\n        var scope = this.getNodeFromScope(classscope, variablescope);\r\n        var newExpression = undefined;\r\n        if (this.data[variableName][\"_new_\"] && this.data[variableName][\"_new_\"][0].isJc) {\r\n            this.setPropertyInJC(variableName, property, value, isFunction, replace, before, scope);\r\n            return;\r\n        }\r\n        if (this.data[variableName][\"config\"] !== undefined && property !== \"new\") {\r\n            this.setPropertyInConfig(variableName, property, value, isFunction, replace, before, scope);\r\n            return;\r\n        }\r\n        var newValue: any = typeof value === \"string\" ? ts.factory.createIdentifier(value) : value;\r\n        var statements: ts.Statement[] = scope[\"body\"] ? scope[\"body\"].statements : scope[\"statements\"];\r\n        if (property === \"new\") { //me.panel1=new Panel({});\r\n            let prop = this.data[variableName][\"_new_\"][0];//.substring(3)];\r\n            var constr = prop.value;\r\n            value = constr.substring(0, constr.indexOf(\"(\") + 1) + value + constr.substring(constr.lastIndexOf(\")\"));\r\n            replace = true;\r\n            var left = prop.node.getText();\r\n            left = left.substring(0, left.indexOf(\"=\") - 1);\r\n            property = \"_new_\";\r\n            newExpression = ts.factory.createExpressionStatement(ts.factory.createAssignment(ts.factory.createIdentifier(left), newValue));\r\n        } else if (isFunction) {\r\n            //           newExpression=this.createNode(property === \"\" ? variableName : (variableName + \".\" + property)+\"(\"+newValue.text+\")\",true);\r\n            newExpression = ts.factory.createExpressionStatement(ts.factory.createCallExpression(\r\n                ts.factory.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), undefined, [newValue]));\r\n        } else\r\n            newExpression = ts.factory.createExpressionStatement(ts.factory.createAssignment(\r\n                ts.factory.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), newValue));\r\n        if (replace !== false && this.data[variableName] !== undefined && this.data[variableName][property] !== undefined) {//edit existing\r\n            let node = this.data[variableName][property][0].node;\r\n\r\n            var pos = node.parent[\"statements\"].indexOf(node);\r\n            node.parent[\"statements\"][pos] = newExpression;\r\n            newExpression.parent = node.parent;\r\n\r\n            //if (pos >= 0)\r\n            //  node.parent[\"statements\"].splice(pos, 1);\r\n        } else {//insert new\r\n            if (before) {\r\n                if (before.value === undefined)\r\n                    throw \"not implemented\";\r\n                let node = undefined;\r\n                for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                    if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                        node = this.data[before.variablename][before.property][o].node;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!node)\r\n                    throw Error(\"Property not found \" + before.variablename + \".\" + before.property + \" value \" + before.value);\r\n                var pos = node.parent[\"statements\"].indexOf(node);\r\n                if (pos >= 0)\r\n                    node.parent[\"statements\"].splice(pos, 0, newExpression);\r\n            } else {\r\n                var lastprop: ts.Node = undefined;\r\n                for (let prop in this.data[variableName]) {\r\n                    if (prop === \"_new_\") {\r\n                        //should be in the same scope of declaration (important for repeater)\r\n                        statements = this.data[variableName][prop][0].node.parent[\"statements\"];\r\n                        continue;\r\n                    }\r\n                    var testnode: ts.Node = this.data[variableName][prop][this.data[variableName][prop].length - 1].node;\r\n                    if (testnode.parent === scope[\"body\"])\r\n                        lastprop = testnode;\r\n                }\r\n                if (lastprop) {\r\n                    var pos = lastprop.parent[\"statements\"].indexOf(lastprop);\r\n                    if (pos >= 0)\r\n                        lastprop.parent[\"statements\"].splice(pos + 1, 0, newExpression);\r\n                } else {\r\n                    var pos = statements.length;\r\n                    try {\r\n                        if (pos > 0 && statements[statements.length - 1].getText().startsWith(\"return \"))\r\n                            pos--;\r\n                    } catch {\r\n\r\n                    }\r\n                    statements.splice(pos, 0, newExpression);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * swaps two statements indendified by  functionparameter in a variable.property(parameter1) with variable.property(parameter2)\r\n     **/\r\n    swapPropertyWithParameter(variable: string, property: string, parameter1: string, parameter2: string) {\r\n        var first: ts.Node = undefined;\r\n        var second: ts.Node = undefined;\r\n        var parent = this.data[variable][property];\r\n        if (this.data[variable][\"config\"] && property === \"add\") {\r\n            var children = (<any>this.data[variable][\"children\"][0].node).initializer.elements;\r\n            var ifirst;\r\n            var isecond;\r\n\r\n            for (var x = 0; x < children.length; x++) {\r\n                var text = children[x].getText()\r\n                if (text === parameter1 || text.startsWith(parameter1 + \".config\")) {\r\n                    ifirst = x;\r\n                }\r\n                if (text === parameter2 || text.startsWith(parameter2 + \".config\")) {\r\n                    isecond = x;\r\n                }\r\n            }\r\n            var temp = children[ifirst];\r\n            children[ifirst] = children[isecond];\r\n            children[isecond] = temp;\r\n            return;\r\n        }\r\n        for (var x = 0; x < parent.length; x++) {\r\n            if (parent[x].value.split(\",\")[0].trim() === parameter1)\r\n                first = parent[x].node;\r\n            if (parent[x].value.split(\",\")[0].trim() === parameter2)\r\n                second = parent[x].node;\r\n        }\r\n        if (!first)\r\n            throw Error(\"Parameter not found \" + parameter1);\r\n        if (!second)\r\n            throw Error(\"Parameter not found \" + parameter2);\r\n        var ifirst = first.parent[\"statements\"].indexOf(first);\r\n        var isecond = second.parent[\"statements\"].indexOf(second);\r\n        first.parent[\"statements\"][ifirst] = second;\r\n        first.parent[\"statements\"][isecond] = first;\r\n\r\n\r\n    }\r\n    /**\r\n    * adds an Property\r\n    * @param type - name of the type o create\r\n    * @param classscope - the scope (methodname) where the variable should be insert Class.layout\r\n    * @param variablescope - the scope where the variable should be insert e.g. hallo.onclick\r\n    * @returns  the name of the object\r\n    */\r\n    addVariableInCode(fulltype: string, classscope: { classname: string, methodname: string }[], variablescope: { variablename: string, methodname } = undefined, suggestedName = undefined, codeHasChanged: { value: boolean } = undefined): string {\r\n        if (classscope === undefined)\r\n            classscope = this.classScope;\r\n        let type = fulltype.split(\".\")[fulltype.split(\".\").length - 1];\r\n        var varname = this.getNextVariableNameForType(type, suggestedName);\r\n\r\n        if (this.variabelStack) {\r\n            type = type === \"TextComponent\" ? \"text\" : type;\r\n            this.data[varname] = {\r\n                \"_new_\": [<any>{ className: type, tag: suggestedName }]\r\n            }\r\n            if (codeHasChanged) {\r\n                codeHasChanged.value = false;\r\n            }\r\n            // this.addRef(varname, type);\r\n            return varname;\r\n        } else {\r\n            var useMe = false;\r\n            if (this.data[\"me\"] !== undefined)\r\n                useMe = true;\r\n            //var if(scopename)\r\n\r\n            var node = this.getNodeFromScope(classscope, variablescope);\r\n            //@ts-ignore\r\n            if (node?.parameters?.length > 0 && node.parameters[0].name.text == \"me\") {\r\n                useMe = true;\r\n            }\r\n            var prefix = useMe ? \"me.\" : \"var \";\r\n            if (node === undefined)\r\n                throw Error(\"no scope to insert a variable could be found\");\r\n\r\n            var statements: ts.Statement[] = node[\"body\"] ? node[\"body\"].statements : node[\"statements\"];\r\n            for (var x = 0; x < statements.length; x++) {\r\n                if (!statements[x].getText().split(\"\\n\")[0].includes(\"new \") && !statements[x].getText().split(\"\\n\")[0].includes(\"var \"))\r\n                    break;\r\n            }\r\n            var st = this.createNode(prefix + varname + \"=new \" + type + \"();\", true);\r\n            // var ass = ts.createAssignment(ts.createIdentifier(prefix + varname), ts.createIdentifier(\"new \" + type + \"()\"));\r\n            statements.splice(x, 0, st);//ts.factory.createStatement(ass));\r\n           // if (useMe)\r\n                this.addRef(varname, type);\r\n        }\r\n        return (useMe ? \"me.\" : \"\") + varname;\r\n    }\r\n}\r\n\r\nexport async function tests(t: Test) {\r\n    function clean(s: string): string {\r\n        return s.replaceAll(\"\\t\", \"\").replaceAll(\"\\r\", \"\").replaceAll(\"\\n\", \"\")\r\n    }\r\n    await mytypescript.waitForInited;\r\n    var parser = new Parser();\r\n    parser.parse(\"var j;j.config({children:[a,b,c]})\");\r\n    parser.swapPropertyWithParameter(\"j\", \"add\", \"c\", \"a\");\r\n\r\n    t.expectEqual(clean(parser.getModifiedCode()) === 'var j;j.config({ children: [c,b,a] });');\r\n    parser.parse(\"var j;j.add(a);j.add(b);j.add(c);\");\r\n    parser.swapPropertyWithParameter(\"j\", \"add\", \"c\", \"a\");\r\n    t.expectEqual(clean(parser.getModifiedCode()) === 'var j;j.add(c);j.add(b);j.add(a);');\r\n\r\n\r\n    parser.parse(\"class A{}\");\r\n    t.expectEqual(parser.classes.A !== undefined);\r\n    parser.parse(\"var a=8;\");\r\n    t.expectEqual(parser.data.a !== undefined);\r\n    parser.parse(\"b=8;\");\r\n    t.expectEqual(parser.data.b !== undefined);\r\n    parser.parse(\"b=8\", [{ classname: undefined, methodname: \"test\" }]);\r\n    t.expectEqual(parser.data.b === undefined);\r\n    var scope = [{ classname: undefined, methodname: \"test\" }];\r\n    parser.parse(\"function test(){b=8;}\", scope);\r\n    t.expectEqual(parser.data.b !== undefined);\r\n\r\n    parser.addVariableInCode(\"MyClass\", scope);\r\n    parser.setPropertyInCode(\"myclass\", \"a\", \"9\", scope);\r\n    console.log(clean(parser.getModifiedCode()));\r\n    t.expectEqual(clean(parser.getModifiedCode()) === \"function test() { var myclass=new MyClass(); b=8; myclass.a=9; }\");\r\n\r\n    parser = new Parser();\r\n    parser.parse(\"\");\r\n    parser.addVariableInCode(\"MyClass\", undefined);\r\n    parser.setPropertyInCode(\"myclass\", \"a\", \"9\", undefined);\r\n    t.expectEqual(clean(parser.getModifiedCode()) === \"var myclass=new MyClass();myclass.a=9;\");\r\n\r\n}\r\nexport async function test() {\r\n    var h = ts;\r\n\r\n    //tests(new Test());\r\n    await mytypescript.waitForInited;\r\n\r\n    var code = mytypescript.getCode(\"demo/hallo.tsx\");\r\n    var parser = new Parser();\r\n    var scope = undefined;// [{ classname: \"Dialog2\", methodname: \"layout\" }];\r\n    parser.parse(code, scope, false);\r\n    debugger;\r\n    parser.addVariableInCode(\"Component\",[{ classname: undefined, methodname: \"test\" }]);\r\n    //parser.addImportIfNeeded(\"table2\", \"jassijs/ui/Table2\");\r\n    //parser.setPropertyInCode(\"me.button2\",\"pp\",\"hallo\",scope);\r\n    \r\n    // var j=parser.addVariableInCode(\"jassijs.ui.Button\",[{classname:\"Dialog\",methodname:\"layout\"  }]);\r\n    console.log(parser.getModifiedCode());\r\n\r\n\r\n    // code = \"function test(){ var hallo={};var h2={};var ppp={};hallo.p=9;hallo.config({a:1,b:2, k:h2.config({c:1,j:ppp.config({pp:9})})     }); }\";\r\n    // code = \"function(test){ var hallo={};var h2={};var ppp={};hallo.p=9;hallo.config({a:1,b:2, k:h2.config({c:1},j(){j2.udo=9})     }); }\";\r\n    // code = \"function test(){var ppp;var aaa=new Button();ppp.config({a:[9,6],  children:[ll.config({}),aaa.config({u:1,o:2,children:[kk.config({})]})]});}\";\r\n    //parser.parse(code, undefined);\r\n    //code=\"reportdesign={k:9};\";\r\n\r\n    // parser.parse(code,[{ classname: \"Dialog2\", methodname: \"layout\" }]);// [{ classname: \"TestDialogBinder\", methodname: \"layout\" }]);\r\n\r\n    //    parser.setPropertyInCode(\"me.table\",\"new\",'new Table({\\n      paginationSize: 1\\n})',undefined);\r\n    //  console.log(parser.getModifiedCode());\r\n    // parser.removeVariablesInCode([\"me.repeater\"]);\r\n    //parser.addVariableInCode(\"Component\", [{ classname: \"Dialog\", methodname: \"layout\" }]);\r\n    //parser.setPropertyInCode(\"component\", \"x\", \"1\", [{ classname: \"Dialog\", methodname: \"layout\" }]);\r\n\r\n    // var node = parser.removePropertyInCode(\"add\", \"me.textbox1\", \"me.panel1\");\r\n    // parser.setPropertyInCode(\"this\",\"add\",node,[{classname:\"Dialog\",methodname:\"layout\"}],true,false);\r\n    //var node = parser.removePropertyInCode(\"add\", \"kk\", \"aaa\");\r\n\r\n    //var node=parser.removePropertyInCode(\"add\", \"ll\", \"ppp\");\r\n    //parser.setPropertyInCode(\"aaa\",\"add\",node,[{classname:undefined, methodname:\"test\"}],true,false,undefined,undefined);\r\n    //console.log(node.getText());\r\n    //    parser.setPropertyInCode(\"ppp\",\"add\",\"cc\",[{classname:undefined, methodname:\"test\"}],true,false,{variablename:\"ppp\",property:\"add\",value:\"ll\"});\r\n    //  parser.setPropertyInCode(\"aaa\",\"add\",\"cc\",[{classname:undefined, methodname:\"test\"}],true,false,{variablename:\"aaa\",property:\"add\",value:\"kk\"});\r\n\r\n    // debugger;\r\n    /*  const printer = ts.createPrinter({ newLine: ts.NewLineKind.LineFeed });\r\n      const resultFile = ts.createSourceFile(\"dummy.ts\", \"\", ts.ScriptTarget.Latest, false, ts.ScriptKind.TS);\r\n      const result = printer.printNode(ts.EmitHint.Unspecified, parser.sourceFile, resultFile);\r\n      console.log(result);*/\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n","import \"jassijs/ext/jquerylib\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { Component } from \"jassijs/ui/Component\";\nimport { DragAndDropper } from \"jassijs_editor/util/DragAndDropper\";\n\n@$Class(\"jassijs_editor.util.Resizer\")\nexport class Resizer {\n    //the current cursor e.g. \"default\",\"s-resize\" \n    private cursorType: string;\n    //is the cursor under th border of an element\n    private isCursorOnBorder: boolean;\n    //the element which is currently resized\n    private resizedElement: string;\n    //is the mousebutton down\n    private isMouseDown: boolean;\n    //all elements which can be resized e.g. \"#100,#102\"\n    private elements: string;\n    //all elements with registred mousedown handler\n    private mousedownElements: JQuery<Node>;\n    //called if elements are selected\n    public onelementselected: (ids: string[], event: any) => void;\n    //called if properties has changed e.g. the width of a component\n    public onpropertychanged: (component: Component, property: string, value: any) => void;\n    //the parent component and all childcomponents can be resized\n    private parentPanel: Component;\n    //id's of the last selected Elements\n    private lastSelected: string[];\n    //the component under the mouse cursor\n    public componentUnderCursor: Element;\n    //is the lasso acivated? \n    private lassoMode: boolean;\n    //the connected DragAndDropper\n    public draganddropper: DragAndDropper;\n    //the top element in z-order which is clicked\n    private topElement: string;\n    //timer to detect the component which should be changed\n    private propertyChangetimer;\n    constructor() {\n        this.cursorType = \"\";\n        this.isCursorOnBorder = false;\n        this.isMouseDown = false;\n        this.resizedElement = \"\";\n        this.elements = undefined;\n        this.onelementselected = undefined;\n        this.onpropertychanged = undefined;\n        this.parentPanel = undefined;\n        this.lastSelected = undefined;\n        this.componentUnderCursor = undefined;\n        this.lassoMode = false;\n        this.draganddropper = undefined;\n\n    }\n    private mouseDownOld(event) {\n        event.data._resizeComponent(event);\n        let elementID = (<any>this).getAttribute('id');\n        var _this: Resizer = event?.data;\n\n        if (_this.onelementselected !== undefined) {\n\n            //select with click\n            //delegate only the top window - this is the first event????\n            if (_this.topElement === undefined) {\n                if (document.getElementById(elementID).classList.contains(\"designerNoSelectable\")) {\n                    return;\n                }\n                _this.topElement = elementID;\n\n                setTimeout(function () {\n                    _this.parentPanel.dom.querySelectorAll(\".jselected\").forEach((c) => { c.classList.remove(\"jselected\") });\n                    //                   $(\".jselected\").removeClass(\"jselected\");\n                    document.getElementById(_this.topElement).classList.add(\"jselected\");\n                    _this.lastSelected = [_this.topElement];\n                    if (!_this.onelementselected)\n                        console.log(\"onselected undefined\");\n                    _this.onelementselected(_this.lastSelected, event);\n                    _this.topElement = undefined;\n                }, 50);\n            }\n\n            var lastTime = new Date().getTime();\n            //select with lasso\n\n        }\n        if (_this.resizedElement === \"\" || _this.resizedElement === undefined) {//if also parentcontainer will be fired->ignore\n            _this.resizedElement = elementID.toString();\n            _this.isMouseDown = true;\n        }\n    }\n    private mouseDown(event) {\n\n        event.data._resizeComponent(event);\n        let elementID = (<any>this).getAttribute('id');\n        var _this: Resizer = event?.data;\n        var target = event.target;\n        if (_this.onelementselected !== undefined) {\n            \n            _this.topElement = undefined\n            //event.preventDefault();\n            while (_this.topElement === undefined) {\n                if (target._this && _this.elements.indexOf(target._this._id) !== -1)\n                    _this.topElement = target._this._id;\n                else if (target._this && _this.elements.indexOf(target._this.domWrapper?._id) !== -1)\n                    _this.topElement = target._this.domWrapper?._id;\n                target = target.parentNode;\n            }\n\n            \n            _this.lastSelected = [_this.topElement];\n            if (!_this.onelementselected)\n                console.log(\"onselected undefined\");\n            _this.onelementselected(_this.lastSelected, event);\n            _this.topElement = undefined;\n\n        }\n\n        var lastTime = new Date().getTime();\n        //select with lasso\n\n\n        if (_this.resizedElement === \"\" || _this.resizedElement === undefined) {//if also parentcontainer will be fired->ignore\n            _this.resizedElement = elementID.toString();\n            _this.isMouseDown = true;\n        }\n    }\n    private mouseMove(event) {\n        event.data._resizeComponent(event);\n    };\n    private mouseUp(event) {\n        if (event.data !== undefined) {\n            var _this: Resizer = event?.data;\n            _this.isMouseDown = false;\n            _this.isCursorOnBorder = false;\n            _this.cursorType = \"default\";\n            if (_this.resizedElement !== \"\" && _this.resizedElement !== undefined) {\n                document.getElementById(_this.resizedElement).style.cursor = _this.cursorType;\n                _this.resizedElement = \"\";\n            }\n        }\n    }\n    //not every event should be fired - only the last with delay\n    private firePropertyChange(...param: any[]) {\n        var _this = this;\n        if (this.propertyChangetimer) {\n            clearTimeout(this.propertyChangetimer);\n        }\n\n        this.propertyChangetimer = setTimeout(() => {\n            if (_this.onpropertychanged !== undefined) {\n                //@ts-ignore\n                _this.onpropertychanged(...param);\n            }\n        }, 200);\n    }\n\n    /**\n    * resize the component\n    * this is an onmousemove event called from _changeCursor()\n    * @param {type} event\n    */\n    private _resizeComponent(e) {\n\n        //window.status = event1.type;\n        //check drag is activated or not\n        if (this.isMouseDown) {\n            // console.debug(\"drag\");\n            var curevent = e;\n            //coordiantes of the event position\n            var x = curevent.clientX;\n            var y = curevent.clientY;\n            var element = this.lastSelected.length===0?undefined:document.getElementById(this.lastSelected[0]);\n\n            //var element: HTMLElement = <HTMLElement>this.componentUnderCursor;\n\n            if (element === undefined) {\n                var cursor = this.cursorType.substring(0, this.cursorType.indexOf('-'));\n                this._changeCursor(e);\n                return;\n            }\n            /*if (this.lastSelected && this.lastSelected.length > 0) {\n                if (document.getElementById(this.lastSelected[0])._this !== element._this)\n                    return;\n            }*/\n            //top left positions of the div element\n            var topLeftX = $(element._this.dom).offset().left;//element.offsetLeft;\n            var topLeftY = $(element._this.dom).offset().top;//element.offsetTop;\n\n            //width and height of the element\n            var width = element.offsetWidth;\n            var height = element.offsetHeight;\n\n            //get the cursor sytle [e,w,n,s,ne,nw,se,sw]\n            var cursor = this.cursorType.substring(0, this.cursorType.indexOf('-'));\n            var _this = this;\n            if (cursor.indexOf('e') !== -1) {\n                var w = Math.max(x - topLeftX, 8);\n                w = Math.round(w / 5) * 5;\n                element._this.width = w;\n                this.firePropertyChange(element._this, \"width\", w);\n                /*if (this.onpropertychanged !== undefined) {\n                        this.onpropertychanged(element._this, \"width\", w);\n                }*/\n                //\telement.style.width = Math.max(x - topLeftX,8)+'px';\n\n            }\n            if (cursor.indexOf('s') !== -1) {\n                var h = Math.max(y - topLeftY, 8);\n                h = Math.round(h / 5) * 5;\n                element._this.height = h;//+'px';\n                this.firePropertyChange(element._this, \"height\", h);\n                /*if (this.onpropertychanged !== undefined) {\n                        this.onpropertychanged(element._this, \"height\", h);\n                }*/\n            }\n        } else {\n            //  document.getElementById(elementID).style.cursor = cursorType;\n            this._changeCursor(e);\n        }\n\n    }\n\n\n\n    /**\n    * changes the cursor\n    * @param {type} e\n    */\n    _changeCursor(e) {\n        var borderSize = 4;\n        this.cursorType = \"default\";\n        //slow\n        //var els = $(this.parentPanel.dom).find(this.elements);\n        var dcs = [];\n        this.elements.split(\",\").forEach((str) => {\n            let el = document.getElementById(str.substring(1));\n            if (el) {\n                var classes = el.classList;\n                if (!classes.contains(\"designerNoResizable\"))\n                    dcs.push(document.getElementById(str.substring(1)));\n            }\n        });\n\n        var els = $(dcs);\n        for (var i = 0; i < els.length; i++) {\n            var element: HTMLElement = <HTMLElement>els[i];\n            if (element === null)\n                continue;\n            var noresizex = element.classList.contains(\"designerNoResizableX\");\n            var noresizey = element.classList.contains(\"designerNoResizableY\");\n            if (element.classList.contains(\"designerNoResizable\")) {\n                continue;\n            }\n            //code start for changing the cursor\n            //var element2 = document.getElementById(elementID);\n            var topLeftX = $(element).offset().left;//element.offsetLeft;\n            var topLeftY = $(element).offset().top;//element.offsetTop;\n            var bottomRightX = topLeftX + element.offsetWidth;\n            var bottomRightY = topLeftY + element.offsetHeight;\n            var curevent = e;\n            var x = curevent.clientX;\n            var y = curevent.clientY;\n            // console.log(noresizex+\":\"+noresizey);\n            //window.status = topLeftX +\"--\"+topLeftY+\"--\"+bottomRightX+\"--\"+bottomRightY+\"--\"+x+\"--\"+y+\"--\"+isMouseDown;\n\n            //change the cursor style when it is on the border or even at a distance of 8 pixels around the border\n            if (x >= bottomRightX - borderSize && x <= bottomRightX + borderSize) {\n                /*  if(y >= bottomRightY-borderSize && y <= bottomRightY+borderSize){\n                          this.isCursorOnBorder = true;\n                          this.cursorType = \"se-resize\";\n                  }*/\n                if ((y > topLeftY - borderSize && y < bottomRightY + borderSize)) {\n                    if (!noresizex) {\n                        this.isCursorOnBorder = true;\n                        this.cursorType = \"e-resize\";\n                    }\n                }\n            }\n            else if ((x > topLeftX - borderSize && x < bottomRightX + borderSize)) {\n                if (!noresizey && (y >= bottomRightY - borderSize && y <= bottomRightY + borderSize)) {\n                    if (!noresizey) {\n                        this.isCursorOnBorder = true;\n                        this.cursorType = \"s-resize\";\n                    }\n                }\n            }\n            if (this.cursorType === \"e-resize\" || this.cursorType === \"s-resize\") {\n                var test = $(element).closest(\".jeditablecomponent\");\n                var isDragging = false;\n                if (this.draganddropper !== undefined) {\n                    element == undefined;\n                    isDragging = this.draganddropper.isDragging();\n                }\n                if (!this.lassoMode && !isDragging) {\n                    this.componentUnderCursor = test[0];\n                    element.style.cursor = this.cursorType;\n                } else {\n                    this.cursorType = \"default\";\n                    this.componentUnderCursor = undefined;\n                    element.style.cursor = this.cursorType;\n                }\n                return;\n            }\n            this.componentUnderCursor = undefined;\n            element.style.cursor = this.cursorType;\n        }\n    }\n    /**\n     * enable or disable the lasso\n     * with lasso some components can be selected with dragging\n     */\n    public setLassoMode(enable: boolean) {\n        this.lassoMode = enable;\n        this.lastSelected = [];\n        this.resizedElement = \"\";\n        this.cursorType = \"\";\n        this.isCursorOnBorder = false;\n        this.isMouseDown = false;\n        var lastTime = new Date().getTime();\n        var _this = this;\n        if (enable === true) {\n            $(this.parentPanel.dom).selectable({\n                selected: function (event, ui) {\n                    if (new Date().getTime() - lastTime > 500) {//new selection\n                        _this.lastSelected = [];\n                        _this.parentPanel.dom.querySelectorAll(\".jselected\").forEach((c) => { c.classList.remove(\"jselected\") });\n                        //                 \n                        //$(\".jselected\").removeClass(\"jselected\");\n                        setTimeout(function () {\n                            _this.onelementselected(_this.lastSelected, event);\n                            _this.lastSelected = undefined;\n                        }, 50);\n                    }\n                    lastTime = new Date().getTime();\n                    var a = 9;\n                    if (ui.selected._this && ui.selected.classList.contains(\"jeditablecomponent\") &&\n                        !ui.selected.classList.contains(\"designerNoSelectable\")) {\n                        var ids = _this.elements + \",\";\n                        if (ids.indexOf(\"#\" + ui.selected._this._id + \",\") > -1) {\n                            _this.lastSelected.push(ui.selected._this._id);\n                            document.getElementById(ui.selected._this._id).classList.add(\"jselected\");\n                        }\n                    }\n                }\n            });\n        } else {\n\n            $(this.parentPanel.dom).selectable(\"destroy\");\n        }\n\n    }\n    /**\n     * install the resizer\n     * @param parentPanel - the parent component\n     * @param elements - the search pattern for the components to resize e.q. \".jresizeable\"\n     */\n    install(parentPanel: Component, elements: string) {\n        var _this = this;\n        /*if (!parentPanel.dom.classList.contains(\"designerNoResizable\")) {\n            $(parentPanel.domWrapper).resizable({\n                resize: function (evt: any) {\n                    var h = evt.target.offsetHeight;\n                    var w = evt.target.offsetWidth;\n                    if (_this.onpropertychanged !== undefined) {\n                        evt.target._this.width = w;\n                        evt.target._this.height = h;\n                        _this.onpropertychanged(evt.target._this, \"width\", w);\n                        _this.onpropertychanged(evt.target._this, \"height\", h);\n                        evt.target._this.domWrapper.style.width= w + \"px\";\n                        evt.target._this.domWrapper.style.height= h + \"px\";\n                    }\n                }\n            });\n        }*/\n        if (parentPanel !== undefined)\n            this.parentPanel = parentPanel;\n        if (elements !== undefined)\n            this.elements = elements;\n        // this.parentPanel.dom.addEventListener(\"mousedown\",(ev)=>this.mouseDown(ev));  \n        $(this.parentPanel.dom).on(\"mousedown\", this, this.mouseDown);\n        this.mousedownElements = $(this.parentPanel.dom).find(this.elements);\n        for (let x = 0; x < this.mousedownElements.length; x++) {\n            this.mousedownElements[x] = this.mousedownElements[x].parentNode;\n        }\n        // this.mousedownElements.on(\"mousedown\", this, this.mouseDown);\n        $(this.parentPanel.dom).on(\"mousemove\", this, this.mouseMove);\n        $(this.parentPanel.dom).on(\"mouseup\", this, this.mouseUp);\n\n        //this.setLassoMode(true);\n        //this.setLassoMode(false);\n\n    }\n\n    /**\n     * uninstall the resizer\n     */\n    uninstall() {\n        this.onelementselected = undefined;\n        this.onpropertychanged = undefined;\n        if (this.parentPanel !== undefined) {\n            $(this.parentPanel.dom).off(\"mousedown\", this.mouseDown);\n            if (this.mousedownElements !== undefined)\n                this.mousedownElements.off(\"mousedown\", this.mouseDown);\n            this.mousedownElements = undefined;\n            $(this.parentPanel.dom).off(\"mousemove\", this.mouseMove);\n            $(this.parentPanel.dom).on(\"mouseup\", this.mouseUp);\n        }\n        this.resizedElement = \"\";\n        this.elements = undefined;\n        this.parentPanel = undefined;\n        this.lastSelected = undefined;\n        this.componentUnderCursor = undefined;\n        this.draganddropper = undefined;\n\n        /*  this.mouseDown.bound=undefined;\n          this.mouseMove.bound=undefined;\n          this.mouseUp.bound=undefined;*/\n\n    }\n}\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { $ActionProvider, $Action } from \"jassijs/base/Actions\";\nimport { FileNode } from \"jassijs/remote/FileNode\";\n\nimport { Component } from \"jassijs/ui/Component\";\nimport { Container } from \"jassijs/ui/Container\";\nimport { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport windows from \"jassijs/base/Windows\";\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\nimport { Errors } from \"jassijs/base/Errors\";\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { Test } from \"jassijs/remote/Test\";\n\n\n\nclass MyContainer extends BoxPanel {\n    startDate:number;\n    statustext: HTMLPanel;\n    alltests = 0;\n    failedtests = 0;\n    finished = false;\n    update() {\n        if (this.failedtests === 0) {\n\n        }\n        this.statustext.style={\n            color: (this.failedtests === 0 ? \"green\" : \"red\")\n        };\n\n        this.statustext.value = (this.finished ? (\"Finished \"+(new Date().getTime()-this.startDate).toString()+\"ms \" ): \"test running... \") + this.alltests + \" Tests. \" + (this.failedtests) + \" Tests failed.\"\n    }\n}\n@$ActionProvider(\"jassijs.remote.FileNode\")\n@$Class(\"jassijs_editor.ui.TestAction\")\nexport class TestAction {\n    @$Action({\n        name: \"Run Tests\"\n    })\n    static async testNode(all: FileNode[], container: MyContainer = undefined) {\n\n        var isRoot = false;\n        if (container === undefined) {\n            container = new MyContainer();\n            windows.add(container, \"Tests\");\n            container.statustext = new HTMLPanel();\n\n            container.add(container.statustext);\n            isRoot = true;\n            Errors.errors.onerror((err) => {\n                try {\n                    if (container.dom) {//sometimes off register was not called\n                        var newerrorpanel = new ErrorPanel(false, false, false);\n                        newerrorpanel.addError(err);\n                        container.add(newerrorpanel);\n                    }\n                } catch {\n\n                }\n            }, container._id);\n        }\n        if(isRoot){\n            container.startDate=new Date().getTime();\n        }\n        for (var x = 0; x < all.length; x++) {\n            var file = all[x];\n            if (file.isDirectory()) {\n                await TestAction.testNode(file.files, container);\n\n            } else {\n                var typescript = (await import(\"jassijs_editor/util/Typescript\")).mytypescript;\n                await typescript.initService();\n                var text: string = typescript.getCode(file.fullpath);\n                if (text !== undefined) {\n                    text = text.toLowerCase();\n                    try {\n                        if (text.indexOf(\"export function test(\") !== -1 || text.indexOf(\"export async function test(\") !== -1) {\n                            console.log(\"test \" + file.fullpath);\n                            var pos=file.fullpath.lastIndexOf(\".\");\n                            var func = (await import(file.fullpath.substring(0, pos)))?.test;\n                            if (typeof func === \"function\") {\n                                container.alltests++;\n                                container.update();\n                                var ret = await func(new Test());\n                                if (ret instanceof Component) {\n                                    ret.dom.style.position= \"relative\" ;\n                                    ret.width = \"100%\";\n                                    var head = new HTMLPanel();\n                                    head.value = \"<b>\" + file.fullpath + \"</b>\";\n                                    container.add(head);\n                                    container.add(ret);\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        if (container.dom) {\n                            try {\n                                var newerrorpanel = new ErrorPanel(false, false, false);\n                                newerrorpanel.addError({\n                                    error: err\n                                });\n                                newerrorpanel.style={\n                                    backgroundColor: \"red\"\n                                };\n                                container.add(newerrorpanel);\n                                container.failedtests++;\n                                container.update();\n                            } catch {\n\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (isRoot) {\n            container.finished = true;\n            container.update();\n            Errors.errors.offerror(container._id);\n            console.log(\"off error\");\n        }\n\n    }\n\n}\n\n\nexport class Tests {\n\n}\n\n//Selftest\nexport async function test(tst: Test) {\n\n    tst.expectEqual(1 === 1);\n    tst.expectError(() => {\n        var h;\n        h.a = 9;\n    });\n\n\n}","/*requirejs.config({\n    baseUrl: 'https://unpkg.com/source-map@0.7.3/dist/source-map',\n    paths: {\n        'mozilla.sourcemap':\"https://unpkg.com/source-map@0.7.3/dist/source-map\"\n    }\n\n});*/\n//@ts-ignore\nimport {sourceMap} from \"jassijs/ext/sourcemap\";\nimport { Server } from \"jassijs/remote/Server\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { config } from \"jassijs/remote/Config\";\nimport ts from \"typescript\";\n\n//var sourceMap=window[\"sourceMap\"];\n@$Class(\"jassijs_editor.util.TSSourceMap\")\nexport class TSSourceMap {\n    async getCode(file: string) {\n        var rr= await $.ajax({ url: file, dataType: \"text\" });\n        return rr;\n        // await new Server().loadFile(file);\n    }\n    async getLineFromTS(tsfile: string, line, column): Promise<{ line: number, column: number, jsfilename: string }> {\n        var jscode;\n        var mapcode = \"\";\n        var filenumber = 0;\n        var jsfilename;\n        if (Server.filesInMap && Server.filesInMap[tsfile]) {\n            var mod = Server.filesInMap[tsfile].modul;\n            jsfilename = config.modules[mod];\n            var mapname = jsfilename.split(\"\").reverse().join(\"\").replace(\"sj.\", \"pam.sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n           \n            mapcode = await this.getCode(mapname);//await $.ajax({ url: jsfilename+\".map\", dataType: \"text\" });\n            filenumber = Server.filesInMap[tsfile].id;\n        } else {\n            //replace last .ts to .js\n            jsfilename = \"js/\" + tsfile.split(\"\").reverse().join(\"\").replace(\"st.\", \"sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n            jscode = await this.getCode(jsfilename);// await $.ajax({ url: jsfilename, dataType: \"text\" });\n\n            var pos = jscode.indexOf(\"//\" + \"# sourceMappingURL=\");\n            if (jscode.indexOf(\"//\" + \"# sourceMappingURL=data:application\") > -1) {\n                var b64 = jscode.substring(pos + 50);\n                mapcode = ts[\"base64decode\"](undefined, b64);\n                //mapcode = decodeURIComponent(escape((b64)));\n            } else {\n                //mapcode = await $.ajax({ url: \"js/\" + tsfile.replace(\".ts\", \".js.map\"), dataType: \"text\" });\n                //replace last .js to .js.map\n                var mapfile = tsfile.split(\"\").reverse().join(\"\").replace(\"st.\", \"pam.sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n                mapcode = await this.getCode(\"js/\" + mapfile);\n            }\n        }\n        var ret: Promise<{ line: number, column: number, jsfilename: string }> = new Promise((resolve, reject) => { // eslint-disable-line no-unused-vars\n            var isinline = false;\n            sourceMap.SourceMapConsumer.initialize({\n                \"lib/mappings.wasm\": \"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm\"\n            });\n            var rawSourceMap = JSON.parse(mapcode);\n            sourceMap.SourceMapConsumer.with(rawSourceMap, null, consumer => {\n                var test = consumer.sources;\n                var l = consumer.generatedPositionFor({\n                    source: rawSourceMap.sources[filenumber],\n                    line: line,\n                    column: column\n                })\n                l.jsfilename = jsfilename;\n                return l;\n            }).then(function (whatever) {\n                resolve(whatever);\n            });\n        });\n        return ret;\n    }\n    async getLineFromJS(jsfile:string, line:number, column:number): Promise<{ source: string, line: number, column: number }> {\n        var data=await this.getLinesFromJS(jsfile,[{line,column}]);\n        return ((data===undefined||data.length===0)?undefined:data[0]);\n    }\n    async getLinesFromJS(jsfile, data:{line:number, column:number}[]): Promise<{ source: string, line: number, column: number }[]> {\n        var jscode = await this.getCode(jsfile.split(\"?\")[0])// await $.ajax({ url: jsfile, dataType: \"text\" });\n        var mapcode = \"\";\n        var pos = jscode.indexOf(\"//\" + \"# sourceMappingURL=\");\n        if (jscode.indexOf(\"//\" + \"# sourceMappingURL=data:application\") > -1) {\n            var b64 = jscode.substring(pos + 50);\n            mapcode = atob(b64);\n        } else if (pos) {\n            //TODO parse the correct map\n            var mapfile = jsfile.split(\"\").reverse().join(\"\").replace(\"sj.\", \"pam.sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n            mapcode = await new Server().loadFile(mapfile);\n        } else\n            return undefined;\n        sourceMap.SourceMapConsumer.initialize({\n                \"lib/mappings.wasm\": \"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm\"\n            });\n        var rawSourceMap = JSON.parse(mapcode);\n        var ret=[];\n        for(var x=0;x<data.length;x++){\n            var one: any = await new Promise((resolve, reject) => { // eslint-disable-line no-unused-vars\n            \n                //for(var x=0;x<data.length;x++){\n                sourceMap.SourceMapConsumer.with(rawSourceMap, null, consumer => {\n                    var test = consumer.sources;\n                    var l = consumer.originalPositionFor({\n                        bias: sourceMap.SourceMapConsumer.GREATEST_LOWER_BOUND,\n                        line: data[x].line,\n                        column: data[x].column\n                    })\n                    return l;\n                }).then(function (whatever) {\n                    resolve(whatever);\n                });\n            });\n            ret.push(one);\n        }\n        return await ret;\n        //  jassijs.myRequire(\"https://unpkg.com/source-map@0.7.3/dist/source-map.js\",function(data){\n    }\n}\n\n","import \"jassijs_editor/ext/monaco2\";\r\nimport   \"jassijs_editor/ext/monaco\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\n\r\nimport { Editor } from \"jassijs/ui/PropertyEditors/Editor\";\r\nimport { config } from \"jassijs/remote/Config\";\r\nimport ts from \"typescript\";//\"jassijs_editor/ext/monaco\";\r\n//import \"jassijs_editor/ext/monaco\";\r\n\r\n \r\n@$Class(\"jassijs_editor.util.Typescript\")\r\nexport class Typescript {\r\n    static instance: Typescript;\r\n    waitForInited: Promise<boolean>;\r\n    tsWorker: monaco.languages.typescript.TypeScriptWorker;\r\n\r\n    static languageServiceHost: ts.LanguageServiceHost;\r\n    static ts;\r\n\r\n\r\n    /**\r\n    * resolved if the service is inited\r\n    */\r\n    private static _isInited: boolean = undefined;\r\n    static compilerSettings = {\r\n        baseUrl: \"./\",\r\n        target: \"ES2017\",\r\n        module: \"AMD\",\r\n        sourceMap: true,\r\n        outDir: \"./js\",\r\n        allowJs: true,\r\n        moduleResolution: monaco.languages.typescript.ModuleResolutionKind.Classic,\r\n        jsx: monaco.languages.typescript.JsxEmit.React,\r\n        emitDecoratorMetadata: true,\r\n        experimentalDecorators: true,\r\n        esModuleInterop: true,\r\n        typeRoots: [\"./node_modules/@types\"]\r\n    }\r\n    public isInited(file) {\r\n\r\n        return Typescript._isInited === true;\r\n    }\r\n    /**\r\n     * transpile the ts-file an returns all reflected files\r\n     * @param fileName \r\n     * @param content \r\n     */\r\n    async transpile(fileName: string, content: string, compilerSettings: any = undefined): Promise<{ fileNames: string[]; contents: string[] }> {\r\n        var ret = { fileNames: [fileName], contents: [content] }\r\n        if (fileName.toLocaleLowerCase().endsWith(\".js\")) {//js Code would be not transpiled\r\n            ret.fileNames.push(\"js/\" + fileName);\r\n            ret.contents.push(content);\r\n        } else {\r\n            var prefix = \"\";\r\n            for (let x = 0; x < fileName.split(\"/\").length; x++) {\r\n                prefix = \"../\" + prefix;\r\n            }\r\n            var opt = {\r\n                compilerOptions: compilerSettings ? compilerSettings : Typescript.compilerSettings,\r\n                fileName: prefix + fileName,\r\n            };\r\n            //@ts-ignore\r\n            var comp: any = ts.transpileModule(content, opt);\r\n            var extlen = 3;\r\n            if (fileName.toLowerCase().endsWith(\".tsx\"))\r\n                extlen = 4;\r\n            ret.fileNames.push(\"js/\" + fileName.substring(0, fileName.length - extlen) + \".js\");\r\n            ret.contents.push(comp.outputText);\r\n            ret.fileNames.push(\"js/\" + fileName.substring(0, fileName.length - extlen) + \".js.map\");\r\n            ret.contents.push(comp.sourceMapText);\r\n\r\n        }\r\n        return ret;\r\n\r\n    }\r\n    private constructor() {\r\n\r\n        if (Typescript._isInited === undefined)\r\n            this.waitForInited = this.initService();\r\n\r\n    }\r\n\r\n    static initMonaco() {\r\n        /* monaco.languages.typescript.javascriptDefaults.setCompilerOptions({\r\n             \"baseUrl\": \"./\",\r\n             rootDir: \"./\",\r\n         })*/\r\n        monaco.languages.typescript.typescriptDefaults.setCompilerOptions({\r\n            \"target\": monaco.languages.typescript.ScriptTarget.Latest,\r\n            \"baseUrl\": \"./\",\r\n            \"module\": monaco.languages.typescript.ModuleKind.AMD,\r\n            \"moduleResolution\": monaco.languages.typescript.ModuleResolutionKind.Classic,\r\n            \"jsx\": monaco.languages.typescript.JsxEmit.React,\r\n            typeRoots: [\"./node_modules/@types\"],\r\n            rootDir: \"./\",\r\n\r\n            \"sourceMap\": true,\r\n            \"outDir\": \"./js\",\r\n            emitDecoratorMetadata: true,\r\n            allowNonTsExtensions: true,\r\n            allowJs: true,\r\n            esModuleInterop: true,\r\n            experimentalDecorators: true,\r\n        });\r\n\r\n    }\r\n    initInIdle = true;\r\n    //load  d.ts from modulpackage\r\n    private async includeModulTypes() {\r\n        var nodeFiles = {}\r\n        for (var mod in config.modules) {\r\n            var config1 = (await import(mod + \"/modul\")).default;\r\n            if (config1.types) {\r\n                for (var key in config1.types) {\r\n                    var file = config1.types[key];\r\n                    nodeFiles[key] = new Server().loadFile(file);\r\n\r\n                }\r\n            }\r\n        }\r\n        return nodeFiles;\r\n    }\r\n    /**\r\n     * initialize the services tooks any seconds\r\n     * functions which uses the languageservice are blocked until ready\r\n     */\r\n    async initService(): Promise<boolean> {\r\n        try {\r\n            if (Typescript._isInited !== undefined)\r\n                return;\r\n            Typescript._isInited = false;\r\n            Typescript.initMonaco();\r\n            //@ts-ignore\r\n            //  import(\"jassijs/ext/typescript\").then(async function(ts1) {\r\n            Typescript.ts = ts;\r\n            var tsfactory = (<any>window).tsfactory;\r\n            for (var key in tsfactory) {\r\n                if (ts[key] === undefined)\r\n                    ts[key] = tsfactory[key];\r\n            }\r\n            var _this = this;\r\n            var f: { [path: string]: FileNode } = (await new Server().dir(true)).resolveChilds();\r\n\r\n            var nodeFiles = await this.includeModulTypes();\r\n            //Load all files to in cache\r\n            //node_modules with ajax - so we kann cache \r\n            var myfiles = [];\r\n            for (let x in f) {\r\n                let fname = f[x].fullpath;\r\n                let fdat = f[x].date;\r\n\r\n\r\n                //include js in jassijs/ext\r\n                if (fname.startsWith(\"node_modules\"))\r\n                    continue;\r\n                if (fname.toLowerCase().endsWith(\".ts\") || fname.toLowerCase().endsWith(\".tsx\") || fname.toLowerCase().endsWith(\".js\") || fname.toLowerCase().endsWith(\".json\")) {\r\n                    if (fname.toLocaleLowerCase().endsWith(\".js\")) {\r\n                        try {\r\n                            monaco.languages.typescript.typescriptDefaults.addExtraLib(\"export default const test=1;\", \"file:///\" + fname);\r\n                        } catch {\r\n                            console.log(\"Error loading file \" + fname);\r\n                        }\r\n                    }\r\n                    if (fdat === undefined) {\r\n                        nodeFiles[fname] = new Server().loadFile(fname);\r\n                    } else {\r\n                        nodeFiles[fname] = $.ajax({\r\n                            url: fname,\r\n                            beforeSend: function (request) {\r\n                                request.setRequestHeader(\"X-Custom-FromCache\", fdat);\r\n                            },\r\n                            dataType: \"text\"\r\n                        });\r\n                    }\r\n                    //}\r\n                }\r\n            }\r\n            //load TS sources\r\n\r\n            //wait for each nodefiles\r\n            var code = {};\r\n            for (let key in nodeFiles) {\r\n                code[key] = await nodeFiles[key];\r\n\r\n            }\r\n            for (let key in nodeFiles) {\r\n                //monaco\r\n\r\n                //@ts-ignore\r\n                //\t\r\n                var type = \"typescript\";\r\n\r\n                if (key.toLocaleLowerCase().endsWith(\".ts\") || key.toLocaleLowerCase().endsWith(\".tsx\")) {\r\n                    try {\r\n                        //\r\n                        if (this.initInIdle) {\r\n                            var ffile = monaco.Uri.from({ path: \"/\" + key, scheme: 'file' });\r\n                            //console.log(key);\r\n                            if (!monaco.editor.getModel(ffile))\r\n                                monaco.editor.createModel(code[key], \"typescript\", ffile);\r\n                            //});\r\n                        } else {\r\n\r\n                            monaco.languages.typescript.typescriptDefaults.addExtraLib(code[key], \"file:///\" + key);\r\n                        }\r\n                    } catch { \r\n\r\n                    }\r\n                }\r\n                if (key.toLocaleLowerCase().endsWith(\".json\"))\r\n                    type = \"json\";\r\n\r\n            }\r\n            //initialize monaco\r\n            //if (!this.initInIdle)\r\n            monaco.editor.createModel(\"var a=1;\", \"typescript\", monaco.Uri.from({ path: \"/__mydummy.ts\", scheme: 'file' }));\r\n            this.tsWorker = await (await monaco.languages.typescript.getTypeScriptWorker())()\r\n            Typescript._isInited = true;\r\n            return true;\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n    /**\r\n     * unused\r\n     */\r\n    async getDefinitionAtPosition(file: string, position: number) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        return await this.tsWorker.getDefinitionAtPosition(\"file:///\" + file, position);\r\n\r\n    }\r\n    /**\r\n     * unused\r\n     */\r\n    async getSignatureHelpItems(file: string, position: number) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        //@ts-ignore\r\n        return await this.tsWorker.getSignatureHelpItems(\"file:///\" + file, position, undefined);\r\n\r\n    }\r\n    async includefileIfNeeded(file: string) {\r\n\r\n    }\r\n    async renameFile(oldfile: string, newfile: string) {\r\n        var ffile = monaco.Uri.from({ path: \"/\" + oldfile, scheme: 'file' });\r\n        var oldmodell = monaco.editor.getModel(ffile);\r\n        oldmodell?.dispose();\r\n        var text = await $.ajax({\r\n            url: newfile,\r\n            beforeSend: function (request) {\r\n                request.setRequestHeader(\"X-Custom-FromCache\", newfile);\r\n            },\r\n            dataType: \"text\"\r\n        });\r\n        await this.setCode(newfile, text);\r\n        var snap = Typescript.languageServiceHost.getScriptSnapshot(newfile);\r\n    }\r\n\r\n    /**\r\n     * @returns all code filenames\r\n     */\r\n    getFiles(): string[] {\r\n        var ret: string[] = [];\r\n        var mods = monaco.editor.getModels();\r\n        for (var x = 0; x < mods.length; x++) {\r\n            var f = mods[x].uri.path.substring(1);\r\n            ret.push(f);\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * get the code for a file\r\n     * @params file - the filename e.g. jassijs/base/Parser.ts\r\n     */\r\n    getCode(file: string): string {\r\n        var ffile = monaco.Uri.from({ path: \"/\" + file, scheme: 'file' });\r\n        var mod = monaco.editor.getModel(ffile);\r\n        if (mod)\r\n            return mod.getValue();\r\n        else\r\n            return undefined;\r\n    }\r\n    /**\r\n     * put file in cache\r\n     * @param file - the ts file\r\n     * @param text - the text of the ts file\r\n     */\r\n    setCode(file: string, text: string) {\r\n        var ffile = monaco.Uri.from({ path: \"/\" + file, scheme: 'file' });\r\n        var mod = monaco.editor.getModel(ffile);\r\n        if (!mod) {\r\n            mod = monaco.editor.createModel(text, \"typescript\", ffile);\r\n        }\r\n        var waiter = new Promise(function (resolve) {\r\n            var disp = mod.onDidChangeContent((evt) => {\r\n                if (evt.changes[0].text === text) {\r\n                    disp.dispose();\r\n                    resolve(mod);\r\n                }\r\n            });\r\n        });\r\n        mod.setValue(text);\r\n        return waiter;\r\n    }\r\n    /**\r\n     * get info for a completionentry\r\n     * @param file - the ts file\r\n     * @param position - the position in string\r\n     * @param item -the item we are interested\r\n     * @param formatOptions -unused\r\n     * @param source -unused\r\n     * @param preferences - unused\r\n     */\r\n    async getCompletionEntryDetails(file: string, position: number, item: string, formatOptions = {}, source = undefined, preferences = {}) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        const info = await this.tsWorker.getCompletionEntryDetails(\"file:///\" + file, position, item);\r\n        return info;\r\n    }\r\n    /**\r\n     * get all completions at a  position\r\n     * @param file -the ts file\r\n     * @param position -the position in string\r\n     * @param text - the text of the file is saved to cache\r\n     */\r\n    async getCompletion(file: string, position: number, text: string = undefined, options) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            var p = this.setCode(file, text);\r\n            await p;\r\n            // Typescript.languageServiceHost.getScriptSnapshot(file);\r\n        }\r\n        //@ts-ignore\r\n        const info = await this.tsWorker.getCompletionsAtPosition(\"file:///\" + file, position, options);\r\n        //            { includeExternalModuleExports: true });\r\n        return info;\r\n    }\r\n    async getQuickInfoAtPosition(file: string, position: number, text: string) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            await this.setCode(file, text);\r\n        }\r\n        return await this.tsWorker.getQuickInfoAtPosition(\"file:///\" + file, position);\r\n    }\r\n    async getCodeFixesAtPosition(file: string, text: string = undefined, start: number, end: number, errorCodes: []): Promise<any> {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            await this.setCode(file, text);\r\n        }\r\n        return await this.tsWorker.getCodeFixesAtPosition(\"file:///\" + file, start, end, errorCodes, {});\r\n    }\r\n    async formatDocument(filePath: string, text: string = undefined) {\r\n        await this.waitForInited;\r\n        await this.setCode(filePath, text);\r\n\r\n        var textChanges = await this.tsWorker.getFormattingEditsForDocument(\"file:///\" + filePath, {\r\n            convertTabsToSpaces: true,\r\n            insertSpaceAfterCommaDelimiter: true,\r\n            insertSpaceAfterKeywordsInControlFlowStatements: true,\r\n            insertSpaceBeforeAndAfterBinaryOperators: true,\r\n            newLineCharacter: \"\\n\",\r\n            indentStyle: ts.IndentStyle.Smart,\r\n            indentSize: 4,\r\n            tabSize: 4\r\n        });\r\n\r\n        let finalText = text;\r\n        textChanges = textChanges.sort((a, b) => b.span.start - a.span.start);\r\n        for (var i = 0; i < textChanges.length; i++) {\r\n            var textChange = textChanges[i];\r\n            const { span } = textChange;\r\n            finalText = finalText.slice(0, span.start) + textChange.newText\r\n                + finalText.slice(span.start + span.length);\r\n        }\r\n        return finalText;\r\n    }\r\n    async getDiagnosticsForAll(): Promise<ts.Diagnostic[]> {\r\n        var mods = monaco.editor.getModels();\r\n        var ret = [];\r\n        var countErrors = 0;\r\n        for (var x = 0; x < mods.length; x++) {\r\n            var url = \"file:///\" + mods[x].uri.path;\r\n            if (url.indexOf(\"node_modules/\") > 0)\r\n                continue;\r\n\r\n            try {\r\n                var sug = await this.tsWorker.getSemanticDiagnostics(url);\r\n                for (var s = 0; s < sug.length; s++) {\r\n                    //@ts-ignore\r\n                    sug[s][\"file\"] = {\r\n                        fileName: mods[x].uri.path.substring(1)\r\n                    }\r\n                    ret.push(sug[s]);\r\n                }\r\n                sug = await this.tsWorker.getSyntacticDiagnostics(url);\r\n                for (var s = 0; s < sug.length; s++) {\r\n                    //@ts-ignore\r\n                    sug[s][\"file\"] = {\r\n                        fileName: mods[x].uri.path.substring(1)\r\n                    }\r\n                    ret.push(sug[s]);\r\n                }\r\n            } catch (ex) {\r\n                if (!ex.message.indexOf(\"file:////lib.dom.d.ts\") && ex.message.indexOf(\" file:////lib.es5.d.ts\"))\r\n                    console.log(\"Error: \" + url + ex.message);\r\n            }\r\n        }\r\n        console.log(\"ready\");\r\n        return ret;\r\n        /* var prog=Typescript.languageService.getProgram();\r\n         let all=Typescript.ts.getPreEmitDiagnostics(prog);\r\n         let all2=prog.emit().diagnostics;\r\n         let ret=[];\r\n         all.forEach((diag)=>{\r\n             if(diag.file!==undefined&&!diag.file.fileName.startsWith(\"node_modules\"))\r\n                 ret.push(diag);\r\n         });\r\n         return ret;*/\r\n    }\r\n    getLineAndCharacterOfPosition(fileName: string, pos: number): { line, character } {\r\n        var p = monaco.editor.getModel(monaco.Uri.from({ path: \"/\" + fileName, scheme: 'file' })).getPositionAt(pos);\r\n        return {\r\n            line: p.lineNumber,\r\n            character: p.column\r\n        }\r\n    }\r\n    getPositionOfLineAndCharacter(fileName: string, pos: { line, character }): number {\r\n        var p = monaco.editor.getModel(monaco.Uri.from({ path: \"/\" + fileName, scheme: 'file' })).getOffsetAt({\r\n            column: pos.character,\r\n            lineNumber: pos.line\r\n        })\r\n        return p;\r\n    }\r\n    async getDiagnostics(file: string, text: string = undefined) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            this.setCode(file, text);\r\n        }\r\n\r\n        return {\r\n            semantic: await this.tsWorker.getSemanticDiagnostics(\"file:///\" + file),\r\n            suggestion: await this.tsWorker.getSuggestionDiagnostics(\"file:///\" + file),\r\n            syntactic: await this.tsWorker.getSyntacticDiagnostics(\"file:///\" + file)\r\n            //      declaration:Typescript.languageService.getDeclarationDiagnostics(file)\r\n        }\r\n    }\r\n}\r\n//@ts-ignore\r\nvar mytypescript: Typescript = new Typescript();\r\nTypescript.instance = mytypescript;\r\nexport { mytypescript };","//this file is autogenerated don't modify\ndefine(\"jassijs_editor/registry\",[\"require\"], function(require) {\n return {\n  default: {\n\t\"jassijs_editor/AcePanel.ts\": {\n\t\t\"date\": 1740653429301.0798,\n\t\t\"jassijs.ui.AcePanel\": {}\n\t},\n\t\"jassijs_editor/AcePanelSimple.ts\": {\n\t\t\"date\": 1719757301492.3672,\n\t\t\"jassijs.ui.AcePanelSimple\": {}\n\t},\n\t\"jassijs_editor/ChromeDebugger.ts\": {\n\t\t\"date\": 1681488352000,\n\t\t\"jassijs_editor.ChromeDebugger\": {}\n\t},\n\t\"jassijs_editor/CodeEditor.ts\": {\n\t\t\"date\": 1740761803088.7715,\n\t\t\"jassijs_editor.CodeEditorSettingsDescriptor\": {\n\t\t\t\"$SettingsDescriptor\": [],\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs_editor.CodeEditor\": {\n\t\t\t\"@members\": {}\n\t\t}\n\t},\n\t\"jassijs_editor/CodeEditorInvisibleComponents.ts\": {\n\t\t\"date\": 1740651512713.9685,\n\t\t\"jassijs_editor.CodeEditorInvisibleComponents\": {}\n\t},\n\t\"jassijs_editor/CodePanel.ts\": {\n\t\t\"date\": 1655661690000,\n\t\t\"jassijs_editor.CodePanel\": {}\n\t},\n\t\"jassijs_editor/ComponentDesigner.ts\": {\n\t\t\"date\": 1740828811263.884,\n\t\t\"jassijs_editor.ComponentDesigner\": {}\n\t},\n\t\"jassijs_editor/ComponentExplorer.ts\": {\n\t\t\"date\": 1740518126597.6243,\n\t\t\"jassijs_editor.ComponentExplorer\": {}\n\t},\n\t\"jassijs_editor/ComponentPalette.ts\": {\n\t\t\"date\": 1740651439292.9773,\n\t\t\"jassijs_editor.ComponentPalette\": {}\n\t},\n\t\"jassijs_editor/ComponentSpy.ts\": {\n\t\t\"date\": 1740510338564.4038,\n\t\t\"jassijs_editor.ui.ComponentSpy\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"dummy\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-account-cog-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Spy Components\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-police-badge\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/DatabaseDesigner.ts\": {\n\t\t\"date\": 1740518198514.8262,\n\t\t\"jassijs_editor/DatabaseDesigner\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Database Designer\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-database-edit\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/Debugger.ts\": {\n\t\t\"date\": 1656019586000,\n\t\t\"jassijs_editor.Debugger\": {}\n\t},\n\t\"jassijs_editor/ErrorPanel.ts\": {\n\t\t\"date\": 1720116488294.8394,\n\t\t\"jassijs_editor.ui.ErrorPanel\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Errors\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-emoticon-confused-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/ext/monaco.ts\": {\n\t\t\"date\": 1720105252684.6934\n\t},\n\t\"jassijs_editor/ext/monaco2.ts\": {\n\t\t\"date\": 1720090850426.468\n\t},\n\t\"jassijs_editor/ext/typescriptservices.ts\": {\n\t\t\"date\": 1720556246507.595\n\t},\n\t\"jassijs_editor/FileExplorer.ts\": {\n\t\t\"date\": 1683575950000,\n\t\t\"jassijs_editor.ui.FileActions\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/File\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"download\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Download\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newModule\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Module\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"dodelete\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Delete\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"mapLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Map local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"closeLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Close local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"rename\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Rename\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"refresh\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Refresh\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"open\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Open\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"jassijs.ui.FileExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Files\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file-tree\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/HtmlDesigner.ts\": {\n\t\t\"date\": 1740742771963.561,\n\t\t\"jassijs_editor.HtmlDesigner\": {}\n\t},\n\t\"jassijs_editor/modul.ts\": {\n\t\t\"date\": 1720612634385.9824\n\t},\n\t\"jassijs_editor/MonacoPanel.ts\": {\n\t\t\"date\": 1720101262364.5872,\n\t\t\"jassijs_editor.MonacoPanel\": {}\n\t},\n\t\"jassijs_editor/SearchExplorer.ts\": {\n\t\t\"date\": 1720256623984.0022,\n\t\t\"jassijs_editor.ui.SearchExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Search\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-folder-search-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/StartEditor.ts\": {\n\t\t\"date\": 1720115090825.8567\n\t},\n\t\"jassijs_editor/template/TemplateDBDialog.ts\": {\n\t\t\"date\": 1721659030283.6165,\n\t\t\"jassijs_editor.template.TemplateDBDialogProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBDialog\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateDBObject.ts\": {\n\t\t\"date\": 1681570394000,\n\t\t\"jassijs_editor.template.TemplateDBObjectProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateEmptyDialog.ts\": {\n\t\t\"date\": 1740567736806.9265,\n\t\t\"jassijs_editor.template.TemplateEmptyDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Dialog.ts\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateRemoteObject.ts\": {\n\t\t\"date\": 1750577040067.4404,\n\t\t\"jassijs_editor.template.TemplateRemoteObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/RemoteObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/DatabaseSchema.ts\": {\n\t\t\"date\": 1720101271019.9363,\n\t\t\"jassijs_editor.util.DatabaseSchema\": {}\n\t},\n\t\"jassijs_editor/util/DragAndDropper.ts\": {\n\t\t\"date\": 1657925428000,\n\t\t\"jassijs_editor.util.DragAndDropper\": {}\n\t},\n\t\"jassijs_editor/util/Parser.ts\": {\n\t\t\"date\": 1740570775364.1863,\n\t\t\"jassijs_editor.util.Parser\": {}\n\t},\n\t\"jassijs_editor/util/Resizer.ts\": {\n\t\t\"date\": 1740742895352.4688,\n\t\t\"jassijs_editor.util.Resizer\": {}\n\t},\n\t\"jassijs_editor/util/Tests.ts\": {\n\t\t\"date\": 1739727794640.8933,\n\t\t\"jassijs_editor.ui.TestAction\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"testNode\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Run Tests\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/TSSourceMap.ts\": {\n\t\t\"date\": 1720117379608.988,\n\t\t\"jassijs_editor.util.TSSourceMap\": {}\n\t},\n\t\"jassijs_editor/util/Typescript.ts\": {\n\t\t\"date\": 1750449152303.9917,\n\t\t\"jassijs_editor.util.Typescript\": {}\n\t},\n\t\"jassijs_editor/template/TemplateEmptyTSXDialog.ts\": {\n\t\t\"date\": 1740589015740.2244,\n\t\t\"jassijs_editor.template.TemplateEmptyTSXDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Dialog.tsx\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n }\n});"]}
=======
{"version":3,"file":"jassijs_editor.js","sourceRoot":"","sources":["../client/jassijs_editor/AcePanel.ts","../client/jassijs_editor/AcePanelSimple.ts","../client/jassijs_editor/ChromeDebugger.ts","../client/jassijs_editor/CodeEditor.ts","../client/jassijs_editor/CodeEditorInvisibleComponents.ts","../client/jassijs_editor/CodePanel.ts","../client/jassijs_editor/ComponentDesigner.ts","../client/jassijs_editor/ComponentExplorer.ts","../client/jassijs_editor/ComponentPalette.ts","../client/jassijs_editor/ComponentSpy.ts","../client/jassijs_editor/DatabaseDesigner.ts","../client/jassijs_editor/Debugger.ts","../client/jassijs_editor/ErrorPanel.ts","../client/jassijs_editor/ext/monaco.ts","../client/jassijs_editor/ext/monaco2.ts","../client/jassijs_editor/ext/typescriptservices.ts","../client/jassijs_editor/FileExplorer.ts","../client/jassijs_editor/HtmlDesigner.ts","../client/jassijs_editor/modul.ts","../client/jassijs_editor/MonacoPanel.ts","../client/jassijs_editor/registry.js","../client/jassijs_editor/SearchExplorer.ts","../client/jassijs_editor/StartEditor.ts","../client/jassijs_editor/template/TemplateDBDialog.ts","../client/jassijs_editor/template/TemplateDBObject.ts","../client/jassijs_editor/template/TemplateEmptyDialog.ts","../client/jassijs_editor/template/TemplateRemoteObject.ts","../client/jassijs_editor/util/DatabaseSchema.ts","../client/jassijs_editor/util/DragAndDropper.ts","../client/jassijs_editor/util/Parser.ts","../client/jassijs_editor/util/Resizer.ts","../client/jassijs_editor/util/Tests.ts","../client/jassijs_editor/util/TSSourceMap.ts","../client/jassijs_editor/util/Typescript.ts","../jassijs_editor/registry.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAgiBA,oBAaC;;IA7iBD,+CAA+C;IAa/C;;;MAGE;IAEK,IAAM,QAAQ,gBAAd,MAAM,QAAS,SAAQ,qBAAS;QASnC;YACI,KAAK,EAAE,CAAC;QACX,CAAC;QACF,MAAM;YACF,OAAY,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,EAAE,SAAS,EAAC,WAAW,EAAC,KAAK,EAAC,EAAC,MAAM,EAAC,OAAO,EAAC,KAAK,EAAC,OAAO,EAAC,EAAC,CAAC,CAAC;QAC1G,CAAC;QACD,iBAAiB;YACb,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;YACnC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACf,IAAI,CAAC,cAAc,GAAG,IAAI,mBAAQ,CAAC;gBAC/B,KAAK,CAAC,UAAU,EAAE,CAAC;YACvB,CAAC,EAAE,GAAG,CAAC,CAAC;YACR,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBACpB,yBAAyB,EAAE,IAAI;gBAC/B,uBAAuB;gBACvB,WAAW,EAAE,KAAK;gBAClB,wBAAwB,EAAE,KAAK;gBAC/B,iCAAiC;gBACjC,yBAAyB;aAC5B,CAAC,CAAC;YAEH,mDAAmD;YACnD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,EAAE,KAAK,CAAC,CAAA;YAClD,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,QAAQ,CAAC;YACxC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,IAAI,OAAO,GAAG,SAAS,CAAC;YACxB,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,YAAY,EAAE,CAAC;QACxB,CAAC;QACO,UAAU;YACd,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE;gBACtC,QAAQ,GAAG,CAAC,MAAM,EAAE,CAAC;oBACjB,KAAK,QAAQ;wBACT,IAAI,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;wBACtB,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;wBACpB,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,IAAI,IAAI,KAAK,GAAG,EAAE,CAAC;4BAC9D,UAAU,CAAC,GAAG,EAAE;gCACZ,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;4BACtE,CAAC,EAAE,EAAE,CAAC,CAAC;wBACX,CAAC;wBACD,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;4BACxE,kBAAkB;4BAClB,IAAI,GAAG,GAAG,KAAK,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;4BAC5C,IAAI,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;4BAChC,IAAI,IAAI,KAAK,GAAG,EAAE,CAAC;gCACf,UAAU,CAAC,GAAG,EAAE;oCACZ,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gCAE7C,CAAC,EAAE,GAAG,CAAC,CAAC;4BACZ,CAAC;wBACL,CAAC;wBACD,MAAM;gBACd,CAAC;gBACD,KAAK,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;gBAChC,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;gBAClD,IAAI,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACnD,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,WAAW,EAAE,CAAC,SAAS,EAAE,GAAG,KAAK,CAAC;gBACnG,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;YAC3B,CAAC,CAAC,CAAC;YAEH,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,iBAAiB,EAAE,UAAU,CAAC;gBAE3C,IAAI,GAAG,GAAG,CAAC,CAAC,mBAAmB,EAAE,CAAC,GAAG,CAAC;gBACtC,IAAI,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAC1D,IAAI,IAAI,GAAG,YAAY,CAAC;gBACxB,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO;oBAClB,IAAI,GAAG,YAAY,CAAC;gBACxB,IAAI,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;gBACvD,IAAI,OAAO,WAAW,CAAC,GAAG,CAAC,KAAK,OAAO,SAAS,EAAE,CAAC;oBAC/C,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;oBACpC,KAAK,CAAC,SAAS,CAAC,mBAAmB,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBAClE,CAAC;qBAAM,CAAC;oBACJ,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;oBACxD,KAAK,CAAC,SAAS,CAAC,mBAAmB,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;gBACnE,CAAC;YACL,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,EAAE,UAAU,CAAC;gBACpC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAA;QACN,CAAC;QACD,YAAY;YACR,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACtE,CAAC;QACD;;YAEI;QACI,YAAY;YAChB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;gBAC7B,IAAI,EAAE,gBAAgB;gBACtB,OAAO,EAAE,EAAE,GAAG,EAAE,aAAa,EAAE,GAAG,EAAE,aAAa,EAAE;gBACnD,IAAI,EAAE,UAAU,MAAM;oBAClB,yBAAY,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;wBAC9D,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC;oBACtB,CAAC,CAAC,CAAC;gBACP,CAAC;aACJ,CAAC,CAAC;YACH,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;gBAC7B,IAAI,EAAE,iBAAiB;gBACvB,OAAO,EAAE,EAAE,GAAG,EAAE,UAAU,EAAE,GAAG,EAAE,UAAU,EAAE;gBAC7C,IAAI,EAAE,UAAU,MAAM;oBAClB,KAAK,CAAC,eAAe,EAAE,CAAC;gBAC5B,CAAC;aACJ,CAAC,CAAA;QACN,CAAC;QACO,eAAe,CAAC,KAAK;YAEzB,IAAI,IAAI,CAAC,mBAAmB,KAAK,SAAS;gBACtC,OAAO;YACX,IAAI,IAAI,CAAC,mBAAmB,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC;gBAC9C,IAAI,GAAG,GAAG,KAAK,CAAC,mBAAmB,EAAE,CAAC;gBACtC,IAAI,GAAG,CAAC,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC;oBAChC,OAAO;gBACX,IAAI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC;oBAC7B,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC;oBACtB,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;iBACnB,CAAC,GAAG,CAAC,CAAC;gBACP,IAAI,CAAC,yBAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;oBACjC,OAAO;gBACX,IAAI,CAAC,CAAC;gBACN,yBAAY,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE;oBACxE,IAAI,CAAC,KAAK,SAAS,EAAE,CAAC;wBAClB,IAAI,IAAI,GAAG,8BAA8B,CAAC;wBAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BAC7C,IAAI,GAAG,IAAI,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;wBACzC,CAAC;wBACD,IAAI,CAAC,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;4BAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gCAC9C,IAAI,GAAG,IAAI,GAAG,MAAM,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;4BACnD,CAAC;wBACL,CAAC;wBACD,IAAI,GAAG,IAAI,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC,aAAa,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,GAAG,OAAO,CAAC;wBACxF,UAAQ,CAAC,WAAW,CAAC,SAAS,GAAG,IAAI,CAAC;wBACtC,UAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,kBAAkB,CAAC,GAAG,SAAS,CAAC;wBAC3D,UAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;wBAC7C,UAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;wBACjD,UAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;wBAChD,UAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;oBACrD,CAAC;gBACL,CAAC,CAAC,CAAA;YACN,CAAC;QACL,CAAC;QACD;;WAEG;QACK,cAAc,CAAC,KAAK;YACxB,IAAI,UAAQ,CAAC,WAAW,KAAK,SAAS,EAAE,CAAC;gBACrC,UAAQ,CAAC,WAAW,GAAG,qBAAS,CAAC,iBAAiB,CAAC,0BAA0B,CAAC,CAAC;gBAC/E,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,UAAQ,CAAC,WAAW,CAAC,CAAC;YAC/C,CAAC;YACD,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;gBACtB,UAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;gBAC5C,UAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;gBACjD,UAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;gBAChD,UAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;YACrD,CAAC;YACD,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YACtC,KAAK,GAAG,KAAK,CAAC;YACd,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;QACnE,CAAC;QAEM,MAAM,CAAC,GAAW,EAAE,IAAY;YACnC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAC3C,CAAC;QACD;;YAEI;QACJ,kBAAkB,CAAC,GAAoC,EAAE,IAAY;YACjE,IAAI,CAAC,yBAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;gBACjC,OAAO;YACX,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;gBAE3G,IAAI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC;oBAC7B,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC;oBACtB,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;iBACnB,CAAC,GAAG,CAAC,CAAC;gBACP,qBAAS,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;oBAC/D,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;wBACrB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;wBACjD,yBAAY,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;oBAChD,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QACD;;WAEG;QACK,UAAU;YACd,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC;gBACnE,OAAO;YACX,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,yBAAY,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE;gBACjC,IAAI,KAAK,CAAC,OAAO,KAAK,SAAS,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,SAAS,EAAE,CAAC;oBAC1E,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,cAAc,CAAC,CAAC;4BACvC,GAAG,EAAE,CAAC;4BACN,MAAM,EAAE,CAAC;4BACT,IAAI,EAAE,gDAAgD;4BACtD,IAAI,EAAE,aAAa,CAAC,+BAA+B;yBACtD,CAAC,CAAC,CAAC;gBAER,CAAC;gBACD,yBAAY,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE;oBACtD,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS;wBACxB,OAAO;oBACP,yBAAY,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;wBACnE,IAAI,UAAU,GAAG,EAAE,CAAC;wBACpB,IAAI,OAAO,GAAG,KAAK,CAAC;wBACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BAC5C,2CAA2C;4BAC3C,cAAc;4BACd,0GAA0G;4BAC1G,IAAI,GAAG,GAAG,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;4BACzD,UAAU,CAAC,IAAI,CAAC;gCACZ,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;gCAChB,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC;gCACtB,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,aAAa,CAAC,EAAC,KAAK;gCAClJ,IAAI,EAAE,OAAO,CAAC,+BAA+B;6BAChD,CAAC,CAAA;4BACF,OAAO,GAAG,IAAI,CAAC;4BACf,KAAK;wBACT,CAAC;wBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BAC9C,4CAA4C;4BAC5C,eAAe;4BACf,kGAAkG;4BAClG,IAAI,GAAG,GAAG,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;4BAC3D,UAAU,CAAC,IAAI,CAAC;gCACZ,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;gCAChB,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC;gCACtB,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,WAAW;gCACpC,IAAI,EAAE,SAAS,CAAC,+BAA+B;6BAClD,CAAC,CAAA;4BACF,KAAK;wBACT,CAAC;wBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BAC7C,6CAA6C;4BAC7C,eAAe;4BACf,6FAA6F;4BAC7F,IAAI,GAAG,GAAG,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;4BAC1D,UAAU,CAAC,IAAI,CAAC;gCACZ,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;gCAChB,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC;gCACtB,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,aAAa,CAAC,EAAC,KAAK;gCACrJ,IAAI,EAAE,OAAO,CAAC,+BAA+B;6BAChD,CAAC,CAAA;4BACF,OAAO,GAAG,IAAI,CAAC;4BACf,GAAG;wBACP,CAAC;wBACD,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;wBACtD,IAAI,KAAK,CAAC,GAAG,EAAE,CAAC;4BACZ,IAAI,OAAO,EAAE,CAAC;gCACI,KAAK,CAAC,GAAG,CAAC,aAAa,CAAC,aAAa,CAAE,CAAC,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;4BACvF,CAAC;iCAAM,CAAC;gCACU,KAAK,CAAC,GAAG,CAAC,aAAa,CAAC,aAAa,CAAE,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE,CAAC;4BAChF,CAAC;wBACL,CAAC;oBAGL,CAAC,CAAC,CAAA;gBACN,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QAGP,CAAC;QACD;;;WAGG;QACH,QAAQ,CAAC,OAAO;YACZ,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QACvC,CAAC;QACD;;WAEG;QACK,iBAAiB;YACrB,IAAI,YAAY,GAAG,GAAG,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;YACzD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,YAAY,CAAC,KAAK,KAAK,SAAS,EAAE,CAAC;gBACnC,YAAY,CAAC,KAAK,GAAG;oBACjB,WAAW,EAAE,EAEZ;oBACD,aAAa,EAAE,UAAU,IAAI;wBACzB,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;wBAC1C,4EAA4E;wBAC5E,+CAA+C;oBACnD,CAAC;oBACD,cAAc,EAAE,UAAU,MAAM,EAAE,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ;wBAC5D,OAAO,KAAK,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;oBACxE,CAAC;iBACJ,CAAA;YAEL,CAAC;YACD,YAAY,CAAC,aAAa,CAAC,CAAC,YAAY,CAAC,KAAK,EAAE,YAAY,CAAC,gBAAgB,CAAC,CAAC,CAAC;QAEpF,CAAC;QAGD;;;;;;;UAOE;QACF,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE,GAAoC,EAAE,MAAM,EAAE,QAAQ;YAClF;;;qCAGyB;YACzB,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,GAAG,KAAK,CAAC,gBAAgB,CAAC;gBAC3B,MAAM,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC;gBACtB,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;aACnB,CAAC,CAAC;YACH,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;YAEtB,IAAI,yBAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC;gBAC5C,IAAI,KAAK,GAAG,EAAE,OAAO,EAAE,0CAA0C,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;gBAClK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAChB,OAAO;YACX,CAAC;YACD,IAAI,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;gBAC1B,OAAO;YACP,yBAAY,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,4BAA4B,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;gBACtG,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;oBACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC3C,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;wBAC3B,IAAI,IAAI,GAAG,cAAc,CAAC;wBAC1B,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU;4BAClD,IAAI,GAAG,cAAc,CAAC;wBAC1B,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ;4BAC5E,IAAI,GAAG,YAAY,CAAC;wBACxB,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,EAAE,CAAC;4BACxD,IAAI,GAAG,gBAAgB,CAAC;wBAC5B,CAAC;wBACD,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO;4BACrB,IAAI,GAAG,WAAW,CAAC;wBACvB,IAAI,KAAK,GAAG;4BACR,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI;4BACrD,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ;yBAC1G,CAAC;wBACF,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACpB,CAAC;gBACL,CAAC;qBAAM,CAAC;oBACJ,IAAI,KAAK,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;oBAC7H,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACpB,CAAC;gBACD,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;YAExB,CAAC,CAAC,CAAC;QAEP,CAAC;QAED;;;UAGE;QACF,aAAa,CAAC,IAAI;YACd,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS;gBACvB,OAAO,EAAE,CAAC;YACd,IAAI,GAAG,GAAG,GAAG,GAAG,kBAAQ,CAAC,MAAM,EAAE,CAAC;YAClC,IAAI,CAAC,OAAO,GAAG,YAAY,GAAG,GAAG,GAAG,mDAAmD,CAAC;YAExF,yBAAY,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;gBACnG,IAAI,GAAG,KAAK,SAAS;oBACjB,OAAO;gBACX,IAAI,GAAG,GAAG,KAAK,CAAC;gBAChB,IAAI,GAAG,CAAC,YAAY,KAAK,SAAS,EAAE,CAAC;oBACjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC/C,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAA,oBAAoB;oBAC7D,CAAC;gBACL,CAAC;gBACD,gFAAgF;gBAChF,GAAG,GAAG,qCAAqC,GAAG,GAAG,GAAG,gBAAgB,CAAC;gBACrE,IAAI,GAAG,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;oBAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAChD,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,MAAM,CAAC,CAAA,oBAAoB;oBACvE,CAAC;gBACL,CAAC;gBACD,GAAG,GAAG,GAAG,CAAC;gBACV,IAAI,GAAG,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;oBACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACvC,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;wBAC5B,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;4BACtB,IAAI,CAAC,GAAG,EAAE,CAAC;4BACX,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;4BACjC,IAAI,GAAG,CAAC,CAAC;wBACb,CAAC;wBACD,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,QAAQ,GAAG,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC,UAAU,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,MAAM,CAAC,CAAC;oBAClJ,CAAC;gBACL,CAAC;gBACD,GAAG,GAAG,GAAG,CAAC;gBACV,IAAI,IAAI,GAAG,8BAA8B,GAAG,GAAG,GAAG,OAAO,CAAC,CAAA,iDAAiD;gBAC3G,yBAAyB;gBACzB,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;gBAE9C,SAAS;YACb,CAAC,CAAC,CAAA;QACN,CAAC;QAED;;;WAGG;QACH,cAAc;YACV,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC1C,IAAI,WAAW,CAAC,CAAC,CAAC,KAAK,SAAS,EAAE,CAAC;oBAC/B,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;gBAClB,CAAC;gBACD,YAAY;YAChB,CAAC;YACD,OAAO,GAAG,CAAC;QACf,CAAC;QAED;;;WAGG;QACH,OAAO,CAAC,OAAO;YACX,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC7C,CAAC;QACD;;;WAGG;QACH,MAAM,CAAC,OAAO;YACV,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAC5C,CAAC;QACD;;WAEG;QACH,IAAI,KAAK,CAAC,KAAa;YACnB,IAAI,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC;YACrC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;YAC9B,0CAA0C;YAC1C,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE,CAAC;gBAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,cAAc,CAAC,IAAI,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;YACpE,CAAC;YACD,IAAI,UAAU,KAAK,SAAS,EAAE,CAAC;gBAC3B,mCAAmC;YACvC,CAAC;YACD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,WAAW;YACX,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;gBACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAEtB,CAAC,EAAE,EAAE,CAAC,CAAC;QACX,CAAC;QACD,IAAI,KAAK;YACL,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACnC,CAAC;QACD;;WAEG;QACH,IAAI,cAAc,CAAC,MAAuC;YACtD,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACvD,IAAI,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC;YACnB,IAAI,CAAC,GAAG,CAAC;gBACL,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACd,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,wCAAwC;YACxC,iGAAiG;QACrG,CAAC;QACD,IAAI,cAAc;YACd,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAC3C,GAAG,CAAC,GAAG,EAAE,CAAC;YACV,GAAG,CAAC,MAAM,EAAE,CAAC;YACb,OAAO,GAAG,CAAC;QACf,CAAC;QACD;;;WAGG;QACH,OAAO,CAAC,IAAI;YACR,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnD,CAAC;QACD;;WAEG;QACH,IAAI,IAAI,CAAC,IAAI;YACT,gBAAgB;YAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC;QAC1D,CAAC;QACD,IAAI,IAAI;YACJ,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;QACD,OAAO;YACH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;QACD;;UAEE;QACF,IAAI;YACA,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QACxB,CAAC;QACD;;aAEK;QACL,MAAM;YACF,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;QAC1B,CAAC;KACJ,CAAA;IA5gBY,4BAAQ;uBAAR,QAAQ;QADpB,IAAA,iBAAM,EAAC,qBAAqB,CAAC;;OACjB,QAAQ,CA4gBpB;IAEM,KAAK,UAAU,IAAI;QAEtB,IAAI,GAAG,GAAG,IAAI,QAAQ,EAAE,CAAC;QACzB,GAAG,CAAC,KAAK,GAAG,+DAA+D,CAAC;QAC5E,GAAG,CAAC,IAAI,GAAG,YAAY,CAAC;QACxB,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QAEjB,8CAA8C;QAC9C,+DAA+D;QAC/D,8CAA8C;QAC9C,6CAA6C;QAC7C,IAAI,CAAC,GAAG,GAAG,CAAC,cAAc,EAAE,CAAC;QAC7B,OAAO,GAAG,CAAC;IACf,CAAC;;;;;;IC7YD,oBAaC;IA7KD,+CAA+C;IAQ/C;;;MAGE;IAEK,IAAM,cAAc,GAApB,MAAM,cAAe,SAAQ,qBAAS;QAIzC;YACI,KAAK,EAAE,CAAC;YAGR,oCAAoC;QACxC,CAAC;QACD,MAAM;YACF,OAAY,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,EAAE,SAAS,EAAC,WAAW,EAAC,KAAK,EAAC,EAAC,MAAM,EAAC,OAAO,EAAC,KAAK,EAAC,OAAO,EAAC,EAAC,CAAC,CAAC;QAC1G,CAAC;QACD,iBAAiB;YACb,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAC,EAAE,CAAC;YACjC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACf,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBACpB,yBAAyB,EAAE,IAAI;gBAC/B,uBAAuB;gBACvB,WAAW,EAAE,KAAK;gBAClB,wBAAwB,EAAE,KAAK;gBAC/B,iCAAiC;gBACjC,yBAAyB;aAC5B,CAAC,CAAC;YAEH,mDAAmD;YACnD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,EAAE,KAAK,CAAC,CAAA;YAClD,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,QAAQ,CAAC;YACxC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;QACtB,CAAC;QACO,UAAU;YACd,IAAI,KAAK,GAAG,IAAI,CAAC;YACtB;;;;;sBAKU;QAGT,CAAC;QACD,YAAY;YACR,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACnC,CAAC;QACG,MAAM,CAAC,GAAU,EAAC,IAAW;YACnC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACxC,CAAC;QACD;;;WAGM;QACH,QAAQ,CAAC,OAAO;YACb,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QACtC,CAAC;QAGD;;;WAGG;QACH,OAAO,CAAC,OAAO;YACX,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC7C,CAAC;QACD;;;WAGG;QACH,MAAM,CAAC,OAAO;YACV,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAC5C,CAAC;QACD;;WAEG;QACH,IAAI,KAAK,CAAC,KAAa;YACnB,IAAI,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC;YACrC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;YAC9B,0CAA0C;YAC1C,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE,CAAC;gBAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,cAAc,CAAC,IAAI,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;YACpE,CAAC;YACD,IAAI,UAAU,KAAK,SAAS,EAAE,CAAC;gBAC3B,mCAAmC;YACvC,CAAC;YACD,IAAI,KAAK,GAAG,IAAI,CAAC;QAErB,CAAC;QACD,IAAI,KAAK;YACL,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACnC,CAAC;QACD;;WAEG;QACH,IAAI,cAAc,CAAC,MAAuC;YACtD,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACvD,IAAI,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC;YACnB,IAAI,CAAC,GAAG,CAAC;gBACL,CAAC,GAAG,CAAC,GAAE,CAAC,CAAC;YACb,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,wCAAwC;YACzC,iGAAiG;QACpG,CAAC;QACD,IAAI,cAAc;YACd,IAAI,GAAG,GAAE,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAC1C,GAAG,CAAC,GAAG,EAAE,CAAC;YACV,GAAG,CAAC,MAAM,EAAE,CAAC;YACb,OAAO,GAAG,CAAC;QACf,CAAC;QACD;;;WAGG;QACH,OAAO,CAAC,IAAI;YACR,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnD,CAAC;QACD;;WAEG;QACH,IAAI,IAAI,CAAC,IAAI;YACT,gBAAgB;YAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC;QAC1D,CAAC;QACD,IAAI,IAAI;YACJ,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;QACD,OAAO;YACH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;QACD;;UAEE;QACF,IAAI;YACA,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QACxB,CAAC;QACD;;aAEK;QACL,MAAM;YACF,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;QAC1B,CAAC;KACJ,CAAA;IAlJY,wCAAc;6BAAd,cAAc;QAD1B,IAAA,iBAAM,EAAC,2BAA2B,CAAC;;OACvB,cAAc,CAkJ1B;IACM,KAAK,UAAU,IAAI;QAEtB,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;QAC/B,GAAG,CAAC,KAAK,GAAG,+DAA+D,CAAC;QAC5E,GAAG,CAAC,IAAI,GAAG,YAAY,CAAC;QACxB,GAAG,CAAC,MAAM,GAAC,GAAG,CAAC;QAEf,8CAA8C;QAC9C,+DAA+D;QAC/D,8CAA8C;QAC9C,6CAA6C;QAC7C,IAAI,CAAC,GAAG,GAAG,CAAC,cAAc,EAAE,CAAC;QAC7B,OAAO,GAAG,CAAC;IACf,CAAC;;;;;;;ICsCD,oBAEC;;IA5MD,IAAI,SAAS,GAAG,SAAS,CAAC;IAG1B;;OAEG;IAEI,IAAM,cAAc,sBAApB,MAAM,cAAe,SAAQ,mBAAQ;QAIxC;YACI,KAAK,EAAE,CAAC;YAHJ,iBAAY,GAAG,EAAE,CAAC;YAC1B,mBAAc,GAAiC,EAAE,CAAC;YAG9C,wBAAwB;YACxB,IAAI,CAAC,iBAAiB,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;YAClD,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,EAAE;gBACzC,6CAA6C;gBAC7C,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC;QACP,CAAC;QACM,MAAM,CAAC,6BAA6B;YACvC,IAAA,uBAAc,EAAC,cAAc,EAAE;gBAC3B,IAAI,EAAE,6GAA6G;gBACnH,OAAO,EAAE;oBACL,IAAI,EAAE;wBACF,OAAO,EAAE,OAAO;wBAChB,kBAAkB,EAAE,WAAW;qBAClC;iBACJ;aACJ,CAAC,CAAC;YAEH,IAAA,eAAM,EAAC,wEAAwE,EAAE,EAAE,QAAQ,EAAE,cAAc,EAAE,KAAK,EAAE,cAAc,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC,CAAC;QAE/J,CAAC;QACD,6CAA6C;QACrC,eAAe,CAAC,KAAK;;YACzB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,yEAAyE;YACzE,IAAI,CAAA,MAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,0CAAE,KAAK,MAAK,4BAA4B,EAAE,CAAC;gBACtD,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACxD,CAAC;YACD,IAAI,KAAK,CAAC,IAAI,CAAC,kBAAkB,IAAI,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;gBACxD,SAAS,GAAG,IAAI,CAAC;gBACjB,wCAAwC;gBACxC,IAAI,OAAO,CAAC,QAAQ,KAAK,SAAS;oBAC9B,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;gBAC/B,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC5B,CAAC;YACD,IAAI,KAAK,CAAC,IAAI,CAAC,kBAAkB,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;gBAClD,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC7C,IAAI,IAAI,EAAE,CAAC;oBACP,IAAI,CAAC,KAAK,CAAC,CAAC;oBACZ,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;QACL,CAAC;QACD,kCAAkC;QAC1B,iBAAiB,CAAC,GAAG,EAAE,QAAQ,GAAG,SAAS;YAC/C,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC5B,GAAG,CAAC,GAAG,GAAG,gBAAc,CAAC,GAAG,EAAE,CAAC;YAC/B,IAAI,QAAQ;gBACR,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACjC,CAAC;QACD,SAAS,CAAC,GAAG;YACT,IAAI,IAAI,GAAG,GAAG,CAAC;YACf,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC;YACpC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1B,OAAO,IAAI,CAAC;QAChB,CAAC;QACD,KAAK,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI;YACpB,cAAc;YACd,IAAI,IAAI,GAAW,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,QAAQ,GAAW,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;YACjD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,8DAA8D;YAC9D,IAAI,MAAM,GAAG,iBAAO,CAAC,aAAa,CAAC,4BAA4B,GAAG,QAAQ,CAAC,CAAC;YAC5E,IAAI,MAAM,KAAK,SAAS,EAAE,CAAC;gBAEvB,IAAI,MAAM,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;oBAErC,2BAAY,CAAC,IAAI,CAAC,0EAA0E,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI;wBAC3I,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK;4BACrB,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,aAAa,CAAC;wBACxC,OAAO,MAAM,CAAC,aAAa,CAAC;oBAChC,CAAC,CAAC,CAAC;gBACP,CAAC;gBACD,8BAA8B;gBAC9B,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;oBAC7B,IAAI,GAAG,GAAG,IAAI,MAAM,CAAC,qEAAqE,CAAC,CAAC;oBAC5F,IAAI,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACzB,OAAO,GAAG,KAAK,IAAI,EAAE,CAAC;wBAClB,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;wBAChF,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACzB,CAAC;gBACL,CAAC;gBACD,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC;YAEhC,CAAC;YACD,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;gBAC7B,OAAO;YACX,CAAC;YACD,IAAI,eAAM,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC;gBACnC,mBAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;gBACpD,IAAI,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;oBACzC,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;gBAC9B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC;QAED;;;WAGG;QACH,KAAK,CAAC,wBAAwB,CAAC,IAAY;YACvC,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,GAAG,KAAK,SAAS;gBACjB,OAAO;YACX,OAAO,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACpB,MAAM,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YAC1G,CAAC;QACL,CAAC;QACD;;;;;;YAMI;QACJ,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,GAAG,SAAS;YAChE,IAAI,CAAC,SAAS;gBACV,gBAAc,CAAC,6BAA6B,EAAE,CAAC;YACnD,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE,CAAC;gBAC1C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACnC,CAAC;YACD,IAAI,MAAM,EAAE,CAAC;gBACT,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC;YACxD,CAAC;iBAAM,CAAC;gBACJ,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC;gBACjE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAC7C,CAAC;YACD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,OAAO,GAAG,MAAM,IAAI,yBAAW,EAAE,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YACxE,IAAI,GAAG,GAAG,IAAI,OAAO,CAAC,UAAU,OAAO;gBACnC,2EAA2E;gBAC3E,IAAI,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA,6BAA6B;gBAC5D,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;gBAC7D,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChD,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA,gCAAgC;gBAC1E,IAAI,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACpC,GAAG,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA,0BAA0B;gBACvD,KAAK,CAAC,iBAAiB,CAAC;oBACpB,IAAI,EAAE,mBAAmB;oBACzB,GAAG,EAAE,GAAG;oBACR,IAAI,EAAE,OAAO,CAAC,IAAI;oBAClB,MAAM,EAAE,MAAM;oBACd,SAAS,EAAE,OAAO;oBAClB,IAAI,EAAE,IAAI;iBACb,EAAE,CAAC,IAAI,EAAE,EAAE;oBACR,OAAO,CAAC,IAAI,CAAC,CAAC;gBAClB,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAA;YACF,OAAO,GAAG,CAAC;QACf,CAAC;QACD;;;;;UAKE;QACF,cAAc,CAAC,KAAK,EAAE,WAAW,EAAE,UAAU;YACzC,gBAAgB;QAEpB,CAAC;QACD;;;;WAIG;QACH,eAAe,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,GAAG,SAAS;YAC5C,OAAO;YACP,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC/B,IAAI,KAAK,GAAG,IAAI,CAAC;YAEjB,IAAI,MAAM,GAAG,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,4BAA4B,GAAG,IAAI,CAAC,CAAC;YAChF,IAAI,MAAM,KAAK,SAAS,EAAE,CAAC;gBACvB,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YACnC,CAAC;QAEL,CAAC;QACD,OAAO;YACH,0EAA0E;YAC1E,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QAC1B,CAAC;;IA3LQ,wCAAc;IACR,kBAAG,GAAG,CAAC,AAAJ,CAAK;6BADd,cAAc;QAD1B,IAAA,iBAAM,EAAC,+BAA+B,CAAC;;OAC3B,cAAc,CA6L1B;IAGD,mEAAmE;IACnE,IAAI,cAAc,EAAE,CAAC;IACrB,MAAM,CAAC,WAAW,CAAC,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,GAAG,CAAC,CAAC;IACrE,SAAgB,IAAI;QAChB,cAAc,CAAC,6BAA6B,EAAE,CAAC;IACnD,CAAC;;;;;;;ICivBD,oBAcC;;;IA77BD,OAAO,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;IAU7C,IAAM,4BAA4B,GAAlC,MAAM,4BAA4B;KAKjC,CAAA;IAHG;QADC,IAAA,oBAAS,EAAC,EAAE,UAAU,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,cAAc,CAAC,EAAE,OAAO,EAAE,cAAc,EAAE,gBAAgB,EAAE,IAAI,EAAE,CAAC;;mFAC5E;IAElC;QADC,IAAA,oBAAS,EAAC,EAAE,UAAU,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,UAAU,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,gBAAgB,EAAE,IAAI,EAAE,CAAC;;wFACrE;IAJrC,4BAA4B;QAFjC,IAAA,8BAAmB,GAAE;QACrB,IAAA,iBAAM,EAAC,6CAA6C,CAAC;OAChD,4BAA4B,CAKjC;IAGD;;;OAGG;IAEI,IAAM,UAAU,kBAAhB,MAAM,UAAW,SAAQ,aAAK;QAcjC,YAAY,aAA+D,SAAS;YAChF,KAAK,EAAE,CAAC;YACR,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,IAAI,CAAC,KAAK,GAAG,IAAI,mCAAgB,EAAE,CAAC;YACpC,IAAI,CAAC,SAAS,GAAG,IAAI,aAAK,EAAE,CAAC;YAC7B,IAAI,CAAC,YAAY,GAAG,IAAI,aAAK,EAAE,CAAC;YAChC,mGAAmG;YACnG,IAAI,KAAK,GAAG,CAAC,gEAAgE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;YACzG,IAAI,IAAI,GAAG,iCAAe,CAAC,IAAI,CAAC,mBAAQ,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;YACzE,IAAI,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,SAAS,EAAE,CAAC;gBACxB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC,SAAS,CAAC;YAC3C,CAAC;iBAAM,CAAC;gBACJ,qBAAS,CAAC,UAAU,GAAG,yBAAY,CAAC;gBACpC,IAAI,IAAI,KAAK,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,cAAc,IAAI,IAAI,KAAK,SAAS,CAAC,CAAC,EAAE,CAAC;oBAC/E,IAAI,CAAC,UAAU,GAAG,IAAI,mBAAQ,EAAE,CAAC;gBAErC,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,UAAU,GAAQ,IAAI,yBAAW,EAAE,CAAC;oBACzC,qCAAqC;gBAEzC,CAAC;YAEL,CAAC;YACD,IAAI,CAAC,OAAO,GAAG,IAAI,uBAAU,EAAE,CAAC;YAChC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,SAAS,GAAG,IAAI,6BAAa,EAAE,CAAC;YACrC,IAAI,CAAC,OAAO,GAAG,IAAI,aAAK,EAAE,CAAC;YAC3B,IAAI,CAAC,KAAK,CAAC,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,WAAW,CAAC,CAAC;YAEpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACzB,CAAC;QACO,cAAc;YAClB,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,MAAM,CAAC;YAC/B,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,YAAY,CAAC;YACpC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,mBAAmB,CAAC;YAC7C,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,UAAU,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI;gBACpE,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;YAChF,CAAC,CAAC,CAAC;QACP,CAAC;QAEO,KAAK,CAAC,WAAoB;YAC9B,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;YAEpC,IAAI,WAAW,KAAK,IAAI,EAAE,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBACtC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;gBACvC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;gBAEhC,IAAI,GAAG,GAAG,IAAI,eAAM,EAAE,CAAC;gBACvB,GAAG,CAAC,IAAI,GAAG,gCAAgC,CAAC;gBAC5C,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC;gBACxB,GAAG,CAAC,OAAO,CAAC;oBACR,KAAK,CAAC,QAAQ,EAAE,CAAC;gBACrB,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAG3B,IAAI,IAAI,GAAG,IAAI,eAAM,EAAE,CAAC;gBACxB,IAAI,CAAC,OAAO,GAAG,cAAc,CAAC;gBAC9B,IAAI,CAAC,IAAI,GAAG,+BAA+B,CAAC;gBAC5C,IAAI,CAAC,OAAO,CAAC;oBACT,KAAK,CAAC,IAAI,EAAE,CAAC;gBACjB,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAG5B,IAAI,IAAI,GAAG,IAAI,eAAM,EAAE,CAAC;gBACxB,IAAI,CAAC,IAAI,GAAG,uBAAuB,CAAC;gBACpC,IAAI,CAAC,OAAO,GAAG,eAAe,CAAC;gBAC/B,IAAI,CAAC,OAAO,CAAC;oBACT,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;gBAC5B,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAE5B,IAAI,IAAI,GAAG,IAAI,eAAM,EAAE,CAAC;gBACxB,IAAI,CAAC,IAAI,GAAG,kCAAkC,CAAC;gBAC/C,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;gBACtB,IAAI,CAAC,OAAO,CAAC;oBACT,KAAK,CAAC,eAAe,EAAE,CAAC;gBAC5B,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAC5B,IAAI,CAAC,kBAAkB,GAAG,IAAI,eAAM,EAAE,CAAC;gBACvC,IAAI,CAAC,kBAAkB,CAAC,IAAI,GAAG,sCAAsC,CAAC;gBACtE,IAAI,CAAC,kBAAkB,CAAC,OAAO,GAAG,2BAA2B,CAAC;gBAC9D,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC;oBAC5B,KAAK,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;gBACpC,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBAC/C,OAAO,CAAC,aAAa,CAAC,GAAG,YAAU,CAAC;gBACpC,wHAAwH;gBACxH,8DAA8D;YAElE,CAAC;YACD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAEpC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,kBAAkB,CAAC;YACtC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;gBAClB,UAAU,CAAC;oBACP,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;gBAE9B,CAAC,EAAE,IAAI,CAAC,CAAC;YACb,CAAC,CAAA;YACD;;;;;;0CAM8B;YAG9B,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAEtB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC7B,wCAAwC;YACxC,UAAU,CAAC,GAAG,EAAE;gBACZ,6BAA6B;YACjC,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC;QACD,MAAM,CAAC,KAAK,CAAC,oBAAoB,CAAC,SAAmB;YACjD,kCAAkC;QAGtC,CAAC;QAED,YAAY;YACR,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;YACjD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,WAAW,EAAE,WAAW,CAAC,CAAC;YACzD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACjD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACjD,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,y3DAAy3D,CAAA;QAEj5D,CAAC;QAED;;;;;;;;;;;;;;;;;;;;WAoBG;QAGK,KAAK,CAAC,KAAK,CAAC,IAAI;;YACpB,MAAM,IAAI,eAAM,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAG9C,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YAC1D,IAAI,MAAA,IAAI,CAAC,KAAK,0CAAE,UAAU,CAAC,cAAc,CAAC,EAAE,CAAC;YAE7C,CAAC;iBAAM,CAAC;gBACJ,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;oBAC1B,MAAM,kBAAQ,CAAC,MAAM,EAAE,CAAC;gBAC5B,CAAC;gBACD,MAAM,mBAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACxC,CAAC;QAEL,CAAC;QACD;;UAEE;QACF,IAAI;YACA,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;YACjC,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAErB,CAAC;QAGD;;WAEG;QACH,KAAK,CAAC,eAAe;YACjB,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC;QACtC,CAAC;QAED;;;;WAIG;QACH,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI;YACpB,6BAA6B;YAC7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAgCI;YACJ,OAAO,SAAS,CAAC;QACrB,CAAC;QAGD;;WAEG;QACH,YAAY;YACR,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,GAAG;gBACzD,IAAI,GAAG,CAAC,OAAO,KAAK,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAA,IAAI;oBAC1C,4BAA4B;oBAC5B,yCAAyC;oBACzC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACrB,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO,KAAK,CAAC;gBACjB,CAAC;qBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,GAAG,EAAE,CAAC,CAAA,IAAI;oBACjC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;oBACtB,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO,KAAK,CAAC;gBACjB,CAAC;gBACD,IAAI,GAAG,CAAC,OAAO,KAAK,GAAG,EAAE,CAAC,CAAA,IAAI;oBAC1B,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO,KAAK,CAAC;gBACjB,CAAC;gBAED,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,KAAK,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAA,yBAAyB,EAAE,CAAC,CAAA,OAAO;oBACxG,KAAK,CAAC,IAAI,EAAE,CAAC;oBACb,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO,KAAK,CAAC;gBACjB,CAAC;YAEL,CAAC,CAAC,CAAC;QAGP,CAAC;QACD;;;;WAIG;QACH,YAAY,CAAC,IAAI;YACb,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC;uBACpD,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC;oBAC3D,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACrC,CAAC;YACL,CAAC;YACD,OAAO,KAAK,CAAC;QACjB,CAAC;QAGD,oBAAoB;YAChB,IAAI,IAAI,CAAC,qBAAqB,KAAK,IAAI;gBACnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC5B,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;QACtC,CAAC;QACD;;;WAGG;QACH,YAAY,CAAC,SAAS;YAClB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACrC,CAAC;QACO,KAAK,CAAC,2BAA2B,CAAC,GAAW,EAAE,IAAe,EAAE,YAAuB,EAAE,KAAqH,EAAE,MAAM,EAAE,aAAa;;YAEzO,IAAI,OAAO,GAAG,KAAK,CAAC;YACpB,IAAI,mBAAmB,GAAG,CAAC,YAAY,CAAC,CAAC;YACzC,IAAI,YAAY,CAAC,KAAK,CAAC,UAAU;gBAC7B,YAAY,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,mBAAmB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClD,IAAI,SAAS,GAAG,mBAAmB,CAAC,CAAC,CAAC,CAAC;gBAEvC,IAAI,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,SAAS,IAAI,SAAS,CAAC,SAAS,CAAC,KAAK,SAAS,EAAG,CAAC;oBAC5E,IAAI,KAAK,GAAG,MAAA,SAAS,CAAC,SAAS,CAAC,0CAAE,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC9C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACpC,IAAI,KAAK,GAAW,KAAK,CAAC,CAAC,CAAC,CAAC;wBAC7B,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC;4BAChC,IAAI,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;4BAC3B,IAAI,IAAI,GAAG,EAEV,CAAA;4BACD,IAAI,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,SAAS;gCAClC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,GAAQ,EAAE,CAAC;4BACnC,IAAI,IAAI,GAAG;gCACP,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gCACjC,MAAM,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;gCACpD,SAAS,EAAE,SAAS;gCACpB,GAAG,EAAE,CAAC;gCACN,IAAI,EAAE,SAAS;6BAClB,CAAC;4BACF,IAAI,aAAa,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,SAAS,EAAE,CAAC,CAAA,kDAAkD;gCAC/G,aAAa,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;4BACxD,CAAC;4BACD,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACpC,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;YACD,wDAAwD;YACxD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,CAAA,UAAU;gBACpE,IAAI,EAAE,GAAQ,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC7C,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC;oBACX,IAAI,CAAC,2BAA2B,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;gBACxF,CAAC;YACL,CAAC;YACD;;;;;;gBAMI;YAEJ,IAAI,YAAY,KAAK,IAAI,EAAE,CAAC;gBACxB,QAAQ;gBACR,IAAI,EAAE,GAAG,CAAC,CAAC;gBACX,IAAI,WAAW,GAAG,MAAM,iBAAO,CAAC,SAAS,CAAC,iCAAiC,CAAC,CAAC;gBAC7E,IAAI,MAAM,GAAG,EAAE,CAAC;gBAEhB,YAAY;gBACZ,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;oBAC/B,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnC,CAAC,CAAC,CAAC;gBAEH,IAAI,IAAI,GAAG,MAAM,IAAI,WAAW,EAAE,CAAC,cAAc,CAAC,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,MAAM,CAAC,CAAA;gBACnH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACnC,IAAI,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;oBACpB,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;oBAC5B,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBACxB,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC;wBACvC,GAAG,EAAE,GAAG,CAAC,IAAI;wBACb,MAAM,EAAE,GAAG,CAAC,MAAM;qBACrB,CAAC,CAAC;gBAEP,CAAC;gBACD,gBAAgB;gBAChB,IAAI,UAAU,CAAC;gBACf,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;oBAClB,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC;wBACjD,UAAU,GAAG,MAAM,CAAC,yBAAyB,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;wBAC9F,IAAI,UAAU;4BACV,MAAM;oBACd,CAAC;gBACL,CAAC;gBACD,IAAI,KAAK,GAAG,CAAC,EAAE,SAAS,EAAE,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,WAAW,0CAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,CAAC,CAAC;gBAC3E,IAAI,UAAU;oBACV,KAAK,GAAG,CAAC,EAAE,SAAS,EAAE,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,WAAW,0CAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,EAAE,UAAU,CAAC,CAAC;gBACvF,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;oBAC3C,YAAY;oBACZ,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;oBACtC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;oBAC7D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACrC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAC,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;oBACnG,CAAC;oBACD,2DAA2D;gBAE/D,CAAC;qBAAM,CAAC;oBACJ,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;oBACtC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,SAAS;oBACjE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACrC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAC,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;oBACnG,CAAC;oBACD,2FAA2F;oBAC3F,IAAI,MAAM,CAAC,OAAO,CAAC,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,WAAW,0CAAE,IAAI,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,WAAW,0CAAE,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC;wBACvG,OAAO,GAAG,IAAI,CAAC;wBACf,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBAC7C,CAAC;oBACD,KAAK,IAAI,GAAG,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC;wBAC1B,IAAI,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBAC3B,IAAI,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC;wBACzB,IAAI,KAAK,EAAE,CAAC;4BACR,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;4BAC5B,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;4BAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gCACrC,IAAI,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gCACpB,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC;oCACnC,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;gCACnB,CAAC;4BACL,CAAC;wBACL,CAAC;oBACL,CAAC;oBACD,IAAI,SAAS,GAAG,EAAE,CAAC;oBACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACrC,IAAI,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;wBACpB,IAAI,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC;wBAErB,IAAI,KAAK,GAAG,KAAK,CAAC;wBAClB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE;4BAChC,IAAI,EAAE,CAAC,IAAI,KAAK,KAAK;gCACjB,KAAK,GAAG,IAAI,CAAC;wBACrB,CAAC,CAAC,CAAC;wBACH,+EAA+E;wBAC/E,IAAI,KAAK;4BACL,SAAS;wBAEb,IAAI,KAAK,IAAI,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,KAAK,CAAC,KAAK,SAAS,EAAE,CAAC;4BACrE,IAAI,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;gCAClC,IAAI,OAAO,IAAI,IAAI,KAAK,GAAG,CAAC,SAAS;oCACjC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAA,YAAY;;oCAElC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,EAAE,GAAG,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;4BAChE,CAAC;wBACL,CAAC;oBACL,CAAC;oBAID,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;oBAC7B,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACxB,kBAAkB;gBACtB,CAAC;YACL,CAAC;YACD,OAAO,MAAM,CAAC;QAIlB,CAAC;QACD,WAAW;YACP,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;QACD;;WAEG;QACK,KAAK,CAAC,kBAAkB,CAAC,GAAG,EAAE,QAAQ;YAC1C,4CAA4C;YAC5C,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC9B,IAAI,GAAG,YAAY,qBAAS,IAAI,GAAG,CAAC,YAAY,CAAC,KAAK,SAAS,EAAE,CAAC;gBAC9D,2FAA2F;gBAC3F,mFAAmF;gBACnF,iEAAiE;gBAEjE,IAAI,iBAAiB,CAAC;gBACtB,gDAAgD;gBAChD,iBAAiB,GAAG,MAAM,iBAAO,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC;gBAC3E,OAAO;gBACP,qFAAqF;gBAErF,IAAI,MAAM,GAAG,MAAM,iBAAO,CAAC,SAAS,CAAC,4BAA4B,CAAC,CAAC;gBACnE,IAAI,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;gBAC1B,0EAA0E;gBAC1E,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,iBAAiB,CAAC,EAAE,CAAC;oBAClD,KAAK,CAAC,OAAO,GAAG,IAAI,iBAAiB,EAAE,CAAC;oBAExC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;oBACnD,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC;gBACxC,CAAC;gBACD,YAAY;gBACZ,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBAEpC,IAAI,aAAa,GAAG,EAAE,CAAC;gBACvB,MAAM,KAAK,CAAC,2BAA2B,CAAC,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;gBACjF,KAAK,CAAC,OAAQ,CAAC,iBAAiB,GAAG,GAAG,CAAC;gBACvC,KAAK,CAAC,OAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACtC,KAAK;YACT,CAAC;iBAAM,IAAI,GAAG,CAAC,cAAc,CAAC,KAAK,SAAS,EAAE,CAAC;gBAC3C,IAAI,MAAM,GAAG,MAAM,iBAAO,CAAC,SAAS,CAAC,4BAA4B,CAAC,CAAC;gBACnE,IAAI,cAAc,GAAG,MAAM,iBAAO,CAAC,SAAS,CAAC,wCAAwC,CAAC,CAAC;gBACvF,IAAI,YAAY,GAAG,MAAM,iBAAO,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC;gBAC1E,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,cAAc,CAAC,EAAE,CAAC;oBAC/C,KAAK,CAAC,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;oBACrC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;oBACnD,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC;oBACpC,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;oBACtB,MAAM,CAAC,UAAU,GAAG,SAAS,CAAC,CAAA,yHAAyH;oBACvJ,YAAY;oBACZ,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;gBAExC,CAAC;gBACD,IAAI,GAAG,GAAG,IAAI,YAAY,EAAE,CAAC;gBAC7B,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,YAAY,CAAC,CAAC;gBACjD,IAAI,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,MAAM,CAAC,IAAI,KAAK,SAAS;oBAC1C,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC;qBAC3B,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,MAAM,CAAC,IAAI,KAAK,SAAS;oBAC9C,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;gBAE/B,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,MAAM,CAAC,SAAS,KAAK,SAAS;oBACnD,GAAG,CAAC,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;gBACzC,KAAK,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,GAAG,CAAC;gBAEzC;;;;;wBAKQ;YAGZ,CAAC,CAAA;;;;;;;;;;;;uBAYU;QACf,CAAC;QACO,cAAc,CAAC,IAAI,EAAE,SAAoB,EAAE,KAAK;;YACpD,IAAI,IAAI,KAAK,QAAQ,EAAE,CAAC;gBAEpB,IAAI,MAAA,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,KAAK,0CAAG,SAAS,CAAC,EAAE,CAAC;oBAChC,SAAS,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;oBAClD,OAAO,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBACtC,CAAC;qBAAM,CAAC;oBACJ,IAAI,EAAE,GAAG,IAAI,KAAK,EAAE,CAAC;oBACrB,IAAI,CAAA,MAAA,EAAE,aAAF,EAAE,uBAAF,EAAE,CAAE,KAAK,0CAAE,OAAO,CAAC,UAAU,CAAC,MAAK,CAAC,CAAC,EAAE,CAAC;wBACxC,EAAE,GAAQ,EAAE,CAAC;wBACb,YAAY;wBACZ,KAAK,CAAC,iBAAiB,CAAC,EAAE,EAAE,2BAAe,CAAC,CAAC;oBACjD,CAAC;oBAED,IAAI,CAAA,MAAA,EAAE,aAAF,EAAE,uBAAF,EAAE,CAAE,KAAK,0CAAE,OAAO,CAAC,UAAU,CAAC,KAAI,CAAC,CAAC,EAAE,CAAC;wBACvC,IAAI,KAAK,KAAK,qBAAqB,EAAE,CAAC;4BAClC,IAAI,CAAA,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,KAAK,MAAK,SAAS;gCAC9B,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;4BACzB,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;wBAC1C,CAAC;6BAAM,CAAC;4BACJ,EAAE;4BACF,SAAS,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;wBACpC,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;QACO,KAAK,CAAC,eAAe,CAAC,IAAI;YAC9B,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;YACvB,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;YACjC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC7B,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,WAAW,GAAG,KAAK,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;YACpD,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,IAAI,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC5B,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;;gBAEpD,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;YACtD,MAAM,OAAO,CAAC,QAAQ,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC;YAC1D,KAAK,IAAI,IAAI,IAAI,WAAW,EAAE,CAAC;gBAC3B,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;oBACpB,IAAI,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC;oBAC7B,MAAM,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,QAAQ,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;gBACtF,CAAC;YACL,CAAC;YAED,IAAI,SAAS,GAAG,iBAAO,CAAC,QAAQ,CAAC,+BAA+B,CAAC,CAAC;YAClE,IAAI,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;gBAE1C,SAAU,CAAC,iBAAiB,EAAE,CAAC;YACzC,CAAC;YACD,YAAY;YACZ,IAAI,IAAI,CAAC,IAAI,KAAK,SAAS,IAAI,MAAM,CAAC,YAAY,EAAE,CAAC;gBACjD,2BAA2B;gBAE3B,IAAI,CAAC;oBACD,qBAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;oBAClD,IAAI,GAAG,CAAC;oBACR,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;wBACZ,GAAG,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,WAAI,EAAE,CAAC,CAAC;oBACtC,CAAC;yBAAM,CAAC;wBACJ,YAAY;wBACZ,IAAI,MAAM,CAAC,YAAY,EAAE,CAAC;4BACtB,GAAG,GAAG;gCACF,YAAY;gCACZ,YAAY,EAAE,MAAM,CAAC,YAAY;6BACpC,CAAA;wBACL,CAAC;6BAAM,CAAC;4BACJ,qBAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;4BACnD,OAAO;wBACX,CAAC;oBACL,CAAC;oBAED,kDAAkD;oBAClD,IAAI,GAAG,KAAK,SAAS,EAAE,CAAC;wBAEpB,MAAM,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;wBAC7C,uCAAuC;oBAE3C,CAAC;oBAED,OAAO;gBACX,CAAC;wBAAS,CAAC;oBACP,qBAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gBACvD,CAAC;YACL,CAAC;QAEL,CAAC;QACO,KAAK,CAAC,YAAY,CAAC,IAAY,EAAE,IAAY;YAEjD,aAAa;YACb,IAAI,GAAG,GAAG,sDAAa,gCAAgC,8CAAC,CAAC;YACzD,aAAa;YACb,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,uBAAU,CAAC,gBAAgB,CAAC,CAAC;YAC9D,QAAQ,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC;YACnC,QAAQ,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;YACjC,IAAI,KAAK,CAAC;YACV,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC1B,KAAK,GAAG,MAAM,GAAG,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,MAAM,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;;gBAExE,KAAK,GAAG,MAAM,GAAG,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,KAAK,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;YAE3E,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;YAChB,IAAI,OAAO,GAAG,CAAC,CAAC,CAAC;YACjB,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;YAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9C,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;oBAC5E,MAAM,GAAG,CAAC,CAAC;gBACf,CAAC;gBACD,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;oBACzC,OAAO,GAAG,CAAC,CAAC;gBAChB,CAAC;gBACD,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;oBACrC,MAAM,GAAG,CAAC,CAAC;gBACf,CAAC;YACL,CAAC;YACD;;;;;;;gBAOI;YACJ,MAAM,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;YAErC,IAAI,GAAG,GAAG,IAAI,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBAC/B,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,GAAG,EAAE,EAAE;oBAC9B,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;oBACtB,GAAG,CAAC,GAAG,CAAC,CAAC;gBACb,CAAC,CAAC;YACN,CAAC,CAAC,CAAC;YACH,IAAI,OAAO,GAAG,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAC;YAClD,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7D,SAAS,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC;gBAC3C,IAAI,EAAE,WAAW;gBACjB,QAAQ,EAAE,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;gBAC3C,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC/B,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACpB,IAAI,IAAI,GAAG,MAAM,GAAG,CAAC;QACzB,CAAC;QACD,KAAK,CAAC,cAAc;YAChB,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;YACjC,IAAI,QAAQ,GAAG,MAAM,IAAI,eAAM,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACtD,IAAI,WAAW,GAAG,QAAQ,KAAK,IAAI,CAAC;YACpC,IAAI,WAAW,EAAE,CAAC;gBACd,IAAA,eAAM,EAAC,8BAA8B,EAAE,OAAO,CAAC,CAAC;gBAChD,OAAO,SAAS,CAAC;YACrB,CAAC;YACD,IAAI,GAAG,GAAG,MAAM,IAAI,eAAM,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAChG,OAAO,GAAG,CAAC;QACf,CAAC;QACD;;;;WAIG;QACH,KAAK,CAAC,QAAQ,CAAC,QAAQ,GAAG,SAAS;;YAC/B,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;YACnC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;YAEvB,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;YACjC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAE7B,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,MAAA,IAAI,CAAC,IAAI,0CAAE,UAAU,CAAC,cAAc,CAAC,EAAE,CAAC;gBAExC,IAAI,GAAG,GAAG,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtC,MAAM,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;gBAE9C,OAAO;YACX,CAAC;YAED,MAAM,CAAC,MAAM,CAAC,GAAG,SAAS,CAAC;YAE3B,IAAI,GAAG,EAAE,CAAC;YACV,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpC,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAClC,CAAC;YACD,IAAI,GAAG,IAAI,CAAC;YACZ,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YAC/B,IAAI,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,OAAO,CAAC;YAC1E,0DAA0D;YAC1D,qCAAqC;YACrC,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACtC,YAAY;YACZ,MAAM,CAAC,YAAY,GAAG,SAAS,CAAC;YAChC,IAAI,CAAC;gBAAC,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC,CAAC;YAAC,CAAC;YAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;YAAA,CAAC;YAChE,IAAI,MAAM,GAAG,UAAU,IAAI;gBAEvB,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;oBACtC,MAAM,GAAG,CAAC;gBACd,CAAC,CAAC,CAAC;YAEP,CAAC,CAAA;YACD,0DAA0D;YAC1D,iGAAiG;YACjG,YAAY;YACZ,OAAO,CAAC,CAAC,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC,EAAE,MAAM,EAAC,SAAS,CAAA,UAAU,GAAG;gBAC3D,wBAAwB;gBACxB,MAAM,CAAC,UAAU,CAAC;oBACd,YAAY;oBACZ,OAAO,CAAC,CAAC,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC,EAAE,MAAM,EAAE,UAAU,GAAG;wBACnD,MAAM,GAAG,CAAC;oBACd,CAAC,CAAC,CAAC;gBACP,CAAC,EAAE,EAAE,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;QAIP,CAAC;QACD;;;WAGG;QACH,IAAI,QAAQ,CAAC,IAAI;YACb,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1B,CAAC;QAED;;;;UAIE;QACF,mBAAmB,CAAC,IAAI;YACpB,OAAO,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QACpD,CAAC;QACD;;;WAGG;QACH,qBAAqB,CAAC,EAAE;YACpB,OAAO,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC;QAED;;;WAGG;QACH,qBAAqB,CAAC,OAAO;YACzB,OAAO,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;QACzD,CAAC;QACD,uBAAuB,CAAC,OAAO;YAC3B,OAAO,IAAI,CAAC,SAAS,CAAC,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAC3D,CAAC;QAED;;;;YAII;QACJ,cAAc,CAAC,OAAc,EAAE,OAAc,EAAC,aAAqB;YAC/D,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,EAAC,aAAa,CAAC,CAAC;YAC9D,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,KAAK,SAAS;gBAC9E,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC,MAAM,EAAE,CAAC;QACpD,CAAC;QAED;;;WAGG;QACH,sBAAsB,CAAC,OAAO;YAC1B,OAAO,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAClD,CAAC;QAED;;WAEG;QACH,IAAI,KAAK,CAAC,KAAK;YACX,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;YAClC,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC;QAElC,CAAC;QACD,IAAI,KAAK;YACL,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QACjC,CAAC;QACD,iBAAiB,CAAC,QAAgB;YAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QACrE,CAAC;QACD;;UAEE;QACF,IAAI,cAAc,CAAC,MAAuC;YACtD,IAAI,CAAC,UAAU,CAAC,cAAc,GAAG,MAAM,CAAC;QAC5C,CAAC;QACD,IAAI,cAAc;YACd,OAAO,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC;QAC1C,CAAC;QAED;;WAEG;QACH,IAAI,KAAK;;YACL,IAAI,CAAC,GAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAClC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACpB,IAAI,MAAA,IAAI,CAAC,IAAI,0CAAE,UAAU,CAAC,aAAa,CAAC;gBACpC,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YAClB,OAAO,CAAC,CAAC;QACb,CAAC;QACD;;UAEE;QACF,IAAI,IAAI,CAAC,KAAa;YAClB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAEzB,CAAC;QACD,IACI,IAAI;YACJ,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;QACD;;;UAGE;QACF,IAAI,IAAI,CAAC,KAAa;YAClB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,cAAc,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;YACrD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,UAAU,CAAC;gBACP,KAAK,CAAC,cAAc,GAAG,EAAE,GAAG,EAAE,KAAK,CAAC,KAAK,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;YAC3D,CAAC,EAAE,GAAG,CAAC,CAAC;YACR;;mDAEuC;QAC3C,CAAC;QACD,IACI,IAAI;YACJ,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;QACnC,CAAC;QACD;;WAEG;QACH,KAAK,CAAC,QAAQ,CAAC,KAAK;YAChB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,OAAO,GAAG,MAAM,IAAI,eAAM,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtD,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,OAAO,CAAC;YAChC,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,MAAM,CAAC;YAC/B,kCAAkC;YAClC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;YACpB,IAAI,IAAI,CAAC,KAAK;gBACV,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;QAE/B,CAAC;QACD,OAAO;YACH,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;YACzB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;YAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,uBAAuB;YACvB,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;QACD;;UAEE;QACF,IAAI;YACA,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QAC3B,CAAC;KAEJ,CAAA;IAt5BY,gCAAU;IA+1BnB;QAAC,IAAA,oBAAS,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC;;;0CAGvC;IAgBD;QAAC,IAAA,oBAAS,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;;0CAG7B;yBAr3BQ,UAAU;QADtB,IAAA,iBAAM,EAAC,2BAA2B,CAAC;;OACvB,UAAU,CAs5BtB;IAEM,KAAK,UAAU,IAAI;QACtB,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;QAC9B,yCAAyC;QACzC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;QACvB,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC;QACtB,6BAA6B;QAC7B,MAAM,CAAC,IAAI,GAAG,qBAAqB,CAAC,CAAA,qDAAqD;QACzF,UAAU,CAAC,GAAG,EAAE;YACZ,MAAM,CAAC,QAAQ,EAAE,CAAC;QAEtB,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,iBAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;QAClC,YAAY;QACZ,8FAA8F;IAClG,CAAC;IAAA,CAAC;;AACF,qDAAqD;;;;;;IC58BrD,yEAAyE;IAIlE,IAAM,6BAA6B,GAAnC,MAAM,6BAA8B,SAAQ,aAAK;QAGpD,YAAY,UAAU;YAClB,KAAK,EAAE,CAAC;YAER;;eAEG;YAEH,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QACD,MAAM;YACF,OAAY,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE,EAAE,SAAS,EAAC,OAAO,EAAC,KAAK,EAAC,EAAC,MAAM,EAAC,gBAAgB,EAAC,EAAC,CAAC,CAAC;QAClG,CAAC;QACD,iBAAiB;QAEjB,CAAC;QACD,MAAM;YACF,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QACD,MAAM;YAEF,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,OAAO,KAAK,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAClC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;YACvC,CAAC;YACD,IAAI,QAAQ,GAAG,KAAK,CAAC,UAAU,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,CAAC,CAAA,sBAAsB;YACpG,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACvC,IAAI,GAAG,GAAG,IAAI,eAAM,EAAE,CAAC;gBACvB,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACvB,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC;gBACnB,oCAAoC;gBACpC,iBAAiB;gBACjB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC7D,IAAI,EAAE,GAAG,KAAK,CAAC,UAAU,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;gBACtD,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;gBACnB,GAAG,CAAC,OAAO,CAAC,UAAU,GAAG;oBACrB,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,GAAG,GAAG,CAAC,aAAa,CAAC,EAAE,CAAC;oBACtE,IAAI,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,EAAE,CAAC,eAAe,CAAC;oBAC9C,IAAI,EAAE,KAAK,SAAS,EAAE,CAAC;wBACnB,GAAG,CAAC,aAAa,CAAC,EAAE,CAAC,eAAe,CAAC,EAAE,0CAA0C,EAAE,EAAE,UAAU,EAAE,KAAK,CAAC,UAAU,EAAE,YAAY,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;oBAC9I,CAAC;gBACL,CAAC,CAAC,CAAC;gBACH,IAAI,EAAE,GAAG,iBAAO,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBAClC,aAAa;gBACb,kBAAQ,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;oBAClD,OAAO,CAAC,OAAO,CAAC,UAAU,GAAG;wBACzB,IAAI,GAAG,CAAC,SAAS,KAAK,EAAE,EAAE,CAAC;4BACvB,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;wBAClC,CAAC;oBACL,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;gBAEH,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC;YACD;;;;;;;;;;;;;;iBAcK;QAET,CAAC;QACD;;;WAGG;QACH,cAAc,CAAC,SAAS;YACpB,IAAI,MAAM,GAAG,IAAI,CAAC,iBAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC;YAChE,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YACpE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC;gBACvB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS;gBAClC,QAAQ,EAAE,MAAM;gBAChB,MAAM,EAAE,UAAU,KAAK;oBACnB,OAAO,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBACzB,CAAC;gBACD;;;;;;sBAMM;aAET,CAAC,CAAC;QACP,CAAC;QACD,OAAO;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;KACJ,CAAA;IApGY,sEAA6B;4CAA7B,6BAA6B;QADzC,IAAA,iBAAM,EAAC,8CAA8C,CAAC;;OAC1C,6BAA6B,CAoGzC;;;;;;;IC1GM,IAAe,SAAS,iBAAxB,MAAe,SAAU,SAAQ,aAAK;QAKzC,MAAM;QAEN,CAAC;QACD,IAAI;QAEJ,CAAC;QAMD;;;WAGG;QACH,mBAAmB,CAAC,OAAO;YACvB,IAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE,OAAO,CAAC,CAAC;QAChD,CAAC;QAED;;;UAGE;QACF,cAAc;YACV,OAAO,SAAS,CAAC;QACrB,CAAC;QACM,gBAAgB,CAAC,GAAW;YACrC,OAAO,WAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAC,GAAG,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtD;;;;gBAII;QACR,CAAC;QACM,MAAM,CAAC,gBAAgB,CAAC,IAAW,EAAC,GAAW,EAAC,IAAW;YACpE,IAAG,IAAI,KAAG,SAAS;gBACb,WAAS,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC;YACxC,IAAI,GAAG,GAAG,WAAS,CAAC,UAAU,CAAC,6BAA6B,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;YACxE,OAAO;gBACH,GAAG,EAAE,GAAG,CAAC,IAAI;gBACb,MAAM,EAAE,GAAG,CAAC,SAAS;aACxB,CAAC;QACN,CAAC;QACM,gBAAgB,CAAC,GAAoC;YAC3D,WAAS,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,GAAG,GAAG,WAAS,CAAC,UAAU,CAAC,6BAA6B,CAAC,IAAI,CAAC,IAAI,EAAE;gBACpE,IAAI,EAAE,GAAG,CAAC,GAAG;gBACb,SAAS,EAAE,GAAG,CAAC,MAAM;aACxB,CAAC,CAAC;YACH,OAAO,GAAG,CAAC;QACf,CAAC;QACM,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,IAAW,EAAC,IAAW,EAAC,IAAW;YAEjE,wDAAwD;YACxD,YAAY;YACZ,IAAI,MAAM,GAAC,MAAM,WAAS,CAAC,UAAU,CAAC,sBAAsB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;YACzF,IAAI,MAAM,KAAK,SAAS;gBACpB,OAAO;YACX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,MAAM,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE,CAAC;gBACnC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,KAAK,QAAQ,EAAE,CAAC;oBAC3D,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxB,CAAC;YACL,CAAC;YACD,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACpB,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAC/C,IAAI,SAAS,GAAG,WAAS,CAAC,gBAAgB,CAAC,IAAI,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,CAAC;gBACtE,SAAS,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC;gBAClC,oCAAoC;gBACpC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,GAAC,CAAC,CAAC,EAAE,CAAC;oBAC/B,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9G,QAAQ,GAAC,GAAG,GAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC,UAAU,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC,UAAU,CAAC,GAAG,EAAC,GAAG,CAAC,GAAC,GAAG,CAAC;oBAEtF,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpC,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,GAAC,EAAE,GAAC,GAAG,CAAC,GAAC,CAAC,EAAE,CAAC;wBACjC,OAAO;oBACX,CAAC;gBACL,CAAC;gBAED,sBAAsB;gBACtB,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBACrC,IAAI,OAAO,GAAW,KAAK,CAAC,CAAC,CAAC,CAAC;gBAE/B,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA,aAAa;gBAChC,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA,8BAA8B;oBACjF,IAAI,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC;wBACxB,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBACnC,OAAO,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC;wBAC/B,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;wBAC/B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACvB,CAAC;oBACD,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE,CAAC;wBACjC,OAAO,GAAG,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;oBACtC,CAAC;oBACD,OAAO,GAAG,OAAO,GAAG,OAAO,CAAC;oBAC5B,OAAO;wBACN,IAAI,EAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,OAAO,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC;wBAChD,GAAG,EAAC,SAAS;qBACb,CAAA;oBACH,+FAA+F;gBACjG,CAAC;qBAAM,CAAC;oBACN,OAAO;wBACJ,IAAI,EAAC,IAAI,CAAC,OAAO;wBACjB,GAAG,EAAC,SAAS;qBACb,CAAA;oBACD,8DAA8D;gBAClE,CAAC;gBACF,6CAA6C;YAChD,CAAC;YACD,OAAO,SAAS,CAAC;QAEzB,CAAC;QAQD;;eAEO;QACP,eAAe;YACX,IAAI,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAA;YACpD,IAAI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YACtC,IAAI,CAAC,WAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;gBAC5C,IAAA,eAAM,EAAC,0CAA0C,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,cAAc,EAAE,CAAC,CAAC;gBACzF,OAAO;YACX,CAAC;YACD,WAAS,CAAC,UAAU,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;;gBACtE,IAAI,GAAG,KAAK,SAAS,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBAClB,IAAI,IAAI,GAAG,MAAA,IAAI,CAAC,QAAQ,0CAAE,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;oBAClD,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;oBAC5B,IAAI,MAAM,GAAG,WAAS,CAAC,gBAAgB,CAAC,IAAI,EAAC,CAAC,EAAC,SAAS,CAAC,CAAC;oBAC1D,IAAI,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC;oBACtB,eAAM,CAAC,QAAQ,CAAC,qCAAqC,GAAG,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC,CAAC;gBACpF,CAAC;YAEL,CAAC,CAAC,CAAC;QACP,CAAC;KACJ,CAAA;IAnJqB,8BAAS;wBAAT,SAAS;QAD9B,IAAA,iBAAM,EAAC,0BAA0B,CAAC;OACb,SAAS,CAmJ9B;;;;;;ICioCD,oBAGC;;IA3wCD,yCAAyC;IAIzC,MAAa,aAAa;QAA1B;YACI,mBAAc,GAAa,EAAE,CAAC;YAC9B,aAAQ,GAAiC,EAAE,CAAC;YAC5C,eAAU,GAAsD,EAAE,CAAC;YACnE,UAAK,GAA+B,EAAE,CAAC;YACvC,cAAS,GAAa,EAAE,CAAC;QAC7B,CAAC;KAAA;IAND,sCAMC;IAIM,IAAM,iBAAiB,GAAvB,MAAM,iBAAkB,SAAQ,aAAK;QA4BxC,YAAY,KAAK;YACb,KAAK,CAAC,KAAK,CAAC,CAAC;YANjB,sBAAiB,GAAG;gBAChB,SAAS,EAAE,SAAS;gBACpB,GAAG,EAAE,KAAK;aACb,CAAA;YAIG,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;YAC7B,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QAEzB,CAAC;QAED,aAAa,CAAC,MAAM;YAChB,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,MAAM,CAAC;QACzC,CAAC;QACD,IAAI,UAAU,CAAC,KAAK;YAChB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;YAC5C,IAAI,CAAC,eAAe,GAAG,IAAI,+BAAc,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;YAC5D,wDAAwD;YACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;YACxC,IAAI,CAAC,iBAAiB,GAAG,IAAI,mCAAgB,EAAE,CAAC;YAChD,IAAI,CAAC,iBAAiB,CAAC,OAAO,GAAG,cAAc,CAAC;YAChD,IAAI,CAAC,kBAAkB,GAAG,IAAI,qCAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAC7E,IAAI,CAAC,oBAAoB,GAAG,IAAI,6DAA6B,CAAC,KAAK,CAAC,CAAC;YACrE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;YACpC,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,GAAG;gBAC5C,KAAK,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;YACzC,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,EAAE,CAAC;QAExB,CAAC;QACD,IAAI,UAAU;YACV,OAAO,IAAI,CAAC,WAAW,CAAC;QAC5B,CAAC;QACD,WAAW;YACP,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,cAAc,GAAG,IAAI,aAAK,EAAE,CAAC;YAClC,IAAI,CAAC,kBAAkB,GAAG,IAAI,aAAK,EAAE,CAAC;YACtC,IAAI,CAAC,UAAU,GAAG,IAAI,eAAM,EAAE,CAAC;YAC/B,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,sBAAsB,CAAC;YAC9C,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,aAAa,CAAC;YACxC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;gBACpB,KAAK,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;YAEtC,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAEzC,IAAI,CAAC,UAAU,GAAG,IAAI,eAAM,EAAE,CAAC;YAC/B,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,cAAc,CAAC;YACzC,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,+BAA+B,CAAC;YACvD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;gBACpB,KAAK,CAAC,IAAI,EAAE,CAAC;YACjB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAEzC;;;;;;wDAM4C;YAE5C,IAAI,CAAC,UAAU,GAAG,IAAI,eAAM,EAAE,CAAC;YAC/B,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,uBAAuB,CAAC;YAC/C,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,eAAe,CAAC;YAC1C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;gBACpB,KAAK,CAAC,IAAI,EAAE,CAAC;YACjB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAEzC;;;;;;6CAMiC;YAKjC,IAAI,CAAC,WAAW,GAAG,IAAI,eAAM,EAAE,CAAC;YAChC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,wBAAwB,CAAC;YACjD,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,mBAAmB,CAAC;YAC/C,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;gBACrB,IAAI,GAAG,GAAG,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;gBACrC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;gBACjC,KAAK,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC;gBAC5C,+CAA+C;YACnD,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAE1C,IAAI,CAAC,SAAS,GAAG,IAAI,eAAM,EAAE,CAAC;YAC9B,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,8BAA8B,CAAC;YACrD,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,sCAAsC,CAAC;YAChE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;gBACnB,KAAK,CAAC,YAAY,EAAE,CAAC;YACzB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAGxC,IAAI,CAAC,UAAU,GAAG,IAAI,eAAM,EAAE,CAAC;YAC/B,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,+BAA+B,CAAC;YACvD,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,qBAAqB,CAAC;YAChD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;gBACpB,KAAK,CAAC,IAAI,EAAE,CAAC;YACjB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACzC,IAAI,CAAC,WAAW,GAAG,IAAI,eAAM,EAAE,CAAC;YAChC,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,gCAAgC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,sBAAsB,CAAC;YAClD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;gBACrB,KAAK,CAAC,KAAK,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC1C,IAAI,GAAG,GAAG,IAAI,mBAAQ,EAAE,CAAC;YACzB,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC;YAEtB,IAAI,CAAC,iBAAiB,GAAG,IAAI,aAAK,EAAE,CAAC;YACrC,IAAI,CAAC,iBAAiB,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC;YAC9D,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;YAC1E,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,QAAQ,CAAC;YACpD,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,QAAQ,CAAC;YAC3D,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YAE9D,mBAAmB;YACnB,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAC7B,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAChC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACd,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;YAC/D,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAClD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACpC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAEtC,CAAC;QACD;;SAEC;QACD,YAAY;YACR,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC;YAC5C,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,GAAG;gBAClE,IAAI,GAAG,CAAC,OAAO,KAAK,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAA,IAAI;oBAC1C,4BAA4B;oBAC5B,yCAAyC;oBACzC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACrB,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO,KAAK,CAAC;gBACjB,CAAC;qBAAM,IAAI,GAAG,CAAC,OAAO,KAAK,GAAG,EAAE,CAAC,CAAA,IAAI;oBACjC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;oBACtB,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO,KAAK,CAAC;gBACjB,CAAC;gBACD,IAAI,GAAG,CAAC,OAAO,KAAK,EAAE,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC,CAAA,QAAQ;oBAC5C,KAAK,CAAC,IAAI,EAAE,CAAC;gBACjB,CAAC;gBACD,IAAI,GAAG,CAAC,OAAO,KAAK,GAAG,EAAE,CAAC,CAAA,IAAI;oBAC1B,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO,KAAK,CAAC;gBACjB,CAAC;gBACD,IAAI,GAAG,CAAC,OAAO,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,KAAK,EAAE,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA,gBAAgB;oBAC5F,KAAK,CAAC,YAAY,EAAE,CAAC;oBACrB,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO,KAAK,CAAC;gBACjB,CAAC;gBACD,IAAI,GAAG,CAAC,OAAO,KAAK,EAAE,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAA,QAAQ;oBAC5D,KAAK,CAAC,IAAI,EAAE,CAAC;oBACb,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO,KAAK,CAAC;gBACjB,CAAC;gBACD,IAAI,GAAG,CAAC,OAAO,KAAK,EAAE,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAA,QAAQ;oBAC5D,KAAK,CAAC,KAAK,EAAE,CAAC;oBACd,GAAG,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO,KAAK,CAAC;gBACjB,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,KAAK,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAA,yBAAyB,EAAE,CAAC,CAAA,OAAO;oBACxG,KAAK,CAAC,IAAI,EAAE,CAAC;oBACb,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,OAAO,KAAK,CAAC;gBACjB,CAAC;YAEL,CAAC,CAAC,CAAC;QACP,CAAC;QACD,MAAM;YACF,IAAI,CAAC,0BAA0B,EAAE,CAAC;QACtC,CAAC;QACD,YAAY;YACR,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC;YAC7E,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC;YAChF,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,EAAE,SAAS,EAAE,kBAAkB,CAAC,CAAC;YAClF,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,GAAG,44FAA44F,CAAC;QACj7F,CAAC;QAED,0BAA0B;YACtB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC;QACvC,CAAC;QAED,sBAAsB;YAClB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,UAAU,IAAI;gBAE3C,mDAAmD;gBACnD,uBAAuB;gBACvB,UAAU,CAAC,GAAG,EAAE;oBACZ,IAAI,GAAG,GAAG,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC;oBAClD,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC;wBAChB,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBACjB,KAAK,CAAC,eAAe,CAAC,KAAK,GAAG,GAAG,CAAC;gBACtC,CAAC,EAAE,EAAE,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,GAAG,UAAU,IAAI;gBACrD,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;gBAC5D,IAAI,OAAO,KAAK,SAAS;oBACrB,OAAO;gBACX,IAAI,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC;oBAC3B,OAAO,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAChC,OAAO,OAAO,CAAC;YACnB,CAAC,CAAC;QACN,CAAC;QACD,gBAAgB,CAAC,IAAI;;YACjB,IAAI,IAAI,GAAkB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAA,cAAc;YAEzD,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC7C,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAA,gDAAgD;gBAChF,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;gBAC5D,IAAI,OAAO,KAAK,MAAM,EAAE,CAAC;oBACrB,IAAI,CAAA,MAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,UAAU,0CAAE,OAAO,MAAK,SAAS,EAAE,CAAC;wBAC3C,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBAC3C,CAAC;oBACD,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAClB,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC;gBACzD,CAAC;YACL,CAAC;YACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC;YAChD,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;QAErC,CAAC;QACD;;WAEG;QACH,KAAK,CAAC,YAAY;YACd,IAAI,IAAI,GAAG,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;YAC7B,IAAI,MAAM,SAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,KAAK,IAAI,EAAE,CAAC;gBAChD,KAAK,CAAC,8BAA8B,CAAC,CAAA;gBACrC,OAAO;YACX,CAAC;YACD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YAE5B,IAAI,CAAC,0BAA0B,EAAE,CAAC;YAElC,IAAI,CAAC,aAAa,EAAE,CAAC;QAEzB,CAAC;QACO,cAAc,CAAC,IAAmB,EAAE,SAAoB;;YAC5D,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;YAChE,IAAI,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC3D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC7B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,iBAAO,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YACtD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC;gBAC5B,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;YAClC,CAAC;YACD,IAAI,YAAY,GAAG,EAAE,CAAC;YACtB,MAAA,yCAAmB,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,0CAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA,CAAC,CAAC,CAAC,CAAC;YACzG,KAAK,IAAI,GAAG,IAAI,UAAU,EAAE,CAAC;gBACzB,6DAA6D;gBAC7D,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC;oBACjC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAA;gBACtC,CAAC;gBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC9C,uCAAuC;oBACvC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gBACjE,CAAC;gBACD,GAAG;YACP,CAAC;YACD,IAAI,SAAS,CAAC,aAAa,CAAC,EAAE,CAAC;gBAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACvD,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpF,IAAI,SAAS,EAAE,CAAC;wBACZ,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,SAAS,EAAE,CAAC;4BACvC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;wBAChC,CAAC;wBACD,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACvC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC3D,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;QACD,kBAAkB,CAAC,UAAuB;YACtC,IAAI,IAAI,GAAG,IAAI,aAAa,EAAE,CAAC;YAC/B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzC,IAAI,SAAS,GAAc,UAAU,CAAC,CAAC,CAAC,CAAC;gBACzC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;gBAChE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAClC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;YACzC,CAAC;YAID,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAChC,OAAO,IAAI,CAAC;QAChB,CAAC;QACD,KAAK,CAAC,IAAI;YAEN,IAAI,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;YAC5C,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC7B,UAAU,GAAG,CAAC,UAAU,CAAC,CAAC;YAC9B,CAAC;YAED,IAAI,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;YAC/C,MAAM,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC1C,OAAO,IAAI,CAAC;QAChB,CAAC;QACO,KAAK,CAAC,cAAc,CAAC,IAAmB,EAAE,MAAiB,EAAE,MAAiB,EAAE,OAAe,EAAE,eAAsB,EAAE,eAAsB;YACnJ,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,OAAkB,CAAC;YACvB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,SAAS,EAAE,CAAC;gBAE5F,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnD,IAAI,eAAe,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;oBACrC,OAAO;gBACX,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEjD,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;gBACjE,IAAI,OAAO,GAAG,EAAE,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;gBACtD,MAAM,iBAAO,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC7C,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAEjE,OAAO,GAAG,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;gBAC5H,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC9B,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;gBAClE,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACjC,qBAAqB;gBACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACjD,IAAI,EAAE,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBAC/B,IAAI,EAAE,CAAC,MAAM,CAAC,KAAK,OAAO,EAAE,CAAC;wBACzB,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;wBAClB,kBAAkB;wBAClB,MAAM;oBACV,CAAC;gBACL,CAAC;YACL,CAAC;iBAAM,CAAC;gBACJ,+CAA+C;gBAC/C,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YAC/D,CAAC;YACD,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,SAAS,EAAE,CAAC;gBACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACrD,MAAM,KAAK,CAAC,cAAc,CAAC,IAAI,EAAa,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,eAAe,EAAE,eAAe,CAAC,CAAC;gBACjI,CAAC;YACL,CAAC;YACD,OAAO,OAAO,CAAC;QACnB,CAAC;QACD,KAAK,CAAC,eAAe,CAAC,IAAY,EAAE,MAAiB,EAAE,SAAoB,SAAS;YAChF,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,eAAe,GAAG,EAAE,CAAC;YACzB,IAAI,eAAe,GAAG,EAAE,CAAC;YACzB,IAAI,IAAI,GAAkB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC3C,mBAAmB;YACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClD,IAAI,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBAErC,MAAM,KAAK,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,eAAe,CAAC,CAAC;gBAE5F,gBAAgB;YACpB,CAAC;YACD,2CAA2C;YAC3C,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9C,IAAI,OAAO,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC;gBACjC,IAAI,OAAO,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC;gBACjC,IAAI,OAAO,KAAK,OAAO,EAAE,CAAC;oBAEtB,IAAI,GAAG,GAAG,IAAI,MAAM,CAAC,KAAK,GAAG,OAAO,GAAG,KAAK,CAAC,CAAC;oBAC9C,IAAI,KAAK,GAAG,IAAI,CAAC;oBACjB,OAAO,KAAK,IAAI,IAAI,EAAE,CAAC;wBACnB,KAAK,GAAG,KAAK,CAAC;wBACd,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,SAAS,QAAQ,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM;4BAClE,uDAAuD;4BACvD,KAAK,GAAG,IAAI,CAAC;4BACb,OAAO,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;wBAC7F,CAAC,CAAC,CAAC;oBACP,CAAC;gBACL,CAAC;YACL,CAAC;YACD,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAE3B,gBAAgB;YAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9C,IAAI,YAAY,GAAG,eAAe,CAAC,CAAC,CAAC,CAAA;gBACrC,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC;oBAC5C,IAAI,GAAG,KAAK,OAAO,IAAI,GAAG,KAAK,QAAQ,IAAI,GAAG,IAAI,KAAK,EAAE,CAAC;wBACtD,IAAI,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;wBAClD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BACvC,IAAI,MAAM,GAAW,QAAQ,CAAC,CAAC,CAAC,CAAC;4BACjC,IAAI,SAAS,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,YAAY,CAAC,CAAC;4BACtE,IAAI,QAAQ,GAAG,EAAE,CAAC;4BAClB,IAAI,IAAI,GAAG,EAAE,CAAC;4BACd,IAAI,OAAO,GAAG,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC;4BAC/C,sDAAsD;4BACtD,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC;gCAEzC,IAAI,UAAU,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;gCACvD,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;gCACzD,IAAI,UAAU,KAAK,MAAM,EAAE,CAAC;oCACxB,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oCAC1B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;gCACjC,CAAC;4BACL,CAAC;4BACD,IAAI,CAAC;gCACD,uBAAuB;gCACvB,IAAI,SAAS,GAAG,IAAI,QAAQ,CAAC,GAAG,QAAQ,EAAE,UAAU,GAAG,MAAM,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;gCACrI,IAAI,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,KAAK,UAAU,EAAE,CAAC;oCACzC,SAAS,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC;gCAC9B,CAAC;qCAAM,CAAC;oCACJ,SAAS,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;gCAC/B,CAAC;4BACL,CAAC;4BAAC,WAAM,CAAC;4BAET,CAAC;4BACD,uDAAuD;4BACvD,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;wBAE9H,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;YACD,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAClC,CAAC;QACD,KAAK,CAAC,KAAK;YACP,IAAI,IAAI,GAAG,MAAM,SAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;YAChD,iDAAiD;YACjD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,MAAM,GAAc,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC;YACpD,IAAI,YAAY,GAAG,MAAM,CAAC,WAAW,KAAK,SAAS,CAAC;YACpD,IAAI,IAAI,CAAC,iBAAiB,CAAC,SAAS,KAAK,MAAM,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG;gBACzE,YAAY,GAAG,IAAI,CAAC;YACxB,IAAI,IAAI,CAAC,iBAAiB,CAAC,SAAS,KAAK,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG;gBAC1E,YAAY,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,YAAY;gBACb,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC,CAAC,kGAAkG;iBACtJ,CAAC;gBACF,YAAY;gBACZ,oBAAoB;gBACpB,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAA,sGAAsG;YACnK,CAAC;YACD,wCAAwC;YACxC,2FAA2F;YAC3F,KAAK,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;YACrC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,sDAAsD;YACtD,yBAAyB;YACzB,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACvB,sCAAsC;YACtC,uCAAuC;QAE3C,CAAC;QACD;;;;UAIE;QACF,QAAQ,CAAC,QAAQ,GAAG,SAAS;YACzB,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAExC,CAAC;QACD;;UAEE;QACF,IAAI;YACA,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QAE5B,CAAC;QAED;;WAEG;QACH,IAAI;YACA,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QAC5B,CAAC;QACO,uBAAuB,CAAC,SAAoB,EAAE,OAAiB;YAEnE,OAAO,CAAC,IAAI,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;YAClC,IAAI,MAAM,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC;YACtC,IAAI,MAAM,KAAK,SAAS,EAAE,CAAC;gBACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACrC,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;gBACrD,CAAC;YACL,CAAC;QACL,CAAC;QACD,oBAAoB;YAChB,OAAO,IAAI,+BAAc,EAAE,CAAC;QAChC,CAAC;QACD,gBAAgB,CAAC,UAAuB;YACpC,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACvD,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA,CAAC,CAAC,CAAC,CAAC;YAC7F,8DAA8D;YAElE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC;oBACjC,UAAU,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;gBACtD,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACxD,CAAC;YACD,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAC,CAAC;gBACzB,IAAI,CAAC,eAAe,CAAC,KAAK,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC3C,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;YACnD,CAAC;iBAAK,IAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,GAAG,UAAU,CAAC;gBACxC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,CAAC;QAEL,CAAC;QACD;;;WAGG;QACH,UAAU,CAAC,MAAM;YACb,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;YACvB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACvC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC;YACjC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC;YAChC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC;YACjC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC;YAClC,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACvD,mBAAmB;YACnB,IAAI,KAAK,GAAG,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;YAC1D,IAAI,MAAM;gBACN,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC;;gBAErD,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;YAC5D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAEpC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,iBAAiB,CAAC,KAAK,SAAS,EAAE,CAAC;oBAClD,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;wBAC9B,8BAA8B,EAAE,EAAE,MAAM,EAAE,iBAAiB,EAAE,IAAI,EAAE;qBACtE,CAAC,CAAC;gBACP,CAAC;YACL,CAAC;YACD,IAAI,SAAS,CAAC,iBAAiB,CAAC,KAAK,SAAS,EAAE,CAAC;gBAC7C,SAAS,CAAC,iBAAiB,CAAC,CAAC;oBACzB,8BAA8B,EAAE,EAAE,MAAM,EAAE,iBAAiB,EAAE,IAAI,EAAE;iBACtE,CAAC,CAAC;YAEP,CAAC;YAED,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,CAAA,oDAAoD;YACjF,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE,CAAC;gBAC9B,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;YAC9B,CAAC;YACD,IAAI,IAAI,CAAC,eAAe,KAAK,SAAS,EAAE,CAAC;gBACrC,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,CAAC;YACrC,CAAC;YAED,IAAI,MAAM,KAAK,IAAI,EAAE,CAAC;gBAClB,IAAI,KAAK,GAAG,IAAI,CAAC;gBACjB,IAAI,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;gBACpE,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU,KAAK,SAAS,EAAE,CAAC;oBAChD,IAAI,GAAG,GAAG,EAAE,CAAC;oBAEb,IAAI,CAAC,uBAAuB,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;oBAC7C,aAAa,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAClC,CAAC;;oBACG,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;gBACpE,4BAA4B;gBAC5B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBACnD,IAAI,CAAC,QAAQ,GAAG,IAAI,iBAAO,EAAE,CAAC;gBAC9B,IAAI,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC;gBAEpD,IAAI,CAAC,QAAQ,CAAC,iBAAiB,GAAG,UAAU,UAAU,EAAE,CAAC;oBACrD,IAAI,GAAG,GAAG,EAAE,CAAC;oBACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACzC,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;wBAEtD,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBACjB,CAAC;oBACD,KAAK,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;gBAChC,CAAC,CAAC;gBAEF,IAAI,CAAC,QAAQ,CAAC,iBAAiB,GAAG,UAAU,IAAe,EAAE,IAAY,EAAE,KAAU;oBACjF,IAAI,KAAK,CAAC,eAAe,CAAC,KAAK,KAAK,IAAI;wBACpC,KAAK,CAAC,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC;oBACvC,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,IAAI,EAAE,KAAK,GAAG,EAAE,EAAE,IAAI,CAAC,CAAC;oBAChE,KAAK,CAAC,eAAe,CAAC,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC;oBAC1D,0DAA0D;oBAC1D,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACnB,KAAK,CAAC,aAAa,EAAE,CAAC;gBAC1B,CAAC,CAAC;gBACF,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;gBAChD,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBACtE,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;oBACvD,IAAI,CAAC,eAAe,CAAC,iBAAiB,GAAG,UAAU,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,eAAe;wBAC1G,KAAK,CAAC,aAAa,CAAC,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,eAAe,CAAC,CAAC;oBACrF,CAAC,CAAA;oBACD,IAAI,CAAC,eAAe,CAAC,eAAe,GAAG,UAAU,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe;wBACnG,KAAK,CAAC,eAAe,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,CAAC,CAAC;oBAElF,CAAC,CAAA;oBAED,IAAI,CAAC,eAAe,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE,EAAE;wBACpD,IAAI,KAAK,CAAC,QAAQ,KAAK,SAAS;4BAC5B,OAAO,KAAK,CAAC;wBACjB,OAAO,KAAK,CAAC,QAAQ,CAAC,oBAAoB,KAAK,SAAS,CAAC;oBAC7D,CAAC,CAAA;gBACL,CAAC;gBACD,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;YACpC,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;YACnC,CAAC;YACD,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;QACrC,CAAC;QAED;;;;;;;YAOI;QACJ,aAAa,CAAC,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,eAAe;YACrE,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;YACjE,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;YACjE,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;YAClE,IAAI,GAAG,KAAK,SAAS,EAAE,CAAC;gBACpB,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,IAAI,CAAC,CAAC;YACjE,CAAC;iBAAM,CAAC;gBACJ,KAAK,CAAC,eAAe,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;YACpD,CAAC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;gBACrB,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,GAAG,EAAE,IAAI,GAAG,EAAE,EAAE,IAAI,CAAC,CAAC;YAClE,CAAC;iBAAM,CAAC;gBACJ,KAAK,CAAC,eAAe,CAAC,oBAAoB,CAAC,GAAG,CAAC,CAAC;YACpD,CAAC;YAED,IAAI,SAAS,KAAK,SAAS,IAAI,eAAe,KAAK,SAAS,IAAI,GAAG,KAAK,SAAS,EAAE,CAAC,CAAA,gEAAgE;gBAChJ,cAAc;gBACd,IAAI,MAAM,GAAG,KAAK,CAAC,eAAe,CAAC,oBAAoB,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;gBACzF,IAAI,MAAM,CAAC;gBACX,IAAI,eAAe,KAAK,SAAS,IAAI,eAAe,CAAC,IAAI,KAAK,OAAO,EAAE,CAAC,CAAA,mBAAmB;oBACvF,IAAI,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,eAAe,CAAC,CAAC;oBAClE,IAAI,GAAG,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;oBAC3E,MAAM,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;gBAC/D,CAAC;gBACD,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,KAAK,EAAE,YAAY,CAAA,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;YAE/F,CAAC;YACD,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC9B,KAAK,CAAC,eAAe,CAAC,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC;YAC1D,KAAK,CAAC,kBAAkB,CAAC,KAAK,GAAG,KAAK,CAAC,kBAAkB,CAAC,KAAK,CAAC;QACpE,CAAC;QACD;;;;;;;;YAQI;QACJ,eAAe,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE,QAAQ,GAAG,IAAI,EAAE,gBAAwB,SAAS,EAAE,UAAmB,SAAS;YACpJ,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB;;eAEG;YACH,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACrC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACxD,mBAAQ,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC/C,IAAI,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;gBAChC,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,KAAK,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACrG,CAAC,CAAC,CAAA;YAGF,IAAI,KAAK,GAAG,SAAS,CAAC;YAGtB,IAAI,QAAQ,CAAC;YACb,IAAI,iBAAO,CAAC,YAAY,CAAC,SAAS,CAAC,KAAK,IAAI;gBACxC,QAAQ,GAAG,SAAS,CAAC;;gBAErB,QAAQ,GAAG,IAAI,CAAC,iBAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;YAC5C,IAAI,OAAO,GAAG,KAAK,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,aAAa,EAAE,OAAO,CAAC,CAAC;YAClF,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU,KAAK,SAAS,EAAE,CAAC;gBAEhD,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;gBACjE,IAAI,MAAM,CAAC;gBACX,IAAI,eAAe,KAAK,SAAS,IAAI,eAAe,CAAC,IAAI,KAAK,OAAO,EAAE,CAAC,CAAA,mBAAmB;oBACvF,8CAA8C;oBAC9C,oDAAoD;oBACpD,IAAI,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,eAAe,CAAC,CAAC;oBAClE,IAAI,GAAG,GAAG,KAAK,CAAC,WAAW,CAAC,qBAAqB,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;oBAC3E,MAAM,GAAG,EAAE,YAAY,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;gBAC/D,CAAC;gBACD,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;YAC3F,CAAC;YAED,IAAI,eAAe,KAAK,SAAS,EAAE,CAAC;gBAChC,SAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC;YACnD,CAAC;iBAAM,CAAC;gBACJ,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC5B,CAAC;YACD,IAAI,OAAO;gBACP,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAElC,8CAA8C;YAC9C,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,EAAE,CAAC;gBAC1C,KAAK,IAAI,GAAG,IAAI,SAAS,CAAC,eAAe,EAAE,CAAC;oBACxC,IAAI,GAAG,GAAG,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;oBACzC,IAAI,OAAO,GAAG,KAAK,QAAQ;wBACvB,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;oBAC1B,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;gBACrE,CAAC;gBACD,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,eAAe,CAAC,CAAC;YAClD,CAAC;YACD,IAAI,GAAG,KAAK,SAAS,EAAE,CAAC;gBACpB,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;gBACtE,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC;YACrB,CAAC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;gBACrB,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,GAAG,EAAE,IAAI,GAAG,EAAE,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;gBACvE,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC;YACtB,CAAC;YAED,6BAA6B;YAC7B,IAAI,EAAE,GAAG,QAAQ,CAAC,eAAe,CAAC;YAClC,IAAI,EAAE,KAAK,SAAS,EAAE,CAAC;gBACnB,QAAQ,CAAC,eAAe,CAAC;oBACrB,iCAAiC,EAAE;wBAC/B,SAAS,EAAE,SAAS;qBACvB;iBACJ,CAAC,CAAC;YACP,CAAC;YACD,IAAI,QAAQ,EAAE,CAAC;gBACX,KAAK,CAAC,eAAe,CAAC,KAAK,GAAG,QAAQ,CAAC;gBACvC,yBAAyB;gBACzB,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBACvB,KAAK,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;gBAClC,KAAK,CAAC,0BAA0B,EAAE,CAAC;gBACnC,KAAK,CAAC,aAAa,EAAE,CAAC;YAC1B,CAAC;YACD,OAAO,QAAQ,CAAC;QACpB,CAAC;QACD,cAAc,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,gBAAwB,SAAS,EAAE,UAAmB,SAAS;YACjG,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU,KAAK,SAAS;gBAC7C,OAAO;YACX,IAAI,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,IAAI,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC;YAEjF;;;;;;qBAMS;YACT,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;YAC7D,OAAO,OAAO,CAAC;QACnB,CAAC;QAGO,aAAa,CAAC,IAAe,EAAE,SAAoB,EAAE,KAAkE;;YAC3H,IAAI,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,SAAS,IAAI,SAAS,CAAC,SAAS,CAAC,KAAK,SAAS,EAAE,CAAC;gBAC3E,IAAI,KAAK,GAAG,MAAA,SAAS,CAAC,SAAS,CAAC,0CAAE,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC9C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACpC,IAAI,KAAK,GAAW,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC7B,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC;wBAChC,IAAI,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBAC3B,IAAI,IAAI,GAAG,EAEV,CAAA;wBACD,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG;4BACnB,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;4BACjC,MAAM,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;yBACvD,CAAA;wBACD,MAAM;oBACV,CAAC;gBACL,CAAC;gBACD,IAAI,SAAS,CAAC,aAAa,CAAC,EAAE,CAAC;oBAC3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACvD,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;oBACjE,CAAC;gBACL,CAAC;gBACD,IAAI,SAAS,KAAK,IAAI,EAAE,CAAC;oBACrB,QAAQ;oBACR,IAAI,EAAE,GAAG,CAAC,CAAC;gBACf,CAAC;YACL,CAAC;QAEL,CAAC;QACD,cAAc;YACV,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,KAAK,CAAC,aAAa,EAAE,CAAC;YACtB,KAAK,CAAC,eAAe,CAAC,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC;YACxF,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;YACnD,KAAK,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;YAClC,KAAK,CAAC,0BAA0B,EAAE,CAAC;QACvC,CAAC;QACD,cAAc,CAAC,IAAiB;YAC5B,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,KAAsB,CAAC;YAC3B,sDAAsD;YACtD,KAAK,GAAoB,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YACxD,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC;YAC/E,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;YACvB,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAC/B,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,EAAE;gBAEpB,IAAU,KAAM,CAAC,OAAO,EAAE,CAAC;oBACvB,CAAC,CAAC,cAAc,EAAE,CAAC;oBACb,KAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC5B,CAAC;YACL,CAAC,CAAA;YACD,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,EAAE,EAAE;gBAClB,EAAE,CAAC,cAAc,EAAE,CAAC;gBACpB,KAAK,UAAU,IAAI;oBACf,IAAI,IAAI,GAAG,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;oBAC3C,IAAI,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;wBACzC,IAAI,QAAQ,GAA6D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBAC1F,IAAI,EAAE,GAAG,iBAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;wBACnD,IAAI,YAAY,GAAG,IAAI,EAAE,EAAE,CAAC;wBAC5B,IAAI,eAAe,GAAoB,EAAE,CAAC,MAAO,CAAC,KAAK,CAAC;wBACxD,IAAI,SAAS,GAAG,eAAe,CAAC,OAAO,CAAC;wBACxC,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,cAAc,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,eAAe,CAAC,CAAC,CAAA,oBAAoB;oBACvI,CAAC;yBAAM,IAAI,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;wBAChD,IAAI,eAAe,GAAoB,EAAE,CAAC,MAAO,CAAC,KAAK,CAAC;wBACxD,IAAI,SAAS,GAAG,eAAe,CAAC,OAAO,CAAC;wBACxC,MAAM,KAAK,CAAC,eAAe,CAAC,IAAI,EAAE,SAAS,EAAE,eAAe,CAAC,CAAC;wBAC9D,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;oBACjC,CAAC;yBAAM,CAAC;oBAER,CAAC;oBACD,KAAK,CAAC,cAAc,EAAE,CAAC;gBAC3B,CAAC;gBAAA,CAAC;gBACF,IAAI,EAAE,CAAC;YACX,CAAC,CAAC;YAEF,KAAK,CAAC,OAAO,GAAG,CAAC,EAAE,EAAE,EAAE;;gBACnB,EAAE,CAAC,cAAc,EAAE,CAAC;gBACpB,IAAI,GAAG,GAAG,CAAO,EAAE,CAAC,MAAO,CAAC,KAAK,CAAC,CAAC;gBACnC,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;oBAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC9C,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;wBACzE,IAAI,OAAO,EAAE,CAAC;4BACV,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC7B,MAAM;wBACV,CAAC;oBACL,CAAC;gBACL,CAAC;gBAED,IAAI,IAAI,GAAS,EAAE,CAAC,MAAO,CAAC,KAAK,CAAC;gBAClC;;;;;;;;;oBASI;gBAEJ,KAAK,CAAC,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC;gBAEnC,KAAK,CAAC,iBAAiB,CAAC,SAAS,GAAG,IAAI,CAAC;gBACzC,IAAI,CAAC,iBAAiB,CAAC,GAAG,GAAG,IAAI,CAAC;gBAClC,IAAI,CAAA,MAAA,KAAK,CAAC,iBAAiB,CAAC,SAAS,CAAC,GAAG,0CAAE,WAAW,EAAE,MAAK,IAAI,EAAE,CAAC;oBAChE,6BAA6B;oBAC7B,uDAAuD;oBACvD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACzB,CAAC;gBACD,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gBACvB;;;;2CAI2B;gBAE3B,qDAAqD;gBACrD,YAAY,EAAE,CAAC,eAAe,EAAE,CAAC,CAAA,wCAAwC;YAC7E,CAAC,CAAA;YACD,KAAK,CAAC,UAAU,GAAG,CAAC,EAAE,EAAE,EAAE;gBACtB,EAAE,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC,CAAA;YACD,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,EAAE;gBACrB,EAAE,CAAC,YAAY,CAAC,YAAY,CAAO,KAAK,CAAC,MAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC7D,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,kBAAkB,CAAC,CAAO,KAAK,CAAC,MAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC3F,CAAC,CAAA;YACD,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC;YAC7B,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,sBAAsB,CAAC;YACrD,KAAK,CAAC,SAAS,GAAG,0BAA0B,CAAC;YAC7C,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;YAC9B,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;YAClC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE,EAAE;gBACrC,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAE7D,CAAC,CAAA;YACD,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE,EAAE,CAAO,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;YAC5G,0CAA0C;YAC1C,IAAI;YACJ,yDAAyD;YACzD,OAAO,KAAK,CAAC;QACjB,CAAC;QACD,eAAe;YACX,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,KAAsB,CAAC;YAC3B,sDAAsD;YACtD,KAAK,GAAoB,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YACxD,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC;YAC/B,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;YACvB,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAC/B,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YACpC,KAAK,CAAC,OAAO,GAAG,CAAC,EAAE,EAAE,EAAE;gBACnB,KAAK,CAAC,eAAe,CAAC,KAAK,GAAS,EAAE,CAAC,MAAO,CAAC,KAAK,CAAC;gBACrD,2EAA2E;gBAC3E,KAAK,CAAC,iBAAiB,CAAC,SAAS,GAAS,EAAE,CAAC,MAAO,CAAC,KAAK,CAAC;gBAC3D,IAAI,CAAC,iBAAiB,CAAC,GAAG,GAAG,KAAK,CAAC;gBACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC7C,wDAAwD;YAC5D,CAAC,CAAA;YACD,0CAA0C;YAC1C,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,EAAE,EAAE;gBAClB,EAAE,CAAC,cAAc,EAAE,CAAC;gBAEpB,KAAK,UAAU,IAAI;oBACf,IAAI,IAAI,GAAG,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;oBAC3C,IAAI,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;wBACzC,IAAI,QAAQ,GAA6D,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBAC1F,IAAI,EAAE,GAAG,iBAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;wBACnD,IAAI,YAAY,GAAG,IAAI,EAAE,EAAE,CAAC;wBAC5B,IAAI,SAAS,GAAS,EAAE,CAAC,MAAO,CAAC,KAAK,CAAC;wBACvC,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,cAAc,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,CAAA,oBAAoB;oBACjI,CAAC;yBAAM,IAAI,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;wBAChD,IAAI,SAAS,GAAoB,EAAE,CAAC,MAAO,CAAC,KAAK,CAAC;wBAClD,MAAM,KAAK,CAAC,eAAe,CAAC,IAAI,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;wBACxD,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;oBACjC,CAAC;yBAAM,CAAC;oBAER,CAAC;oBACD,KAAK,CAAC,cAAc,EAAE,CAAC;gBAC3B,CAAC;gBAAA,CAAC;gBACF,IAAI,EAAE,CAAC;YAEX,CAAC,CAAC;YACF;;;;;;eAMG;YACH,KAAK,CAAC,UAAU,GAAG,CAAC,EAAE,EAAE,EAAE;gBACtB,EAAE,CAAC,cAAc,EAAE,CAAC;gBACpB,wCAAwC;YAC5C,CAAC,CAAA,CAAC;;;;eAIC;YACH,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC;YAC7B,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,yBAAyB,CAAC;YACxD,KAAK,CAAC,SAAS,GAAG,0BAA0B,CAAC;YAC7C,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;YAC9B,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;YAClC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE,EAAE;gBACrC,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;gBACzD,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAO,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,CAAC;gBACzE,IAAU,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,KAAK,SAAS;oBAChD,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,GAAS,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;gBAC7F,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,kBAAkB,CAAC,GAAG,OAAO,GAAG,0KAA0K,GAAG,IAAI,GAAG,eAAe,GAAG,IAAI,CAAC;YAC/Q,CAAC,CAAA;YACD,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE,EAAE;gBACrC,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;gBAEtD,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,kBAAkB,CAAC,GAAS,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC;gBAC/F,OAAa,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC;YAEpD,CAAC,CAAA;YACD,2CAA2C;YAC3C,IAAI;YACJ,yDAAyD;YACzD,OAAO,KAAK,CAAC;QACjB,CAAC;QACO,aAAa,CAAC,IAAiB,EAAE,IAAiB,EAAE,GAAG,EAAE,QAAiB;YAC9E,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS;gBACxB,OAAO;YACX,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA,mBAAmB;YAC7C,IAAU,IAAK,CAAC,YAAY,KAAK,IAAI;gBACjC,OAAO;YACX,IAAI,IAAI,KAAK,SAAS;gBAClB,IAAI,GAAG,IAAI,CAAC;YAChB,gDAAgD;YAChD,IAAI,aAAa,GAAgB,EAAE,CAAC;YACpC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACjE,IAAI,OAAO;gBACP,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACnC,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;gBAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC9C,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC1E,IAAI,QAAQ;wBACR,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;YACD,KAAK,IAAI,YAAY,GAAG,CAAC,EAAE,YAAY,GAAG,aAAa,CAAC,MAAM,EAAE,YAAY,EAAE,EAAE,CAAC;gBAE7E,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,CAAC;gBAC9E,IAAI,IAAI,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC;gBACvC;;;;;;;;oBAQI;gBAEJ,IAAI,WAAW,GAAG,KAAK,CAAC;gBACxB,IAAI,IAAI,GAAG,yCAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC1D,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;gBACtC,IAAI,IAAI,EAAE,CAAC;oBACP,IAAI,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,qBAAqB,MAAK,SAAS,EAAE,CAAC;wBAC5C,IAAI,OAAO,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,SAAS,EAAE,CAAC;4BACnD,WAAW,GAAG,IAAI,CAAC,qBAAqB,CAAC;wBAC7C,CAAC;6BAAM,CAAC;4BACJ,WAAW,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;wBAC1D,CAAC;oBAEL,CAAC;yBAAM,CAAC;wBACJ,WAAW,GAAG,IAAI,CAAC;oBACvB,CAAC;oBACD,IAAI,WAAW,EAAE,CAAC;wBACd,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,oBAAoB,CAAC,EAAE,CAAC;4BACjD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;wBAC7C,CAAC;oBACL,CAAC;gBACL,CAAC;gBACD,IAAI,CAAC,OAAO,EAAE,CAAC;oBACX,IAAI,IAAI,CAAC,eAAe,KAAK,OAAO;wBAChC,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;gBACvC,CAAC;gBACD,IAAI,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,qBAAqB,MAAK,SAAS,EAAE,CAAC;oBAC5C,IAAI,OAAO,CAAC,IAAI,CAAC,qBAAqB,CAAC,KAAK,SAAS,EAAE,CAAC;wBACpD,IAAI,IAAI,CAAC,qBAAqB,KAAK,KAAK;4BACpC,OAAO,GAAG,SAAS,CAAC;oBAE5B,CAAC;yBAAM,CAAC;wBACJ,IAAI,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,KAAK;4BAChD,OAAO,GAAG,SAAS,CAAC;oBAC5B,CAAC;gBAEL,CAAC;gBAGD,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS;oBACjC,OAAO;gBAEX,IAAI,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC;gBACpC,IAAI,IAAI,KAAK,SAAS;oBAClB,OAAO;gBACX,IAAI,GAAQ;oBACR,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO;oBAChD,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG,GAAG,MAAM,CAAC,OAAO;oBAC7C,KAAK,EAAE,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO;oBAClD,MAAM,EAAE,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,GAAG,GAAG,MAAM,CAAC,OAAO;iBACtD,CAAA;gBACD,IAAU,IAAK,aAAL,IAAI,uBAAJ,IAAI,CAAG,EAAE;oBACf,OAAO;gBACX,IAAI,OAAO,EAAE,CAAC;oBACV,IAAI,QAAQ,GAAG,SAAS,CAAC;oBACzB,IAAU,IAAK,CAAC,YAAY;wBACxB,QAAQ,GAAS,IAAK,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;oBACtD,IAAI,CAAC,QAAQ,EAAE,CAAC;wBACZ,IAAU,IAAK,CAAC,YAAY,KAAK,SAAS;4BAChC,IAAK,CAAC,YAAY,GAAG,EAAE,CAAC;wBAClC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;wBAC/B,QAAS,CAAC,EAAE,GAAG,IAAI,CAAC;wBACpB,QAAS,CAAC,KAAK,GAAG,IAAI,CAAC;wBAC7B,QAAQ,CAAC,KAAK,GAAG,OAAO,CAAC;wBACzB,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;wBACb,IAAK,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC5C,CAAC;oBACD,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC;oBACtB,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,YAAY,GAAG,CAAC,CAAC;oBACrC,IAAK,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;oBACvB,IAAK,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;oBAE/B,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;oBACjC,SAAS;oBAET,IAAI,IAAI,CAAC,KAAK,KAAW,IAAI,CAAC,UAAW,CAAC,KAAK;wBAC3C,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;oBAC5C,IAAU,UAAW,CAAC,YAAY,EAAE,CAAC;wBAEjC,MAAM,EAAE,GAAG;4BACP,GAAG,EAAQ,UAAW,CAAC,KAAK;4BAC5B,IAAI,EAAQ,UAAW,CAAC,MAAM;4BAC9B,KAAK,EAAQ,UAAW,CAAC,MAAM,GAAS,UAAW,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC;yBAC9E,CAAA;wBACD,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC;4BACxG,IAAI,EAAE,GAAS,UAAW,CAAC,YAAY,CAAO,UAAW,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;4BACnF,OAAO,GAAG,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;wBAC5D,CAAC;oBACL,CAAC;oBACD,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,GAAG,IAAI,CAAC;oBACnC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,OAAO,GAAG,IAAI,CAAC;gBACzC,CAAC;gBACD,IAAI,WAAW,EAAE,CAAC;oBACd,IAAI,SAAS,GAAG,SAAS,CAAC;oBAC1B,IAAU,IAAK,CAAC,aAAa;wBACzB,SAAS,GAAS,IAAK,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;oBACxD,IAAI,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC;wBACf,IAAU,IAAK,CAAC,aAAa,KAAK,SAAS;4BACjC,IAAK,CAAC,aAAa,GAAG,EAAE,CAAC;wBACnC,SAAS,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;wBAC7B,SAAU,CAAC,EAAE,GAAG,IAAI,CAAC;wBACrB,SAAU,CAAC,KAAK,GAAG,IAAI,CAAC;wBAC9B,SAAS,CAAC,KAAK,GAAG,OAAO,CAAC;wBAC1B,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;wBACd,IAAK,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBAC9C,CAAC;oBACD,IAAI,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;oBAC5B,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,YAAY,GAAG,CAAC,CAAC;oBACvC,IAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;oBAC7B,IAAK,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjC,sCAAsC;oBACtC,IAAU,UAAW,CAAC,aAAa,EAAE,CAAC;wBAClC,MAAM,EAAE,GAAG;4BACP,MAAM,EAAQ,UAAW,CAAC,QAAQ;4BAClC,KAAK,EAAQ,UAAW,CAAC,OAAO;4BAChC,IAAI,EAAQ,UAAW,CAAC,OAAO,GAAS,UAAW,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC;yBAC/E,CAAA;wBACD,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC;4BACvH,IAAI,EAAE,GAAS,UAAW,CAAC,aAAa,CAAO,UAAW,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;4BACrF,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;wBAC/C,CAAC;oBACL,CAAC;oBACD,SAAS,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,SAAS,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;oBAC7C,SAAS,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,QAAQ,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;gBACjD,CAAC;YACL,CAAC;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9C,IAAI,IAAI,CAAC,KAAK,KAAW,IAAI,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC,KAAK,EAAC,SAAS;oBACxD,IAAI,CAAC,aAAa,CAAM,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;YACzE,CAAC;QAEL,CAAC;QACD,MAAM,CAAC,SAAe,EAAE,QAAgB,EAAE,UAAgB,SAAS,EAAE,SAAiB,SAAS;YAC3F,IAAI,MAAM,GAAG,YAAY,EAAE,CAAC;YAC5B,IAAI,KAAK,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;YACnC,KAAK,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;YACpC,IAAI,OAAO,KAAK,SAAS;gBACrB,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;YAClC,MAAM,CAAC,eAAe,EAAE,CAAC;YACzB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACvB,OAAO,KAAK,CAAC;QACjB,CAAC;QACD;;WAEG;QACH,IAAI,iBAAiB,CAAC,SAAS;YAC3B,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;YAC7C,IAAI,GAAG,GAAG,SAAS,CAAC;YACpB,IAAI,GAAG,CAAC,YAAY,CAAC,KAAK,IAAI,IAAI,GAAG,CAAC,KAAK,KAAK,GAAG,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE,CAAC;gBACxE,SAAS,CAAC,KAAK,GAAG,kBAAkB,CAAC;gBACrC,SAAS,CAAC,MAAM,GAAG,kBAAkB,CAAC;YAC1C,CAAC;YACD,IAAI,IAAI,CAAC,WAAW,CAAC,qBAAqB,KAAK,IAAI,EAAE,CAAC;gBAClD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1C,CAAC;YACD,OAAO,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC;gBACjD,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YACjF,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACvC,GAAG;YACH,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;YACpC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAEpE,IAAI,CAAC,kBAAkB,CAAC,KAAK,GAAG,SAAS,CAAC;YAE1C,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;YAGjB,IAAI,CAAC,0BAA0B,EAAE,CAAC;YAClC,OAAO,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC;gBAC3C,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;YACnD,CAAC;YACD,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,SAAS,CAAC,4BAA4B,EAAE,SAAS,CAAC,CAAC;YACxD,oDAAoD;YACpD,4BAA4B;QAChC,CAAC;QACD,0BAA0B,CAAC,OAA4B;YACnD,IAAI,CAAC,QAAQ,CAAC,4BAA4B,EAAE,OAAO,CAAC,CAAC;QACzD,CAAC;QACD,aAAa;YACT,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAA,gCAAgC;YACvE,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE,CAAC,CAAA,qDAAqD;gBACzF,iCAAiC;gBACjC,6CAA6C;gBAC7C,IAAI,CAAC,WAAW,CAAC,SAAS,GAAG,EAAE,CAAC,CAAA,YAAY;gBAC5C,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;YACpC,CAAC;YACD;;;;gBAII;YACJ,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACvF,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;YAChC,SAAS,CAAC,GAAG,CAAC,eAAe,GAAG,MAAM,CAAC;YACvC,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,eAAe,GAAG,OAAO,CAAC;YAC7D,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,eAAe,GAAG,OAAO,CAAC;YACtD,wBAAwB;YACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC1D,IAAU,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,KAAK,SAAS,EAAE,CAAC;oBAC9E,0EAA0E;oBAC1E,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjE,CAAC;YACL,CAAC;QACL,CAAC;QACD,IAAI,iBAAiB;YACjB,OAAO,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAClD,CAAC;QACD,OAAO;;YACH,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE,CAAC;gBAC9B,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;YAC9B,CAAC;YACD,IAAI,IAAI,CAAC,eAAe,KAAK,SAAS,EAAE,CAAC;gBACrC,IAAI,CAAC,eAAe,CAAC,aAAa,GAAG,SAAS,CAAC;gBAC/C,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,CAAC;YACrC,CAAC;YACD,MAAA,IAAI,CAAC,eAAe,0CAAE,OAAO,EAAE,CAAC;YAChC,MAAA,IAAI,CAAC,iBAAiB,0CAAE,OAAO,EAAE,CAAC;YAClC,MAAA,IAAI,CAAC,kBAAkB,0CAAE,OAAO,EAAE,CAAC;YACnC,MAAA,IAAI,CAAC,oBAAoB,0CAAE,OAAO,EAAE,CAAC;YACrC,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;KAEJ,CAAA;IAzvCY,8CAAiB;gCAAjB,iBAAiB;QAD7B,IAAA,kBAAM,EAAC,kCAAkC,CAAC;;OAC9B,iBAAiB,CAyvC7B;IACM,KAAK,UAAU,IAAI;QACtB,OAAO,IAAI,iBAAiB,EAAE,CAAC;IAEnC,CAAC;IAAA,CAAC;;;;;;;IC/lCF,oBAOC;IAvLM,IAAM,iBAAiB,GAAvB,MAAM,iBAAkB,SAAQ,aAAK;QAMxC;;UAEE;QACF,YAAY,UAAU,EAAE,cAA8B;YAClD,KAAK,EAAE,CAAC;YACR,kEAAkE;YAClE,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;YAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,WAAI,EAAE,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,yBAAW,EAAE,CAAC;YACrC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC3B,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACzC,CAAC;QACD;;WAEG;QACH,IAAI,KAAK,CAAC,KAAK;YACX,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;QAC1B,CAAC;QACD,IAAI,KAAK;YACL,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;QACD;;;;WAIG;QACH,gBAAgB,CAAC,IAAI;YACjB,OAAO,IAAI,CAAC;QAChB,CAAC;QAED;;;;WAIG;QACH,kBAAkB,CAAC,IAAI;;YACnB,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS;gBAC7B,OAAO,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,IAAI,KAAK,SAAS;gBAClB,OAAO,EAAE,CAAC;YACd,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,MAAA,IAAI,CAAC,GAAG,0CAAE,UAAU,EAAE,CAAC;gBACvB,qDAAqD;gBACrD,EAAE;gBACF,IAAI,GAAG,GAAG,MAAA,IAAI,CAAC,GAAG,0CAAE,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC7C,IAAI,GAAG,IAAI,CAAC,CAAC;oBACT,GAAG,GAAG,CAAC,CAAC;;oBAER,GAAG,EAAE,CAAC;gBACV,IAAI,GAAG,IAAG,MAAA,IAAI,CAAC,GAAG,0CAAE,UAAU,CAAC,MAAM,CAAA,EAAE,CAAC;oBACpC,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC9E,IAAI,OAAO,EAAE,CAAC;wBACV,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;wBACnC,OAAO,GAAG,CAAC;oBACf,CAAC;gBACL,CAAC;YACL,CAAC;YACD,IAAI,MAAA,IAAI,CAAC,GAAG,0CAAE,UAAU,EAAE,CAAC;gBACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAClD,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAChC,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;oBAC9D,IAAI,OAAO;wBACP,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBAC3B,CAAC;YACL,CAAC;YACD,OAAO,GAAG,CAAC;QACf,CAAC;QACD,qBAAqB,CAAC,IAAI;YACtB,IAAI,IAAI,KAAK,SAAS;gBAClB,OAAO,EAAE,CAAC;YACd,IAAI,IAAI,KAAK,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;gBAC1C,IAAI,GAAG,GAAG,EAAE,CAAC;gBACC,IAAI,CAAC,WAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;oBAEtC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACpB,CAAC,CAAC,CAAC;gBACH,OAAO,GAAG,CAAC;YACf,CAAC;YACD,IAAI,KAAK,GAAG,yCAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;YAE3F,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE,CAAC;gBACrB,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;gBACvB,IAAI,IAAI,KAAK,SAAS;oBAClB,SAAS;gBACb,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC;gBAChC,IAAI,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE,CAAC;oBAC/D,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBACxB,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACvB,CAAC;gBACD,IAAI,QAAQ,KAAK,SAAS,EAAE,CAAC;oBACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACvC,IAAI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,SAAS,EAAE,CAAC;4BACnD,IAAI,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gCAC/B,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC9B,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;YACD,OAAO,GAAG,CAAC;QACf,CAAC;QACD,MAAM,CAAC,SAAmB;YACtB,IAAI,CAAC,IAAI,CAAC,SAAS,GAAC,CAAC,SAAS,CAAC,CAAC;YAChC,gCAAgC;YAChC,UAAU,CAAC,GAAE,EAAE,CAAA,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAC,GAAG,CAAC,CAAC;QACtD,CAAC;QACD,MAAM;YACF,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YAC1B,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,UAAU,IAAI;gBACjC,OAAO,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;YAC1C,CAAC,CAAA;YAED,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,UAAU,IAAI;gBAClC,OAAO,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YACxC,CAAC,CAAA;YACD,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,WAAW,IAAW;gBACrD,IAAI,GAAG,GAAG,EAAE,CAAC;gBACb,IAAI,MAAM,GAAc,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;gBAExC,IAAI,MAAM,KAAK,SAAS,IAAI,MAAM,CAAC,WAAW,KAAK,SAAS,EAAE,CAAC;oBAC3D,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAE,IAAI,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC;wBAChF,IAAI,EAAE,GAAW;4BACb,IAAI,EAAE;gCAEF,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gCAC3G,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;gCACpC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;4BAC/B,CAAC;4BACD,IAAI,EAAE,SAAS;yBAClB,CAAC;wBACF,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;oBAChB,CAAC;oBACD,IAAI,MAAM,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,GAAG,QAAQ;wBACxC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;wBACjF,IAAI,EAAE,GAAW;4BACb,IAAI,EAAE;gCACF,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gCAC1G,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;gCACpC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;4BAC/B,CAAC;4BACD,IAAI,EAAE,WAAW;yBACpB,CAAC;wBACF,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;oBAChB,CAAC;gBACL,CAAC;gBACD,OAAO,GAAG,CAAC;YACf,CAAC,CAAA;YACD,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACzC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxB,CAAC;QACD,MAAM;YACF,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAC5B,CAAC;QACD,QAAQ,CAAC,OAAO;YACZ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAChC,CAAC;QACD,OAAO,CAAC,OAAO;YACX,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACzC,CAAC;QACD,OAAO;YACH,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;YACxB,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;KACJ,CAAA;IA/KY,8CAAiB;gCAAjB,iBAAiB;QAD7B,IAAA,kBAAM,EAAC,kCAAkC,CAAC;qEAUC,+BAAc,oBAAd,+BAAc;OAT7C,iBAAiB,CA+K7B;IACM,KAAK,UAAU,IAAI;QACtB,IAAI,GAAG,GAAG,IAAI,iBAAiB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QACtD,GAAG,CAAC,gBAAgB,GAAG,UAAU,IAAI;YACjC,OAAO,iBAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC,CAAC;QACF,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC;QAChB,OAAO,GAAG,CAAC;IACf,CAAC;;;;;;ICmBD,oBAIC;;IAnNM,IAAM,gBAAgB,GAAtB,MAAM,gBAAiB,SAAQ,aAAK;QAEvC;YACI,KAAK,EAAE,CAAC;YACR,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QACD,MAAM;QACN,CAAC;QACD;;YAEI;QACJ,IAAI,OAAO,CAAC,KAAK;YACb,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,CAAC;YACD,mBAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;gBAClD;;;;;;;;;;;;;;;;;sBAiBM;gBACH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACpC,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;oBACrB,IAAI,IAAI,GAA0B,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAClD,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,IAAI,IAAI,CAAC,QAAQ,KAAK,WAAW;wBAC5D,SAAS;oBACb,IAAI,GAAG,GAAG,IAAI,aAAK,EAAE,CAAC;oBACtB,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACpC,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oBAClC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC;oBACpB,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC,6BAA6B,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;oBACjI,kBAAkB;oBAClB,iBAAiB;oBACjB,GAAG,CAAC,gBAAgB,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC;oBACxC,GAAG,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;oBACzC,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;oBAC3B,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACnB,CAAC;YACL,CAAC,CAAC,CAAC;YAIJ;;;;;;;;;;;;;;;;;iBAiBK;QACR,CAAC;QACD,IAAI,OAAO;YACP,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;QACD;;;WAGG;QACH,cAAc,CAAC,SAAS;YACpB,IAAI,MAAM,GAAG,SAAS,CAAC;YAGvB,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC;gBACvB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS;gBAElC,QAAQ,EAAE,MAAM;gBAChB,MAAM,EAAE,UAAU,KAAK;oBACnB,IAAI,MAAM,KAAK,SAAS,EAAE,CAAC;wBACvB,IAAI,EAAE,GAAG,iBAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;wBACpD,IAAI,EAAE,KAAK,SAAS,EAAE,CAAC;4BACnB,iBAAO,CAAC,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAA,WAAW;4BACvD,EAAE,GAAG,aAAK,CAAC;wBACf,CAAC;wBACD,MAAM,GAAG,IAAI,EAAE,EAAE,CAAC;wBAClB,IAAI,GAAG,GAAG,IAAI,aAAK,EAAE,CAAC;wBACtB,GAAG,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;wBACxB,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;wBAClB,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC;wBACjB,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;wBACpB,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC;wBACpB,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC;wBACvB,SAAS,CAAC,OAAO,GAAG,MAAM,CAAC;wBAC3B,IAAI,SAAS,CAAC,eAAe,KAAK,SAAS,EAAE,CAAC;4BAC1C,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,eAAe,CAAC,CAAC;wBAChD,CAAC;wBACD,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;wBACpE,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;oBAClF,CAAC;oBACD,OAAO,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC;gBAChC,CAAC;aACJ,CAAC,CAAC;QACP,CAAC;QACD,eAAe,CAAC,SAAS;YACrB,IAAI,MAAM,GAAG,SAAS,CAAC;YAEvB,IAAI,EAAE,GAAG,iBAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;YACpD,IAAI,EAAE,KAAK,SAAS,EAAE,CAAC;gBACnB,iBAAO,CAAC,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAA,WAAW;gBACvD,EAAE,GAAG,aAAK,CAAC;YACf,CAAC;YAED;;;;;;;qCAOyB;YACzB,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC;YAC/B,SAAS,CAAC,GAAG,CAAC,WAAW,GAAG,EAAE,CAAC,EAAE;gBACjC;;;;;;;;;;;uBAWO;gBACL,kDAAkD;gBAChD,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC;oBAC5C,cAAc,EAAG,SAAS,CAAC,gBAAgB,CAAC;oBAC5C,eAAe,EAAG,SAAS,CAAC,iBAAiB,CAAC;iBAChD,CAAC,CAAC,CAAC;gBACJ,sEAAsE;gBACtE,gFAAgF;YACpF,CAAC,CAAA;YAED,yBAAyB;YACzB,6BAA6B;YAC7B,iDAAiD;YACjD,iDAAiD;YACjD,KAAK;YAEL;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBA4BM;QACV,CAAC;QACD,OAAO;YAEH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC/C,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAU,IAAK,CAAC,MAAM,KAAK,IAAI,EAAE,CAAC;oBAC9B,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;oBAC1B,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;oBACjC,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,SAAS;wBAC7B,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,CAAC;gBAClC,CAAC;YACL,CAAC;YACD,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;KACJ,CAAA;IA9MY,4CAAgB;+BAAhB,gBAAgB;QAD5B,IAAA,kBAAM,EAAC,iCAAiC,CAAC;;OAC7B,gBAAgB,CA8M5B;IACD,SAAgB,IAAI;QAChB,IAAI,IAAI,GAAG,IAAI,gBAAgB,EAAE,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,cAAc,CAAC;QAC9B,OAAO,IAAI,CAAC;IAChB,CAAC;;;;;;ICtED,oBAKC;IA9ID,MAAM,EAAE;KAMP;IAGM,IAAM,YAAY,GAAlB,MAAM,YAAa,SAAQ,aAAK;QAKnC;YACI,KAAK,EAAE,CAAC;YAFZ,SAAI,GAAC,SAAS,CAAC;YAGX,IAAI,KAAK,GAAC,IAAI,CAAC;YACf,IAAI,CAAC,IAAI,GAAC,qBAAS,CAAC,kBAAkB,CAAC,CAAC,IAAI,EAAC,IAAI,EAAC,EAAE;gBAChD,IAAG,IAAI,KAAG,QAAQ,EAAC,CAAC;oBAChB,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBACtB,CAAC;gBACD,IAAG,IAAI,KAAG,WAAW,IAAE,IAAI,KAAG,SAAS,EAAC,CAAC;oBACrC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBACxB,CAAC;YACL,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;YACd,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAMY,AAAb,MAAM,CAAC,KAAK,CAAC,KAAK;QAElB,CAAC;QAOY,AAAb,MAAM,CAAC,KAAK,CAAC,UAAU;YACnB,eAAM,CAAC,QAAQ,CAAC,6BAA6B,CAAC,CAAC;QACnD,CAAC;QACD,MAAM;YACF,IAAI,EAAE,GAAM,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;YAEzB,EAAE,CAAC,MAAM,GAAG,IAAK,uBAAU,EAAE,CAAC,CAAA,cAAc;YAC5C,IAAI,CAAC,KAAK,GAAC,EAAC,QAAQ,EAAE,QAAQ,EAAC,CAAC;YAChC,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,EAAE,CAAC,SAAS,GAAG,IAAI,mBAAQ,EAAE,CAAC;YAC9B,EAAE,CAAC,QAAQ,GAAG,IAAI,eAAM,EAAE,CAAC;YAC3B,EAAE,CAAC,OAAO,GAAG,IAAI,eAAM,EAAE,CAAC;YAC1B,EAAE,CAAC,OAAO,GAAG,IAAI,aAAK,EAAE,CAAC;YACzB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YACvB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;YACrB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;YACpB,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;YAC9B,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;YAC7B,EAAE,CAAC,SAAS,CAAC,UAAU,GAAG,KAAK,CAAC;YAChC,EAAE,CAAC,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC;YAC1B,EAAE,CAAC,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC;YAC5B,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,KAAK;gBAC/B,KAAK,CAAC,MAAM,EAAE,CAAC;YACnB,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,KAAK;gBAC9B,KAAK,CAAC,KAAK,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,MAAM,CAAC,MAAM,GAAC,GAAG,CAAC;YACrB,EAAE,CAAC,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC;YAC5B,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC;YAC1B,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;YAE1B,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE;gBAC5B,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAC,KAAK,EAAC,EAAE,CAAC,IAAI,EAAC,CAAC,CAAC,CAAA,kCAAkC;YAC1E,CAAC,CAAC,CAAC;QAEP,CAAC;QACD,MAAM;YAEF,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,KAAK,IAAI,CAAC,IAAI,OAAO,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;gBACrC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3C,CAAC;YACD,IAAG,CAAC;gBACC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;YAClC,CAAC;YAAA,WAAK,CAAC;gBACH,UAAU,CAAC,GAAE,EAAE,CAAA,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,EAAC,GAAG,CAAC,CAAC;YACrD,CAAC;QACL,CAAC;QACD,KAAK;YACD,OAAO,CAAC,YAAY,CAAC,GAAG,GAAG,EAAE,CAAC;YAC9B,OAAO,CAAC,YAAY,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnC,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAED,KAAK,CAAC,SAAS;YAGP,IAAI,EAAE,GAAG;gBACL,IAAI,EAAE,iBAAO,CAAC,YAAY,CAAC,SAAS,CAAC;gBACrC,EAAE,EAAE,SAAS,CAAC,GAAG;gBACjB,OAAO,EAAE,SAAS,CAAC,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG;gBAC1E,KAAK,EAAE,IAAI,KAAK,EAAE,CAAC,KAAK;aAC3B,CAAA;YACD,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAA;YACpB,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QAEvC,CAAC;QACD,KAAK,CAAC,EAAE;YACJ,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YACxB,IAAI,IAAI,KAAK,SAAS;gBAClB,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC7B,IAAI,IAAI,KAAK,SAAS;gBAClB,OAAO,IAAI,CAAC,KAAK,CAAC;;gBAElB,OAAO,OAAO,CAAC;QACvB,CAAC;QACD,OAAO,CAAC,SAAS;YACb,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACjC,IAAI,EAAE,KAAK,SAAS,EAAE,CAAC;gBACnB,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBACvB,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;YACrC,CAAC;QACL,CAAC;QACD,IAAI;YACA,IAAI,IAAI,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACzB,OAAO,IAAI,CAAC;QAChB,CAAC;QACD,OAAO;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,qBAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzC,IAAI,CAAC,IAAI,GAAC,SAAS,CAAC;QACxB,CAAC;KACJ,CAAA;IA/HY,oCAAY;IAyBR;QAJZ,IAAA,iBAAO,EAAE;YACN,IAAI,EAAE,gBAAgB;YACtB,IAAI,EAAE,6BAA6B;SACtC,CAAC;;;;mCAGD;IAOY;QAJZ,IAAA,iBAAO,EAAE;YACN,IAAI,EAAE,+BAA+B;YACrC,IAAI,EAAE,sBAAsB;SAC/B,CAAC;;;;wCAGD;2BApCQ,YAAY;QAFxB,IAAA,yBAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,gCAAgC,CAAC;;OAC5B,YAAY,CA+HxB;IACD,SAAgB,IAAI;QAChB,IAAI,EAAE,GAAC,IAAI,YAAY,EAAE,CAAC;QAC1B,EAAE,CAAC,MAAM,EAAE,CAAC;QACZ,EAAE,CAAC,MAAM,GAAC,GAAG,CAAC;QACd,OAAO,EAAE,CAAC;IACd,CAAC;IACD,OAAO,CAAC,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;;;;;;IC+F1C,oBAIC;;IApOM,IAAM,gBAAgB,GAAtB,MAAM,gBAAiB,SAAQ,aAAK;QAMvC,YAAY,SAAS,GAAG,IAAI;YACxB,KAAK,EAAE,CAAC;YAHZ,aAAQ,GAAG,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;YAC5B,qBAAgB,GAAG,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;YAGhC,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;QACpC,CAAC;QAKY,AAAb,MAAM,CAAC,KAAK,CAAC,UAAU;YACnB,eAAM,CAAC,QAAQ,CAAC,qCAAqC,CAAC,CAAC;QAC3D,CAAC;QAED,MAAM,CAAC,EAAM,EAAE,SAAS,GAAG,IAAI;YAC3B,EAAE,CAAC,QAAQ,GAAG,IAAI,eAAM,EAAE,CAAC;YAC3B,EAAE,CAAC,SAAS,GAAG,IAAI,mBAAQ,EAAE,CAAC;YAC9B,EAAE,CAAC,IAAI,GAAG,IAAI,eAAM,EAAE,CAAC;YACvB,EAAE,CAAC,SAAS,GAAG,IAAI,mBAAQ,CAAC,EAAC,UAAU,EAAE,KAAK,EAAC,CAAC,CAAC;YACjD,EAAE,CAAC,QAAQ,GAAG,IAAI,eAAM,EAAE,CAAC;YAC3B,EAAE,CAAC,WAAW,GAAG,IAAI,eAAM,EAAE,CAAC;YAC9B,EAAE,CAAC,SAAS,GAAG,IAAI,mBAAQ,EAAE,CAAC;YAC9B,EAAE,CAAC,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC;YAC/B,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,GAAG,GAAG,CAAC,CAAC;YACZ,IAAI,MAAM,GAAG,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE,CAAC;YACxC,EAAE,CAAC,KAAK,GAAG,IAAI,aAAK,CAChB;gBACI,OAAO,EAAE;oBACL,WAAW,EAAE,KAAK;oBAClB,OAAO,EAAE;wBACL,YAAY;wBACZ,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE;wBACjE,YAAY;wBACZ,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,IAAI,CAAC,QAAQ,EAAE;wBAC/E,YAAY;wBACZ,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,WAAW,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;wBAEhG;4BACI,YAAY;4BACZ,KAAK,EAAE,cAAc,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,QAAQ;4BAC9D,YAAY,EAAE,IAAI,CAAC,gBAAgB;4BACnC,WAAW,EAAE,UAAU,IAAI;gCACvB,KAAK,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;4BACxC,CAAC;yBACJ;qBACJ;iBACJ;aACJ,CAAC,CAAC;YACP,EAAE,CAAC,MAAM,GAAG,IAAI,eAAM,EAAE,CAAC;YACzB,EAAE,CAAC,UAAU,GAAG,IAAI,UAAU,EAAE,CAAC;YACjC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;YACxB,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC;YACrB,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;YACxB,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,KAAyB,EAAE,IAAU,CAAA,0BAA0B;YAC3F,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC;YAC3B,EAAE,CAAC,MAAM,CAAC,eAAe,GAAG,EAAE,CAAC,UAAU,CAAC;YAC1C,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK;gBAC9B,KAAK,CAAC,MAAM,EAAE,CAAC;YACnB,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC;YACtB,IAAI,SAAS,EAAE,CAAC;gBACZ,IAAI,CAAC,UAAU,EAAE,CAAC;YACtB,CAAC;YACD,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACjB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;YAClB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YACvB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YACvB,EAAE,CAAC,QAAQ,CAAC,IAAI,GAAG,gBAAgB,CAAC;YACpC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,KAAK;gBAC/B,KAAK,CAAC,QAAQ,EAAE,CAAC;YACrB,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,QAAQ,CAAC,IAAI,GAAG,2BAA2B,CAAC;YAC/C,EAAE,CAAC,QAAQ,CAAC,OAAO,GAAG,aAAa,CAAC;YACpC,EAAE,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;YAC1B,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;YAC5B,EAAE,CAAC,SAAS,CAAC,KAAK,GAAG,GAAG,CAAC;YACzB,EAAE,CAAC,SAAS,CAAC,MAAM,GAAG,EAAE,CAAC;YACzB,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;YAC9B,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;YAC1B,EAAE,CAAC,IAAI,CAAC,IAAI,GAAG,kBAAkB,CAAC;YAClC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,KAAK;gBAC3B,KAAK,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE;oBACvB,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC;wBACX,KAAK,CAAC,CAAC,CAAC,CAAC;oBACb,CAAC;gBACL,CAAC,CAAC,CAAA;YACN,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACpB,EAAE,CAAC,IAAI,CAAC,IAAI,GAAG,sBAAsB,CAAC;YACtC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACpB,EAAE,CAAC,SAAS,CAAC,MAAM,GAAG,GAAG,CAAC;YAC1B,EAAE,CAAC,SAAS,CAAC,UAAU,GAAG,IAAI,CAAC;YAC/B,EAAE,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;YACxB,EAAE,CAAC,QAAQ,CAAC,IAAI,GAAG,cAAc,CAAC;YAClC,EAAE,CAAC,QAAQ,CAAC,IAAI,GAAG,uBAAuB,CAAC;YAC3C,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,KAAK;gBAC/B,KAAK,CAAC,QAAQ,EAAE,CAAC;YACrB,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;YAC1B,EAAE,CAAC,QAAQ,CAAC,MAAM,GAAG,EAAE,CAAC;YACxB,EAAE,CAAC,QAAQ,CAAC,KAAK,GAAG;gBAChB,SAAS,EAAE,MAAM;aACpB,CAAC;YACF,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;YAC3B,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YAC/B,EAAE,CAAC,WAAW,CAAC,IAAI,GAAG,cAAc,CAAC;YACrC,EAAE,CAAC,WAAW,CAAC,IAAI,GAAG,wBAAwB,CAAC;YAC/C,EAAE,CAAC,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;YAC7B,EAAE,CAAC,WAAW,CAAC,KAAK,GAAG;gBACnB,SAAS,EAAE,MAAM;aACpB,CAAC;YACF,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,KAAK;gBAClC,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;gBAC3B,IAAI,KAAK,EAAE,CAAC;oBACR,IAAI,GAAG,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBACnD,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;oBACzC,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC;oBAC3C,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC;gBAC/B,CAAC;YACL,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;YAC9B,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;QACrC,CAAC;QAED,KAAK,CAAC,OAAO,CAAC,WAAW,GAAG,SAAS;;YACjC,IAAI,CAAC;gBACD,IAAI,IAAI,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;gBACvD,IAAI,IAAI,KAAK,EAAE,EAAE,CAAC;oBACd,IAAI,WAAW,KAAK,KAAK,IAAI,CAAC,MAAM,2BAAY,CAAC,IAAI,CAAC,iCAAiC,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,KAAK,EAAE,CAAC;wBAC7J,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;wBAC7C,YAAY;wBACZ,MAAA,iBAAO,CAAC,aAAa,CAAC,OAAO,CAAC,0CAAE,OAAO,EAAE,CAAC;oBAC9C,CAAC;gBACL,CAAC;qBACI,CAAC;oBACF,OAAO,qBAAqB,CAAC;gBACjC,CAAC;YACL,CAAC;YACD,OAAO,GAAG,EAAE,CAAC;gBAET,OAAO,GAAG,CAAC,OAAO,GAAG,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC;YAC5C,CAAC;YACD,OAAO,EAAE,CAAC;QACd,CAAC;QAED,QAAQ,CAAC,WAAmB,SAAS,EAAE,OAAe,SAAS,EAAE,WAAoB,SAAS,EAAE,WAAmB,SAAS;YACxH,IAAI,KAAK,GAAG,IAAI,8BAAa,EAAE,CAAC;YAChC,YAAY;YACZ,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;YACjC,IAAI,IAAI;gBACJ,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;YACtB,IAAI,QAAQ;gBACR,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC9B,IAAI,QAAQ;gBACR,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC;YAC1B,IAAI,QAAQ;gBACR,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC9B,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACrC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;QACnD,CAAC;QAED,KAAK,CAAC,QAAQ,CAAC,YAAoB,SAAS;YACxC,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;YACvF,IAAI,GAAG,CAAC;YACR,IAAI,SAAS,EAAE,CAAC;gBACZ,GAAG,GAAG;oBACF,MAAM,EAAE,IAAI;oBACZ,IAAI,EAAE,SAAS;iBAClB,CAAA;YACL,CAAC;;gBACG,GAAG,GAAG,MAAM,2BAAY,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,GAAG,OAAO,CAAC,CAAC;YACvG,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,EAAE,CAAC;gBACtB,IAAI,CAAC,YAAY,GAAG,IAAI,8BAAa,EAAE,CAAC;gBACxC,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;gBAClC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;gBAC9C,IAAI,CAAC,GAAG,IAAI,8BAAa,EAAE,CAAC;gBAC5B,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;gBACd,CAAC,CAAC,IAAI,GAAG,KAAK,CAAC;gBACf,CAAC,CAAC,QAAQ,GAAG,eAAe,CAAC;gBAC7B,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC3D,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC;gBAC1D,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;gBACzC,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC;QACL,CAAC;QAED,uBAAuB,CAAC,IAAS,CAAC,2BAA2B;YACzD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,EAAE,GAAiC,IAAI,CAAC,OAAO,EAAE,CAAC;YACtD,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,EAAE,CAAC,oBAAoB,EAAE,CAAC;QAC7D,CAAC;QACD,WAAW;YACP,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,EAAE,CAAC;YAC1B,+BAAc,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;gBACxC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE;gBAC9C,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;gBACpC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;YAC/C,CAAC,CAAC,CAAC;QACP,CAAC;QACD,MAAM;YACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;YACzC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;YAC/C,IAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC;QACD,KAAK,CAAC,UAAU;YACZ,IAAI,CAAC,aAAa,GAAG,IAAI,+BAAc,EAAE,CAAC;YAC1C,MAAM,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE,CAAC;YAC9C,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC;YAC1D,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YAC7D,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;KACJ,CAAA;IA9NY,4CAAgB;IAeZ;QAJZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,kCAAkC;YACxC,IAAI,EAAE,uBAAuB;SAChC,CAAC;;;;4CAGD;+BAjBQ,gBAAgB;QAF5B,IAAA,yBAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,iCAAiC,CAAC;;OAC7B,gBAAgB,CA8N5B;IAEM,KAAK,UAAU,IAAI;QACtB,IAAI,GAAG,GAAG,IAAI,gBAAgB,EAAE,CAAC;QAEjC,OAAO,GAAG,CAAC;IACf,CAAC;;;;;;IC9PD,mDAAmD;IAE5C,IAAM,QAAQ,GAAd,MAAM,QAAQ;QAIb;;;WAGG;QACT;QAEA,CAAC;QACD;;;;;YAKI;QACJ,KAAK,CAAC,SAAS,CAAC,IAAI,EAAC,IAAI,EAAC,UAAU,EAAC,oBAAoB,EAAC,oBAAoB;QACxE,CAAC;QACD;;;WAGG;QACH,KAAK,CAAC,wBAAwB,CAAC,IAAW;QAC1C,CAAC;QACN;;;UAGQ;QACH,iBAAiB,CAAC,IAAI;YAClB,IAAI,GAAG,GAAC,CAAC,CAAC;YACV,IAAI,GAAG,GAAC,EAAE,CAAC;YACX,OAAM,GAAG,KAAG,CAAC,CAAC,EAAC,CAAC;gBACZ,GAAG,GAAC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAC,GAAG,EAAC,GAAG,CAAC,CAAC;gBAChC,IAAG,GAAG,KAAG,CAAC,CAAC,EAAC,CAAC;oBACT,IAAI,EAAE,GAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAC,GAAG,GAAC,CAAC,CAAC,CAAC;oBAC/B,IAAI,EAAE,GAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAC,GAAG,GAAC,CAAC,CAAC,CAAC;oBAC/B,IAAI,EAAE,GAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAC,GAAG,GAAC,CAAC,CAAC,CAAC;oBAC/B,IAAI,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,EAAE,KAAG,CAAC,CAAC,CAAA,CAAC,CAAA,SAAS,CAAA,CAAC,CAAA,EAAE,EAAC,EAAE,KAAG,CAAC,CAAC,CAAA,CAAC,CAAA,SAAS,CAAA,CAAC,CAAA,EAAE,EAAC,EAAE,KAAG,CAAC,CAAC,CAAA,CAAC,CAAA,SAAS,CAAA,CAAC,CAAA,EAAE,CAAC,CAAC;oBAC/E,IAAI,QAAQ,GAAC,IAAI,CAAC,SAAS,CAAC,GAAG,GAAC,CAAC,EAAC,CAAC,CAAC,CAAC;oBACrC,IAAI,IAAI,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;oBAC7B,IAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;wBACnB,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACtB,GAAG,GAAC,GAAG,GAAC,CAAC,CAAC;gBACf,CAAC;YAEL,CAAC;YACD,OAAO,GAAG,CAAC;QACf,CAAC;QACD;;;;;;YAMI;QACJ,iBAAiB,CAAC,IAAI,EAAC,IAAI,EAAC,MAAM,EAAC,MAAM,EAAC,IAAI;YAC1C,IAAG,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC;gBACzC,iDAAQ,+BAA+B,+CAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAC,EAAE;oBAClD,GAAG,CAAC,cAAc,CAAC,6BAA6B,EAAE,CAAC;gBAEvD,CAAC,CAAC,CAAC;YACP,CAAC;YACL,gCAAgC;QAChC,CAAC;QACD;;;;WAIG;QACN,eAAe,CAAC,EAAE,EAAC,SAAS;YAC3B,IAAI,MAAM,GAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;YAC7C,KAAK,CAAC,MAAM,CAAC,CAAC;YAGd,MAAM,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;QACA;;;;;UAKK;QACH,cAAc,CAAC,KAAK,EAAC,WAAW,EAAC,UAAU;YAC1C,OAAO,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,GAAC,SAAS,CAAC;YAC7C,iEAAiE;YACxD,IAAI,OAAO,GAAC,SAAS,CAAC;YACtB,IAAI,CAAC,WAAW,GAAC,WAAW,CAAC;YAC7B,KAAI,IAAI,KAAK,IAAI,WAAW,EAAC,CAAC;gBAC7B,IAAG,WAAW,CAAC,KAAK,CAAC,KAAG,IAAI,EAAC,CAAC;oBAC7B,+JAA+J;oBAC/J,KAAK,CAAC,KAAK,CAAC,GAAC,eAAe,GAAC,UAAU,CAAC,GAAG,GAAC,cAAc,GAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAEzE,CAAC;YACF,CAAC;QACF,CAAC;QACP;;;;;WAKS;QACH,oBAAoB,CAAC,IAAI,EAAC,UAAU;YACpC;;;8BAGe;YAEX,IAAI,IAAI,GAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACtC,IAAI,GAAG,GAAC,qDAAqD,CAAC;YAC9D,IAAI,IAAI,GAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACxB,OAAM,IAAI,EAAC,CAAC;gBAGR,IAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,IAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC,CAAC;oBACxD,IAAI,MAAM,GAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAC,CAAC,EAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC1E,IAAG,MAAM,CAAC,MAAM,GAAC,CAAC,EAAC,CAAC;wBAChB,IAAI,EAAE,GAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBACzB,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,EAAE,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC,CAAC;4BACzB,IAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAG,CAAC,CAAC;gCACvB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;wBACzB,CAAC;oBACL,CAAC;gBACL,CAAC;gBACD,IAAI,GAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACxB,CAAC;YACD,IAAI,KAAK,GAAC,4CAA4C,GAAC,UAAU,CAAC,GAAG,GAAC,wFAAwF,CAAC;YAC/J,uEAAuE;YACvE,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC,CAAC;gBACnC,yBAAyB;gBACjB,KAAK,GAAC,KAAK,GAAC,mBAAmB,GAAC,IAAI,CAAC,CAAC,CAAC,GAAC,KAAK,GAAC,IAAI,CAAC,CAAC,CAAC,GAAC,gBAAgB,CAAC;YAC3E,CAAC;YACD,KAAK,GAAC,KAAK,GAAC,0CAA0C,CAAC;YACvD,OAAO,KAAK,CAAC;QACjB,CAAC;QACA,OAAO;YACb,IAAI,CAAC,SAAS,GAAC,IAAI,CAAC;QACf,CAAC;KACR,CAAA;IA1IY,4BAAQ;uBAAR,QAAQ;QADpB,IAAA,kBAAM,EAAC,yBAAyB,CAAC;;OACrB,QAAQ,CA0IpB;IAEG,IAAG,OAAO,CAAC,QAAQ,KAAG,SAAS;QACxB,OAAO,CAAC,QAAQ,GAAC,IAAI,QAAQ,EAAE,CAAC;IAChC,YAAY;IACf,OAAO,CAAC,CAAC,+BAA+B,CAAC,CAAC,CAAC;;;;;;ICiGnD,sBAGC;IAzOM,IAAM,UAAU,GAAhB,MAAM,UAAW,SAAQ,aAAK;QAQjC;;;OAGD;QACC,YAAY,YAAY,GAAG,IAAI,EAAE,cAAc,GAAG,IAAI,EAAE,aAAa,GAAG,IAAI;YACxE,KAAK,EAAE,CAAC;YACR,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;YACrC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;YACnC,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAKY,AAAb,MAAM,CAAC,KAAK,CAAC,UAAU;YACnB,eAAM,CAAC,QAAQ,CAAC,2BAA2B,CAAC,CAAC;QACjD,CAAC;QACD,MAAM;YACF,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,IAAI,CAAC,OAAO,GAAG,IAAI,eAAM,EAAE,CAAC;gBAC5B,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,WAAW,CAAC;gBACnC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,gBAAgB,CAAC;gBACrC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;oBACjB,KAAK,CAAC,KAAK,EAAE,CAAC;oBACd,eAAM,CAAC,KAAK,GAAG,EAAE,CAAC;gBACtB,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;gBACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,eAAM,EAAE,CAAC;gBAC7B,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,eAAe,CAAC;gBACxC,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,6BAA6B,CAAC;gBACnD,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;oBAClB,KAAK,CAAC,MAAM,EAAE,CAAC;gBAEnB,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,SAAS,GAAG,IAAI,aAAK,EAAE,CAAC;gBAC7B,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;gBAE7B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACjC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAClC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,EAAE,CAAC;gBAC3B,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC9B,CAAC;YACD,IAAI,KAAK,GAAG,qBAAS,CAAC,iBAAiB,CAAC,kEAAkE,CAAC,CAAC;YAC5G,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;YACxD,IAAI,IAAI,CAAC,aAAa;gBAClB,IAAI,CAAC,aAAa,EAAE,CAAC;YACzB,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,YAAY;gBACZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,eAAM,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3C,IAAI,CAAC,QAAQ,CAAC,eAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnC,CAAC;YACL,CAAC;YACD,IAAI,MAAM,CAAC,eAAe,CAAC,KAAK,SAAS;gBACrC,MAAM,CAAC,eAAe,CAAC,GAAG,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC;QAEpD,CAAC;QACD;;YAEI;QACJ,KAAK,CAAC,MAAM;YACR,IAAI,UAAU,GAAG,CAAC,sDAAa,gCAAgC,8CAAC,CAAC,CAAC,YAAY,CAAC;YAC/E,MAAM,UAAU,CAAC,WAAW,EAAE,CAAC;YAE/B,IAAI,GAAG,GAAG,MAAM,UAAU,CAAC,oBAAoB,EAAE,CAAC;YAElD,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC;gBAChB,IAAA,eAAM,EAAC,iBAAiB,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,CAAC;YAC7D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClC,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAC3B,IAAI,GAAG,GAAG,UAAU,CAAC,6BAA6B,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;gBACnF,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAClC,IAAI,GAAG,GAAG;oBACN,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ;oBAC5B,MAAM,EAAE,GAAG,CAAC,IAAI;oBAChB,KAAK,EAAE,GAAG,CAAC,SAAS;oBACpB,KAAK,EAAE;wBAEH,OAAO,EAAE,IAAI,CAAC,WAAW;wBACzB,KAAK,EAAE,EAAE,CAAA,wEAAwE;qBAEpF;iBAGJ,CAAA;gBACD,eAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAChC,CAAC;QAEL,CAAC;QACD;;;WAGG;QACH,KAAK,CAAC,QAAQ,CAAC,KAAK;;YAChB,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,KAAK,CAAC,OAAO,KAAK,SAAS,EAAE,CAAC;gBAC9B,GAAG,GAAG,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YACjC,CAAC;iBAAM,CAAC;gBACJ,IAAI,MAAM,GAAG,EAAE,CAAC;gBAChB,IAAI,CAAC,GAAG,MAAA,KAAK,CAAC,KAAK,0CAAE,OAAO,CAAC;gBAC7B,IAAI,CAAC,CAAC;oBACF,CAAC,GAAG,EAAE,CAAC;gBACX,IAAI,CAAC,CAAC,WAAW;oBACb,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC;gBACtB,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC;oBACd,MAAM,GAAG,CAAC,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,QAAQ,GAAG,GAAG,GAAG,KAAK,CAAC,MAAM,GAAG,GAAG,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;oBACvG,IAAI,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,SAAS;wBAC/B,MAAM,GAAG,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC;gBAC5C,CAAC;gBACD,IAAI,KAAK,CAAC,MAAM,KAAK,SAAS,EAAE,CAAC;oBAC7B,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC;oBACxC,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,KAAK,SAAS;wBAChC,MAAM,GAAG,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;gBAC7C,CAAC;gBACD,IAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC/B,GAAG,GAAG,EAAE,CAAC;gBACT,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACpC,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;oBACpB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC;wBAC3B,GAAG,GAAG,GAAG,GAAG,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;4BAC1D,sEAAsE;4BACtE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,OAAO,GAAG,EAAE,GAAG,QAAQ,CAAC;oBAE1F,CAAC;yBAAM,CAAC;wBACJ,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC;4BAC1B,SAAS,CAAA,iDAAiD;wBAC9D,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;wBACnC,IAAI,GAAG,GAAW,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC/E,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;wBAC9B,IAAI,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;wBACnC,GAAG,GAAG,GAAG,GAAG,0BAA0B,GAAG,KAAK,GAAG,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC;4BACjF,sEAAsE;4BACtE,GAAG,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC;oBAElE,CAAC;gBACL,CAAC;YAEL,CAAC;YACD,IAAI,KAAK,GAAG,qBAAS,CAAC,iBAAiB,CAAC,QAAQ,GAAG,GAAG,GAAG,SAAS,CAAC,CAAC;YACpE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAC/B,gCAAgC;QACpC,CAAC;QACD,KAAK,CAAC,WAAW,CAAC,GAAW;YACzB,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC;gBACjB,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC3C,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;YAG9C,IAAI,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC1B,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;gBACnB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBACjC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;gBACpE,IAAI,IAAI,KAAK,EAAE,IAAI,GAAG,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE;oBACrC,OAAO,GAAG,CAAC;gBACf,IAAI,OAAO,GAAG,KAAK,CAAC;gBACpB,KAAK,IAAI,GAAG,IAAI,eAAM,CAAC,OAAO,EAAE,CAAC;oBAC7B,IAAI,eAAM,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;wBACzB,OAAO,GAAG,IAAI,CAAC;gBACvB,CAAC;gBACD,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,OAAO,EAAE,CAAC;oBACpC,IAAI,CAAC;wBACD,YAAY;wBACZ,IAAI,WAAW,GAAG,CAAC,sDAAa,iCAAiC,8CAAC,CAAC,CAAC,WAAW,CAAC;wBACpF,IAAI,GAAG,GAAC,IAAI,WAAW,EAAE,CAAC;wBACtB,IAAI,GAAG,GAAG,MAAM,GAAG,CAAC,aAAa,CAAC,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;wBAChE,IAAI,GAAG,EAAE,CAAC;4BACN,OAAO,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;gCAClF,GAAG,GAAG,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC;wBAC1C,CAAC;oBACL,CAAC;oBAAC,OAAO,GAAG,EAAE,CAAC;wBACX,OAAO,GAAG,CAAC;oBACf,CAAC;gBACL,CAAC;YAEL,CAAC;YACD;;;;;;;;gBAQI;YACJ,OAAO,GAAG,CAAC;QACf,CAAC;QACD;;WAEG;QACH,KAAK;YACD,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;gBAChC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;YAC5D,CAAC;QACL,CAAC;QACD,aAAa;YACT,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,eAAM,CAAC,OAAO,CAAC,UAAU,GAAG;gBACxB,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAExB,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;QACjB,CAAC;QACD,eAAe;YACX,eAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC9B,CAAC;QACD,OAAO;YACH,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,iBAAiB;QACrB,CAAC;KAQJ,CAAA;IArOY,gCAAU;IAuBN;QAJZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,uBAAuB;YAC7B,IAAI,EAAE,mCAAmC;SAC5C,CAAC;;;;sCAGD;yBAzBQ,UAAU;QAFtB,IAAA,yBAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,8BAA8B,CAAC;;OAC1B,UAAU,CAqOtB;IACD,SAAgB,KAAK;QACjB,IAAI,GAAG,GAAG,IAAI,UAAU,EAAE,CAAC;QAC3B,OAAO,GAAG,CAAC;IACf,CAAC;IAAA,CAAC;IAIF,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,UAAU,KAAK;QAC/C,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,EAAE;YACd,OAAO;QACX,eAAM,CAAC,QAAQ,CAAC,qCAAqC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACtF,8CAA8C;IAClD,CAAC,CAAA;IACD,OAAO,CAAC,UAAU,GAAG,UAAU,CAAC;;AClQhC,iEAAiE;;;;;;;;;ICEjE,gEAAgE;IAChE,yEAAyE;IACzE,IAAI,UAAU,GAAG,eAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IAE3D,MAAM,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;IAGrC,KAAK,UAAU,YAAY,CAAC,IAAY;QACpC,OAAO,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACzC,IAAI,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;YACnC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;YAExD,OAAO,CAAC,kBAAkB,GAAG;gBACzB,IAAI,OAAO,CAAC,UAAU,IAAI,CAAC,EAAE,CAAC;oBAC1B,IAAI,OAAO,CAAC,MAAM,KAAK,GAAG;wBACtB,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;;wBAE9B,OAAO,CAAC,SAAS,CAAC,CAAC;gBAC3B,CAAC;gBAAA,CAAC;YACN,CAAC,CAAC;YACF,OAAO,CAAC,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE;gBACtB,OAAO,CAAC,SAAS,CAAC,CAAC;YACvB,CAAC,CAAA;YACD,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEvB,CAAC,CAAC,CAAA;IACN,CAAC;IAAA,CAAC;IAEF,KAAK,UAAU,IAAI;QAEf,IAAI,CAAC,GAAS,MAAM,YAAY,CAAC,UAAU,GAAC,uCAAuC,CAAC,CAAC;QACrF;;;;;aAKK;QACL,CAAC,GAAC,CAAC,CAAC,OAAO,CAAC,oDAAoD,EAAC,6DAA6D,CAAC,CAAC;QAChI,CAAC,GAAC,CAAC,CAAC,OAAO,CAAC,6EAA6E,EAAC,+EAA+E,CAAC,CAAC;QAC3K,CAAC,GAAC,CAAC,CAAC,OAAO,CAAC,gBAAgB,EAAC,uCAAuC,CAAC,CAAA;QACrE,SAAS,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC;YAC3C,IAAI,EAAE,WAAW;YACjB,QAAQ,EAAC,CAAC,UAAU,GAAC,qCAAqC,CAAC;YAC3D,IAAI,EAAE,CAAC;SACV,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;IACvB,CAAC;IACF,IAAI,EAAE,CAAC;;;;;IC9CP,4EAA4E;IAC5E,+DAA+D;IAC/D,IAAI,EAAE,GAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACpB,kBAAe,EAAE,CAAC;;;;;;;ICsWlB,oBAKC;;IA9VD,0EAA0E;IAGnE,IAAM,WAAW,mBAAjB,MAAM,WAAW;QASP,AAAb,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAe,EAAE,WAAmB,SAAS,EAAE,OAAe,EAAE,EAAE,OAAgB,KAAK;;YACxG,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE;gBACzC,OAAO;YACX,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;YAC3B,IAAI,QAAQ,KAAK,SAAS,EAAE,CAAC;gBACzB,IAAI,GAAG,GAAG,MAAM,2BAAY,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;gBAChG,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;oBAClD,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC;gBACxB,CAAC;;oBACG,OAAO;YACf,CAAC;YACD,oCAAoC;YACpC,IAAI,GAAG,GAAG,MAAA,MAAA,YAAY,CAAC,QAAQ,0CAAE,IAAI,0CAAE,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9D,IAAI,OAAO,GAAG,IAAI,GAAG,CAAC,IAAI,KAAG,EAAE,CAAA,CAAC,CAAA,EAAE,CAAA,CAAC,CAAA,GAAG,CAAC,GAAG,QAAQ,CAAC;YAEnD,IAAI,GAAG,GAAG,MAAM,IAAI,eAAM,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YACvD,IAAI,MAAM,GAAG,IAAI,GAAG,CAAC,IAAI,KAAG,EAAE,CAAA,CAAC,CAAA,EAAE,CAAA,CAAC,CAAA,GAAG,CAAC,GAAE,QAAQ,CAAC;YACjD,IAAI,GAAG,KAAK,EAAE,EAAE,CAAC;gBACb,KAAK,CAAC,GAAG,CAAC,CAAC;gBACX,OAAO;YACX,CAAC;YACD,IAAI,CAAC;gBACD,MAAM,CAAA,MAAA,YAAY,CAAC,QAAQ,0CAAE,OAAO,EAAE,CAAA,CAAC;gBACvC,MAAM,CAAA,MAAA,YAAY,CAAC,QAAQ,0CAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAA,CAAC;gBACtD,IAAI,IAAI;oBACJ,eAAM,CAAC,QAAQ,CAAC,qCAAqC,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YAC7F,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACX,QAAQ,CAAC;YACb,CAAC;QACL,CAAC;QAOY,AAAb,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAe;YAEjC,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;YAC3B,IAAI,cAAc,GAAG,IAAI,CAAS,MAAM,IAAI,eAAM,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YAChE,MAAM,WAAW,GAAG,IAAI,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YACrD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC7C,WAAW,CAAC,CAAC,CAAC,GAAG,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAClD,CAAC;YACD,MAAM,SAAS,GAAG,IAAI,UAAU,CAAC,WAAW,CAAC,CAAC;YAC9C,4CAA4C;YAC5C,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,SAAS,CAAC,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC,CAAC;YAC9D,IAAI,GAAG,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACvC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;YAChB,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAQY,AAAb,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,GAAe,EAAE,WAAmB,SAAS;;YAChE,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE;gBACzC,OAAO;YACX,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;YAE3B,IAAI,GAAG,CAAC;YACR,IAAI,QAAQ,EAAE,CAAC;gBACX,GAAG,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;YAC3C,CAAC;;gBACG,GAAG,GAAG,MAAM,2BAAY,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;YAC7F,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;gBACnD,2CAA2C;gBAC1C,IAAI,GAAG,GAAG,MAAA,YAAY,CAAC,QAAQ,0CAAE,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7D,IAAI,OAAO,GAAG,IAAI,GAAG,CAAC,IAAI,KAAG,EAAE,CAAA,CAAC,CAAA,EAAE,CAAA,CAAC,CAAA,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;gBACnD,IAAI,GAAG,GAAG,MAAM,IAAI,eAAM,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;gBACnD,IAAI,MAAM,GAAG,IAAI,GAAG,CAAC,IAAI,KAAG,EAAE,CAAA,CAAC,CAAA,EAAE,CAAA,CAAC,CAAA,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;gBAClD,IAAI,GAAG,KAAK,EAAE,EAAE,CAAC;oBACb,KAAK,CAAC,GAAG,CAAC,CAAC;oBACX,OAAO;gBACX,CAAC;gBACD,MAAM,CAAA,MAAA,YAAY,CAAC,QAAQ,0CAAE,OAAO,EAAE,CAAA,CAAC;gBACvC,MAAA,YAAY,CAAC,QAAQ,0CAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACpD,CAAC;QAEL,CAAC;QAOY,AAAb,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,GAAe;YAClC,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE;gBACzC,OAAO;YACX,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;YAE3B,IAAI,GAAG,GAAG,MAAM,2BAAY,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;YAC7F,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;gBAClD,IAAI,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC3C,IAAI,eAAM,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC;oBAC1B,KAAK,CAAC,uBAAuB,CAAC,CAAC;oBAC/B,OAAO;gBACX,CAAC;gBACD,IAAI,GAAG,GAAG,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE5D,IAAI,GAAG,GAAG,MAAM,IAAI,eAAM,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;gBACnD,IAAI,MAAM,GAAG,IAAI,GAAG,CAAC,IAAI,KAAG,EAAE,CAAA,CAAC,CAAA,EAAE,CAAA,CAAC,CAAA,GAAG,CAAC,GAAG,OAAO,CAAC;gBACjD,IAAI,GAAG,KAAK,EAAE,EAAE,CAAC;oBACb,KAAK,CAAC,GAAG,CAAC,CAAC;oBACX,OAAO;gBACX,CAAC;qBAAM,CAAC;oBACJ,eAAM,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;gBACtC,CAAC;gBACD,MAAM,YAAY,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACtC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACnD,CAAC;QAEL,CAAC;QAEY,AAAb,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAe,EAAE,WAAW,GAAG,IAAI;;YACrD,IAAI,CAAC,GAAG,EAAE,CAAC;YACX,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBACjB,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACzC,CAAC,CAAC,CAAA;YACF,IAAI,GAAG,CAAC;YACR,IAAI,WAAW,EAAE,CAAC;gBACd,GAAG,GAAG,MAAM,2BAAY,CAAC,IAAI,CAAC,mBAAmB,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;YAC9F,CAAC;YACD,IAAI,CAAC,WAAW,IAAI,CAAC,GAAG,CAAC,MAAM,KAAK,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;gBACpE,IAAI,GAAG,GAAG,MAAM,IAAI,eAAM,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBACrD,IAAI,GAAG,KAAK,EAAE,EAAE,CAAC;oBACb,KAAK,CAAC,GAAG,CAAC,CAAC;oBACX,OAAO;gBACX,CAAC;gBACD,IAAI,GAAG,GAAG,MAAA,YAAY,CAAC,QAAQ,0CAAE,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;gBACpE,MAAM,CAAA,MAAA,YAAY,CAAC,QAAQ,0CAAE,OAAO,EAAE,CAAA,CAAC;gBACvC,MAAA,YAAY,CAAC,QAAQ,0CAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YACjD,CAAC;QACL,CAAC;QACO,MAAM,CAAC,KAAK,CAAE,gBAAgB,CAAC,aAAa;YAChD,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAC,EAAE;gBACzB,eAAM,CAAC,aAAa,CAAC,CAAC,8BAA8B,EAAC,wBAAwB,EAAC,mBAAmB,CAAC,EAAC,CAAC,MAAM,EAAC,OAAO,EAAC,EAAE,EAAC,EAAE;oBACpH,IAAG,aAAa,EAAC,CAAC;wBAClB,MAAM,CAAC,IAAI,GAAC,IAAI,OAAO,CAAC,OAAO,EAAE,CAAC;wBAClC,MAAM,CAAC,MAAM,GAAC,OAAO,CAAC,MAAM,CAAC;oBAC7B,CAAC;yBAAI,CAAC;wBACF,MAAM,CAAC,IAAI,GAAC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC;wBACxB,MAAM,CAAC,MAAM,GAAC,EAAE,CAAC,MAAM,CAAC;oBAE5B,CAAC;oBACG,OAAO,CAAC,SAAS,CAAC,CAAC;gBAE3B,CAAC,CAAC,CAAA;YAEN,CAAC,CAAC,CAAC;QACP,CAAC;QAEY,AAAb,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,GAAe,EAAE,UAAU,GAAG,SAAS;YAC/D,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAC,EAAE;gBACzB,eAAM,CAAC,aAAa,CAAC,CAAC,wBAAwB,CAAC,EAAC,CAAC,OAAO,EAAC,EAAE;oBACvD,OAAO,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAC,EAAE;wBAC/B,OAAO,CAAC,SAAS,CAAC,CAAC;oBACvB,CAAC,CAAC,CAAA;gBACN,CAAC,CAAC,CAAA;YAEN,CAAC,CAAC,CAAC;YACH,eAAM,CAAC,mBAAmB,GAAC,IAAI,CAAC;YAChC,MAAM,aAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YACzC,MAAM,aAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC;QAEY,AAAb,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,GAAe,EAAE,UAAU,GAAG,SAAS;YACjE,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAC,EAAE;gBACzB,eAAM,CAAC,aAAa,CAAC,CAAC,wBAAwB,CAAC,EAAC,CAAC,OAAO,EAAC,EAAE;oBACvD,OAAO,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAC,EAAE;wBAC/B,OAAO,CAAC,SAAS,CAAC,CAAC;oBACvB,CAAC,CAAC,CAAA;gBACN,CAAC,CAAC,CAAA;YAEN,CAAC,CAAC,CAAC;YACH,eAAM,CAAC,mBAAmB,GAAC,IAAI,CAAC;YAChC,MAAM,aAAW,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAC1C,MAAM,aAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC;QAEY,AAAb,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,GAAe,EAAE,UAAU,GAAG,SAAS;;YACvD,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC;gBAChB,KAAK,CAAC,gCAAgC,CAAC,CAAC;iBACvC,CAAC;gBACF,IAAI,GAAG,CAAC;gBACR,IAAI,UAAU,EAAE,CAAC;oBACb,GAAG,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC;gBAC7C,CAAC;;oBACG,GAAG,GAAG,MAAM,2BAAY,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBACrG,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;oBAClD,2DAA2D;oBAC3D,IAAI,GAAG,GAAG,MAAA,YAAY,CAAC,QAAQ,0CAAE,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC7D,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;oBACrE,IAAI,OAAO,GAAG,IAAI,GAAG,CAAC,IAAI,KAAG,EAAE,CAAA,CAAC,CAAA,EAAE,CAAA,CAAC,CAAA,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;oBACnD,IAAI,GAAG,GAAG,MAAM,IAAI,eAAM,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;oBAC9D,IAAI,MAAM,GAAG,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;oBACjD,IAAI,GAAG,KAAK,EAAE,EAAE,CAAC;wBACb,KAAK,CAAC,GAAG,CAAC,CAAC;wBACX,OAAO;oBACX,CAAC;oBACD,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,EAAC,CAAC;wBAEvB,IAAI,GAAG,GAAG,CAAC,sDAAa,sBAAsB,GAAC,YAAY,8CAAC,CAAC,CAAC,OAAO,CAAC,CAAA,8BAA8B;wBACpG,MAAM,CAAA,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAA,CAAC;oBACpD,CAAC;oBACD,MAAM,CAAA,MAAA,YAAY,CAAC,QAAQ,0CAAE,OAAO,EAAE,CAAA,CAAC;oBACvC,MAAA,YAAY,CAAC,QAAQ,0CAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;gBACpD,CAAC;YACL,CAAC;QACL,CAAC;QAEY,AAAb,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAe;YAChC,IAAI,GAAG,GAAG,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5D,MAAM,YAAY,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YACtC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QAChD,CAAC;QAMY,AAAb,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAe;YAC7B,IAAI,IAAI,GAAa,GAAG,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,OAAO;YACX,eAAM,CAAC,QAAQ,CAAC,qCAAqC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3E,CAAC;KAEJ,CAAA;IAnPY,kCAAW;IASP;QAPZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,UAAU;YAChB,IAAI,EAAE,cAAc;YACpB,SAAS,EAAE,UAAU,GAAe;gBAChC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YAChC,CAAC;SACJ,CAAC;;;;oCA8BD;IAOY;QANZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,UAAU;YAChB,SAAS,EAAE,UAAU,GAAe;gBAChC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YAChC,CAAC;SACJ,CAAC;;;;qCAkBD;IAQY;QANZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,YAAY;YAClB,SAAS,EAAE,UAAU,GAAe;gBAChC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YAChC,CAAC;SACJ,CAAC;;;;sCAyBD;IAOY;QANZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,YAAY;YAClB,SAAS,EAAE,UAAU,GAAe;gBAChC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,QAAQ,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,EAAE,CAAC;YAC9D,CAAC;SACJ,CAAC;;;;sCA2BD;IAEY;QADZ,IAAA,iBAAO,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;;;;qCAoB3B;IAmBY;QADZ,IAAA,iBAAO,EAAC,EAAE,IAAI,EAAE,kBAAkB,EAAC,SAAS,EAAC,CAAC,IAAI,EAAC,EAAE,CAAA,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,KAAG,QAAQ,IAAE,eAAM,CAAC,aAAa,KAAG,SAAS,EAAC,CAAC;;;;2CAahH;IAEY;QADZ,IAAA,iBAAO,EAAC,EAAE,IAAI,EAAE,oBAAoB,EAAC,SAAS,EAAC,CAAC,IAAI,EAAC,EAAE,CAAA,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,KAAG,QAAQ,IAAE,eAAM,CAAC,mBAAmB,EAAC,CAAC;;;;6CAa5G;IAEY;QADZ,IAAA,iBAAO,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;;;;mCA8B3B;IAEY;QADZ,IAAA,iBAAO,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;;;;oCAK5B;IAMY;QALZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,UAAU,GAAe;gBAC9C,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YACjC,CAAC;SACJ,CAAC;;;;iCAMD;0BAjPQ,WAAW;QAFvB,IAAA,yBAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,+BAA+B,CAAC;OAC3B,WAAW,CAmPvB;IAGM,IAAM,YAAY,oBAAlB,MAAM,YAAa,SAAQ,cAAK;QAKnC;YACI,KAAK,EAAE,CAAC;YACR,cAAY,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC7B,kBAAkB;YAClB,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,GAAC,kBAAkB,CAAC;YACxC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,GAAC,mBAAmB,CAAC,CAAA,YAAY;YACtD,IAAI,CAAC,IAAI,GAAG,IAAI,WAAI,EAAE,CAAC;YACvB,IAAI,CAAC,MAAM,GAAG,IAAI,iBAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,GAAG,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA,CAAC,CAAC,CAAC;QACjE,CAAC;QAKY,AAAb,MAAM,CAAC,KAAK,CAAC,IAAI;YACb,IAAI,iBAAO,CAAC,QAAQ,CAAC,OAAO,CAAC;gBACzB,IAAI,MAAM,GAAG,iBAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;gBAEnC,iBAAO,CAAC,OAAO,CAAC,IAAI,cAAY,EAAE,EAAE,OAAO,CAAC,CAAC;QACrD,CAAC;QACD,QAAQ,CAAC,IAAc;;YACnB,IAAI,GAAG,GAAkB,SAAS,CAAC;YACnC,IAAI,CAAA,MAAA,IAAI,CAAC,IAAI,0CAAE,OAAO,CAAC,SAAS,CAAC,IAAG,CAAC,CAAC,EAAE,CAAC;gBACrC,GAAG,GAAG;oBACF,KAAK,EAAE,OAAO;iBACjB,CAAA;YACL,CAAC;YACD,IAAI,CAAA,MAAA,IAAI,CAAC,IAAI,0CAAE,OAAO,CAAC,QAAQ,CAAC,IAAG,CAAC,CAAC,EAAE,CAAC;gBACpC,GAAG,GAAG;oBACF,KAAK,EAAE,MAAM;iBAChB,CAAA;YACL,CAAC;YAED,OAAO,GAAG,CAAC;QACf,CAAC;QACD,KAAK,CAAC,OAAO;;YACT,IAAI,IAAI,GAAG,CAAC,MAAM,IAAI,eAAM,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;YACtC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;YACrB,cAAc;YACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAEzC,IAAI,eAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE,CAAC;oBACnD,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAA,MAAA,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,0CAAE,MAAM,IAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,SAAS,CAAC;gBACtG,CAAC;YACL,CAAC;YACD,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;YACvC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,CAAC;YACzB,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAC7B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACxB,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAErC,CAAC;QACD,KAAK,CAAC,MAAM;YACR,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAA;YACxB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YAC1B,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACvB,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACrB,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;YAC/B,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;YAC/B,IAAI,OAAO,GAAG,IAAI,yBAAW,EAAE,CAAC;YAChC,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;YAChC,OAAO,CAAC,mBAAmB,GAAG,IAAI,CAAC;YACnC,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACpB,qBAAqB;YACrB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG;gBAE3B,IAAI,GAAG,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;oBACzB,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;gBAEjC,CAAC;YACL,CAAC,CAAC,CAAC;YACH,YAAY;YACZ,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,GAAC,SAAS,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,GAAG;gBAC/B,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;oBACnB,KAAK,CAAC,IAAI,CAAC,MAAM,CAAS,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBAC9C,IAAI,GAAG,CAAC,IAAI,KAAK,OAAO,EAAE,CAAC;wBACvB,aAAa;oBACjB,CAAC;gBACL,CAAC,EAAE,GAAG,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC;QACP,CAAC;;IA1FQ,oCAAY;IAId,qBAAQ,GAAiB,SAAS,AAA1B,CAA2B;IAgB7B;QAJZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,2BAA2B;YACjC,IAAI,EAAE,mBAAmB;SAC5B,CAAC;;;;kCAMD;2BAzBQ,YAAY;QAFxB,IAAA,yBAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,yBAAyB,CAAC;;OACrB,YAAY,CA8FxB;IAED,SAAgB,IAAI;QAChB,IAAI,GAAG,GAAG,IAAI,YAAY,EAAE,CAAC;QAC7B,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,OAAO,GAAG,CAAC;IAEf,CAAC;;;;;;IC2iBD,oBAQC;IAv5BM,IAAM,YAAY,GAAlB,MAAM,YAAa,SAAQ,qCAAiB;QAO/C;YACI,KAAK,CAAC,EAAE,CAAC,CAAC;YACV,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACnF,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,eAAe,GAAG,MAAM,CAAC;YACrD,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/E,IAAI,CAAC,0BAA0B,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,KAAK,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC,CAAC;YACvF,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC,EAAO,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;QACxD,CAAC;QACO,OAAO,CAAC,EAAE;YACd,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;gBAC3C,IAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,SAAS,CAAC;gBAC7C,IAAI,CAAC,iBAAiB,CAAC,GAAG,GAAG,KAAK,CAAC;YACvC,CAAC;YACD,OAAO,SAAS,CAAC;QACrB,CAAC;QACO,aAAa,CAAC,IAAU,EAAE,IAAY;YAC1C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChB,IAAI,IAAI,KAAU,QAAQ;gBACtB,IAAI,CAAC,aAAa,CAAM,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QACvD,CAAC;QACO,mBAAmB,CAAC,IAAY;YACpC,IAAI,KAAK,GAAG,qBAAS,CAAC,iBAAiB,CAAC,QAAQ,GAAG,IAAI,GAAG,SAAS,CAAC,CAAC;YACrE,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,IAAI,OAAO,CAAC;YACZ,IAAI,QAAQ,CAAC;YACb,IAAI,aAAa,GAAQ,EAAE,CAAC;YAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC/C,IAAI,EAAE,GAAqB,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC/C,IAAI,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC;oBACtC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;gBACxD,CAAC;qBACI,CAAC;oBACF,IAAI,IAAI,GAAG,EAAE,CAAC,SAAS,CAAC;oBACxB,aAAa,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC;gBACpC,CAAC;YACL,CAAC;YACD,IAAI,IAAI,GAAkB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC,CAAC;YACxE,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,KAAK,IAAI,CAAC,IAAI,aAAa,EAAE,CAAC;gBAC1B,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;oBACrD,OAAO,EAAE,CAAC;gBACd,CAAC;gBACD,IAAI,UAAU,GAAG,MAAM,GAAG,OAAO,CAAC;gBAClC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAChC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC;gBACvD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,EAAE,MAAM,EAAE,CAAC,GAAG,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;gBACtI,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,0BAA0B,CAAC;YACxD,CAAC;YACD,OAAO,IAAI,CAAC;QAChB,CAAC;QACD,MAAM,CAAC,SAAe,EAAE,QAAgB,EAAE,UAAgB,SAAS,EAAE,SAAiB,SAAS;YAC3F,IAAI,MAAM,GAAG,YAAY,EAAE,CAAC;YAC5B,IAAI,KAAK,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;YACnC,KAAK,CAAC,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;YACpC,IAAI,OAAO,KAAK,SAAS;gBACrB,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;YAClC,MAAM,CAAC,eAAe,EAAE,CAAC;YACzB,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACvB,OAAO,KAAK,CAAC;QACjB,CAAC;QACD,MAAM,CAAC,EAAa;YAChB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,EAAE,CAAC,cAAc,EAAE,CAAC;YACpB,IAAI,SAAS,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;YACxC,IAAI,eAAe,GAAG,SAAS,CAAC,UAAU,CAAC;YAC3C,IAAI,iBAAiB,GAAG,SAAS,CAAC,YAAY,CAAC;YAC/C,IAAI,cAAc,GAAG,SAAS,CAAC,SAAS,CAAC;YACzC,IAAI,gBAAgB,GAAG,SAAS,CAAC,WAAW,CAAC;YAC7C,IAAI,IAAI,GAAG,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAC3C,IAAI,KAAY,CAAC;YACjB,IAAI,QAAQ,CAAC,mBAAmB,EAAE,CAAC;gBAC/B,wBAAwB;gBACxB,KAAK,GAAG,QAAQ,CAAC,mBAAmB,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC;YACjE,CAAC;iBACI,CAAC;gBAEF,UAAU;gBACV,YAAY;gBACZ,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;YACtF,CAAC;YACD,SAAS,CAAC,eAAe,EAAE,CAAC;YAC5B,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC1B,IAAI,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;YACtC,IAAI,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;YAC1C,IAAI,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;YACpC,IAAI,WAAW,GAAG,SAAS,CAAC,WAAW,CAAC;YACxC,IAAI,QAAQ,GAAG,UAAU,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;YAC7D,IAAI,CAAC,QAAQ,IAAI,YAAY,GAAG,WAAW,IAAI,QAAQ,KAAK,IAAI,CAAC,2BAA2B,EAAE,CAAC;gBAC3F,IAAI,CAAC,GAAG,SAAS,CAAC;gBAClB,SAAS,GAAG,SAAS,CAAC;gBACtB,SAAS,GAAG,CAAC,CAAC;gBACd,IAAI,EAAE,GAAG,YAAY,CAAC;gBACtB,YAAY,GAAG,WAAW,CAAC;gBAC3B,WAAW,GAAG,EAAE,CAAC;YACrB,CAAC;YACD,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,YAAY,CAAC,CAAC;YAChC,IAAI,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;gBACzC,IAAI,QAAQ,GAGH,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC1B,IAAI,EAAE,GAAG,iBAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;gBACnD,IAAI,YAAY,GAAG,IAAI,EAAE,EAAE,CAAC;gBAC5B,IAAI,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzC,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,iBAAO,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACnI,6DAA6D;YACjE,CAAC;iBACI,IAAI,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;gBAC9C,IAAI,IAAI,GAAkB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC3C,IAAI,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBAClC,IAAI,IAAI,GAAG,KAAK,CAAC,eAAe,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;gBAC7D,IAAI,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;gBACjF,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAC9E,CAAC;iBACI,CAAC;gBACF,IAAI,GAAG,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;gBAC5C,IAAI,IAAI,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBAC1C,IAAI,KAAK,GAAG,qBAAS,CAAC,iBAAiB,CAAC,QAAQ,GAAG,IAAI,GAAG,SAAS,CAAC,CAAC;gBACrE,IAAI,UAAU,KAAK,eAAe,IAAI,iBAAiB,GAAG,YAAY,EAAE,CAAC;oBACrE,YAAY,IAAU,KAAK,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,mDAAmD;gBACpH,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,iBAAiB,EAAE,cAAc,EAAE,gBAAgB,CAAC,CAAC;gBAClF,IAAI,MAAM,GAAG,YAAY,EAAE,CAAC;gBAC5B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;gBACzB,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;gBAC9C,SAAS,CAAC,eAAe,EAAE,CAAC;gBAC5B,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAC1B,IAAI,SAAS,GAAG,YAAY,EAAE,CAAC;gBAC/B,IAAI,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;oBACrE,KAAK,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;oBACrC,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC,CAAC,CAAC;gBACH,sFAAsF;gBACtF,wHAAwH;gBACxH,wDAAwD;YAC5D,CAAC;QACL,CAAC;QACD,KAAK,CAAC,KAAK;YACP,IAAI,IAAI,GAAG,MAAM,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;YAC5C,IAAI,GAAG,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;YAClC,IAAI,IAAI,CAAC;YACT,IAAI,GAAG,CAAC,UAAU,IAAI,IAAI;gBACtB,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;;gBAElC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAClC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;gBAC5C,IAAI,KAAK,GAAG,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;gBAC/C,IAAI,IAAI,GAAG,MAAM,KAAK,CAAC,IAAI,EAAE,CAAC;gBAC9B,IAAI,IAAI,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBAC1C,IAAI,IAAI,CAAC,iBAAiB,CAAC,SAAS,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG;oBACxE,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,gCAAgC;;oBAExF,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAC7E,CAAC;iBACI,CAAC;gBACF,IAAI,CAAC,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClC,OAAO,MAAM,KAAK,CAAC,KAAK,EAAE,CAAC;YAC/B,CAAC;YACD,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;YACpC,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACtB,aAAa;YACb,aAAa;YACb,8BAA8B;QAClC,CAAC;QACD,KAAK,CAAC,IAAI;YACN,IAAI,GAAG,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;YAClC,IAAI,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,WAAW,KAAK,GAAG,CAAC,YAAY;gBACxE,OAAO,MAAM,KAAK,CAAC,IAAI,EAAE,CAAC;YAC9B,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAC7B,OAAO,MAAM,SAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;QAChD,CAAC;QACD,qBAAqB,CAAC,SAAoB;;YACtC,IAAI,aAAa,GAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACvD,IAAI,SAAS,CAAC,GAAG,CAAC,UAAU;gBACxB,aAAa,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACpD,IAAI,OAAO,GAAG,SAAS,CAAC;YACxB,KAAK,IAAI,YAAY,GAAG,CAAC,EAAE,YAAY,GAAG,aAAa,CAAC,MAAM,EAAE,YAAY,EAAE,EAAE,CAAC;gBAC7E,IAAI,IAAI,GAAc,aAAa,CAAC,YAAY,CAAC,CAAC;gBAClD,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;gBACvD,IAAI,OAAO,KAAK,SAAS;oBACrB,MAAM;gBACV,oEAAoE;gBACpE,8CAA8C;gBAC9C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAG,MAAA,IAAI,CAAC,WAAW,0CAAE,MAAM,CAAA,EAAE,CAAC,EAAE,EAAE,CAAC;oBAChD,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;gBACpD,CAAC;YACL,CAAC;YACD,IAAI,OAAO,KAAK,SAAS,EAAE,CAAC;gBACxB,SAAS,CAAC,GAAG,CAAC,eAAe,GAAG,OAAO,CAAC;YAC5C,CAAC;iBACI,CAAC;gBACF,SAAS,CAAC,GAAG,CAAC,eAAe,GAAG,MAAM,CAAC;YAC3C,CAAC;QACL,CAAC;QACD,YAAY;YACR,iBAAiB;QACrB,CAAC;QACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA6BI;QACI,iBAAiB,CAAC,SAAoB;YAC1C,IAAI,KAAK,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACpC,IAAI,MAAM,GAAG,KAAK,CAAC,uBAAuB,CAAC;YAC3C,IAAI,QAAQ,GAAG,KAAK,CAAC;YACrB,IAAI,UAAU,GAAgB,EAAE,CAAC;YACjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAChD,IAAI,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBAChC,YAAY;gBACZ,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,CAAC,SAAS,CAAC,KAAK,IAAI,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC;oBACxH,QAAQ,GAAG,IAAI,CAAC;gBACpB,CAAC;qBACI,CAAC;oBACF,QAAQ,GAAG,KAAK,CAAC;gBACrB,CAAC;gBACD,IAAI,QAAQ,EAAE,CAAC;oBACX,UAAU,CAAC,IAAI,CAAO,IAAK,CAAC,KAAK,CAAC,CAAC;gBACvC,CAAC;YACL,CAAC;YACD,YAAY;YACZ,QAAQ,CAAC,YAAY,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;YAC5D,IAAI,CAAC,GAAG,YAAY,EAAE,CAAC,UAAU,CAAC;YAClC,IAAI,IAAI,GAAG,YAAY,EAAE,CAAC,YAAY,CAAC;YACvC,UAAU,CAAC,GAAG,EAAE;gBACZ,IAAI,CAAC,CAAC,UAAU,IAAI,IAAI;oBACpB,OAAO;gBACX,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,kBAAkB;YAC5C,CAAC,EAAE,EAAE,CAAC,CAAC;YACP,YAAY;YACZ,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,KAAK,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS;gBACnF,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5B,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,KAAK,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS;gBAC3H,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;YAC5C,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;QAC7B,CAAC;QACS,oBAAoB,CAAC,KAAW;YACtC,IAAI,MAAM,GAAG,KAAK,CAAC,UAAU,CAAC;YAC9B,IAAI,MAAM,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACjC,SAAS;gBACT,IAAI,QAAQ,GAAS,KAAM,CAAC,KAAK,CAAC;gBAClC,IAAI,OAAO,GAAG,IAAI,yBAAa,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC;gBACjD,IAAI,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,iBAAO,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;gBACjI,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;gBAC1D,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;gBACzE,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;gBAC1E,IAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAChC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;YACxB,CAAC;YACD,OAAO,MAAM,CAAC;QAClB,CAAC;QACD,IAAI;YACA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC1B,CAAC;QACD,MAAM;YACF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC5B,CAAC;QACD,SAAS;YACL,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAC/B,CAAC;QACD;;WAEG;QACK,wBAAwB;YAC5B,IAAI,GAAG,GAAG,YAAY,EAAE,CAAC;YACzB,IAAI,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;YAChC,IAAI,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;YACpC,IAAI,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;YAC9B,IAAI,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC;YAClC,IAAI,QAAQ,GAAG,UAAU,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;YAC7D,IAAI,CAAC,QAAQ,IAAI,YAAY,GAAG,WAAW,IAAI,QAAQ,KAAK,IAAI,CAAC,2BAA2B,EAAE,CAAC;gBAC3F,IAAI,CAAC,GAAG,SAAS,CAAC;gBAClB,UAAU,GAAG,SAAS,CAAC;gBACvB,SAAS,GAAG,CAAC,CAAC;gBACd,IAAI,EAAE,GAAG,YAAY,CAAC;gBACtB,YAAY,GAAG,WAAW,CAAC;gBAC3B,WAAW,GAAG,EAAE,CAAC;gBACjB,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,YAAY,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;YAClE,CAAC;QACL,CAAC;QACD,QAAQ,CAAC,KAAa,EAAE,KAAK,GAAG,SAAS;YACrC,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,GAAG,GAAG,YAAY,EAAE,CAAC;YACzB,IAAI,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;YAChC,IAAI,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;YACpC,IAAI,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;YAC9B,IAAI,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC;YAClC,IAAI,QAAQ,GAAG,UAAU,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;YAC7D,IAAI,CAAC,QAAQ,IAAI,YAAY,GAAG,WAAW,IAAI,QAAQ,KAAK,IAAI,CAAC,2BAA2B,EAAE,CAAC;gBAC3F,IAAI,CAAC,GAAG,SAAS,CAAC;gBAClB,UAAU,GAAG,SAAS,CAAC;gBACvB,SAAS,GAAG,CAAC,CAAC;gBACd,IAAI,EAAE,GAAG,YAAY,CAAC;gBACtB,YAAY,GAAG,WAAW,CAAC;gBAC3B,WAAW,GAAG,EAAE,CAAC;gBACjB,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,YAAY,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;gBAC9D,IAAI,GAAG,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;YACtC,CAAC;YACD,IAAI,SAAS,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,uBAAuB,CAAC;YAC1D,IAAI,SAAS,CAAC,QAAQ,KAAK,SAAS,CAAC,SAAS;gBAC1C,SAAS,GAAG,SAAS,CAAC,UAAU,CAAC;YACrC,IAAI,WAAW,GAAgB,EAAE,CAAC;YAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnD,IAAI,KAAK,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACpC,IAAkB,KAAM,CAAC,OAAO,KAAK,IAAI,IAAkB,KAAM,CAAC,OAAO,KAAK,IAAI;oBAC9E,SAAS;gBACb,IAAI,KAAK,GAAG,SAAS,CAAC;gBACtB,IAAI,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC;oBAC1B,KAAK,GAAG,KAAK,CAAC;gBAClB,CAAC;gBACD,IAAI,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,KAAK,KAAK,UAAU,EAAE,CAAC;oBACrD,IAAI,YAAY,KAAK,CAAC,EAAE,CAAC;wBACrB,IAAI,QAAQ,GAAG,UAAU,KAAK,SAAS,CAAC;wBACxC,IAAI,KAAK,KAAK,UAAU;4BACpB,CAAC,EAAE,CAAC;wBACR,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;wBAChC,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;wBAC1B,IAAI,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;4BACpC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC/B,IAAI,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;4BACpC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC/B,IAAI,UAAU,CAAC,QAAQ,KAAK,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC,qBAAqB;4BACrE,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBAC1C,CAAC;wBACD,IAAI,QAAQ,EAAE,CAAC;4BACX,SAAS,GAAG,UAAU,CAAC;4BACvB,WAAW,IAAI,YAAY,CAAC;wBAChC,CAAC;wBACD,YAAY,GAAG,CAAC,CAAC;oBACrB,CAAC;oBACD,KAAK,GAAG,UAAU,CAAC;gBACvB,CAAC;gBACD,IAAI,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;oBACnD,IAAI,WAAW,KAAW,KAAM,CAAC,MAAM,EAAE,CAAC;wBACtC,4CAA4C;wBAC5C,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,WAAW,EAAE,SAAS,EAAQ,SAAU,CAAC,MAAM,CAAC,CAAC;wBACxE,GAAG,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;wBAC9B,IAAI,KAAK,KAAK,SAAS;4BACnB,CAAC,EAAE,CAAC;wBACR,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;wBAChC,IAAI,GAAG,GAAG,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBACxC,IAAI,GAAG,KAAK,CAAC,CAAC;4BACV,WAAW,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;;4BAErC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC/B,IAAI,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;4BACpC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC/B,IAAI,OAAO,GAAQ,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;wBAChC,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC,qBAAqB;4BAC/D,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBACpC,CAAC;wBACD,IAAI,SAAS,KAAK,UAAU,EAAE,CAAC;4BAC3B,SAAS,GAAG,UAAU,GAAG,OAAO,CAAC;wBACrC,CAAC;;4BAEG,SAAS,GAAG,OAAO,CAAC;wBACxB,sCAAsC;oBAC1C,CAAC;oBACD,KAAK,GAAG,SAAS,CAAC;gBACtB,CAAC;gBACD,IAAI,KAAK,EAAE,CAAC;oBACR,IAAI,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;oBAC9C,IAAI,UAAU,GAAoB,MAAO,CAAC,KAAK,CAAC;oBAChD,IAAI,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;wBACtC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBACjC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;gBAC9C,CAAC;YACL,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,YAAY,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;YAC9D,OAAO,WAAW,CAAC;QACvB,CAAC;QACD,UAAU,CAAC,IAAe,EAAE,SAAiB,EAAE,QAAa,SAAS;YACjE,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;YAC5D,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;YAC7E,IAAI,EAAE,GAAwB,aAAK,CAAC,YAAY,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YACrF,IAAI,SAAS,KAAK,MAAM,EAAE,CAAC;gBACvB,IAAI,EAAE,CAAC,UAAU,KAAK,MAAM;oBACxB,OAAO,EAAE,CAAC,UAAU,CAAC,CAAC,YAAY;;oBAElC,EAAE,CAAC,UAAU,GAAG,MAAM,CAAC;YAC/B,CAAC;iBACI,IAAI,SAAS,KAAK,QAAQ,EAAE,CAAC;gBAC9B,IAAI,EAAE,CAAC,SAAS,KAAK,QAAQ;oBACzB,OAAO,EAAE,CAAC,SAAS,CAAC,CAAC,YAAY;;oBAEjC,EAAE,CAAC,SAAS,GAAG,QAAQ,CAAC;YAChC,CAAC;iBACI,IAAI,SAAS,KAAK,WAAW,EAAE,CAAC;gBACjC,IAAI,EAAE,CAAC,kBAAkB,KAAK,WAAW;oBACrC,OAAO,EAAE,CAAC,kBAAkB,CAAC,CAAC,YAAY;;oBAE1C,EAAE,CAAC,kBAAkB,GAAG,WAAW,CAAC;YAC5C,CAAC;iBACI,IAAI,SAAS,KAAK,OAAO,EAAE,CAAC;gBAC7B,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC;YACrB,CAAC;iBACI,IAAI,SAAS,KAAK,iBAAiB,EAAE,CAAC;gBACvC,EAAE,CAAC,eAAe,GAAG,KAAK,CAAC;YAC/B,CAAC;iBACI,IAAI,SAAS,KAAK,UAAU,EAAE,CAAC;gBAChC,EAAE,CAAC,QAAQ,GAAG,KAAK,CAAC;YACxB,CAAC;YACD,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU;gBAC/B,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;YAC/G,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QACpB,CAAC;QACD,WAAW;YACP,KAAK,CAAC,WAAW,EAAE,CAAC;YACpB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,UAAU,GAAG,IAAI,eAAM,EAAE,CAAC;YAC/B,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,8BAA8B,CAAC;YACtD,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,MAAM,CAAC;YACjC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;gBACpB,KAAK,CAAC,IAAI,EAAE,CAAC;YACjB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACzC,IAAI,CAAC,YAAY,GAAG,IAAI,eAAM,EAAE,CAAC;YACjC,IAAI,CAAC,YAAY,CAAC,IAAI,GAAG,gCAAgC,CAAC;YAC1D,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,QAAQ,CAAC;YACrC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;gBACtB,KAAK,CAAC,MAAM,EAAE,CAAC;YACnB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC3C,IAAI,CAAC,eAAe,GAAG,IAAI,eAAM,EAAE,CAAC;YACpC,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,mCAAmC,CAAC;YAChE,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,QAAQ,CAAC;YACxC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC;gBACzB,KAAK,CAAC,SAAS,EAAE,CAAC;YACtB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAC9C,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC/B,CAAC;QACO,mBAAmB;YACvB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,cAAc,GAAQ,IAAA,2BAAe,EAAC,IAAA,cAAE,EAAC,QAAQ,EAAE;gBACpD,KAAK,EAAE;oBACH,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,eAAe,EAAE,KAAK;iBAC5D;gBACD,QAAQ,EAAE,CAAC,CAAC,EAAE,EAAE;oBACZ,IAAI,GAAG,GAAS,CAAC,CAAC,MAAO,CAAC,KAAK,CAAC;oBAChC,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBACpC,CAAC;gBACD,QAAQ,EAAE;oBACN,IAAA,cAAE,EAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;oBACjD,IAAA,cAAE,EAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;oBACnD,IAAA,cAAE,EAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;oBACnD,IAAA,cAAE,EAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;oBACnD,IAAA,cAAE,EAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;oBACnD,IAAA,cAAE,EAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;oBACnD,IAAA,cAAE,EAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;iBACtD;aACJ,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACjD,CAAC;QACO,gBAAgB;YACpB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,SAAS,GAAG,IAAI,iBAAO,CAAC,EAAC,UAAU,EAAC,IAAI,EAAC,CAAC,CAAC;YAChD,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC;gBACzC,KAAK,EAAE,MAAM;gBACb,WAAW,EAAE,IAAI;gBACjB,OAAO,EAAE;oBACL,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;iBACxF;gBACD,MAAM,EAAE,UAAU,KAAK;oBACnB,IAAI,MAAM,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;oBACjC,IAAI,KAAK,CAAC,MAAM,EAAE;wBACd,MAAM,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;oBAC5B,KAAK,CAAC,QAAQ,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;oBAChC,YAAY;oBACZ,6DAA6D;gBACjE,CAAC;aACJ,CAAC,CAAC;YACH,gBAAgB;YAChB,IAAI,EAAE,GAAgB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;YAC7E,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;YACxB,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YACzB,IAAI,EAAE,GAAgB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;YAC9E,EAAE,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;YAChC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YACzB,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;YACxB,IAAI,EAAE,GAAgB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACxE,EAAE,CAAC,SAAS,GAAG,oBAAoB,CAAC;YACpC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;YACxB,EAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;YAC/B,EAAE,CAAC,KAAK,CAAC,GAAG,GAAG,OAAO,CAAC;YACvB,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YACzB,EAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;YAC3B,qBAAqB;YACrB,sBAAsB;YACtB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5C,CAAC;QACO,kBAAkB;YACtB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,WAAW,GAAG,IAAI,iBAAO,CAAC,EAAC,UAAU,EAAC,IAAI,EAAC,CAAC,CAAC;YAClD,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC;gBAC3C,KAAK,EAAE,MAAM;gBACb,WAAW,EAAE,IAAI;gBACjB,OAAO,EAAE;oBACL,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;iBACxF;gBACD,MAAM,EAAE,UAAU,KAAK;oBACnB,IAAI,MAAM,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;oBACjC,IAAI,KAAK,CAAC,MAAM,EAAE;wBACd,MAAM,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;oBAC5B,KAAK,CAAC,QAAQ,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;oBAC1C,YAAY;oBACZ,6DAA6D;gBACjE,CAAC;aACJ,CAAC,CAAC;YACH,gBAAgB;YAChB,IAAI,EAAE,GAAgB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;YAC/E,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;YACxB,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YACzB,IAAI,EAAE,GAAgB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;YAChF,EAAE,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;YAChC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YACzB,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;YACxB,qBAAqB;YACrB,sBAAsB;YACtB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9C,CAAC;QACD,UAAU,CAAC,MAAM;YACb,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAC7B,CAAC;QACD,oBAAoB;YAChB,OAAO,SAAS,CAAC;QACrB,CAAC;QACO,WAAW,CAAC,SAAoB;YACpC,IAAI,IAAI,GAAS,SAAS,CAAC,UAAU,CAAC;YACtC,IAAI,OAAO,GAAW,SAAS,CAAC,YAAY,CAAC;YAC7C,IAAI,EAAE,GAAS,SAAS,CAAC,SAAS,CAAC;YACnC,IAAI,KAAK,GAAW,SAAS,CAAC,WAAW,CAAC;YAC1C,IAAI,QAAQ,GAAG,IAAI,CAAC,uBAAuB,CAAC,EAAE,CAAC,CAAC;YAChD,gCAAgC;YAChC,IAAI,CAAC,QAAQ,IAAI,OAAO,GAAG,KAAK,IAAI,QAAQ,KAAK,IAAI,CAAC,2BAA2B,EAAE,CAAC;gBAChF,IAAI,CAAC,GAAG,IAAI,CAAC;gBACb,IAAI,GAAG,EAAE,CAAC;gBACV,EAAE,GAAG,CAAC,CAAC;gBACP,IAAI,EAAE,GAAG,OAAO,CAAC;gBACjB,OAAO,GAAG,KAAK,CAAC;gBAChB,KAAK,GAAG,EAAE,CAAC;YACf,CAAC;YACD,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;YAClC,YAAY;YACZ,IAAI,IAAI,KAAK,EAAE,IAAI,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,SAAS,EAAE,CAAC;gBAChD,IAAI,GAAG,GAAG,EAAE,CAAC,WAAW,CAAC;gBACzB,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;YACrF,CAAC;iBACI,CAAC;gBACF,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,SAAS,EAAE,CAAC;oBACnC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC;gBACxE,CAAC;gBACD,IAAI,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,SAAS,EAAE,CAAC;oBACjC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC/D,CAAC;gBACD,gEAAgE;gBAChE,uDAAuD;YAC3D,CAAC;YACD;;;;;eAKG;YACH;;;;;;;;;;eAUG;QACP,CAAC;QACS,UAAU,CAAC,IAAU,EAAE,IAAY,EAAE,iBAAiB,GAAG,KAAK;YACpE,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAO,IAAK,CAAC,KAAK,CAAC,CAAC;YACvE,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC;gBAClC,IAAI,iBAAiB,IAAI,IAAI,KAAK,EAAE,EAAE,CAAC;oBACnC,IAAI,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAO,IAAK,CAAC,KAAK,CAAC,CAAC,CAAC;oBACrD,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;gBAC7B,CAAC;;oBAEG,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,MAAM,EAAE,GAAG,GAAG,IAAI,GAAG,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;YACxF,CAAC;YACD,IAAI,IAAI,KAAK,QAAQ;gBACC,IAAK,CAAC,SAAS,GAAG,IAAI,CAAC;;gBAEzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;YACzD,OAAO,IAAI,CAAC;QAChB,CAAC;QACO,SAAS,CAAC,MAAiB,QAAQ,CAAC,YAAY,EAAE;YACtD,gCAAgC;YAChC,IAAI,MAAM,GAAG,GAAG,CAAC,YAAY,CAAC;YAC9B,IAAI,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC;YAC1B,IAAI,GAAG,CAAC,UAAU,CAAC,uBAAuB,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,IAAI,CAAC,2BAA2B,EAAE,CAAC;gBAC7F,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;gBACrB,MAAM,GAAG,GAAG,CAAC,WAAW,CAAC;YAC7B,CAAC;YACD,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC;YAC3B,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;YAClC,IAAI,EAAE,GAAG,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC/B,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YAC1B,IAAI,IAAI,GAAoB,IAAK,CAAC,KAAK,CAAC;YACxC,+IAA+I;YAC/I,IAAI,EAAE,KAAK,EAAE;gBACT,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,gBAAgB;YACzC,IAAI,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAC7D;;;;8GAIkG;YACjG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;YAChC,uBAAuB;YACvB,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACzB,CAAC;QACD,KAAK,CAAC,YAAY;YACd,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,GAAG,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;YAClC,IAAI,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,WAAW,KAAK,GAAG,CAAC,YAAY;gBACxE,OAAO,KAAK,CAAC,YAAY,EAAE,CAAC;YAChC,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAC7B,IAAI,IAAI,GAAG,MAAM,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;YAC5C,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YAC5C,IAAI,IAAI,GAAG,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC;YAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC;YAC3D,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,GAAG,IAAI,aAAa,CAAC,UAAU,EAAE;gBAClC,IAAI,EAAE,QAAQ;aACjB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC;QACD,mBAAmB,CAAC,IAAI,EAAE,GAAG,EAAE,MAAM;YACjC;;0JAE8I;YAC9I,IAAI,KAAK,GAAG,IAAI,yBAAa,EAAE,CAAC;YAChC,IAAI,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC;YACvB,OAAO,IAAI,CAAC,eAAe,CAAC,0BAA0B,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;YAChH,CAAC;QACL,CAAC;QACS,eAAe,CAAC,GAAc,EAAE,mBAA8B,SAAS;YAC7E,IAAI,KAAK,GAAG,IAAA,2BAAe,EAAC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;YACvD,IAAI,MAAM,EAAE,IAAI,CAAC;YACjB,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,KAAK,GAAG,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;gBACvD,IAAI,gBAAgB,KAAK,SAAS,EAAE,CAAC;oBACjC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,iBAAO,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,gBAAgB,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBACrI,CAAC;qBAAM,CAAC;oBACJ,IAAI,GAAS,GAAG,CAAC,UAAW,CAAC,KAAK,CAAC;oBACnC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,iBAAO,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC5H,CAAC;YACL,CAAC;iBAAM,CAAC;gBACJ,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9B,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,iBAAO,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAC5H,CAAC;YACD,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,CAAC;QACjH,CAAC;QACO,OAAO,CAAC,CAAgB;;YAE5B,IAAI,QAAQ,GAAG,SAAS,CAAC;YACzB,uBAAuB;YACvB,IAAI,CAAA,MAAA,IAAI,CAAC,iBAAiB,0CAAE,GAAG,KAAI,IAAI,CAAC,iBAAiB,CAAC,SAAS,KAAK,SAAS,EAAE,CAAC;gBAChF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBACrD,QAAQ,GAAG,IAAI,CAAC;YACpB,CAAC;YAED,IAAI,CAAC,CAAA,MAAA,IAAI,CAAC,iBAAiB,0CAAE,GAAG,CAAA,IAAI,IAAI,CAAC,iBAAiB,CAAC,SAAS,KAAK,SAAS,EAAE,CAAC;gBACjF,IAAI,GAAG,GAAc,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;gBACtD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBACxB,QAAQ,GAAG,KAAK,CAAC;YACrB,CAAC;YACD,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,CAAC,OAAO,KAAK,GAAG,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI;gBACvC,OAAO,KAAK,CAAC;YACjB,CAAC;iBACI,IAAI,CAAC,CAAC,OAAO,KAAK,GAAG,EAAE,CAAC,CAAC,IAAI;gBAC9B,OAAO,KAAK,CAAC;YACjB,CAAC;YACD,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ;YAC7C,CAAC;YACD,IAAI,CAAC,CAAC,OAAO,KAAK,GAAG,EAAE,CAAC,CAAC,IAAI;gBACzB,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,OAAO,KAAK,CAAC;YACjB,CAAC;YACD,IAAI,CAAC,CAAC,CAAC,OAAO,KAAK,EAAE,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,gBAAgB;gBACnD,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,IAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,OAAO;YACX,CAAC;YACD,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ;gBACzC,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,OAAO,KAAK,CAAC;YACjB,CAAC;YACD,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ;gBACzC,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,OAAO,KAAK,CAAC;YACjB,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,KAAK,GAAG,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,yBAAyB,EAAE,CAAC,CAAC,OAAO;gBACtG,OAAO,KAAK,CAAC;YACjB,CAAC;YACD,IAAI,CAAC,CAAC,OAAO;gBACT,OAAO;YACX,IAAI,GAAG,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;YAClC,IAAI,GAAG,CAAC,UAAU,KAAK,IAAI,IAAI,GAAG,CAAC,SAAS,IAAI,IAAI;gBAChD,OAAO;YACX,IAAI,GAAG,CAAC,UAAU,KAAK,IAAI,EAAE,CAAC;gBAC1B;;0JAE0I;gBAC1I,IAAI,KAAK,GAAG,IAAI,yBAAa,EAAE,CAAC;gBAChC,IAAI,EAAE,GAAG,KAAK,CAAC,GAAG,CAAC;gBACnB,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG;oBAC1B,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,0BAA0B,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;;oBAExK,IAAI,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,0BAA0B,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;gBACnJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBACxC,IAAI,SAAS,GAAG,YAAY,EAAE,CAAC;YACnC,CAAC;YACD,IAAI,QAAQ,GAAG,GAAG,CAAC,UAAU,CAAC,uBAAuB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACrE,IAAI,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;YAChC,IAAI,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;YACpC,IAAI,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;YAC9B,IAAI,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC;YAClC,gCAAgC;YAChC,IAAI,CAAC,QAAQ,IAAI,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,WAAW,IAAI,QAAQ,KAAK,IAAI,CAAC,2BAA2B,EAAE,CAAC;gBACnG,YAAY,GAAG,GAAG,CAAC,WAAW,CAAC;gBAC/B,UAAU,GAAG,GAAG,CAAC,SAAS,CAAC;gBAC3B,SAAS,GAAG,GAAG,CAAC,UAAU,CAAC;gBAC3B,WAAW,GAAG,GAAG,CAAC,YAAY,CAAC;YACnC,CAAC;YACD,6BAA6B;YAC7B,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,IAAI,CAAC,CAAA,MAAM,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAW,0CAAE,OAAO,KAAI,IAAI,IAAI,CAAA,MAAM,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAU,CAAC,UAAW,0CAAE,OAAO,KAAI,IAAI,CAAC,EAAE,CAAC;gBAClI,IAAI,EAAE,GAAG,CAAA,MAAM,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAW,0CAAE,OAAO,KAAI,IAAI,CAAC,CAAC,CAAC,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAU,CAAC,CAAC,CAAC,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAU,CAAC,UAAU,CAAC;gBAClH,IAAI,EAAE,GAAG,SAAS,CAAC;gBACnB,IAAI,CAAA,MAAM,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAW,0CAAE,OAAO,KAAI,IAAI;oBAC7C,EAAE,GAAG,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAU,CAAC;gBAC/B,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;gBAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC1C,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE;wBACrB,MAAM,GAAG,CAAC,CAAC;gBACnB,CAAC;gBACD,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;gBAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACrD,IAAI,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE;wBAChC,MAAM,GAAG,CAAC,CAAC;gBACnB,CAAC;gBACD,IAAI,MAAM,KAAK,CAAC,CAAC,IAAI,MAAM,GAAG,CAAC,IAAI,MAAM,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,EAAE,CAAC;oBAC9G,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,IAAI,GAAG,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;oBACjE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;oBACrB,OAAO;gBACX,CAAC;YACL,CAAC;YACD,iCAAiC;YACjC,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,IAAI,CAAC,CAAA,MAAM,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAW,0CAAE,OAAO,KAAI,IAAI,IAAI,CAAA,MAAM,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAU,CAAC,UAAW,0CAAE,OAAO,KAAI,IAAI,CAAC,EAAE,CAAC;gBAClI,IAAI,EAAE,GAAG,CAAA,MAAM,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAW,0CAAE,OAAO,KAAI,IAAI,CAAC,CAAC,CAAC,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAU,CAAC,CAAC,CAAC,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAU,CAAC,UAAU,CAAC;gBAClH,IAAI,EAAE,GAAG,SAAS,CAAC;gBACnB,IAAI,CAAA,MAAM,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAW,0CAAE,OAAO,KAAI,IAAI;oBAC7C,EAAE,GAAG,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,UAAU,CAAC;gBAC/B,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;gBAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC1C,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE;wBACrB,MAAM,GAAG,CAAC,CAAC;gBACnB,CAAC;gBACD,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;gBAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACrD,IAAI,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,EAAE;wBAChC,MAAM,GAAG,CAAC,CAAC;gBACnB,CAAC;gBACD,IAAI,MAAM,KAAK,CAAC,CAAC,IAAI,MAAM,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,MAAM,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,EAAE,CAAC;oBAChJ,CAAC,CAAC,cAAc,EAAE,CAAC;oBACnB,MAAM,IAAI,GAAG,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;oBACjE,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;oBACrB,OAAO;gBACX,CAAC;YACL,CAAC;YACD,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE,EAAE,CAAC;gBACnB,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;gBAC7F,8CAA8C;gBAC9C,+EAA+E;gBAC/E,oFAAoF;YACxF,CAAC;iBACI,IAAI,CAAC,CAAC,IAAI,KAAK,QAAQ,EAAE,CAAC;gBAC3B,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,IAAI,UAAU,KAAK,SAAS,IAAI,YAAY,KAAK,WAAW,EAAE,CAAC,CAAC,cAAc;oBACpE,GAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC;oBAClD,IAAI,MAAM,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;oBACrC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;gBAC7B,CAAC;qBACI,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC1B,CAAC;gBACD,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,OAAO;YACX,CAAC;iBACI,IAAI,CAAC,CAAC,IAAI,KAAK,WAAW,EAAE,CAAC;gBAE9B,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,IAAI,UAAU,KAAK,SAAS,IAAI,YAAY,KAAK,WAAW,EAAE,CAAC,CAAC,cAAc;oBAC1E,IAAI,GAAG,CAAC,UAAU,KAAK,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,UAAU,CAAC,QAAQ,KAAK,IAAI,EAAE,CAAC;wBACvE,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;wBACtB,OAAO;oBACX,CAAC;oBACK,GAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;oBACjD,IAAI,MAAM,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;oBACrC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;gBAC7B,CAAC;qBACI,CAAC;oBAGF,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC1B,CAAC;gBACD,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,OAAO;YACX,CAAC;iBACI,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBAC1B,IAAI,GAAG,GAAG,WAAW,CAAC;gBACtB,IAAI,UAAU,KAAK,SAAS,EAAE,CAAC;oBAC3B,GAAG,GAAG,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC;gBACxC,CAAC;gBACD,IAAI,UAAU,KAAK,SAAS,IAAI,YAAY,KAAK,WAAW,EAAE,CAAC,CAAC,cAAc;gBAC9E,CAAC;qBACI,CAAC;oBACF,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC1B,CAAC;gBACD,IAAI,GAAG,GAAG,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBAE5G,IAAI,UAAU,CAAC,QAAQ,KAAK,UAAU,CAAC,SAAS,EAAE,CAAC,CAAA,yCAAyC;oBACxF,IAAI,QAAQ,KAAK,IAAI,EAAE,CAAC;wBACpB,IAAI,MAAM,GAAG,SAAS,CAAC;wBACvB,qDAAqD;wBACrD,MAAM,GAAS,UAAW,CAAC,KAAK,CAAC;wBACjC,GAAG;wBACH,YAAY,GAAG,CAAC,CAAC;wBACjB,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,GAAG,EAAQ,UAAW,CAAC,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC;wBAC1F,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBAChB,CAAC;yBAAM,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC;wBAC5B,IAAI,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;wBACjD,GAAG;wBACH,YAAY,GAAG,CAAC,CAAC;wBACjB,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,GAAG,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,GAAG,CAAC;wBACvE,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBAChB,CAAC;yBAAM,CAAC,CAAA,qBAAqB;wBACzB,IAAI,IAAI,GAAG,yCAAmB,CAAC,QAAQ,CAAO,UAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;wBAC7E,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;wBACtC,IAAI,IAAI,KAAK,SAAS;4BAClB,OAAO;wBACX,IAAI,MAAM,GAAG,SAAS,CAAC;wBACvB,IAAI,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,YAAY,EAAE,CAAC;4BAC9C,MAAM,GAAS,UAAU,CAAC,UAAU,CAAC,YAAY,CAAE,CAAC,KAAK,CAAC;wBAC9D,CAAC;wBACD,YAAY,GAAG,CAAC,CAAC;wBACjB,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,GAAG,EAAQ,UAAW,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC;wBAClF,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;oBAChB,CAAC;gBACL,CAAC;gBACD,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;gBACjC,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,YAAY,GAAG,CAAC,CAAC,CAAC;YAC9C,CAAC;YACD,IAAI,CAAC,aAAa,EAAE,CAAC;QACzB,CAAC;KACJ,CAAA;IA94BY,oCAAY;2BAAZ,YAAY;QADxB,IAAA,kBAAM,EAAC,6BAA6B,CAAC;;OACzB,YAAY,CA84BxB;IACD,SAAgB,IAAI;QAChB,IAAI,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE;YACjC,eAAe,EAAE,MAAM;SAC1B,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;QAClB,IAAI,GAAG,GAAG,IAAA,2BAAe,EAAC,GAAG,CAAC,CAAC;QAC/B,+CAA+C;QAC/C,4BAA4B;QAC5B,OAAO,GAAG,CAAC;IACf,CAAC;;;;;ICn6BD,kBAAe;QACX,KAAK,EAAC,EAAC,oBAAoB,EAAC,oBAAoB,EAAC;QACjD,OAAO,EAAC;YACJ,2BAA2B,EAAC,8DAA8D;YAE3F,2GAA2G;YAC1G,uCAAuC,EAAC,+DAA+D;YACvG,6CAA6C,EAAC,qEAAqE;YACnH,uCAAuC,EAAC,+DAA+D;YACvG,sCAAsC,EAAC,8DAA8D;YACrG,4CAA4C,EAAC,oEAAoE;YACjH,gDAAgD,EAAC,wEAAwE;YACzH,0BAA0B,EAAC,+DAA+D;YAC1F,qCAAqC,EAAE,kFAAkF;SAC5H;QACD,SAAS,EAAC;YACN,GAAG,EAAC;gBACA,GAAG,EAAC;oBACA,YAAY,EAAC,uCAAuC;iBACvD;aACJ;YACD,KAAK,EAAE;gBACH,KAAK,EAAE,6CAA6C;gBACpD,wBAAwB,EAAE,+DAA+D;gBAEzF,2FAA2F;gBAC3F,EAAE,EAAE,0DAA0D;aACjE;YACD,IAAI,EAAE;gBACF,wBAAwB,EAAE,CAAC,SAAS,CAAC;aACxC;SAEJ;KACJ,CAAA;;;;;;IC4SD,oBAqBC;IArVD,IAAI,MAAM,GAAG,KAAK,CAAC;IACnB,SAAS,MAAM,CAAC,MAA2C;QACvD,IAAI,MAAM;YACN,OAAO;QACX,cAAc;QACd,MAAM,EAAE,GAAI,MAAc,CAAC,eAAe,CAAA;QAC1C,IAAI,gBAAgB,GAAG,OAAO,CAAC,sCAAsC,CAAC,CAAC,gBAAgB,CAAC;QACxF,gBAAgB,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,KAA+B,EAAE,GAAG,EAAE,EAAE;YACxF,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,IAAI,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;YAC5B,IAAI,CAAC,GAAG,yBAAY,CAAC,6BAA6B,CAAC,IAAI,EAAE;gBACrD,IAAI,EAAE,GAAG,CAAC,UAAU,EAAE,SAAS,EAAE,GAAG,CAAC,MAAM;aAC9C,CAAC,CAAC;YACH,MAAM,MAAM,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC,WAAW,EAAE,CAAC;YACjD,UAAU,CAAC,GAAG,EAAE;gBACZ,qBAAS,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;oBAEjD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;wBAErB,KAAK,CAAC,kBAAkB,CAAC,EAAE,EAAE,CAAC;gCAC1B,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC;gCAC5F,IAAI,EAAE,IAAI,CAAC,IAAI;6BAClB,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE;4BACN,OAAO,IAAI,CAAC;wBAChB,CAAC,CAAC,CAAC;wBACH,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC1E,KAAK,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;oBAC5C,CAAC;gBACL,CAAC,CAAC,CAAC;YAEP,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC,CAAC,CAAA;QACF,4BAA4B;QAC5B,2EAA2E;QAC3E,MAAM,aAAa,GAAG,MAAM,CAAC,oBAAoB,CAAC,CAAC;QACnD,MAAM,cAAc,GAAG,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACxE,aAAa,CAAC,cAAc,GAAG,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE;YACnD,MAAM,MAAM,GAAG,MAAM,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;YACnD,IAAI,MAAM,KAAK,IAAI,EAAE,CAAC;gBAClB,IAAI,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC5C,IAAI,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,eAAe,CAAC;gBAEnD,eAAM,CAAC,QAAQ,CAAC,qCAAqC,GAAG,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC,CAAC;YACpF,CAAC;YACD,OAAO,MAAM,CAAC,CAAC,gCAAgC;QACnD,CAAC,CAAC;QACF,4BAA4B;QAC5B,MAAM,CAAC,SAAS,CAAC,8BAA8B,CAAC,YAAY,EAAE;YAC1D,sBAAsB,EAAE,KAAK,WAAW,KAAK,EAAE,QAAQ;gBACnD,IAAI,iBAAiB,GAAG,KAAK,CAAC,eAAe,CAAC,EAAE,eAAe,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,aAAa,EAAE,QAAQ,CAAC,UAAU,EAAE,SAAS,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;gBACtJ,IAAI,IAAI,GAAG,KAAK,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;gBAChD,IAAI,KAAK,GAAG;oBACR,eAAe,EAAE,QAAQ,CAAC,UAAU;oBACpC,aAAa,EAAE,QAAQ,CAAC,UAAU;oBAClC,WAAW,EAAE,IAAI,CAAC,WAAW;oBAC7B,SAAS,EAAE,IAAI,CAAC,SAAS;iBAC5B,CAAC;gBACF,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACvC,IAAI,GAAG,GAAG,yBAAY,CAAC,6BAA6B,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,UAAU,EAAE,SAAS,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;gBACtH,IAAI,GAAG,GAAG,MAAM,yBAAY,CAAC,aAAa,CAAC,IAAI,EAAE,GAAG,EAAE,SAAS,EAAE,EAAE,4BAA4B,EAAE,IAAI,EAAE,CAAC,CAAC;gBACzG,IAAI,GAAG,GAAG,EAAE,CAAC;gBACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC1C,IAAI,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBACxB,IAAI,CAAC,EAAE,CAAC,aAAa,KAAK,QAAQ,IAAI,EAAE,CAAC,aAAa,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC,SAAS,KAAK,IAAI,EAAE,CAAC;wBACtF,IAAI,IAAI,GAAoC;4BACxC,KAAK,EAAE,EAAE,CAAC,IAAI;4BACd,IAAI,EAAuC,EAAE,CAAC,IAAI;4BAClD,aAAa,EAAE,cAAc,GAAG,EAAE,CAAC,MAAM;4BACzC,UAAU,EAAE,EAAE,CAAC,IAAI;4BACnB,KAAK,EAAE,KAAK;4BACZ,OAAO,EAAE;gCACL,SAAS,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC;gCAC5B,EAAE,EAAE,YAAY;gCAChB,KAAK,EAAE,YAAY;6BACtB;yBACJ,CAAA;wBACD,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACnB,CAAC;gBACL,CAAC;gBACD,OAAO;oBACH,WAAW,EAAE,GAAG;iBACnB,CAAC;YACN,CAAC;SACJ,CAAC,CAAC;QACH,MAAM,GAAG,IAAI,CAAC;IAClB,CAAC;IAED;;;MAGE;IAEK,IAAM,WAAW,GAAjB,MAAM,WAAY,SAAQ,qBAAS;QAQtC;YACI,KAAK,EAAE,CAAC;YAER,uDAAuD;QAE3D,CAAC;QACD,MAAM;YACF,OAAO,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,EAAE,SAAS,EAAC,aAAa,EAAC,KAAK,EAAC,EAAC,aAAa,EAAC,KAAK,EAAE,QAAQ,EAAC,MAAM,EAAC,WAAW,EAAE,OAAO,EAAC,EAAC,CAAC,CAAC;QACpI,CAAC;QACD,iBAAiB;YACb,IAAI,KAAK,GAAG,IAAI,CAAC;YAEjB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,GAAC,QAAQ,CAAC;YACxC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAE,EAAE,CAAC;YAElC,IAAI,KAAK,GAAG,iCAAe,CAAC,IAAI,CAAC,mBAAQ,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;YAC/E,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE;gBAC1C,+IAA+I;gBAC/I,QAAQ,EAAE,YAAY;gBACtB,KAAK,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC;gBACnC,WAAW,EAAE,IAAI;gBACjB,QAAQ,EAAE,EAAE;gBACZ,eAAe,EAAE,IAAI;gBACrB,YAAY;gBACZ,aAAa,EAAC,EAAE;aACnB,CAAC,CAAC;YAEH,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC;gBAChC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC;QACP,CAAC;QACO,uBAAuB,CAAC,IAAY;YACxC,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;YACjD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,oBAAoB,KAAK,cAAc;oBACvD,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC;YACvB,CAAC;YACD,OAAO,SAAS,CAAC;QACrB,CAAC;QACA,YAAY;YACT,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAC,8BAA8B,EAAC,IAAI,CAAC,CAAC;QACtE,CAAC;QACO,UAAU,CAAC,CAAC;YAChB,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;gBACtB,IAAI,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;gBACxC,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,cAAc,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;gBACrE,IAAI,IAAI,GAAG,YAAY,CAAC;gBACxB,IAAI,GAAG,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;gBAC7C,IAAI,GAAG,EAAE,CAAC;oBACN,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;oBAC5C,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,IAAI,GAAG,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;gBACvE,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,IAAI,GAAG,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;oBAClE,IAAI,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,EAAE,EAAE;wBAChD;4BACI,KAAK,EAAE,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;4BACzC,OAAO,EAAE;gCACL,WAAW,EAAE,IAAI;gCACjB,SAAS,EAAE,mBAAmB;gCAC9B,oBAAoB,EAAE,cAAc;6BACvC;yBACJ;qBACJ,CAAC,CAAC;gBACP,CAAC;YACL,CAAC;QACL,CAAC;QAED;;;WAGG;QACH,cAAc;YACV,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,CAAC;YAClD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC/D,IAAI,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,EAAE,CAAC;oBAClC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;gBACtB,CAAC;YACL,CAAC;YACD,OAAO,GAAG,CAAC;QACf,CAAC;QACD;;;WAGG;QACH,mBAAmB,CAAC,OAAO;YACvB,IAAI,CAAC,QAAQ,CAAC,mBAAmB,EAAE,OAAO,CAAC,CAAC;QAChD,CAAC;QACD;;;WAGG;QACH,OAAO,CAAC,OAAO;YACX,OAAO,SAAS,CAAC;YACjB,uCAAuC;QAC3C,CAAC;QACD;;;WAGG;QACH,MAAM,CAAC,OAAO;YACV,OAAO,SAAS,CAAC;YACjB,oCAAoC;QACxC,CAAC;QACD;;WAEG;QACH,IAAI,KAAK,CAAC,KAAa;YACnB,IAAI,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC;YACrC,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;gBACZ,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,GAAG,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;gBACvE,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACxC,IAAI,CAAC,GAAG,EAAE,CAAC;oBACP,IAAI,KAAK,GAAC,YAAY,CAAC;oBACvB,IAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC;wBAC7C,KAAK,GAAC,KAAK,CAAC;oBACf,IAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;wBAC/C,KAAK,GAAC,MAAM,CAAC;oBACjB,IAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;wBAC9C,KAAK,GAAC,MAAM,CAAC;oBACjB,IAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC;wBAC7C,KAAK,GAAC,KAAK,CAAC;oBAChB,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;oBACrD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;oBAC3B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACjC,CAAC;qBAAM,IAAI,GAAG,KAAK,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;oBACzC,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,CAAC;oBAC7C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;oBAC3B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACjC,CAAC;qBAAM,CAAC;oBACJ,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,iBAAiB,EAAE,CAAC;oBAE9D,gCAAgC;oBAChC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;4BAC7B,IAAI,EAAE,KAAK;4BACX,KAAK,EAAE,SAAS;yBAEnB,CAAC,CAAC,CAAC;oBAEJ;;;;;;yBAMK;oBACL,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;gBAChC,CAAC;gBACD,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;oBAC1B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC;gBAE1D,CAAC;YACL,CAAC;;gBAEG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACrC,CAAC;QAED,IAAI,KAAK;YACL,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACnC,CAAC;QACD;;WAEG;QACH,IAAI,cAAc,CAAC,MAAuC;YACtD,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACrB,IAAI,CAAC;gBACD,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBACpC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;YAChF,CAAC;YAAC,WAAM,CAAC;YAET,CAAC;QACL,CAAC;QACD,IAAI,cAAc;YACd,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;YACrC,OAAO;gBACH,GAAG,EAAE,GAAG,CAAC,UAAU;gBACnB,MAAM,EAAE,GAAG,CAAC,MAAM;aACrB,CAAA;QACL,CAAC;QAED,OAAO;YACH,yBAAyB;YACzB,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,YAAY,CAAC,CAAC;QACjD,CAAC;QAED;;UAEE;QACF,IAAI;YACA,YAAY;YACZ,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC;QACnC,CAAC;QACD;;aAEK;QACL,MAAM;YACF,EAAE;YACF,2BAA2B;QAC/B,CAAC;QACD;;SAEC;QACD,IAAI,IAAI,CAAC,IAAI;YACT,gBAAgB;YAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,0DAA0D;QAC9D,CAAC;QACD,IAAI,IAAI;YACJ,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;QACD,KAAK,CAAC,UAAU;YAEZ,IAAI,CAAC,IAAI,GAAG,aAAa,CAAC;YAC1B,IAAI,CAAC,KAAK,GAAG,wBAAwB,CAAC;QAC1C,CAAC;KACJ,CAAA;IAlOY,kCAAW;0BAAX,WAAW;QADvB,IAAA,kBAAM,EAAC,4BAA4B,CAAC;;OACxB,WAAW,CAkOvB;IAEM,KAAK,UAAU,IAAI;QACtB,sFAAsF;QACtF,IAAI,GAAG,GAAG,IAAI,WAAW,EAAE,CAAC;QAC5B,0DAA0D;QAC1D,MAAM,GAAG,CAAC,UAAU,EAAE,CAAC;QACvB,UAAU,CAAC,GAAG,EAAE;YACZ,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;YAClB,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;QAEvB,CAAC,EAAE,GAAG,CAAC,CAAC;QACR,YAAY;QACZ,0BAA0B;QAE1B,kFAAkF;QAClF,4BAA4B;QAC5B,8CAA8C;QAC9C,+DAA+D;QAC/D,8CAA8C;QAC9C,6CAA6C;QAE7C,OAAO,GAAG,CAAC;IACf,CAAC;;AClWD,yCAAyC;AACzC,MAAM,CAAC,yBAAyB,EAAC,CAAC,SAAS,CAAC,EAAE,UAAS,OAAO;IAC7D,OAAO;QACN,OAAO,EAAE;YACV,4BAA4B,EAAE;gBAC7B,MAAM,EAAE,kBAAkB;gBAC1B,qBAAqB,EAAE,EAAE;aACzB;YACD,kCAAkC,EAAE;gBACnC,MAAM,EAAE,kBAAkB;gBAC1B,2BAA2B,EAAE,EAAE;aAC/B;YACD,kCAAkC,EAAE;gBACnC,MAAM,EAAE,aAAa;gBACrB,+BAA+B,EAAE,EAAE;aACnC;YACD,8BAA8B,EAAE;gBAC/B,MAAM,EAAE,kBAAkB;gBAC1B,6CAA6C,EAAE;oBAC9C,qBAAqB,EAAE,EAAE;oBACzB,UAAU,EAAE,EAAE;iBACd;gBACD,2BAA2B,EAAE;oBAC5B,UAAU,EAAE,EAAE;iBACd;aACD;YACD,iDAAiD,EAAE;gBAClD,MAAM,EAAE,kBAAkB;gBAC1B,8CAA8C,EAAE,EAAE;aAClD;YACD,6BAA6B,EAAE;gBAC9B,MAAM,EAAE,aAAa;gBACrB,0BAA0B,EAAE,EAAE;aAC9B;YACD,qCAAqC,EAAE;gBACtC,MAAM,EAAE,kBAAkB;gBAC1B,kCAAkC,EAAE,EAAE;aACtC;YACD,qCAAqC,EAAE;gBACtC,MAAM,EAAE,kBAAkB;gBAC1B,kCAAkC,EAAE,EAAE;aACtC;YACD,oCAAoC,EAAE;gBACrC,MAAM,EAAE,iBAAiB;gBACzB,iCAAiC,EAAE,EAAE;aACrC;YACD,gCAAgC,EAAE;gBACjC,MAAM,EAAE,iBAAiB;gBACzB,gCAAgC,EAAE;oBACjC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,OAAO,EAAE;4BACR,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,gBAAgB;oCACxB,MAAM,EAAE,6BAA6B;iCACrC;6BACD;yBACD;wBACD,YAAY,EAAE;4BACb,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,+BAA+B;oCACvC,MAAM,EAAE,sBAAsB;iCAC9B;6BACD;yBACD;qBACD;iBACD;aACD;YACD,oCAAoC,EAAE;gBACrC,MAAM,EAAE,kBAAkB;gBAC1B,iCAAiC,EAAE;oBAClC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,YAAY,EAAE;4BACb,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,kCAAkC;oCAC1C,MAAM,EAAE,uBAAuB;iCAC/B;6BACD;yBACD;qBACD;iBACD;aACD;YACD,4BAA4B,EAAE;gBAC7B,MAAM,EAAE,aAAa;gBACrB,yBAAyB,EAAE,EAAE;aAC7B;YACD,8BAA8B,EAAE;gBAC/B,MAAM,EAAE,kBAAkB;gBAC1B,8BAA8B,EAAE;oBAC/B,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,YAAY,EAAE;4BACb,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,uBAAuB;oCAC/B,MAAM,EAAE,mCAAmC;iCAC3C;6BACD;yBACD;qBACD;iBACD;aACD;YACD,8BAA8B,EAAE;gBAC/B,MAAM,EAAE,kBAAkB;aAC1B;YACD,+BAA+B,EAAE;gBAChC,MAAM,EAAE,iBAAiB;aACzB;YACD,0CAA0C,EAAE;gBAC3C,MAAM,EAAE,iBAAiB;aACzB;YACD,gCAAgC,EAAE;gBACjC,MAAM,EAAE,aAAa;gBACrB,+BAA+B,EAAE;oBAChC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,UAAU;oCAClB,MAAM,EAAE,cAAc;oCACtB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,UAAU,EAAE;4BACX,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,UAAU;oCAClB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,WAAW,EAAE;4BACZ,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,YAAY;oCACpB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,WAAW,EAAE;4BACZ,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,YAAY;oCACpB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,UAAU,EAAE;4BACX,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,QAAQ;iCAChB;6BACD;yBACD;wBACD,gBAAgB,EAAE;4BACjB,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,kBAAkB;oCAC1B,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,kBAAkB,EAAE;4BACnB,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,oBAAoB;oCAC5B,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,QAAQ,EAAE;4BACT,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,QAAQ;iCAChB;6BACD;yBACD;wBACD,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,SAAS;iCACjB;6BACD;yBACD;wBACD,MAAM,EAAE;4BACP,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,MAAM;oCACd,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;qBACD;iBACD;gBACD,yBAAyB,EAAE;oBAC1B,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,MAAM,EAAE;4BACP,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,2BAA2B;oCACnC,MAAM,EAAE,mBAAmB;iCAC3B;6BACD;yBACD;qBACD;iBACD;aACD;YACD,gCAAgC,EAAE;gBACjC,MAAM,EAAE,kBAAkB;gBAC1B,6BAA6B,EAAE,EAAE;aACjC;YACD,yBAAyB,EAAE;gBAC1B,MAAM,EAAE,kBAAkB;aAC1B;YACD,+BAA+B,EAAE;gBAChC,MAAM,EAAE,kBAAkB;gBAC1B,4BAA4B,EAAE,EAAE;aAChC;YACD,kCAAkC,EAAE;gBACnC,MAAM,EAAE,kBAAkB;gBAC1B,kCAAkC,EAAE;oBACnC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,MAAM,EAAE;4BACP,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,4BAA4B;oCACpC,MAAM,EAAE,+BAA+B;iCACvC;6BACD;yBACD;qBACD;iBACD;aACD;YACD,+BAA+B,EAAE;gBAChC,MAAM,EAAE,kBAAkB;aAC1B;YACD,6CAA6C,EAAE;gBAC9C,MAAM,EAAE,kBAAkB;gBAC1B,oDAAoD,EAAE;oBACrD,UAAU,EAAE,EAAE;iBACd;gBACD,mCAAmC,EAAE;oBACpC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,cAAc;oCACtB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;qBACD;iBACD;aACD;YACD,6CAA6C,EAAE;gBAC9C,MAAM,EAAE,aAAa;gBACrB,oDAAoD,EAAE;oBACrD,UAAU,EAAE,EAAE;iBACd;gBACD,mCAAmC,EAAE;oBACpC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,cAAc;oCACtB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;qBACD;iBACD;aACD;YACD,gDAAgD,EAAE;gBACjD,MAAM,EAAE,aAAa;gBACrB,6CAA6C,EAAE;oBAC9C,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,YAAY;oCACpB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;qBACD;iBACD;aACD;YACD,iDAAiD,EAAE;gBAClD,MAAM,EAAE,aAAa;gBACrB,8CAA8C,EAAE;oBAC/C,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,kBAAkB;oCAC1B,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;qBACD;iBACD;aACD;YACD,uCAAuC,EAAE;gBACxC,MAAM,EAAE,kBAAkB;gBAC1B,oCAAoC,EAAE,EAAE;aACxC;YACD,uCAAuC,EAAE;gBACxC,MAAM,EAAE,aAAa;gBACrB,oCAAoC,EAAE,EAAE;aACxC;YACD,+BAA+B,EAAE;gBAChC,MAAM,EAAE,kBAAkB;gBAC1B,4BAA4B,EAAE,EAAE;aAChC;YACD,gCAAgC,EAAE;gBACjC,MAAM,EAAE,kBAAkB;gBAC1B,6BAA6B,EAAE,EAAE;aACjC;YACD,8BAA8B,EAAE;gBAC/B,MAAM,EAAE,kBAAkB;gBAC1B,8BAA8B,EAAE;oBAC/B,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,UAAU,EAAE;4BACX,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,WAAW;iCACnB;6BACD;yBACD;qBACD;iBACD;aACD;YACD,oCAAoC,EAAE;gBACrC,MAAM,EAAE,iBAAiB;gBACzB,iCAAiC,EAAE,EAAE;aACrC;YACD,mCAAmC,EAAE;gBACpC,MAAM,EAAE,kBAAkB;gBAC1B,gCAAgC,EAAE,EAAE;aACpC;SACD;KACC,CAAA;AACF,CAAC,CAAC,CAAC;;;;;;IC5QH,oBAGC;;IApGM,IAAM,cAAc,sBAApB,MAAM,cAAe,SAAQ,cAAK;QAKrC;YACI,KAAK,EAAE,CAAC;YAHZ,yCAAyC;YACzC,kBAAa,GAAW,GAAG,CAAC;YAGxB,kBAAkB;YAClB,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,GAAE,kBAAkB,CAAC;YACzC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,GAAE,mBAAmB,CAAC,CAAA,YAAY;YACvD,IAAI,CAAC,IAAI,GAAG,IAAI,WAAI,EAAE,CAAC;YACvB,IAAI,CAAC,MAAM,GAAG,IAAI,iBAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QAKY,AAAb,MAAM,CAAC,KAAK,CAAC,IAAI;YACb,IAAI,iBAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC;gBACnC,IAAI,MAAM,GAAG,iBAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;gBAE9B,iBAAO,CAAC,OAAO,CAAC,IAAI,gBAAc,EAAE,EAAE,QAAQ,CAAC,CAAC;QACrD,CAAC;QACD,KAAK,CAAC,QAAQ;YACV,IAAI,UAAU,GAAC,CAAC,sDAAc,gCAAgC,8CAAC,CAAC,CAAC,YAAY,CAAC;YAC9E,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,KAAK,GAAG,EAAE,CAAC,CAAA,8EAA8E;YAC7F,IAAI,MAAM,GAAoB,IAAI,CAAC,MAAM,CAAC,KAAM,CAAC,iBAAiB,EAAE,CAAC;YACrE,IAAI,KAAK,GAAG,CAAC,CAAC;YACd,IAAI,SAAS,GAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;YACpC,KAAK,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,SAAS,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC,CAAC;gBACjC,IAAI,IAAI,GAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACtB,IAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,GAAC,CAAC,CAAC,EAAC,2BAA2B;oBAC1D,SAAS;gBACb,IAAI,IAAI,GAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAClC,IAAG,IAAI,EAAC,CAAC;oBACL,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;oBAC9B,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;oBAC/B,IAAI,WAAW,GAAC,EAAC,IAAI,EAAC,IAAI,EAAC,KAAK,EAAE,EAAE,EAAE,CAAA;oBACtC,OAAO,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC;wBAChB,KAAK,EAAE,CAAC;wBACR,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;4BAC7B,MAAM;wBACV,CAAC;wBACD,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBAC5C,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBACtC,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;wBAC9C,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,IAAI,EAAC,IAAI,EAAC,GAAG,EAAC,GAAG,EAAC,IAAI,EAAC,IAAI,EAAC,CAAC,CAAA;wBACrD,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAC,GAAG,GAAC,CAAC,CAAC,CAAC;oBACrC,CAAC;oBACD,IAAG,WAAW,CAAC,KAAK,CAAC,MAAM,GAAC,CAAC;wBACzB,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;wBAC7B,MAAM;oBACV,CAAC;gBACL,CAAC;YACL,CAAC;YACD,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;QAC1B,CAAC;QACD,KAAK,CAAC,MAAM;YACR,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YAC1B,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACvB,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAErB,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;YAC/B,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC;YAE/B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAS,GAAG;gBAE1B,IAAI,GAAG,CAAC,IAAI,KAAK,SAAS,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;oBAC3D,IAAI,GAAG,GAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;oBAClB,IAAI,IAAI,GAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;oBACvB,gDAAQ,gCAAgC,+CAAE,IAAI,CAAC,UAAU,CAAA,EAAE;wBACvD,IAAI,IAAI,GAAQ,UAAU,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;wBACtD,IAAI,IAAI,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAC,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC;wBAClD,eAAM,CAAC,QAAQ,CAAC,qCAAqC,GAAG,IAAI,GAAC,QAAQ,GAAC,IAAI,CAAC,CAAC;oBAChF,CAAC,CAAC,CAAC;gBAEP,CAAC;YACL,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,GAAC,SAAS,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAS,GAAG;gBAC9B,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;oBACnB,0BAA0B;oBAC1B,KAAK,CAAC,QAAQ,EAAE,CAAC;oBACjB,IAAI;gBACR,CAAC,EAAE,GAAG,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;QAC5B,CAAC;KAGJ,CAAA;IAhGY,wCAAc;IAkBV;QAJV,IAAA,iBAAO,EAAE;YACX,IAAI,EAAE,4BAA4B;YAC/B,IAAI,EAAE,+BAA+B;SACxC,CAAC;;;;oCAMD;6BAvBQ,cAAc;QAF1B,IAAA,yBAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,kCAAkC,CAAC;;OAC9B,cAAc,CAgG1B;IACD,SAAgB,IAAI;QAChB,OAAO,IAAI,cAAc,EAAE,CAAC;IAEhC,CAAC;;;;;;ICnGD,kCAAkC;IAElC,KAAK,UAAU,KAAK;QAElB,+EAA+E;QAC7E,uCAAuC;QACvC,aAAa;QACb,iBAAO,CAAC,OAAO,CAAC,IAAI,mCAAgB,EAAE,EAAE,WAAW,CAAC,CAAC;QACrD,iBAAO,CAAC,OAAO,CAAC,IAAI,+BAAc,EAAE,EAAE,QAAQ,CAAC,CAAC;QAChD,iBAAO,CAAC,OAAO,CAAC,IAAI,2BAAY,EAAE,EAAE,OAAO,CAAC,CAAC;QAC7C,IAAI,EAAE,GAAC,IAAI,eAAM,EAAE,CAAC;QACpB,iBAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACzB,EAAE,CAAC,IAAI,GAAC,iBAAiB,CAAC;QAC1B,IAAI,EAAE,GAAC,IAAI,+BAAc,EAAE,CAAC;QAC5B,EAAE,CAAC,OAAO,CAAC,GAAE,EAAE;YACX,iBAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAC5B,EAAE,GAAC,IAAI,+BAAc,EAAE,CAAA;YACvB,iBAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,iBAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACzB,eAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAG1C,CAAC;IACD,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC;;;;;;;;IC5Bf,MAAM,IAAI,GAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA8BT,CAAC;IAEI,IAAM,0BAA0B,GAAhC,MAAM,0BAA0B;KAKtC,CAAA;IALY,gEAA0B;IAEtC;QADC,IAAA,oBAAS,EAAC,EAAC,UAAU,EAAC,oBAAoB,EAAC,CAAC;;kEAC3B;IAEf;QADF,IAAA,oBAAS,EAAC,EAAC,IAAI,EAAC,eAAe,EAAE,OAAO,EAAC,WAAW,EAAC,CAAC;sDAC3C,mBAAQ,oBAAR,mBAAQ;gEAAC;yCAJT,0BAA0B;QADtC,IAAA,kBAAM,EAAC,oDAAoD,CAAC;OAChD,0BAA0B,CAKtC;IAGM,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;QAQZ,AAAb,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAe;YACtC,IAAI,KAAK,GAAC,IAAI,0BAA0B,EAAE,CAAC;YACrC,IAAI,GAAG,GAAG,MAAM,2BAAY,CAAC,aAAa,CAAC,sBAAsB,EAAC,KAAK,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAC,SAAS,EAAC,KAAK,CAAC,CAAC;YAC3G,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,EAAG,CAAC;gBAC7B,IAAI,KAAK,GAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAC,KAAK,CAAC,UAAU,CAAC,CAAC;gBAC7D,IAAI,eAAe,GAAE,iBAAO,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBAC1D,IAAI,gBAAgB,GAAC,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;gBACrF,IAAI,UAAU,GAAC,CAAC,MAAM,mBAAQ,CAAC,WAAW,CAAC,QAAQ,EAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;gBAClF,UAAU,GAAC,UAAU,CAAC,SAAS,CAAC,CAAC,EAAC,UAAU,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;gBACvD,KAAK,GAAC,KAAK,CAAC,UAAU,CAAC,mBAAmB,EAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAC,GAAG,GAAC,KAAK,CAAC,UAAU,CAAC,CAAC,UAAU,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC,CAAC;gBACvG,KAAK,GAAC,KAAK,CAAC,UAAU,CAAC,iBAAiB,EAAC,gBAAgB,CAAC,CAAC;gBAC3D,KAAK,GAAC,KAAK,CAAC,UAAU,CAAC,qBAAqB,EAAC,eAAe,CAAC,CAAC;gBAC9D,KAAK,GAAC,KAAK,CAAC,UAAU,CAAC,gBAAgB,EAAC,UAAU,CAAC,CAAC;gBAEpD,0BAAW,CAAC,OAAO,CAAC,GAAG,EAAC,KAAK,CAAC,UAAU,GAAC,KAAK,EAAC,KAAK,EAAC,IAAI,CAAC,CAAC;YACzD,CAAC;QACL,CAAC;;IAxBQ,4CAAgB;IACrB,qBAAI,GAAQ,IAAI,AAAZ,CAAa;IAOR;QANZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,cAAc;YACpB,SAAS,EAAE,UAAS,GAAe;gBAC/B,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YAChC,CAAC;SACJ,CAAC;;;;yCAiBD;+BAxBQ,gBAAgB;QAF5B,IAAA,yBAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,mCAAmC,CAAC;OAC/B,gBAAgB,CAyB5B;;;;;;;IC/DD,IAAI,IAAI,GAAC;;;;;;;;;;;;;;;;;;;;;GAqBN,CAAC;IAGG,IAAM,0BAA0B,GAAhC,MAAM,0BAA0B;KAKtC,CAAA;IALY,gEAA0B;IAEtC;QADC,IAAA,oBAAS,EAAC,EAAC,UAAU,EAAC,sBAAsB,EAAC,CAAC;;4DACnC;IAET;QADF,IAAA,oBAAS,EAAC,EAAC,OAAO,EAAC,MAAM,EAAC,WAAW,EAAC,sFAAsF,EAAC,CAAC;;uEACrG;yCAJd,0BAA0B;QADtC,IAAA,kBAAM,EAAC,oDAAoD,CAAC;OAChD,0BAA0B,CAKtC;IAGM,IAAM,gBAAgB,wBAAtB,MAAM,gBAAgB;QAQZ,AAAb,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAe;YACtC,IAAI,KAAK,GAAC,IAAI,0BAA0B,EAAE,CAAC;YACrC,IAAI,GAAG,GAAG,MAAM,2BAAY,CAAC,aAAa,CAAC,wBAAwB,EAAC,KAAK,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAC,SAAS,EAAC,KAAK,CAAC,CAAC;YAC7G,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,EAAG,CAAC;gBAC7B,IAAI,KAAK,GAAC,kBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,mBAAmB,EAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAC,GAAG,GAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC/F,KAAK,GAAC,KAAK,CAAC,UAAU,CAAC,eAAe,EAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBACnD,IAAI,IAAI,GAAC,kBAAkB,CAAC;gBAC5B,IAAG,KAAK,CAAC,eAAe;oBACtB,IAAI,GAAC,2BAA2B,CAAC;gBACnC,KAAK,GAAC,KAAK,CAAC,UAAU,CAAC,sBAAsB,EAAC,IAAI,CAAC,CAAC;gBAEpD,0BAAW,CAAE,OAAO,CAAC,GAAG,EAAC,KAAK,CAAC,IAAI,GAAC,KAAK,EAAC,KAAK,EAAC,IAAI,CAAC,CAAC;YACpD,CAAC;QACL,CAAC;;IArBQ,4CAAgB;IACrB,qBAAI,GAAQ,IAAI,AAAZ,CAAa;IAOR;QANZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,cAAc;YACpB,SAAS,EAAE,UAAS,GAAe;gBAC/B,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,IAAE,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,KAAG,CAAC,CAAC,CAAC;YAC1E,CAAC;SACJ,CAAC;;;;yCAcD;+BArBQ,gBAAgB;QAF5B,IAAA,yBAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,mCAAmC,CAAC;OAC/B,gBAAgB,CAsB5B;;;;;;IC1DD,MAAM,IAAI,GAAC;;;;;;;;;;;;;;;;;;;;;;EAsBT,CAAC;IAII,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;QAQf,AAAb,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAe;YAEhC,IAAI,GAAG,GAAG,MAAM,2BAAY,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;YACrG,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;gBACxD,IAAI,KAAK,GAAC,IAAI,CAAC,UAAU,CAAC,gBAAgB,EAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACrD,KAAK,GAAC,KAAK,CAAC,UAAU,CAAC,mBAAmB,EAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAC,GAAG,GAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACzE,0BAAW,CAAC,OAAO,CAAC,GAAG,EAAC,GAAG,CAAC,IAAI,GAAC,KAAK,EAAC,KAAK,EAAC,IAAI,CAAC,CAAC;YACjD,CAAC;QACL,CAAC;;IAhBQ,kDAAmB;IACxB,wBAAI,GAAQ,IAAI,AAAZ,CAAa;IAOR;QANZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,YAAY;YAClB,SAAS,EAAE,UAAS,GAAe;gBAC/B,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YAChC,CAAC;SACJ,CAAC;;;;4CASD;kCAhBQ,mBAAmB;QAF/B,IAAA,yBAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,6CAA6C,CAAC;OACzC,mBAAmB,CAiB/B;;;;;;IC3CD,MAAM,IAAI,GAAC;;;;;;;;;;;;;;;;;CAiBV,CAAC;IAIK,IAAM,oBAAoB,GAA1B,MAAM,oBAAoB;QAQhB,AAAb,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAe;YAEhC,IAAI,GAAG,GAAG,MAAM,2BAAY,CAAC,IAAI,CAAC,0BAA0B,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,gBAAgB,CAAC,CAAC;YACnH,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;gBACxD,IAAI,KAAK,GAAC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAC/C,KAAK,GAAC,KAAK,CAAC,UAAU,CAAC,mBAAmB,EAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAC,GAAG,GAAC,GAAG,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC,CAAC;gBAC/F,0BAAW,CAAC,OAAO,CAAC,GAAG,EAAC,GAAG,CAAC,IAAI,GAAC,KAAK,EAAC,KAAK,EAAC,IAAI,CAAC,CAAC;YACjD,CAAC;QACL,CAAC;;IAhBQ,oDAAoB;IACzB,yBAAI,GAAQ,IAAI,AAAZ,CAAa;IAOR;QANZ,IAAA,iBAAO,EAAC;YACL,IAAI,EAAE,kBAAkB;YACxB,SAAS,EAAE,UAAS,GAAe;gBAC/B,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,IAAE,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAC,CAAC,IAAE,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAG,QAAQ,CAAC;YAC/G,CAAC;SACJ,CAAC;;;;6CASD;mCAhBQ,oBAAoB;QAFhC,IAAA,yBAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,8CAA8C,CAAC;OAC1C,oBAAoB,CAiBhC;;;;;;;IC+fD,sBAyBC;IAED,sBAQC;;;IAnkBD,MAAa,aAAa;QAStB,IAAI,QAAQ;;YACR,OAAO,MAAA,IAAI,CAAC,UAAU,0CAAE,QAAQ,CAAC;QACrC,CAAC;QACD,IAAI,QAAQ,CAAC,KAAc;YACvB,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;gBACtB,IAAI,IAAI,CAAC,UAAU;oBACf,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;gBACpC,OAAO;YACX,CAAC;YAED,IAAI,cAAc,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAC3E,IAAI,KAAK,KAAK,SAAS;oBACnB,OAAO;gBACX,MAAM,kCAAkC,CAAC;YAC7C,CAAC;YACD,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS;gBAC7B,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,KAAK,CAAC;QAErC,CAAC;QAED,eAAe;YACX,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,KAAK,EAAE,EAAE,CAAC;gBAC9C,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACpC,OAAO,SAAS,CAAC;gBACrB,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACrC,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAA;gBACxC,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAC7C,IAAI,CAAC,EAAE;oBACH,OAAO,SAAS,CAAC;gBACrB,OAAO,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,CAAC;YACD,OAAO,SAAS,CAAC;QACrB,CAAC;QAED;;YAEI;QACJ,oBAAoB;YAChB,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI;gBAClB,OAAO,CAAC,eAAe,EAAE,wBAAwB,CAAC,CAAC;YAEvD,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,cAAc,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBACnE,OAAO,EAAE,CAAC;YACd,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;gBAC3B,MAAM,GAAG,CAAC,EAAE,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;YAC7C,CAAC;;gBACG,MAAM,GAAG,CAAC,EAAE,EAAE,UAAU,EAAE,WAAW,CAAC,CAAC;YAC3C,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YACrC,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;YAChC,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9C,IAAI,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAClC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;oBAE3B,IAAI,QAAQ,CAAC,IAAI,KAAK,QAAQ,EAAE,CAAC;wBAC7B,WAAW;wBACX,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACtC,CAAC;oBACD,IAAI,QAAQ,CAAC,IAAI,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC;wBACtC,YAAY;wBACZ,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;wBAClC,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC;oBACjD,CAAC;gBACL,CAAC;qBAAM,CAAC;oBAEJ,IAAI,QAAQ,CAAC,IAAI,KAAK,QAAQ,EAAE,CAAC;wBAC7B,UAAU;wBACV,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;wBAClC,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC;oBACjD,CAAC;oBACD,IAAI,QAAQ,CAAC,IAAI,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC;wBACtC,WAAW;wBACX,MAAM,CAAC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACtC,CAAC;gBACL,CAAC;YACL,CAAC;YACD,OAAO,MAAM,CAAC;QAClB,CAAC;QACD,IAAI,YAAY;YACZ,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,IAAI,IAAI,CAAC,QAAQ,KAAK,YAAY,IAAI,IAAI,CAAC,QAAQ,KAAK,WAAW,IAAI,IAAI,CAAC,QAAQ,KAAK,WAAW,EAAE,CAAC;gBACnI,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,OAAO,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gBAC1D,CAAC;qBAAM,CAAC;oBACJ,OAAO,IAAI,CAAC,QAAQ,CAAC;gBACzB,CAAC;YACL,CAAC;iBAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,eAAe,IAAI,IAAI,CAAC,QAAQ,KAAK,wBAAwB;gBACtF,OAAO,IAAI,CAAC,QAAQ,CAAC;;gBAErB,OAAO,SAAS,CAAC;QACzB,CAAC;QACD,IAAI,YAAY,CAAC,KAAa;;YAC1B,IAAI,KAAK,KAAK,EAAE;gBACZ,KAAK,GAAG,SAAS,CAAC;YACtB,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;gBACtB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;gBAC1B,WAAW;YACf,CAAC;YACD,IAAI,KAAK,KAAK,eAAe,IAAI,KAAK,KAAK,wBAAwB,EAAE,CAAC;gBAClE,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI;oBAClB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBAC1B,OAAO;YACX,CAAC;YACD,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,UAAU,IAAI,KAAK,KAAK,YAAY,IAAI,KAAK,KAAK,WAAW,IAAI,KAAK,KAAK,WAAW,EAAE,CAAC;gBAE1H,IAAI,GAAG,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;gBACjC,IAAI,GAAG,KAAK,SAAS;oBACjB,GAAG,CAAC,WAAW,GAAG,SAAS,CAAC,CAAA,yCAAyC;gBACzE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;YACjC,CAAC;iBAAM,CAAC;gBACJ,IAAI,IAAI,GAAG,KAAK,CAAC;gBACjB,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;oBAC1B,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;oBAClC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACrB,CAAC;;oBACG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,IAAI,MAAM,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;gBAEpC,IAAI,MAAM,KAAK,SAAS,EAAE,CAAC;oBAEvB,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;oBAC7B,MAAM,KAAK,CAAC,oBAAoB,CAAC,CAAA;gBACrC,CAAC;gBACD,sCAAsC;gBACtC,IAAI,CAAC,CAAA,MAAA,MAAM,CAAC,WAAW,0CAAE,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAA;oBAC9C,MAAM,CAAC,WAAW,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC1C,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;oBAC3B,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;wBAC7B,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC;wBAC7B,4BAA4B;wBAC5B,MAAM,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;oBAE7B,CAAC;yBAAM,CAAC;wBACJ,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;oBAChC,CAAC;gBACL,CAAC;qBAAM,CAAC;oBACJ,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;wBAC7B,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC;oBAChC,CAAC;yBAAM,CAAC;wBACJ,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;wBAC3B,4BAA4B;wBAC5B,MAAM,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;oBAC7B,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;KAEJ;IA/JD,sCA+JC;IACD,MAAa,aAAa;QAA1B;YAGI,WAAM,GAAoB,EAAE,CAAC;QAYjC,CAAC;QARG,QAAQ,CAAC,IAAY;YACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC1C,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACxB,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI;oBAChB,OAAO,EAAE,CAAC;YAClB,CAAC;YAAA,CAAC;YACF,OAAO,SAAS,CAAC;QACrB,CAAC;KACJ;IAfD,sCAeC;IAED,IAAI,SAAS,GAAG,SAAS,CAAC;IAEnB,IAAM,cAAc,sBAApB,MAAM,cAAc;QAApB;YAEH,oBAAe,GAAoB,EAAE,CAAC;QA2V1C,CAAC;QAvVG,QAAQ,CAAC,IAAY;YACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnD,IAAI,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;gBACjC,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI;oBAChB,OAAO,EAAE,CAAC;YAClB,CAAC;YAAA,CAAC;YACF,OAAO,SAAS,CAAC;QACrB,CAAC;QAED,iBAAiB;QACT,WAAW,CAAC,IAAY,EAAE,WAAwB;YACtD,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YAChC,IAAI,GAAG,GAAG,CAAC,CAAC;gBACR,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;YAC1C,IAAI,IAAI,GAAG,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC5C,IAAI,IAAI,KAAK,WAAW,CAAC,IAAI;gBACzB,OAAO,WAAW,CAAC;YACvB,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;YACjD,IAAI,CAAC,GAAG,EAAE,CAAC;gBACP,MAAM,KAAK,CAAC,mBAAmB,GAAG,WAAW,CAAC,aAAa,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC;YAChF,CAAC;YACD,OAAO,GAAG,CAAC;QACf,CAAC;QACO,aAAa,CAAC,EAAiB;YACnC,IAAI,KAAK,GAAG,mCAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;YAC3E,IAAI,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;YAChD,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACtG,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;YACnB,EAAE,CAAC,eAAe,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACvE,KAAK,GAAG,KAAK,CAAC,UAAU,CAAC,eAAe,EAAE,EAAE,CAAC,eAAe,CAAC,CAAC;YAC9D,KAAK,GAAG,KAAK,CAAC,UAAU,CAAC,sBAAsB,EAAE,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;YAC1F,IAAI,MAAM,GAAG,IAAI,eAAM,EAAE,CAAC;YAC1B,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACpB,KAAK,IAAI,GAAG,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;gBAC7B,IAAI,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBACjC,MAAM,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;gBAC1B,IAAI,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC;oBAChC,kDAAkD;oBAClD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,MAAM,CAAC;oBAClD,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;gBACzF,CAAC;YACL,CAAC;QACL,CAAC;QACO,aAAa,CAAC,KAAoB,EAAE,IAAmB;;YAC3D,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,WAAW,KAAK,SAAS,IAAI,KAAK,CAAC,WAAW,KAAK,EAAE,CAAC,IAAI,KAAK,CAAC,QAAQ,KAAK,UAAU;gBAC5G,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC;YAC/D,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,WAAW,KAAK,SAAS,IAAI,KAAK,CAAC,WAAW,KAAK,EAAE,CAAC,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,QAAQ,KAAK,YAAY;gBAC5H,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC;YAG7D,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC;YAC1B,IAAI,SAAS,GAAG,KAAK,CAAC,UAAU,CAAC;YACjC,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;gBAC3B,QAAQ,GAAG,QAAQ,CAAC;gBACpB,IAAI,CAAC,SAAS;oBACV,SAAS,GAAG,EAAE,CAAC;gBACnB,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC;YAC/B,CAAC;YACD,IAAI,KAAK,CAAC,IAAI,KAAK,KAAK;gBACpB,QAAQ,GAAG,QAAQ,CAAC;YACxB,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,MAAA,aAAK,CAAC,YAAY,CAAC,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,0CAAE,UAAU,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAEtG,IAAI,CAAC,GAAG,SAAS,CAAC;YAClB,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,KAAK,EAAE,EAAE,CAAC;gBAC3C,IAAI,CAAC;oBACD,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACZ,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC;YACtD,CAAC;iBAAM,IAAI,KAAK,CAAC,QAAQ,KAAK,eAAe,IAAI,KAAK,CAAC,QAAQ,KAAK,wBAAwB,EAAE,CAAC;gBAC3F,IAAI,CAAC;oBACD,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACZ,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC;YAClE,CAAC;iBAAM,CAAC;gBACJ,IAAI,MAAM,GAAG,EAAE,CAAC;gBAChB,IAAI,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;gBAEvC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,eAAe,CAAC;gBAC9C,IAAI,IAAI,CAAC,IAAI,KAAK,GAAG;oBACjB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,iBAAiB,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACvJ,IAAI,GAAG,GAAG,GAAG,CAAC;gBACd,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;oBACxB,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gBAClD,CAAC;gBACD,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC;gBAC9B,IAAI,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,WAAW,KAAK,EAAE;oBAC7C,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,WAAW,CAAC,CAAC;gBAC3C,IAAI,CAAC;oBACD,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC;YACvE,CAAC;YACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,iBAAiB,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjJ,CAAC;QACO,KAAK,CAAC,kBAAkB,CAAC,IAAY,EAAE,IAAY;YACvD,IAAI,MAAM,GAAG,iBAAO,CAAC,aAAa,CAAC,4BAA4B,GAAG,IAAI,CAAC,CAAC;YACxE,IAAI,MAAM,KAAK,SAAS,EAAE,CAAC;gBAEvB,IAAI,MAAM,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;oBAErC,IAAI,IAAI,GAAG,MAAM,2BAAY,CAAC,IAAI,CAAC,0EAA0E,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;oBAC7I,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK;wBACrB,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;oBACxB,OAAO,MAAM,CAAC,aAAa,CAAC;gBAEhC,CAAC;YACL,CAAC;QACL,CAAC;QACD,KAAK,CAAC,YAAY,CAAC,cAAuB,KAAK;;YAC3C,gFAAgF;YAChF,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,GAAG,IAAI,gBAAc,EAAE,CAAC;YAC/B,MAAM,GAAG,CAAC,kBAAkB,EAAE,CAAC;YAC/B,IAAI,eAAe,GAAoB,EAAE,CAAC;YAC1C,iBAAiB;YACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnD,IAAI,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;gBACnC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC1C,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBACvB,IAAI,gBAAc,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,KAAK,SAAS,IAAI,CAAC,CAAC,QAAQ,KAAK,EAAE,CAAC;wBACvG,MAAM,KAAK,CAAC,0BAA0B,GAAG,IAAI,CAAC,IAAI,GAAG,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;gBACjF,CAAC;YACL,CAAC;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnD,IAAI,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;gBACnC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE,CAAC;oBACxC,OAAO,IAAI,eAAe,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;oBAC9C,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC3B,IAAI,CAAC,WAAW,EAAE,CAAC;wBACf,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;oBAC7B,CAAC;gBACL,CAAC;gBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC1C,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAC3B,IAAI,IAAI,GAAG,MAAA,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,0CAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACzD,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,SAAS,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;wBAC9D,OAAO,IAAI,eAAe,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;wBAClE,IAAI,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACpC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC/B,IAAI,CAAC,WAAW,EAAE,CAAC;4BACf,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;wBACpC,CAAC;oBACL,CAAC;yBAAM,CAAC;wBACJ,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;wBAC9C,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;wBAC3C,IAAI,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC;wBAC3B,IAAI,SAAS,KAAK,KAAK;4BACnB,SAAS,GAAG,SAAS,CAAC;wBAC1B,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,WAAW,KAAK,IAAI,CAAC,WAAW,IAAI,KAAK,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,IAAI,MAAM,KAAK,IAAI,IAAI,SAAS,KAAK,IAAI,CAAC,IAAI,EAAE,CAAC;4BACvJ,OAAO,IAAI,wBAAwB,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;4BAC3E,IAAI,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gCACpC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;4BAC/B,IAAI,CAAC,WAAW,EAAE,CAAC;gCACf,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;4BACpC,CAAC;wBACL,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;YAED,IAAI,KAAK,GAAa,EAAE,CAAC;YACzB,IAAI,QAAQ,GAAa,EAAE,CAAC;YAC5B,IAAI,CAAC,WAAW,EAAE,CAAC;gBACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC9C,IAAI,GAAG,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC;oBAC7B,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC;oBACjE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACzB,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACpB,oCAAoC;oBACpC,6BAA6B;gBAEjC,CAAC;gBACD,IAAI,CAAC;oBACD,MAAM,IAAI,eAAM,EAAE,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;oBAC9C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE;wBACjC,MAAM,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7D,CAAC;gBAAC,OAAO,IAAI,EAAE,CAAC;oBACZ,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACxB,CAAC;YACL,CAAC;YACD,OAAO,OAAO,CAAC;QACnB,CAAC;QACO,KAAK,CAAC,UAAU;YACpB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,MAAM,yBAAY,CAAC,aAAa,CAAC;YACjC,IAAI,IAAI,GAAG,MAAM,mBAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YACnD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnC,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBACnB,IAAI,MAAM,GAAG,IAAI,eAAM,EAAE,CAAC;gBAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACzB,IAAI,IAAI,GAAG,yBAAY,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBACvC,0BAA0B;gBAC1B,gDAAgD;gBAClD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;oBAClB,IAAI,CAAC;wBACD,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACvB,CAAC;oBAAC,OAAO,GAAG,EAAE,CAAC;wBACX,OAAO,CAAC,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC,CAAC;wBAC1C,MAAM,GAAG,CAAC;oBACd,CAAC;oBACD,KAAK,IAAI,GAAG,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;wBAC7B,IAAI,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;wBACjC,MAAM,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;wBAC1B,IAAI,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC;4BAChC,kDAAkD;4BAClD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,MAAM,CAAC;4BAClD,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;wBACzF,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;QACD,KAAK,CAAC,kBAAkB;YACpB,MAAM,IAAI,CAAC,UAAU,EAAE,CAAC;YACxB,oDAAoD;YACpD,MAAM,mBAAQ,CAAC,MAAM,EAAE,CAAC;YACxB,IAAI,IAAI,GAAG,mBAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YAC7C,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;YAC1B,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,CAAC,MAAM,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC1B,IAAI,OAAO,GAAG,IAAI,aAAa,EAAE,CAAC;gBAClC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC9B,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACnC,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAChD,IAAI,MAAM,EAAE,CAAC;oBACT,OAAO,CAAC,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;oBACtC,OAAO,CAAC,eAAe,GAAG,MAAM,CAAC,IAAI,CAAC;oBACtC,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC,aAAa,CAAC;oBACpC,KAAK,IAAI,KAAK,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;wBAC/B,IAAI,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;wBACnC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC;4BACxP,SAAS;wBACb,IAAI,KAAK,GAAG,IAAI,aAAa,EAAE,CAAC;wBAChC,KAAK,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC;wBAC1B,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;wBACnB,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBAC3B,IAAI,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC;wBAE5B,IAAI,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC;4BACxB,KAAK,CAAC,QAAQ,GAAG,eAAe,CAAC;wBACrC,CAAC;6BAAM,IAAI,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAAC;4BACxC,KAAK,CAAC,QAAQ,GAAG,eAAe,CAAC;wBACrC,CAAC;6BAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;4BACxB,KAAK,CAAC,QAAQ,GAAG,SAAS,CAAC;4BAE3B,qBAAqB;4BACrB,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gCAC7E,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;4BACzD,CAAC;wBAEL,CAAC;6BAAM,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;4BAC3B,KAAK,CAAC,QAAQ,GAAG,WAAW,CAAC;4BAC7B,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gCACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oCAC1D,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oCACxC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;wCACV,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,aAAa,CAAC;oCACxF,CAAC;yCAAM,CAAC;wCACJ,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC;4CAClD,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;wCAChD,CAAC;6CAAM,CAAC;4CACJ,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;wCAC5D,CAAC;oCACL,CAAC;gCACL,CAAC;4BACL,CAAC;wBACL,CAAC;6BAAM,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;4BAC3B,KAAK,CAAC,QAAQ,GAAG,WAAW,CAAC;4BAC7B,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gCACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oCAC1D,IAAI,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oCACxC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;wCACV,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC;oCAC/F,CAAC;yCAAM,CAAC;wCACJ,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC;4CAClD,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;wCAChD,CAAC;6CAAM,CAAC;4CACJ,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;wCAC5D,CAAC;oCACL,CAAC;gCACL,CAAC;4BACL,CAAC;wBACL,CAAC;6BAAM,IAAI,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;4BAC5B,KAAK,CAAC,QAAQ,GAAG,YAAY,CAAC;4BAC9B,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gCAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oCAC3D,IAAI,EAAE,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oCACzC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;wCACV,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC;oCAChG,CAAC;yCAAM,CAAC;wCACJ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC;4CACnD,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;wCAChD,CAAC;6CAAM,CAAC;4CACJ,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;wCAC7D,CAAC;oCACL,CAAC;gCACL,CAAC;4BACL,CAAC;4BACD,IAAI,IAAI,CAAC,WAAW,CAAC;gCACjB,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;wBAE1B,CAAC;6BAAM,IAAI,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;4BAC1B,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;4BAC5B,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gCACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oCACzD,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oCACvC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;wCACV,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,aAAa,CAAC;oCACvF,CAAC;yCAAM,CAAC;wCACJ,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC;4CACjD,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;wCAChD,CAAC;6CAAM,CAAC;4CACJ,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;wCAC3D,CAAC;oCACL,CAAC;gCACL,CAAC;4BACL,CAAC;4BACD,IAAI,IAAI,CAAC,YAAY,CAAC;gCAClB,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;wBAC1B,CAAC;wBAED,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC,wBAAwB,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;4BAC5E,IAAI,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC;4BACrB,IAAI,EAAE,KAAK,QAAQ;gCACf,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC;iCACrB,IAAI,EAAE,KAAK,QAAQ;gCACpB,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;iCAClB,IAAI,EAAE,KAAK,SAAS;gCACrB,KAAK,CAAC,IAAI,GAAG,SAAS,CAAC;iCACtB,IAAI,EAAE,KAAK,MAAM;gCAClB,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC;;gCAEpB,MAAM,IAAI,KAAK,CAAC,eAAe,GAAG,OAAO,CAAC,IAAI,GAAG,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;4BACvE,IAAI,KAAK,CAAC,UAAU,KAAK,SAAS,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;gCAC7D,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;4BAC1C,CAAC;wBACL,CAAC;oBACL,CAAC;gBACL,CAAC;YAEL,CAAC,CAAC,CAAC;QACP,CAAC;;IA3VQ,wCAAc;IAChB,6BAAc,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,MAAM,CAAC,AAAlD,CAAmD;6BAD/D,cAAc;QAD1B,IAAA,kBAAM,EAAC,oCAAoC,CAAC;OAChC,cAAc,CA6V1B;IAED;;;;;;;;;;;;;OAaG;IACI,KAAK,UAAU,KAAK;QACvB,IAAI,MAAM,GAAG,IAAI,cAAc,EAAE,CAAC;QAClC,MAAM,MAAM,CAAC,kBAAkB,EAAE,CAAC;QAClC,IAAI,OAAO,GAAG,IAAI,cAAc,EAAE,CAAC;QACnC,MAAM,OAAO,CAAC,kBAAkB,EAAE,CAAC;QAEnC,IAAI,IAAI,GAAG,IAAI,aAAa,EAAE,CAAC;QAC/B,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;QACtB,IAAI,CAAC,IAAI,GAAG,eAAe,CAAC;QAC5B,IAAI,KAAK,GAAG,IAAI,aAAa,EAAE,CAAC;QAChC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;QACnB,KAAK,CAAC,QAAQ,GAAG,eAAe,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxB,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,GAAG,IAAI,aAAa,EAAE,CAAC;QAC5B,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC;QACjB,CAAC,CAAC,IAAI,GAAG,QAAQ,CAAC;QAClB,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACzC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,UAAU,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;QAC9E,IAAI,IAAI,GAAG,MAAM,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAC5C,sBAAsB;QACtB,aAAa;QACb,+BAA+B;IAEnC,CAAC;IAEM,KAAK,UAAU,KAAK;QACvB,IAAI,MAAM,GAAG,IAAI,cAAc,EAAE,CAAC;QAClC,MAAM,MAAM,CAAC,kBAAkB,EAAE,CAAC;QAClC,IAAI,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,CAAC;QAC5B,IAAI,EAAE,GAAG,CAAC,CAAC,YAAY,CAAC;QACxB,QAAQ,CAAC;QACT,CAAC,CAAC,YAAY,GAAG,EAAE,CAAC;IACxB,CAAC;;;;;;IC3kBM,IAAM,cAAc,GAApB,MAAM,cAAc;QAI2H,CAAC;QAanJ;YACI,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;YACnC,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;YACjC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACrB,CAAC;QACD;;WAEG;QACI,aAAa,CAAC,KAAU,EAAE,EAAO;YACpC,IAAI,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC;YAChD,IAAI,KAAK,KAAK,UAAU,IAAI,KAAK,KAAK,UAAU,IAAI,KAAK,KAAK,WAAW;gBACrE,OAAO,IAAI,CAAC;;gBAEZ,OAAO,KAAK,CAAC;QACrB,CAAC;QACD,oBAAoB;QACb,UAAU;YACb,OAAO,IAAI,CAAC,WAAW,CAAC;QAC5B,CAAC;QACD;;WAEG;QACI,eAAe,CAAC,MAAe;YAClC,uCAAuC;YACvC,oCAAoC;YAEpC,IAAG,CAAC;gBACA,IAAI,IAAI,CAAC,mBAAmB,KAAK,SAAS,EAAE,CAAC;oBACzC,IAAI,CAAC,MAAM;wBACP,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;;wBAE9C,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;gBACrD,CAAC;YACL,CAAC;YAAA,WAAK,CAAC;gBACH,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;gBAAA,CAAC;YAClC,CAAC;QAEL,CAAC;QACO,KAAK,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YAC3B,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,YAAY,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACzC,IAAI,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC;YAC7B,IAAI,eAAe,GAAG,MAAM,CAAC,KAAK,CAAC;YACnC,IAAI,gBAAgB,CAAC;YACrB,IAAI,CAAA,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,IAAI,MAAK,OAAO,EAAE,CAAC;gBACpC,gBAAgB,GAAG,eAAe,CAAC;gBACnC,eAAe,GAAG,SAAS,CAAC;gBAC5B,SAAS,GAAG,SAAS,CAAC,cAAc,CAAC;YACzC,CAAC;YACD,IAAI,CAAA,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,IAAI,MAAK,iBAAiB,EAAE,CAAC;gBAC9C,eAAe,GAAG,SAAS,CAAC,cAAc,CAAC;gBAC3C,SAAS,GAAG,SAAS,CAAC,cAAc,CAAC,OAAO,CAAC;YACjD,CAAC;YACD,IAAI,MAAM,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;gBAE1B,IAAI,IAAI,GAAG,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC7C,IAAI,GAAG,GAAG,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC3C,IAAI,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,cAAc,KAAK,SAAS,EAAE,CAAC;oBACrD,IAAI,eAAe,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC;oBACnD,IAAI,GAAG,CAAC,eAAe,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;oBAClE,GAAG,GAAG,CAAC,eAAe,CAAC,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC/D,qCAAqC;oBACrC,+BAA+B;oBAC/B,IAAI,IAAI,CAAC,eAAe,KAAK,SAAS;wBAClC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,cAAc,EAAE,YAAY,EAAE,IAAI,EAAE,GAAG,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;oBAC9G,OAAO;gBACX,CAAC;gBACD,IAAI,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;gBAC9C,IAAI,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;gBAC3C,IAAI,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC;gBACzC,IAAI,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;gBAC3C,IAAI,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC;gBACzC,IAAI,GAAG,IAAI,GAAG,KAAK,GAAG,KAAK,CAAC;gBAC5B,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC;gBACxB,WAAW;gBACX,IAAI,GAAG,KAAK,CAAC,EAAE,CAAC;oBACZ,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBAClC,CAAC;gBACD,IAAI,IAAI,KAAK,CAAC,EAAE,CAAC;oBACb,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;gBACpC,CAAC;gBAGD,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gBACxC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAC,CAAC;gBACxE,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gBACxC,IAAI,KAAK,CAAC,iBAAiB,KAAK,SAAS,EAAE,CAAC;oBACxC,KAAK,CAAC,iBAAiB,CAAC,YAAY,EAAE,IAAI,EAAE,GAAG,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;gBACtF,CAAC;YACL,CAAC;iBAAM,CAAC,CAAA,iBAAiB;gBAErB,IAAI,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;gBAE9C,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,SAAS,CAAC,OAAO,EAAE,CAAC;oBACvE,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC;gBAClC,CAAC;gBACD,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,CAAC;gBACvE,IAAI,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,cAAc,KAAK,SAAS,EAAE,CAAC;oBACrD,IAAI,IAAI,CAAC,eAAe,KAAK,SAAS;wBAClC,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,cAAc,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,eAAe,CAAC,CAAC;gBAEnI,CAAC;qBAAM,CAAC;oBACJ,uCAAuC;oBACvC,IAAI,MAAM,CAAC,KAAK,KAAK,SAAS;wBAC1B,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;;wBAEzD,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;oBACzC,IAAI,KAAK,CAAC,iBAAiB,KAAK,SAAS,EAAE,CAAC;wBACxC,KAAK,CAAC,iBAAiB,CAAC,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,eAAe,CAAC,CAAC;oBACvG,CAAC;gBACL,CAAC;YAEL,CAAC;YACD,IAAI,gBAAgB,EAAE,CAAC,CAAA,qCAAqC;gBACxD,IAAI,GAAG,GAAG,gBAAgB,CAAC,OAAO,CAAC;gBACnC,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;gBAC7B,GAAG,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;gBAC1B,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAA,wBAAwB;YACrE,CAAC;QACL,CAAC;QAED;;;;;;;UAOE;QACK,OAAO,CAAC,WAAsB,EAAE,MAAc;YAEjD,wBAAwB;YACxB,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,WAAW,KAAK,SAAS;gBACzB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YACnC,IAAI,MAAM,KAAK,SAAS;gBACpB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACzB,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBACnC,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnD,IAAI,EAAE,EAAE,CAAC;oBACL,IAAI,OAAO,GAAG,EAAE,CAAC,SAAS,CAAC;oBAC3B,IAAI,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,qBAAqB,CAAC;wBACnH,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5D,CAAC;YACL,CAAC,CAAC,CAAC;YACH,MAAM;YACP,sHAAsH;YACrH,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA,4EAA4E;YAG9G,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC;gBAC/B,MAAM,EAAE,OAAO;gBACf,MAAM,EAAE,SAAS;gBACjB,IAAI,EAAE,UAAU,KAAK,EAAE,EAAE;oBAErB,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBACxD,UAAU,CAAC;wBACP,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC;oBACnC,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC;gBACnC,CAAC;gBACD,KAAK,EAAE;oBACH,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;gBAC7B,CAAC;gBACD,IAAI,EAAE;oBACF,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;gBAC9B,CAAC;gBACD,kBAAkB;gBAClB,MAAM,EAAE,OAAO;aAElB,CAAC,CAAC;YAEH,wHAAwH;YACxH,8GAA8G;YAE9G,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC9C,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YAE7C,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,2MAA2M;YAC3M,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,qIAAqI,CAAC,CAAA;YAChN,+CAA+C;YAC/C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACvD,gDAAgD;YACpD,CAAC;YACD,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,IAAI,OAAO,CAAC;YACZ,IAAI,SAAS,CAAC;YACd,IAAI,MAAM,CAAC;YACX,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC;gBAC/B,MAAM,EAAE,IAAI;gBACZ,UAAU,EAAE,oBAAoB;gBAChC,SAAS,EAAE,SAAS;gBACpB,IAAI,EAAE,UAAU,KAAK,EAAE,EAAE;oBAGrB,uEAAuE;oBACvE,IAAI,KAAK,CAAC,gBAAgB;wBACtB,OAAO;oBACX,OAAO,GAAG,IAAI,CAAC;oBACf,SAAS,GAAG,KAAK,CAAC;oBAClB,MAAM,GAAG,EAAE,CAAC;oBACZ,IAAI,CAAC,UAAU,EAAE,CAAC;wBACd,UAAU,GAAG,IAAI,CAAC;wBAClB,MAAM,CAAC,UAAU,CAAC;4BACd,UAAU,GAAG,KAAK,CAAC;4BACnB,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;wBAC5C,CAAC,EAAE,EAAE,CAAC,CAAC;oBACX,CAAC;gBACL,CAAC;aACJ,CAAC,CAAC;YACH,+CAA+C;YAC/C,gFAAgF;YAChF,oFAAoF;QACxF,CAAC;QAED;;WAEG;QACH,SAAS;YACL,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;YACnC,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;YACjC,qFAAqF;YACrF,qFAAqF;YACrF,iCAAiC;YACjC,IAAI,IAAI,CAAC,mBAAmB,KAAK,SAAS,EAAE,CAAC;gBAEzC,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC;gBACrC,IAAG,CAAC;oBACJ,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAC9C,CAAC;gBAAA,WAAK,CAAC;oBACH,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;gBACjD,CAAC;gBACD,OAAO,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAA,oDAAoD;gBACrF,IAAI,CAAC,mBAAmB,GAAG,SAAS,CAAC;YACzC,CAAC;YACD,IAAI,IAAI,CAAC,mBAAmB,KAAK,SAAS,EAAE,CAAC;gBACzC,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,CAAC;gBACrC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAClD,CAAC;QACL,CAAC;KACJ,CAAA;IApQY,wCAAc;6BAAd,cAAc;QAD1B,IAAA,kBAAM,EAAC,oCAAoC,CAAC;;OAChC,cAAc,CAoQ1B;;;;;;ICs7CD,sBAsCC;IACD,oBAkDC;;IAlwDD,MAAM,eAAe;QAArB;YAGI,oBAAe,GAAc,EAAE,CAAC;YAChC,cAAS,GAAc,EAAE,CAAC;QAE9B,CAAC;KAAA;IACD,MAAM,YAAY;QAAlB;YAGI,cAAS,GAAyC,EAAE,CAAC;QAEzD,CAAC;KAAA;IACD,MAAa,WAAW;QAAxB;YAKI,YAAO,GAAsC,EAAE,CAAC;YAChD,cAAS,GAAyC,EAAE,CAAC;QACzD,CAAC;KAAA;IAPD,kCAOC;IAGM,IAAM,MAAM,GAAZ,MAAM,MAAM;QAiBf;;;WAGG;QACH;YApBA,UAAK,GAAY,KAAK,CAAC;YACvB,eAAU,GAAkB,SAAS,CAAC;YAEtC,SAAI,GAA8B,EAAE,CAAC;YACrC,YAAO,GAAoC,EAAE,CAAC;YAC9C,YAAO,GAA+B,EAAE,CAAC;YACzC,cAAS,GAAgC,EAAE,CAAC;YAC5C,cAAS,GAAgC,EAAE,CAAC;YAexC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACf,iCAAiC;QACrC,CAAC;QAED,eAAe;YACX,MAAM,OAAO,GAAG,oBAAE,CAAC,aAAa,CAAC,EAAE,OAAO,EAAE,oBAAE,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC;YACvE,MAAM,UAAU,GAAG,oBAAE,CAAC,gBAAgB,CAAC,UAAU,EAAE,EAAE,EAAE,oBAAE,CAAC,YAAY,CAAC,MAAM,EAAE,kBAAkB,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,oBAAE,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,oBAAE,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;YAC5J,IAAI,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,oBAAE,CAAC,QAAQ,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;YACrF,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YACnC,OAAO,MAAM,CAAC;QAClB,CAAC;QACD,UAAU;YAEN,SAAS;QACb,CAAC;QACD,YAAY,CAAC,IAAY;YAErB,MAAM,WAAW,GAA2B;gBACxC,kBAAkB,EAAE,GAAG,EAAE,CAAC,EAAE;gBAC5B,gBAAgB,EAAE,QAAQ,CAAC,EAAE,CAAC,KAAK;gBACnC,iBAAiB,EAAE,QAAQ,CAAC,EAAE;oBAC1B,OAAO,oBAAE,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC9C,CAAC;gBACD,mBAAmB,EAAE,GAAG,EAAE,CAAC,EAAE;gBAC7B,sBAAsB,EAAE,GAAG,EAAE,CAAC,CAAK,EAAE,CAAA;gBACrC,qBAAqB,EAAE,OAAO,CAAC,EAAE,CAAC,oBAAE,CAAC,qBAAqB,CAAC,OAAO,CAAC;gBACnE,UAAU,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK;gBACxB,QAAQ,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI;gBACrB,aAAa,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;aAC3B,CAAC;YACF,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,YAAY,CAAC;YAC7D,MAAM,eAAe,GAAG,oBAAE,CAAC,qBAAqB,CAAC,WAAW,EAAE,oBAAE,CAAC,sBAAsB,EAAE,CAAC,CAAC;YAC3F,MAAM,WAAW,GAAG,eAAe,CAAC,6BAA6B,CAAC,IAAI,EAAE;gBACpE,mBAAmB,EAAE,IAAI;gBAEzB,0DAA0D;gBAC1D,4CAA4C;gBAC5C,0CAA0C;gBAC1C,0DAA0D;gBAC1D,kDAAkD;gBAClD,gBAAgB,EAAE,IAAI;gBACtB,WAAW,EAAE,oBAAE,CAAC,WAAW,CAAC,KAAK;gBACjC,UAAU,EAAE,CAAC;gBACb,OAAO,EAAE,CAAC;aACb,CAAC,CAAC;YAEH,IAAI,SAAS,GAAG,IAAI,CAAC;YACrB,IAAI,GAAG,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAClE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClC,IAAI,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gBACxB,MAAM,EAAE,IAAI,EAAE,GAAG,UAAU,CAAC;gBAC5B,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,UAAU,CAAC,OAAO;sBACzD,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;YACpD,CAAC;YACD,OAAO,SAAS,CAAC;QACrB,CAAC;QAGD;;;;;;WAMG;QACK,GAAG,CAAC,QAAgB,EAAE,QAAgB,EAAE,KAAa,EAAE,IAAa,EAAE,UAAU,GAAG,KAAK,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,KAAK;YACvH,IAAI,GAAG,CAAC;YACR,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI;gBACrC,OAAO;YACX,IAAI,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC;gBACnC,KAAK,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;YACzB,QAAQ,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;YAC3B,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE,CAAC;gBACpC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;YAC7B,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE,CAAC;gBAC9C,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;YACvC,CAAC;YACD,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;gBAC/C,GAAG,GAAG;oBACF,KAAK,EAAE,KAAK;oBACZ,IAAI,EAAE,IAAI;oBACV,UAAU;oBACV,IAAI,EAAE,IAAI;iBACb,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5C,CAAC;YACD,OAAO,GAAG,CAAC;QACf,CAAC;QACD;;;;WAIG;QACH,gBAAgB,CAAC,QAAQ,EAAE,QAAQ;YAC/B,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE,CAAC;gBACpC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE,CAAC;oBAC9C,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;oBACjD,OAAO,GAAG,CAAC;gBACf,CAAC;YACL,CAAC;YACD,OAAO,SAAS,CAAC;YACjB;;;;;gBAKI;YACJ,OAAO;YACP,iGAAiG;QAErG,CAAC;QAED,MAAM,CAAC,IAAY,EAAE,IAAY;YAC7B,IAAI,CAAC,IAAI,CAAC,QAAQ;gBACd,OAAO;YACX,IAAI,EAAE,GAAG,oBAAE,CAAC,OAAO,CAAC,uBAAuB,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YACtD,IAAI,OAAO,GAAG,oBAAE,CAAC,OAAO,CAAC,uBAAuB,CAAC,SAAS,EAAE,IAAI,GAAG,GAAG,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC;YACvF,YAAY;YACZ,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC/B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC;YACpE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3C,CAAC;QACD;;;;WAIG;QACH,iBAAiB,CAAC,IAAY,EAAE,IAAY;YACxC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE,CAAC;gBACnC,YAAY;gBACZ,uHAAuH;gBACvH,MAAM,UAAU,GAAG,oBAAE,CAAC,OAAO,CAAC,uBAAuB,CAAC,SAAS,EAAE,oBAAE,CAAC,OAAO,CAAC,kBAAkB,CAAC,KAAK,EAAE,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,CAAC,EAAE,SAAS,CAAC,EAAE,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;gBAClN,IAAI,CAAC,UAAU,GAAG,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,UAAU,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;gBAC5G,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;YAC9B,CAAC;QACL,CAAC;QACO,aAAa,CAAC,IAAa;YAC/B,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;gBAC1C,IAAI,IAAI,CAAC,SAAS,CAAC;oBACf,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACzB,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,KAAU;oBACxC,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC;wBACb,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;wBAC3B,IAAI,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;wBACrC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC;oBACxE,CAAC;oBACD,wFAAwF;gBAC5F,CAAC,CAAC,CAAC;YACP,CAAC;YACD,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D,CAAC;QACO,eAAe,CAAC,GAAQ;YAC5B,IAAI,GAAG,KAAK,SAAS;gBACjB,OAAO,SAAS,CAAC;YAErB,IAAI,GAAG,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,uBAAuB,EAAE,CAAC;gBACrD,IAAI,GAAG,GAAG,EAAE,CAAC;gBACb,IAAI,KAAK,GAAG,GAAG,CAAC,UAAU,CAAC;gBAC3B,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;oBACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACpC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;oBACzE,CAAC;gBACL,CAAC;gBACD,OAAO,GAAG,CAAC;YACf,CAAC;iBAAM,IAAI,GAAG,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC;gBAClD,OAAO,GAAG,CAAC,IAAI,CAAC;YACpB,CAAC;iBAAM,IAAI,GAAG,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,sBAAsB,EAAE,CAAC;gBAC3D,IAAI,GAAG,GAAG,EAAE,CAAC;gBACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC3C,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACpD,CAAC;gBACD,OAAO,GAAG,CAAC;YACf,CAAC;iBAAM,IAAI,GAAG,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;gBAC/C,OAAO,GAAG,CAAC,IAAI,CAAC;YACpB,CAAC;iBAAM,IAAI,GAAG,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;gBAChD,OAAO,IAAI,CAAC;YAChB,CAAC;iBAAM,IAAI,GAAG,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;gBACjD,OAAO,KAAK,CAAC;YACjB,CAAC;iBAAM,IAAI,GAAG,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC;gBACnD,OAAO,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAC5B,CAAC;iBAAM,IAAI,GAAG,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,aAAa,IAAI,GAAG,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC;gBACnG,OAAO,GAAG,CAAC,OAAO,EAAE,CAAC;YACzB,CAAC;YAED,MAAM,IAAI,oBAAU,CAAC,sBAAsB,CAAC,CAAC;QACjD,CAAC;QACO,cAAc,CAAC,GAAiB;YACpC,IAAI,EAAE,GAAQ,GAAG,CAAC,UAAU,CAAC;YAC7B,IAAI,GAAG,GAAG,IAAI,eAAe,EAAE,CAAC;YAChC,IAAI,EAAE,CAAC,UAAU,KAAK,SAAS,EAAE,CAAC;gBAC9B,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;YACvB,CAAC;iBAAM,CAAC;gBAEJ,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC;gBACrC,IAAI,EAAE,CAAC,UAAU,KAAK,SAAS,EAAE,CAAC;oBAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC3C,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAChE,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;oBAClD,CAAC;gBAEL,CAAC;YACL,CAAC;YACD,OAAO,GAAG,CAAC;QACf,CAAC;QAEO,UAAU,CAAC,IAAqB;YACpC,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,gBAAgB,EAAE,CAAC;gBAC/C,IAAI,WAAW,GAAG,IAAI,WAAW,EAAE,CAAC;gBACpC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC1B,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACvC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC;gBACxB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,WAAW,CAAC;gBAC7C,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,SAAS,EAAE,CAAC;oBAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAChD,IAAI,EAAE,GAAiB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC5C,IAAI,EAAE,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;4BACtC,IAAI,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;4BACxC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;4BAClD,IAAI,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC;gCACjE,WAAW,CAAC,aAAa,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;wBAC/E,CAAC;oBAEL,CAAC;gBAEL,CAAC;gBAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC9C,IAAI,SAAS,GAAG,IAAI,YAAY,EAAE,CAAA;oBAClC,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC7B,IAAI,GAAG,CAAC,IAAI,KAAK,SAAS;wBACtB,SAAS,CAAA,aAAa;oBAC1B,SAAS,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;oBACtC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpC,SAAS,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;oBACxE,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;oBAChD,IAAI,MAAM,GAAG,EAAE,CAAC;oBAChB,IAAI,GAAG,CAAC,UAAU,EAAE,CAAC;wBACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BAC7C,IAAI,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;4BACvD,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;wBACpD,CAAC;oBACL,CAAC;gBACL,CAAC;gBACD,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;oBAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC9C,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBAC7B,IAAI,GAAG,CAAC,SAAS,KAAK,WAAW,CAAC,IAAI,IAAI,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC;4BAC5E,IAAI,GAAG,GAAG,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;4BACnD,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;wBAC9B,CAAC;oBACL,CAAC;gBACL,CAAC;qBAAM,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,EAAE,CAAC;oBACvC,KAAK,IAAI,GAAG,IAAI,WAAW,CAAC,OAAO,EAAE,CAAC;wBAClC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;oBACxD,CAAC;gBACL,CAAC;YAEL,CAAC;QACL,CAAC;QACO,WAAW,CAAC,IAAuB;YACvC,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC5B,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;gBACrC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACpC,IAAI,QAAQ,GAAG,IAAI,CAAC;gBACpB,IAAI,IAAI,GAAG,EAAE,CAAC;gBACd,IAAI,OAAO,KAAK,CAAC,CAAC,EAAE,CAAC;oBACjB,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;oBACtC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;oBACnC,YAAY;oBACZ,IAAI,KAAK,GAAU,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;oBAChD,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;wBACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BACpC,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;4BAC9B,0DAA0D;4BAC1D,IAAI,IAAI,GAAW,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;4BAC9E,IAAI,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,OAAO,CAAC,SAAS,CAAC,IAAG,CAAC,CAAC,EAAE,CAAC;gCAChC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;4BAC/C,CAAC;4BACD,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;wBACpD,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;QACO,OAAO,CAAC,IAAuB,EAAE,MAAM,GAAG,SAAS;;YACvD,IAAI,EAAE,GAAuB,IAAI,CAAC;YAClC,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACjG,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;gBACnC,OAAO,CAAC,KAAK,CAAC,8BAA8B,CAAC,CAAC;gBAC9C,OAAO;YACX,CAAC;YAED,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC;YACjD;;;oEAGwD;YACxD,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACnC,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;gBAC9C,cAAc;gBAEd,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC;gBACzB,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAE5B,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC/C,IAAI,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBAC/B,IAAU,IAAI,CAAC,IAAK,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC;4BAClC,IAAI,GAAG,GAAW,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE,CAAC;4BAChD,IAAU,IAAI,CAAC,IAAK,CAAC,IAAI,KAAK,UAAU;gCACpC,QAAQ,GAAG,IAAI,CAAC;4BACpB,+CAA+C;4BAC/C,4CAA4C;4BAC5C,IAAI,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC;gCACvB,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;4BAC3B,IAAI,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC;gCACvB,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;4BAE3B,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;4BACf,GAAG,CAAC,aAAa,GAAG,KAAK,CAAC;wBAC9B,CAAC;oBACL,CAAC;gBACL,CAAC;gBACD,IAAI,GAAG,CAAC,aAAa;oBACjB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,0BAA0B,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACzD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;gBACnC,EAAE,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;gBACvB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;gBACnG,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC;gBAC1B,IAAI,KAAU,CAAC;gBACf,IAAI,QAAQ,CAAC;gBAEb,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAEnC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC/C,IAAI,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBAC/B,IAAI,GAAG,GAAW,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE,CAAC;wBAChD,IAAU,IAAI,CAAC,IAAK,CAAC,IAAI,KAAK,UAAU;4BACpC,QAAQ,GAAG,IAAI,CAAC;wBACpB,+CAA+C;wBAC/C,2CAA2C;wBAC3C,IAAI,KAAK,GAAS,IAAI,CAAC,IAAK,CAAC,IAAI,CAAC;wBAClC,IAAI,KAAK,KAAK,UAAU;4BACpB,KAAK,GAAG,KAAK,CAAC;wBAClB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;oBAC7D,CAAC;gBACL,CAAC;gBAGD,IAAI,GAAG,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,KAAK,eAAe,EAAE,CAAC;oBACrD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;gBACtE,CAAC;gBACD,IAAI,CAAA,MAAM,IAAI,CAAC,MAAO,0CAAE,KAAK,MAAK,SAAS,EAAE,CAAC;oBAC1C,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,MAAO,0CAAE,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;gBACnF,CAAC;gBACD,IAAI,MAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,WAAW,0CAAE,QAAQ,EAAE,CAAC;oBAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC5D,IAAI,EAAE,GAAQ,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBAC/C,IAAI,EAAE,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,aAAa,EAAE,CAAC;4BAE1C,IAAI,OAAO,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;4BAC9D,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG;gCAC1B,SAAS,EAAE,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK;6BACnD,CAAA;4BACD,wBAAwB;4BACxB,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;4BACpC,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;4BACtE,KAAK,CAAC,SAAS,GAAG,eAAe,CAAC;4BAElC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;4BACjC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;4BACzD,gDAAgD;4BAChD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;4BAC3D,IAAI;4BACJ,IAAI,KAAK,GAAG;gCACR,GAAG,EAAE,EAAE,CAAC,GAAG;gCACX,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;gCAChE,IAAI,EAAE,OAAO;6BAChB,CAAC;4BACF,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;4BACpC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBAEpD,CAAC;6BAAM,CAAC;4BACJ,YAAY;4BACZ,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;4BACzB,6CAA6C;wBACjD,CAAC;oBACL,CAAC;gBACL,CAAC;YAEL,CAAC;QAGL,CAAC;QAEO,QAAQ,CAAC,KAAa,EAAE,IAAa;;YACzC,IAAI,EAAE,GAAuB,IAAI,CAAC;YAClC,IAAI,OAAO,GAAyD,EAAE,CAAC;YACvE,IAAI,EAAE,CAAC,cAAc;gBACjB,OAAO,GAAQ,EAAE,CAAC,cAAc,CAAC;YACrC,IAAI,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YAC/C,IAAI,GAAG,KAAK,SAAS;gBACjB,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAC3C,IAAI,GAAG,KAAK,SAAS;gBACjB,GAAG,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YAC/C,IAAI,GAAG,EAAE,CAAC;gBACN,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC;gBACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC5D,IAAI,IAAI,GAAG,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC5C,IAAU,IAAI,CAAC,IAAK,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC;wBAClC,IAAI,GAAG,GAAW,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE,CAAC;wBAChD,IAAI,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC;4BACxC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;wBAC3C,IAAI,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC;4BACvB,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;wBAC3B,IAAI,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC;4BACvB,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;wBAC3B,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;wBACf,GAAG,CAAC,aAAa,GAAG,KAAK,CAAC;oBAC9B,CAAC;gBACL,CAAC;gBACD,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBACxC,IAAI,GAAG,CAAC,aAAa;oBACjB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,0BAA0B,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACzD,KAAK,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;gBACpC,EAAE,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC;gBACvB,IAAI,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,IAAI,CAAC,CAAC;gBAChF,KAAK,CAAC,SAAS,GAAG,OAAO,CAAC;gBAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC5D,IAAI,IAAI,GAAG,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC5C,IAAI,GAAG,GAAW,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE,CAAC;oBAChD,IAAI,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC;wBACxC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oBAC3C,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAQ,IAAI,CAAC,IAAK,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;gBAC1D,CAAC;gBACD,IAAI,GAAG,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,KAAK,eAAe,EAAE,CAAC;oBACrD,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,GAAG,OAAO,GAAG,GAAG,EAAE,SAAS,CAAC,CAAC;gBAC/D,CAAC;gBACD,IAAI,CAAA,MAAM,IAAI,CAAC,MAAO,0CAAE,KAAK,MAAK,SAAS,EAAE,CAAC;oBAC1C,KAAK,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,MAAO,0CAAE,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAChE,CAAC;gBACD,yEAAyE;gBACzE,gBAAgB;gBAChB,IAAI,YAAY,GAAG,CAAC,CAAC;gBACrB,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC;oBACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC1C,IAAI,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;wBACxB,IAAI,EAAE,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;4BACpC,IAAI,EAAE,CAAC,6BAA6B,EAAE,CAAC;gCACnC,YAAY,EAAE,CAAC;4BACnB,CAAC;iCAAM,CAAC;gCACJ,IAAI,IAAI,GAAG,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gCAC3C,IAAI,IAAI,KAAK,SAAS;oCAClB,IAAI,GAAG,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;gCACvC,IAAI,IAAI,KAAK,SAAS;oCAClB,IAAI,GAAG,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gCAC3C,IAAI,IAAI,EAAE,CAAC;gCACX,CAAC;gCACD,IAAI,OAAO,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gCAC9D,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;gCACpC,IAAI,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;gCACjE,KAAK,CAAC,SAAS,GAAG,mBAAmB,CAAC;gCACtC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;gCAClC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;gCACpD,gDAAgD;gCAChD,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC,CAAC;gCACxC,IAAI;gCACJ,IAAI,KAAK,GAAG;oCACR,GAAG,EAAE,EAAE,CAAC,GAAG;oCACX,SAAS,EAAE,KAAK,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,GAAG,YAAY,CAAC;oCAChF,IAAI,EAAE,OAAO;iCAChB,CAAC;gCACF,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;gCACrC,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BACpD,CAAC;wBACL,CAAC;6BAAM,CAAC;4BACJ,KAAK,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAA,qBAAqB;wBACpD,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;YAGD,kEAAkE;QACtE,CAAC;QACO,eAAe,CAAC,IAAa;YACjC,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,oBAAE,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAAE,CAAC;gBACjC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBAC/B,IAAI,IAAI,CAAC,WAAW,KAAK,SAAS,EAAE,CAAC;oBACjC,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;oBACvC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACvD,CAAC;YACL,CAAC;YAED,IAAI,CAAC,oBAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,WAAW,CAAC;gBACtF,oBAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;gBAC5B,IAAI,KAAK,CAAC;gBACV,IAAI,KAAK,CAAC;gBACV,IAAI,IAAY,CAAC;gBACjB,IAAI,KAAa,CAAC;gBAElB,IAAI,UAAU,GAAG,KAAK,CAAC;gBACvB,IAAI,oBAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC;oBAC9B,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;oBAClB,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACnB,IAAI,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC,CAAA,oDAAoD;oBAC3E,KAAK,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC,CAAA,mDAAmD;oBAC3E,IAAI,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC;wBACxB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBACpD,CAAC;gBACD,IAAI,oBAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;oBAC5B,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;oBACxB,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;oBACvB,UAAU,GAAG,IAAI,CAAC;oBAClB,IAAI,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC,CAAA,oDAAoD;oBAC3E,IAAI,IAAI,KAAK,IAAI,EAAE,CAAC;wBAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;wBACnB,OAAO;oBACX,CAAC;oBACD,IAAI,MAAM,GAAG,EAAE,CAAC;oBAChB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;;wBAE3B,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;wBAC3B,IAAI,CAAA,MAAA,MAAM,GAAI,aAAJ,GAAG,uBAAH,GAAG,CAAG,UAAU,0CAAE,IAAI,0CAAE,OAAO,EAAE,MAAK,QAAQ,EAAE,CAAC;4BACvD,KAAK,CAAC,WAAW,CAAM,GAAG,CAAC,CAAC;wBAChC,CAAC;wBACD,mCAAmC;oBACvC,CAAC,CAAC,CAAC;oBACH,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;wBAC3B,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;wBACpC,IAAI,QAAQ,GAAG,IAAI,CAAC;wBACpB,IAAI,IAAI,GAAG,EAAE,CAAC;wBACd,IAAI,OAAO,KAAK,CAAC,CAAC,EAAE,CAAC;4BACjB,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;4BACtC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;wBACvC,CAAC;wBACD,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC1B,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC;wBAClD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;wBACvB,OAAO;oBACX,CAAC;oBACD,IAAI,IAAI,CAAC,QAAQ,CAAC,2BAA2B,CAAC,EAAE,CAAC;wBAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAA;wBAC/C,kDAAkD;oBACtD,CAAC;oBACD,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA,qDAAqD;gBACnF,CAAC;gBAED,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACpC,IAAI,QAAQ,GAAG,IAAI,CAAC;gBACpB,IAAI,IAAI,GAAG,EAAE,CAAC;gBACd,IAAI,OAAO,KAAK,CAAC,CAAC,EAAE,CAAC;oBACjB,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;oBACtC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;gBACvC,CAAC;gBACD,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAC7D,CAAC;;gBACG,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;QAClE,CAAC;QACO,SAAS,CAAC,IAAa,EAAE,iBAAiB,GAAG,SAAS;YAC1D,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,mBAAmB,EAAE,CAAC;gBAClD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;YAC7C,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,iBAAiB,EAAE,CAAC;gBAChD,IAAI,EAAE,GAAQ,IAAI,CAAC;gBACnB,IAAI,IAAI,GAAG,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC;gBACnC,IAAI,EAAE,CAAC,YAAY,IAAI,EAAE,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;oBACnD,IAAI,KAAK,GAAG,EAAE,CAAC,YAAY,CAAC,aAAa,CAAC,QAAQ,CAAC;oBACnD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACpC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;oBACnD,CAAC;gBACL,CAAC;gBACD,OAAO;YACX,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,IAAI,oBAAE,CAAC,UAAU,CAAC,oBAAoB,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC;gBAClF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBACzB,OAAO;YACX,CAAC;iBAAM,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,gBAAgB,EAAE,CAAC;gBACtD,IAAI,CAAC,UAAU,CAAkB,IAAI,CAAC,CAAC;gBAEvC,OAAO;YAEX,CAAC;iBAAM,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,mBAAmB,EAAE,CAAC,CAAA,wBAAwB;gBACzF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;gBACzC,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;oBAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC9C,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBAC7B,IAAI,GAAG,CAAC,SAAS,KAAK,SAAS,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK,GAAG,CAAC,UAAU;4BACnE,iBAAiB,GAAG,IAAI,CAAC;oBACjC,CAAC;gBACL,CAAC;qBAAM,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS;oBACvC,iBAAiB,GAAG,IAAI,CAAC;YACjC,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;gBAEzC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAC5B,OAAO;YACX,CAAC;YAGD,IAAI,iBAAiB;gBACjB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;;gBAE3B,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC,CAAC;YAC3E,wBAAwB;YACxB;;iBAEK;QACT,CAAC;QACO,YAAY,CAAC,IAAa,EAAE,iBAAiB,GAAG,SAAS;YAE7D,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,iBAAiB,EAAE,CAAC;gBAChD,IAAI,EAAE,GAAQ,IAAI,CAAC;gBACnB,IAAI,IAAI,GAAG,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC;gBACnC,IAAI,EAAE,CAAC,YAAY,IAAI,EAAE,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC;oBACnD,IAAI,KAAK,GAAG,EAAE,CAAC,YAAY,CAAC,aAAa,CAAC,QAAQ,CAAC;oBACnD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACpC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;oBACnD,CAAC;gBACL,CAAC;gBACD,OAAO;YACX,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,IAAI,oBAAE,CAAC,UAAU,CAAC,oBAAoB,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC;gBAClF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBACzB,OAAO;YACX,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,IAAI,oBAAE,CAAC,UAAU,CAAC,oBAAoB,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC;gBAChF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBACzB,OAAO;YACX,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,UAAU,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,qBAAqB,EAAE,CAAC;gBAC9F,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAC5B,OAAO;YACX,CAAC;YAED,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC,CAAC;YAC1E,wBAAwB;YACxB;;iBAEK;QACT,CAAC;QACD,eAAe,CAAC,IAAa,EAAE,GAAW;YACtC,IAAI,oBAAE,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,CAAC;gBAC/B,OAAO;oBACH,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;oBACtC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;iBAChC,CAAA;YACL,CAAC;YACD,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,mBAAmB,EAAE,CAAC,CAAA,wBAAwB;gBAClF,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAA;gBAChC,OAAO;oBACH,SAAS,EAAE,SAAS;oBACpB,UAAU,EAAE,QAAQ;iBACvB,CAAA;YACL,CAAC;YACD,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;YAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACrC,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBAClB,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;oBAC/B,IAAI,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;oBACxC,IAAI,IAAI;wBACJ,OAAO,IAAI,CAAC;gBACpB,CAAC;YACL,CAAC;YAAA,CAAC;YACF,OAAO,SAAS,CAAC;QACrB,CAAC;QACD,yBAAyB,CAAC,IAAY,EAAE,GAAW;YAC/C,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAEjB,IAAI,CAAC,UAAU,GAAG,oBAAE,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,EAAE,oBAAE,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,oBAAE,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,oBAAE,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;YAEtI,OAAO,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;YAClD,0CAA0C;QAE9C,CAAC;QAEO,SAAS,CAAC,IAAa;YAC3B,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YACd,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YACd,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;QACnD,CAAC;QACO,UAAU,CAAC,IAAY,EAAE,iBAAiB,GAAG,KAAK;YACtD,IAAI,GAAG,GAAG,oBAAE,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,EAAE,oBAAE,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,oBAAE,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YAC3H,IAAI,iBAAiB;gBACjB,OAAO,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,IAAI,GAAS,GAAG,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC,UAAU,CAAC;YAC/C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACrB,OAAO,IAAI,CAAC;YACZ,0CAA0C;QAC9C,CAAC;QACD,iBAAiB,CAAC,MAAa;YAC3B,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,IAAI,OAAO,GAAG,EAAE,CAAA;YAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACrC,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;gBAC5B,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;gBAC3D,IAAI,QAAQ,CAAC,GAAG,CAAC,KAAK,SAAS;oBAC3B,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAEtB,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,0BAA0B,CAAC,GAAG,CAAC,CAAC,CAAA,0BAA0B;gBAChF,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAA,kBAAkB;gBACjD,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACvC,CAAC;YACD,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;YAC7B,IAAI,CAAC,aAAa,CAAC,gBAAgB,GAAG,MAAM,CAAC;QACjD,CAAC;QACD;;;;UAIE;QACF,KAAK,CAAC,IAAY,EAAE,aAA0D,SAAS,EAAE,gBAAqB,SAAS,EAAE,KAAK,GAAG,KAAK;YAClI,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;YACf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;YAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,UAAU,KAAK,SAAS;gBACxB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;gBAE7B,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YACjC,IAAI,CAAC,UAAU,GAAG,oBAAE,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,EAAE,oBAAE,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,oBAAE,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YAC1H,IAAI,aAAa;gBACb,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC;YAC1C,IAAI,KAAK,EAAE,CAAC;gBACR,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;gBAC1C,OAAO;YACX,CAAC;YAED,wCAAwC;YACxC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAEtC,QAAQ;YACR,sCAAsC;YAEtC,0CAA0C;QAC9C,CAAC;QACO,UAAU,CAAC,IAAa;;YAC5B,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS;gBACzB,OAAO;YACX,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC;gBAC5B,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAClD,IAAI,GAAG,IAAI,CAAC;oBACR,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACjD,CAAC;iBAAM,IAAI,CAAA,MAAA,IAAI,CAAC,MAAM,0CAAE,MAAM,KAAI,CAAA,MAAA,IAAI,CAAC,MAAM,0CAAE,MAAM,CAAC,MAAM,CAAC,MAAK,SAAS,EAAE,CAAC;gBAC1E,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC9D,IAAI,GAAG,IAAI,CAAC;oBACR,MAAA,IAAI,CAAC,MAAM,0CAAE,MAAM,CAAC,MAAM,EAAE,SAAS,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAC9D,CAAC;iBAAM,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,SAAS,EAAE,CAAC;gBAC9C,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC/C,IAAI,GAAG,IAAI,CAAC;oBACR,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAC9C,CAAC;iBAAM,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,SAAS,EAAE,CAAC;gBACjD,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAClD,IAAI,GAAG,IAAI,CAAC;oBACR,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACjD,CAAC;iBAAM,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,SAAS,EAAE,CAAC;gBAC/C,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAChD,IAAI,GAAG,IAAI,CAAC;oBACR,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAC/C,CAAC;iBAAM,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,mBAAmB,EAAE,CAAC;gBAChE,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAChE,IAAI,GAAG,IAAI,CAAC;oBACR,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACxD,CAAC;iBAAM,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC;gBACjC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAChD,IAAI,GAAG,IAAI,CAAC;oBACR,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAC/C,CAAC;;gBACG,MAAM,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,sBAAsB,CAAC,CAAC;QACjE,CAAC;QACD,cAAc,CAAC,OAAe,EAAE,OAAe;YAC3C,IAAI,QAAQ,GAAG,KAAK,CAAC;YACrB,IAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAA;YACxD,IAAI,OAAO,KAAK,EAAE,EAAE,CAAC;gBACjB,QAAQ,GAAG,IAAI,CAAC;gBAChB,OAAO,GAAG,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;gBACjI,kCAAkC;gBAClC,+CAA+C;YACnD,CAAC;YACD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACxC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC1B,IAAI,MAAM,GAAG,YAAY,CAAC;YAC1B,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI;gBACd,MAAM,GAAG,OAAO,CAAC;YACrB,IAAI,QAAQ;gBACR,IAAI,CAAC,oBAAoB,CAAC,KAAK,EAAE,SAAS,EAAE,OAAO,CAAC,CAAA;;gBAEpD,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,GAAG,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAE9E,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;gBAClB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;YAC7C,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,sBAAsB,CAAC,CAAC;YACtD,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACZ,IAAI,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC;oBAC7B,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE,sBAAsB,CAAC,CAAC;oBAChE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,oBAAoB,CAAC,CAAC;gBAC/C,CAAC;;oBACG,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,GAAG,SAAS,GAAG,GAAG,CAAC,CAAC;YACvD,CAAC;YACD,OAAO,OAAO,CAAC;QACnB,CAAC;QACD;;YAEI;QACJ,iBAAiB,CAAC,MAAoB,EAAE,MAAmB;YACvD,aAAa;YACb,iCAAiC;YACjC,IAAI,MAAM,GAAmB,SAAS,CAAC;YACvC,KAAK,IAAI,GAAG,IAAI,MAAM,CAAC,SAAS,EAAE,CAAC;gBAC/B,IAAI,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM;oBACP,MAAM,GAAG,EAAE,CAAC;gBAChB,sBAAsB;gBACtB,6BAA6B;gBAC7B,IAAI,MAAM,GAAG,SAAS,CAAC;gBACvB,IAAI,GAAG,CAAC,SAAS,EAAE,CAAC;oBAChB,MAAM,GAAG,EAAE,CAAC;oBACZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC5C,MAAM,CAAC,IAAI,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC/D,CAAC;gBACL,CAAC;gBACD,IAAI,IAAI,GAAG,oBAAE,CAAC,OAAO,CAAC,oBAAoB,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;gBACrG,MAAM,CAAC,IAAI,CAAC,oBAAE,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;YAClD,CAAC;YACD,sBAAsB;YACtB,IAAI,SAAS,GAAG,oBAAE,CAAC,OAAO,CAAC,yBAAyB,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,EAAE,SAAS,EAAE,oBAAE,CAAC,OAAO,CAAC,uBAAuB,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;YACrJ,IAAI,IAAI,GAAG,SAAS,CAAC;YACrB,KAAK,IAAI,GAAG,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;gBAC7B,IAAI,GAAG,KAAK,MAAM,CAAC,IAAI;oBACnB,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAA;YACvC,CAAC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;gBACrB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAE3C,CAAC;iBAAM,CAAC;gBACJ,IAAI,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC/C,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;YAC5C,CAAC;YACD,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;YACrC,MAAM,CAAC,IAAI,GAAG,SAAS,CAAC;QAC5B,CAAC;QACD;;;;;UAKE;QACF,oBAAoB,CAAC,QAAgB,EAAE,SAAS,GAAG,SAAS,EAAE,eAAuB,SAAS;;YAC1F,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,KAAK,SAAS,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC;gBAC9G,QAAQ,GAAG,UAAU,CAAC;gBACtB,IAAI,SAAS,GAAQ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC/D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC7D,IAAI,SAAS,GAAG,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAClD,IAAI,SAAS,CAAC,OAAO,EAAE,KAAK,SAAS,IAAI,SAAS,CAAC,OAAO,EAAE,CAAC,UAAU,CAAC,SAAS,GAAG,GAAG,CAAC,EAAE,CAAC;wBACvF,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBAE5C,IAAI,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;4BAC9C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;wBAC/B,CAAC;wBACD,OAAO,SAAS,CAAC;oBACrB,CAAC;gBAEL,CAAC;YACL,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE,CAAC;gBAC3F,IAAI,IAAI,GAAU,SAAS,CAAC;gBAC5B,IAAI,SAAS,KAAK,SAAS,EAAE,CAAC;oBAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAChE,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,GAAG,GAAG,CAAC,EAAE,CAAC;4BACrI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC5C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;4BAC/C,MAAM;wBACV,CAAC;oBACL,CAAC;gBACL,CAAC;;oBACG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChD,IAAI,IAAI,IAAI,SAAS;oBACjB,OAAO;gBACX,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC3B,IAAI,CAAA,MAAA,MAAA,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,0CAAE,SAAS,0CAAE,MAAM,IAAG,CAAC,EAAE,CAAC;oBACjD,OAAO,MAAA,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,0CAAE,SAAS,CAAC,CAAC,CAAC,CAAC;gBACjD,CAAC;gBACD,OAAO,IAAI,CAAC,IAAI,CAAC;gBACjB;;;;;mBAKG;gBACH,yCAAyC;gBACzC,+BAA+B;gBAC/B,sBAAsB;YAC1B,CAAC;QAEL,CAAC;QACD;;;WAGG;QACH,qBAAqB,CAAC,QAAkB;YACpC,IAAI,QAAQ,GAAY,EAAE,CAAC;YAC3B,4BAA4B;YAC5B,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC;gBAC1C,IAAI,OAAO,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;gBAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAE9B,IAAI,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,SAAS;oBAC1E,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnD,mBAAmB;gBACnB,KAAK,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;oBACnB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;oBACtB,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;wBAChB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACrB,CAAC,CAAC,CAAC;gBACP,CAAC;gBACD,IAAI,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC;oBAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC/C,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;wBACjB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACrB,CAAC,CAAC,CAAC;gBACP,CAAC;YACL,CAAC;YACD,cAAc;YACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACvC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI;oBAChB,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAC1C,CAAC;YACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;cAkCE;YACF,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC;gBAC1C,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;YACnC,CAAC;QAEL,CAAC;QACO,gBAAgB,CAAC,UAAuD,EAAE,gBAAsD,SAAS;;YAC7I,IAAI,KAAK,CAAC;YACV,IAAI,UAAU,KAAK,SAAS,EAAE,CAAC;gBAC3B,OAAO,IAAI,CAAC,UAAU,CAAC;YAC3B,CAAC;YACD,IAAI,aAAa,EAAE,CAAC;gBAChB,KAAK,GAAG,MAAA,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,0CAAE,IAAI,CAAC;gBACjF,IAAI,KAAK,CAAC,UAAU;oBAChB,KAAK,GAAG,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;;oBAEtC,KAAK,GAAG,KAAK,CAAC,WAAW,CAAC;YAElC,CAAC;iBAAM,CAAC;gBACJ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACzC,IAAI,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;oBACvB,IAAI,EAAE,CAAC,SAAS,EAAE,CAAC;wBACf,KAAK,GAAG,MAAA,MAAA,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,0CAAE,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,0CAAE,IAAI,CAAC;wBACjE,IAAI,KAAK;4BACL,MAAM;oBACd,CAAC;yBAAM,CAAC,CAAA,mBAAmB;wBACvB,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;oBAC1C,CAAC;gBACL,CAAC;YACL,CAAC;YACD,OAAO,KAAK,CAAC;QACjB,CAAC;QACD;;aAEK;QACL,0BAA0B,CAAC,IAAY,EAAE,gBAAwB,SAAS;YACtE,IAAI,OAAO,GAAG,aAAa,CAAC;YAC5B,IAAI,OAAO,KAAK,SAAS;gBACrB,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;YACxE,KAAK,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,GAAG,IAAI,EAAE,OAAO,EAAE,EAAE,CAAC;gBAC9C,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,SAAS,CAAC;oBACzK,MAAM;YACd,CAAC;YACD,OAAO,OAAO,GAAG,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QACpD,CAAC;QAED;;WAEG;QACK,yBAAyB,CAAC,IAAa,EAAE,WAAmB,EAAE,QAAQ;YAC1E,IAAI,CAAC;gBACD,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;gBAC9B,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,IAAI,EAAE,CAAC;oBAC7B,IAAI,GAAG,GAAG,CAAC,CAAC;oBACZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACrE,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;wBACrD,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,CAAC;wBAChH,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;oBAC5C,CAAC;oBACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAI,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;wBAC3E,yBAAyB;wBACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BACrE,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;4BACrD,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;4BACd,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;wBAClB,CAAC;wBACD,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,oBAAE,CAAC,OAAO,CAAC,6BAA6B,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;oBACzH,CAAC;gBACL,CAAC;YACL,CAAC;YAAC,WAAM,CAAC;YAET,CAAC;QACL,CAAC;QACO,mBAAmB,CAAC,YAAoB,EAAE,QAAgB,EAAE,KAAuB,EACvF,aAAsB,KAAK,EAAE,UAAmB,SAAS,EACzD,SAA4D,SAAS,EACrE,KAAc;YAEd,IAAI,MAAM,GAAQ,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACzF,IAAI,MAAM,GAAQ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAC5D,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,aAAa,GAAG,oBAAE,CAAC,OAAO,CAAC,wBAAwB,CAAC,QAAQ,EAAO,MAAM,CAAC,CAAC;YAC/E,IAAI,QAAQ,KAAK,KAAK,IAAI,OAAO,KAAK,KAAK,EAAE,CAAC;gBAC1C,QAAQ,GAAG,UAAU,CAAC;gBACtB,MAAM,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBAChG,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,IAAI,SAAS,EAAE,CAAC,CAAA,EAAE;oBACrD,aAAa,GAAG,oBAAE,CAAC,OAAO,CAAC,wBAAwB,CAAC,QAAQ,EAAE,oBAAE,CAAC,OAAO,CAAC,4BAA4B,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;oBACvH,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAC1C,CAAC;qBAAM,CAAC;oBACJ,IAAI,MAAM,KAAK,SAAS,EAAE,CAAC;wBACvB,YAAY;wBACZ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAClF,CAAC;yBAAM,CAAC;wBACJ,YAAY;wBACZ,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;wBAC7E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BACpC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE,CAAC;gCAC3F,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;gCAC3B,OAAO;4BACX,CAAC;wBACL,CAAC;wBACD,MAAM,IAAI,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,KAAK,GAAG,aAAa,CAAC,CAAC;oBAC5D,CAAC;gBAEL,CAAC;YACL,CAAC;iBAAM,CAAC,CAAE,6CAA6C;gBACnD,IAAI,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE,CAAC,CAAA,eAAe;oBACrH,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBACrD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAA;oBACjC,IAAI,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBAC1C,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC;oBACvC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;oBACnD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;oBAC1D,IAAI,CAAC,yBAAyB,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;gBAC5D,CAAC;qBAAM,CAAC;oBACJ,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACtC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAK,SAAS;wBAC/C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC,CAAC;oBACrF,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;oBAC1D,IAAI,CAAC,yBAAyB,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;gBAC5D,CAAC;YACL,CAAC;YAED,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;YAEnC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;YACnC,eAAe;YACf,6CAA6C;QAEjD,CAAC;QACO,eAAe,CAAC,YAAoB,EAAE,QAAgB,EAAE,KAAuB,EACnF,aAAsB,KAAK,EAAE,UAAmB,SAAS,EACzD,SAA4D,SAAS,EACrE,KAAc;YAEd,IAAI,MAAM,GAAQ,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACzF,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,aAAa,IAAI,QAAQ,KAAK,MAAM,EAAE,CAAC;gBACvG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;gBAClD,YAAY;gBACZ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAC3G,YAAY;gBACZ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBACrD,YAAY;gBACZ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;gBACrD,OAAO;YACX,CAAC;YACD,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;YACtE,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACnE,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;gBACjC,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;gBACtB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACvE,CAAC;YACD,IAAI,aAAa,GAAG,oBAAE,CAAC,OAAO,CAAC,wBAAwB,CAAC,QAAQ,EAAO,MAAM,CAAC,CAAC;YAC/E,IAAI,KAAK,CAAC;YACV,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC,CAAA,6BAA6B;gBAClD,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,KAAK,SAAS,EAAE,CAAC;oBAC/C,aAAa,GAAG,oBAAE,CAAC,OAAO,CAAC,wBAAwB,CAAC,UAAU,EAAE,oBAAE,CAAC,OAAO,CAAC,4BAA4B,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;oBACnH,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACtC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,KAAK,EAAE,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC7F,CAAC;gBAED,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;oBAC5B,KAAK,GAAG,KAAK,CAAC;oBACd,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;oBACxC,IAAI,SAAS,GAAS,IAAK,CAAC,SAAS,CAAC;oBACtC,IAAI,SAAS,KAAK,eAAe;wBAC7B,SAAS,GAAG,IAAI,GAAS,IAAK,CAAC,GAAG,GAAG,IAAI,CAAC;oBAC9C,IAAI,IAAI,CAAC;oBACT,IAAI,SAAS,KAAK,MAAM,EAAE,CAAC;wBAEvB,IAAI,GAAG,oBAAE,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC;wBAC3D,4CAA4C;oBAChD,CAAC;yBAAM,CAAC;wBACJ,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,SAAS,GAAG,QAAQ,CAAC,CAAC;wBACrD,0BAA0B;wBAC1B,oDAAoD;oBACxD,CAAC;oBACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;oBACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;oBACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBAEvB,CAAC;qBAAM,CAAC;oBACJ,IAAI,IAAI,CAAC;oBACT,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;wBACxB,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAC1B,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,KAAK;gCACzC,IAAI,GAAG,GAAG,CAAC;wBACnB,CAAC;oBACL,CAAC;oBACD,2BAA2B;oBAC3B,YAAY;oBACZ,IAAG,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,EAAC,CAAC;wBACzB,IAAI,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;wBAClD,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;oBAC5C,CAAC;yBAAI,CAAC;wBACD,IAAI,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;wBACnD,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;oBAC5C,CAAC;oBACD,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;oBACnC,IAAI,GAAG,KAAK,CAAC,CAAA,WAAW;gBAE5B,CAAC;gBACD,IAAI,KAAK,GAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;gBAC9E,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,KAAK,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC,CAAC;oBAC5B,IAAG,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,KAAG,UAAU,EAAC,CAAC;wBAChC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;oBACvC,CAAC;gBACL,CAAC;gBACD,IAAI,IAAI,CAAC,MAAM,KAAG,SAAS;oBACvB,MAAM,kBAAkB,CAAC;gBAI7B,IAAI,MAAM,EAAE,CAAC;oBACT,IAAI,KAAK,GAAG,SAAS,CAAC;oBACtB,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;oBAChB,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;oBAC1C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC9E,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,EAAE,CAAC;4BAC5E,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;4BAChE,MAAM,GAAG,CAAC,CAAC;4BACX,MAAM;wBACV,CAAC;oBACL,CAAC;oBAED,YAAY;oBACZ,IAAI,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;oBACtE,IAAI,IAAI,GAAG,YAAY,CAAC,QAAQ,CAAC;oBACjC,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBAC9B,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;oBAC1B,8EAA8E;oBAE9E,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE;wBAC7C,IAAI,EAAE,IAAI;wBACV,KAAK,EAAE,KAAK;wBACZ,UAAU,EAAE,KAAK;qBACpB,CAAC,CAAC;oBACH,yCAAyC;gBAE7C,CAAC;qBAAM,CAAC;oBAEJ,IAAI,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACzE,IAAI,IAAI,GAAG,YAAY,CAAC,QAAQ,CAAC;oBACjC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAChB,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,KAAK,EAAU,KAAK,EAAE,IAAI,CAAC,CAAC;gBACvD,CAAC;gBACD,IAAI,CAAC,yBAAyB,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;gBACxD,OAAO;YACX,CAAC;iBAAM,CAAC,CAAE,6CAA6C;gBACnD,IAAI,CAAC,OAAO,KAAG,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,SAAS,IAAG,CAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAK,SAAS,CAAC,IAAG,QAAQ,KAAK,KAAK,CAAC,EAAG,CAAC,CAAA,eAAe;oBACvJ,uDAAuD;oBACvD,wEAAwE;oBACxE,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC,CAAA,uBAAuB;wBAC5C,uDAAuD;wBACvD,IAAI,IAAI,GAAY,KAAM,CAAC,SAAS,CAAC,CAAC,EAAW,KAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;wBAEpE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,oBAAE,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;oBACpG,CAAC;yBAAM,CAAC;wBACJ,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;wBACrD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAA;wBACjC,IAAI,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;wBAC1C,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC;wBACvC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;wBACnD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;wBAC1D,IAAI,CAAC,yBAAyB,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;oBAC5D,CAAC;gBACL,CAAC;qBAAM,CAAC;oBACJ,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACtC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAK,SAAS;wBAC/C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC,CAAC;oBACrF,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;oBAC1D,IAAI,CAAC,yBAAyB,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;gBAC5D,CAAC;YACL,CAAC;YAED,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;YAEnC,sCAAsC;YACtC,eAAe;YACf,6CAA6C;QAEjD,CAAC;QACD,gBAAgB,CAAC,YAAoB,EAAE,QAAgB,EAAE,KAAuB,EAC5E,UAAuD,EACvD,aAAsB,KAAK,EAAE,UAAmB,SAAS,EACzD,SAA4D,SAAS,EACrE,gBAAsD,SAAS;YAE/D,4CAA4C;YAC5C,mCAAmC;YACnC,IAAI,QAAa,CAAC;YAClB,IAAI,OAAO,KAAK,KAAK,QAAQ;gBACzB,QAAQ,GAAG,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC;;gBAEvH,QAAQ,GAAG,KAAK,CAAC;YAAA,CAAC;YACtB,IAAI,aAAa,GAAG,aAAa,GAAG,oBAAE,CAAC,OAAO,CAAC,kBAAkB,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,CAAC;YAAA,CAAC;YACpH,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC,CAAC,0BAA0B;gBAChD;;;;;;;;qBAQK;YACT,CAAC;iBAAM,IAAI,UAAU,EAAE,CAAC;gBAEpB,gEAAgE;gBAChE,sHAAsH;YAC1H,CAAC,CAAC;;;cAGA;YACF,IAAI,KAAK,CAAC;YACV,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC,CAAA,6BAA6B;gBAClD,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACtD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;oBAC5B,KAAK,GAAG,KAAK,CAAC;oBACd,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;oBACxC,IAAI,SAAS,GAAS,IAAK,CAAC,SAAS,CAAC;oBACtC,IAAI,SAAS,KAAK,eAAe;wBAC7B,SAAS,GAAS,IAAK,CAAC,GAAG,CAAC;oBAChC,IAAI,IAAI,CAAC;oBACT,IAAI,SAAS,KAAK,MAAM,EAAE,CAAC;wBAEvB,IAAI,GAAG,oBAAE,CAAC,OAAO,CAAC,aAAa,CAAS,EAAE,EAAE,KAAK,CAAC,CAAC;wBACnD,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,EAAU,EAAE,EAAE,IAAI,CAAC,CAAC;oBAC9C,CAAC;yBAAM,CAAC;wBACJ,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,SAAS,GAAG,KAAK,GAAG,SAAS,GAAG,GAAG,CAAC,CAAC;wBAClE,IAAI,SAAS,KAAK,IAAI;4BAClB,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,SAAS,GAAG,IAAI,CAAC,CAAC;oBACvD,CAAC;oBACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;oBACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACvB,CAAC;qBAAM,CAAC;oBACJ,IAAI,IAAI,CAAC;oBACT,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;wBACxB,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;4BAC1B,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,KAAK;gCACzC,IAAI,GAAG,GAAG,CAAC;wBACnB,CAAC;oBACL,CAAC;oBACD,2BAA2B;oBAC3B,YAAY;oBACZ,IAAI,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBAClD,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;oBACxC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;oBACnC,IAAI,GAAG,KAAK,CAAC,CAAA,WAAW;gBAE5B,CAAC;gBACD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBAErB,IAAI,MAAM,EAAE,CAAC;oBACT,IAAI,KAAK,GAAG,SAAS,CAAC;oBACtB,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;oBAChB,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;oBAC1C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC9E,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,EAAE,CAAC;4BAC5E,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;4BAChE,MAAM,GAAG,CAAC,CAAC;4BACX,MAAM;wBACV,CAAC;oBACL,CAAC;oBACD,IAAI,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBAC5C,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,oBAAE,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;oBAE5E,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE;wBAC7C,IAAI,EAAE,IAAI;wBACV,KAAK,EAAE,KAAK;wBACZ,UAAU,EAAE,KAAK;qBACpB,CAAC,CAAC;oBACH,yCAAyC;gBAE7C,CAAC;qBAAM,CAAC;oBACJ,IAAI,MAAM,CAAC,UAAU,CAAC,KAAK,SAAS;wBAChC,QAAQ,CAAC;oBACb,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC9B,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,oBAAE,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;oBAC9D,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,KAAK,EAAU,KAAK,EAAE,IAAI,CAAC,CAAC;gBACvD,CAAC;gBACD,OAAO;YACX,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,oBAAE,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;gBAC1E,IAAI,QAAQ,KAAK,MAAM,EAAE,CAAC;oBACtB,IAAI,MAAM,GAAW,KAAK,CAAC;oBAC3B,IAAI,GAAG,GAAS,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,IAAI,CAAC,CAAA,0CAA0C;oBAC1G,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC9C,IAAI,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;wBACzC,aAAa;wBACb,MAAM,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,GAAG,MAAM,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;oBAC9I,CAAC;oBAED,kDAAkD;oBAElD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;oBAC9D,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,IAAI,GAAG,MAAM,CAAC;gBACnE,CAAC;gBACD,OAAO;YACX,CAAC;YACD,IAAI,OAAO,KAAK,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAK,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC,CAAA,eAAe;gBAC5J,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC;oBAGf,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,cAAc,CAAC,OAAO,GAAG,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACrI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,cAAc,CAAC,OAAO,GAAG,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC3I,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC7C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;oBACrF,OAAO;gBACX,CAAC;gBACD,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACrD,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAClD,iCAAiC;gBAEjC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC;gBAC/C,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBACnC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;gBAC1D,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnD,oDAAoD;gBACpD,4CAA4C;gBAC5C,eAAe;gBACf,6CAA6C;YACjD,CAAC;iBAAM,CAAC,CAAA,YAAY;gBAChB,IAAI,MAAM,EAAE,CAAC;oBACT,MAAM,iBAAiB,CAAC;oBACxB;;;;;;;;;;;;;oFAagE;gBACpE,CAAC;qBAAM,CAAC;oBAEJ,IAAI,MAAM,GAAS,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,UAAU,CAAC;oBACxE,IAAI,MAAM,KAAK,SAAS;wBACpB,MAAM,GAAS,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,cAAc,CAAC,UAAU,CAAC;oBACvF,IAAI,QAAQ,KAAK,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC,CAAA,mBAAmB;wBAErE,IAAI,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;wBAE7C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;wBACrF,IAAU,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,UAAU,EAAE,CAAC;4BACvD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,OAAO,GAAG,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;wBACnG,CAAC;6BAAM,CAAC;4BACJ,IAAI,OAAO,CAAC,WAAW,EAAE,KAAK,IAAI,EAAE,CAAC,CAAA,wCAAwC;gCACzE,IAAI,OAAO,GAAO,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gCAC3D,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gCACvC,IAAI,GAAG,GAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gCACjD,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAC,OAAO,CAAC;gCACrC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAC,OAAO,CAAC;4BACrD,CAAC;iCAAM,CAAC;gCACE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,cAAc,CAAC,OAAO,GAAG,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;gCACxG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,cAAc,CAAC,OAAO,GAAG,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;4BAClH,CAAC;wBACL,CAAC;oBACL,CAAC;yBAAM,CAAC;wBACJ,MAAM,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;wBACzC,aAAa,CAAC,MAAM,GAAG,MAAM,CAAC,CAAA,iBAAiB;oBACnD,CAAC;oBACD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;gBAErF,CAAC;YACL,CAAC;QACL,CAAC;QACD;;;;;;;;;;;;aAYK;QACL;;;;;;;;;;UAUE;QACF,iBAAiB,CAAC,YAAoB,EAAE,QAAgB,EAAE,KAAuB,EAC7E,UAAuD,EACvD,aAAsB,KAAK,EAAE,UAAmB,SAAS,EACzD,SAA4D,SAAS,EACrE,gBAAsD,SAAS;YAC/D,IAAI,IAAI,CAAC,KAAK;gBACV,OAAO,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,QAAQ,EAAU,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;YAChI,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,SAAS;gBACrC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;YACjC,IAAI,UAAU,KAAK,SAAS;gBACxB,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YACjC,IAAI,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;YAC7D,IAAI,aAAa,GAAG,SAAS,CAAC;YAC9B,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;gBAC/E,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;gBACxF,OAAO;YACX,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAK,SAAS,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC;gBACxE,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;gBAC5F,OAAO;YACX,CAAC;YACD,IAAI,QAAQ,GAAQ,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAC3F,IAAI,UAAU,GAAmB,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;YAChG,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC,CAAC,0BAA0B;gBAChD,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA,iBAAiB;gBAChE,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;gBACxB,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;gBACzG,OAAO,GAAG,IAAI,CAAC;gBACf,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBAC/B,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChD,QAAQ,GAAG,OAAO,CAAC;gBACnB,aAAa,GAAG,oBAAE,CAAC,OAAO,CAAC,yBAAyB,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;YACnI,CAAC;iBAAM,IAAI,UAAU,EAAE,CAAC;gBACpB,wIAAwI;gBACxI,aAAa,GAAG,oBAAE,CAAC,OAAO,CAAC,yBAAyB,CAAC,oBAAE,CAAC,OAAO,CAAC,oBAAoB,CAChF,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,KAAK,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,GAAG,GAAG,QAAQ,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC/H,CAAC;;gBACG,aAAa,GAAG,oBAAE,CAAC,OAAO,CAAC,yBAAyB,CAAC,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAC5E,oBAAE,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,KAAK,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,GAAG,GAAG,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;YAClH,IAAI,OAAO,KAAK,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE,CAAC,CAAA,eAAe;gBAC/H,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAErD,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAClD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC;gBAC/C,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAEnC,eAAe;gBACf,6CAA6C;YACjD,CAAC;iBAAM,CAAC,CAAA,YAAY;gBAChB,IAAI,MAAM,EAAE,CAAC;oBACT,IAAI,MAAM,CAAC,KAAK,KAAK,SAAS;wBAC1B,MAAM,iBAAiB,CAAC;oBAC5B,IAAI,IAAI,GAAG,SAAS,CAAC;oBACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC9E,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,MAAM,CAAC,KAAK,EAAE,CAAC;4BAC5E,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;4BAC/D,MAAM;wBACV,CAAC;oBACL,CAAC;oBACD,IAAI,CAAC,IAAI;wBACL,MAAM,KAAK,CAAC,qBAAqB,GAAG,MAAM,CAAC,YAAY,GAAG,GAAG,GAAG,MAAM,CAAC,QAAQ,GAAG,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;oBAChH,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBAClD,IAAI,GAAG,IAAI,CAAC;wBACR,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,EAAE,aAAa,CAAC,CAAC;gBAChE,CAAC;qBAAM,CAAC;oBACJ,IAAI,QAAQ,GAAY,SAAS,CAAC;oBAClC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;wBACvC,IAAI,IAAI,KAAK,OAAO,EAAE,CAAC;4BACnB,qEAAqE;4BACrE,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;4BACxE,SAAS;wBACb,CAAC;wBACD,IAAI,QAAQ,GAAY,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;wBACrG,IAAI,QAAQ,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC;4BACjC,QAAQ,GAAG,QAAQ,CAAC;oBAC5B,CAAC;oBACD,IAAI,QAAQ,EAAE,CAAC;wBACX,IAAI,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;wBAC1D,IAAI,GAAG,IAAI,CAAC;4BACR,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,aAAa,CAAC,CAAC;oBACxE,CAAC;yBAAM,CAAC;wBACJ,IAAI,GAAG,GAAG,UAAU,CAAC,MAAM,CAAC;wBAC5B,IAAI,CAAC;4BACD,IAAI,GAAG,GAAG,CAAC,IAAI,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC;gCAC5E,GAAG,EAAE,CAAC;wBACd,CAAC;wBAAC,WAAM,CAAC;wBAET,CAAC;wBACD,UAAU,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,EAAE,aAAa,CAAC,CAAC;oBAC7C,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;QAED;;YAEI;QACJ,yBAAyB,CAAC,QAAgB,EAAE,QAAgB,EAAE,UAAkB,EAAE,UAAkB;YAChG,IAAI,KAAK,GAAY,SAAS,CAAC;YAC/B,IAAI,MAAM,GAAY,SAAS,CAAC;YAChC,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;YAC3C,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC;gBACtD,IAAI,QAAQ,GAAS,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC,WAAW,CAAC,QAAQ,CAAC;gBACnF,IAAI,MAAM,CAAC;gBACX,IAAI,OAAO,CAAC;gBAEZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACvC,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAA;oBAChC,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE,CAAC;wBACjE,MAAM,GAAG,CAAC,CAAC;oBACf,CAAC;oBACD,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE,CAAC;wBACjE,OAAO,GAAG,CAAC,CAAC;oBAChB,CAAC;gBACL,CAAC;gBACD,IAAI,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAC5B,QAAQ,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;gBACrC,QAAQ,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;gBACzB,OAAO;YACX,CAAC;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACrC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,UAAU;oBACnD,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC3B,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,UAAU;oBACnD,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAChC,CAAC;YACD,IAAI,CAAC,KAAK;gBACN,MAAM,KAAK,CAAC,sBAAsB,GAAG,UAAU,CAAC,CAAC;YACrD,IAAI,CAAC,MAAM;gBACP,MAAM,KAAK,CAAC,sBAAsB,GAAG,UAAU,CAAC,CAAC;YACrD,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACvD,IAAI,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAC1D,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC;YAC5C,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;QAGhD,CAAC;QACD;;;;;;UAME;QACF,iBAAiB,CAAC,QAAgB,EAAE,UAAuD,EAAE,gBAAsD,SAAS,EAAE,aAAa,GAAG,SAAS,EAAE,iBAAqC,SAAS;;YACnO,IAAI,UAAU,KAAK,SAAS;gBACxB,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YACjC,IAAI,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAC/D,IAAI,OAAO,GAAG,IAAI,CAAC,0BAA0B,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;YAEnE,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,GAAG,IAAI,KAAK,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;gBAChD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG;oBACjB,OAAO,EAAE,CAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,EAAE,aAAa,EAAE,CAAC;iBAC1D,CAAA;gBACD,IAAI,cAAc,EAAE,CAAC;oBACjB,cAAc,CAAC,KAAK,GAAG,KAAK,CAAC;gBACjC,CAAC;gBACD,8BAA8B;gBAC9B,OAAO,OAAO,CAAC;YACnB,CAAC;iBAAM,CAAC;gBACJ,IAAI,KAAK,GAAG,KAAK,CAAC;gBAClB,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,SAAS;oBAC7B,KAAK,GAAG,IAAI,CAAC;gBACjB,mBAAmB;gBAEnB,IAAI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;gBAC5D,YAAY;gBACZ,IAAI,CAAA,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,UAAU,0CAAE,MAAM,IAAG,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,EAAE,CAAC;oBACvE,KAAK,GAAG,IAAI,CAAC;gBACjB,CAAC;gBACD,IAAI,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;gBACpC,IAAI,IAAI,KAAK,SAAS;oBAClB,MAAM,KAAK,CAAC,8CAA8C,CAAC,CAAC;gBAEhE,IAAI,UAAU,GAAmB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC7F,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACzC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC;wBACpH,MAAM;gBACd,CAAC;gBACD,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,OAAO,GAAG,OAAO,GAAG,IAAI,GAAG,KAAK,EAAE,IAAI,CAAC,CAAC;gBAC1E,mHAAmH;gBACnH,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAA,mCAAmC;gBAC/D,IAAI,KAAK;oBACL,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YACnC,CAAC;YACD,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC;QAC1C,CAAC;KACJ,CAAA;IAhpDY,wBAAM;qBAAN,MAAM;QADlB,IAAA,kBAAM,EAAC,4BAA4B,CAAC;;OACxB,MAAM,CAgpDlB;IAEM,KAAK,UAAU,KAAK,CAAC,CAAO;QAC/B,SAAS,KAAK,CAAC,CAAS;YACpB,OAAO,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE,CAAC,CAAA;QAC3E,CAAC;QACD,MAAM,yBAAY,CAAC,aAAa,CAAC;QACjC,IAAI,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;QAC1B,MAAM,CAAC,KAAK,CAAC,oCAAoC,CAAC,CAAC;QACnD,MAAM,CAAC,yBAAyB,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QAEvD,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,KAAK,wCAAwC,CAAC,CAAC;QAC5F,MAAM,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC;QAClD,MAAM,CAAC,yBAAyB,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QACvD,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,KAAK,mCAAmC,CAAC,CAAC;QAGvF,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAC1B,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC;QAC9C,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QACzB,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC;QAC3C,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACrB,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC;QAC3C,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;QACpE,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC;QAC3C,IAAI,KAAK,GAAG,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC,CAAC;QAC3D,MAAM,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;QAC7C,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC;QAE3C,MAAM,CAAC,iBAAiB,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;QAC3C,MAAM,CAAC,iBAAiB,CAAC,SAAS,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;QACrD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QAC7C,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,KAAK,kEAAkE,CAAC,CAAC;QAEtH,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;QACtB,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACjB,MAAM,CAAC,iBAAiB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAC/C,MAAM,CAAC,iBAAiB,CAAC,SAAS,EAAE,GAAG,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC;QACzD,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,KAAK,wCAAwC,CAAC,CAAC;IAEhG,CAAC;IACM,KAAK,UAAU,IAAI;QACtB,IAAI,CAAC,GAAG,oBAAE,CAAC;QAEX,oBAAoB;QACpB,MAAM,yBAAY,CAAC,aAAa,CAAC;QAEjC,IAAI,IAAI,GAAG,yBAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;QAClD,IAAI,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;QAC1B,IAAI,KAAK,GAAG,SAAS,CAAC,CAAA,oDAAoD;QAC1E,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QAEjC,0DAA0D;QAC1D,4DAA4D;QAE5D,oGAAoG;QACpG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC,CAAC;QAGtC,kJAAkJ;QAClJ,0IAA0I;QAC1I,2JAA2J;QAC3J,gCAAgC;QAChC,6BAA6B;QAE7B,qIAAqI;QAErI,sGAAsG;QACtG,0CAA0C;QAC1C,iDAAiD;QACjD,yFAAyF;QACzF,mGAAmG;QAEnG,6EAA6E;QAC7E,qGAAqG;QACrG,6DAA6D;QAE7D,2DAA2D;QAC3D,uHAAuH;QACvH,8BAA8B;QAC9B,sJAAsJ;QACtJ,oJAAoJ;QAEpJ,YAAY;QACZ;;;gCAGwB;IAI5B,CAAC;;;;;;ICjxDM,IAAM,OAAO,GAAb,MAAM,OAAO;QA+BhB;YACI,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;YAC1B,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;YACnC,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;YACnC,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;YAC7B,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;YAC9B,IAAI,CAAC,oBAAoB,GAAG,SAAS,CAAC;YACtC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;QAEpC,CAAC;QACO,YAAY,CAAC,KAAK;YACtB,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YACnC,IAAI,SAAS,GAAS,IAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAC/C,IAAI,KAAK,GAAY,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,CAAC;YAEjC,IAAI,KAAK,CAAC,iBAAiB,KAAK,SAAS,EAAE,CAAC;gBAExC,mBAAmB;gBACnB,4DAA4D;gBAC5D,IAAI,KAAK,CAAC,UAAU,KAAK,SAAS,EAAE,CAAC;oBACjC,IAAI,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,sBAAsB,CAAC,EAAE,CAAC;wBAChF,OAAO;oBACX,CAAC;oBACD,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;oBAE7B,UAAU,CAAC;wBACP,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA,CAAC,CAAC,CAAC,CAAC;wBACzG,8DAA8D;wBAC9D,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;wBACrE,KAAK,CAAC,YAAY,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;wBACxC,IAAI,CAAC,KAAK,CAAC,iBAAiB;4BACxB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;wBACxC,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;wBACnD,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;oBACjC,CAAC,EAAE,EAAE,CAAC,CAAC;gBACX,CAAC;gBAED,IAAI,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;gBACpC,mBAAmB;YAEvB,CAAC;YACD,IAAI,KAAK,CAAC,cAAc,KAAK,EAAE,IAAI,KAAK,CAAC,cAAc,KAAK,SAAS,EAAE,CAAC,CAAA,+CAA+C;gBACnH,KAAK,CAAC,cAAc,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;gBAC5C,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;YAC7B,CAAC;QACL,CAAC;QACO,SAAS,CAAC,KAAK;;YAEnB,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YACnC,IAAI,SAAS,GAAS,IAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAC/C,IAAI,KAAK,GAAY,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,CAAC;YACjC,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;YAC1B,IAAI,KAAK,CAAC,iBAAiB,KAAK,SAAS,EAAE,CAAC;gBAExC,KAAK,CAAC,UAAU,GAAG,SAAS,CAAA;gBAC5B,yBAAyB;gBACzB,OAAO,KAAK,CAAC,UAAU,KAAK,SAAS,EAAE,CAAC;oBACpC,IAAI,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;wBAC/D,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;yBACnC,IAAI,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAA,MAAM,CAAC,KAAK,CAAC,UAAU,0CAAE,GAAG,CAAC,KAAK,CAAC,CAAC;wBAChF,KAAK,CAAC,UAAU,GAAG,MAAA,MAAM,CAAC,KAAK,CAAC,UAAU,0CAAE,GAAG,CAAC;oBACpD,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC;gBAC/B,CAAC;gBAGD,KAAK,CAAC,YAAY,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;gBACxC,IAAI,CAAC,KAAK,CAAC,iBAAiB;oBACxB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;gBACxC,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;gBACnD,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;YAEjC,CAAC;YAED,IAAI,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YACpC,mBAAmB;YAGnB,IAAI,KAAK,CAAC,cAAc,KAAK,EAAE,IAAI,KAAK,CAAC,cAAc,KAAK,SAAS,EAAE,CAAC,CAAA,+CAA+C;gBACnH,KAAK,CAAC,cAAc,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;gBAC5C,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;YAC7B,CAAC;QACL,CAAC;QACO,SAAS,CAAC,KAAK;YACnB,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QACvC,CAAC;QAAA,CAAC;QACM,OAAO,CAAC,KAAK;YACjB,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;gBAC3B,IAAI,KAAK,GAAY,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,CAAC;gBACjC,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;gBAC1B,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC/B,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;gBAC7B,IAAI,KAAK,CAAC,cAAc,KAAK,EAAE,IAAI,KAAK,CAAC,cAAc,KAAK,SAAS,EAAE,CAAC;oBACpE,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,UAAU,CAAC;oBAC9E,KAAK,CAAC,cAAc,GAAG,EAAE,CAAC;gBAC9B,CAAC;YACL,CAAC;QACL,CAAC;QACD,4DAA4D;QACpD,kBAAkB,CAAC,GAAG,KAAY;YACtC,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC3B,YAAY,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;YAC3C,CAAC;YAED,IAAI,CAAC,mBAAmB,GAAG,UAAU,CAAC,GAAG,EAAE;gBACvC,IAAI,KAAK,CAAC,iBAAiB,KAAK,SAAS,EAAE,CAAC;oBACxC,YAAY;oBACZ,KAAK,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC,CAAC;gBACtC,CAAC;YACL,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC;QAED;;;;UAIE;QACM,gBAAgB,CAAC,CAAC;YAEtB,8BAA8B;YAC9B,gCAAgC;YAChC,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,yBAAyB;gBACzB,IAAI,QAAQ,GAAG,CAAC,CAAC;gBACjB,mCAAmC;gBACnC,IAAI,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC;gBACzB,IAAI,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC;gBACzB,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,KAAG,CAAC,CAAA,CAAC,CAAA,SAAS,CAAA,CAAC,CAAA,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEnG,oEAAoE;gBAEpE,IAAI,OAAO,KAAK,SAAS,EAAE,CAAC;oBACxB,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;oBACxE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;oBACtB,OAAO;gBACX,CAAC;gBACD;;;mBAGG;gBACH,uCAAuC;gBACvC,IAAI,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,CAAA,qBAAqB;gBACvE,IAAI,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAA,oBAAoB;gBAErE,iCAAiC;gBACjC,IAAI,KAAK,GAAG,OAAO,CAAC,WAAW,CAAC;gBAChC,IAAI,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC;gBAElC,4CAA4C;gBAC5C,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;gBACxE,IAAI,KAAK,GAAG,IAAI,CAAC;gBACjB,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;oBAC7B,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ,EAAE,CAAC,CAAC,CAAC;oBAClC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;oBAC1B,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;oBACxB,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;oBACnD;;uBAEG;oBACH,uDAAuD;gBAE3D,CAAC;gBACD,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;oBAC7B,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,QAAQ,EAAE,CAAC,CAAC,CAAC;oBAClC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;oBAC1B,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA,QAAQ;oBACjC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;oBACpD;;uBAEG;gBACP,CAAC;YACL,CAAC;iBAAM,CAAC;gBACJ,iEAAiE;gBACjE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC;QAEL,CAAC;QAID;;;UAGE;QACF,aAAa,CAAC,CAAC;YACX,IAAI,UAAU,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAC5B,MAAM;YACN,wDAAwD;YACxD,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;gBACrC,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnD,IAAI,EAAE,EAAE,CAAC;oBACL,IAAI,OAAO,GAAG,EAAE,CAAC,SAAS,CAAC;oBAC3B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,qBAAqB,CAAC;wBACxC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5D,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;YACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClC,IAAI,OAAO,GAA6B,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC/C,IAAI,OAAO,KAAK,IAAI;oBAChB,SAAS;gBACb,IAAI,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC;gBACnE,IAAI,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC;gBACnE,IAAI,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,qBAAqB,CAAC,EAAE,CAAC;oBACpD,SAAS;gBACb,CAAC;gBACD,oCAAoC;gBACpC,oDAAoD;gBACpD,IAAI,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,CAAA,qBAAqB;gBAC7D,IAAI,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAA,oBAAoB;gBAC3D,IAAI,YAAY,GAAG,QAAQ,GAAG,OAAO,CAAC,WAAW,CAAC;gBAClD,IAAI,YAAY,GAAG,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC;gBACnD,IAAI,QAAQ,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC;gBACzB,IAAI,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC;gBACzB,wCAAwC;gBACxC,6GAA6G;gBAE7G,sGAAsG;gBACtG,IAAI,CAAC,IAAI,YAAY,GAAG,UAAU,IAAI,CAAC,IAAI,YAAY,GAAG,UAAU,EAAE,CAAC;oBACnE;;;yBAGK;oBACL,IAAI,CAAC,CAAC,GAAG,QAAQ,GAAG,UAAU,IAAI,CAAC,GAAG,YAAY,GAAG,UAAU,CAAC,EAAE,CAAC;wBAC/D,IAAI,CAAC,SAAS,EAAE,CAAC;4BACb,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;4BAC7B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;wBACjC,CAAC;oBACL,CAAC;gBACL,CAAC;qBACI,IAAI,CAAC,CAAC,GAAG,QAAQ,GAAG,UAAU,IAAI,CAAC,GAAG,YAAY,GAAG,UAAU,CAAC,EAAE,CAAC;oBACpE,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC,IAAI,YAAY,GAAG,UAAU,IAAI,CAAC,IAAI,YAAY,GAAG,UAAU,CAAC,EAAE,CAAC;wBACnF,IAAI,CAAC,SAAS,EAAE,CAAC;4BACb,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;4BAC7B,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;wBACjC,CAAC;oBACL,CAAC;gBACL,CAAC;gBACD,IAAI,IAAI,CAAC,UAAU,KAAK,UAAU,IAAI,IAAI,CAAC,UAAU,KAAK,UAAU,EAAE,CAAC;oBACnE,IAAI,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;oBAC7C,IAAI,UAAU,GAAG,KAAK,CAAC;oBACvB,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE,CAAC;wBACpC,OAAO,IAAI,SAAS,CAAC;wBACrB,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;oBAClD,CAAC;oBACD,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,UAAU,EAAE,CAAC;wBACjC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;wBACpC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;oBAC3C,CAAC;yBAAM,CAAC;wBACJ,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;wBAC5B,IAAI,CAAC,oBAAoB,GAAG,SAAS,CAAC;wBACtC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;oBAC3C,CAAC;oBACD,OAAO;gBACX,CAAC;gBACD,IAAI,CAAC,oBAAoB,GAAG,SAAS,CAAC;gBACtC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;YAC3C,CAAC;QACL,CAAC;QACD;;;WAGG;QACI,YAAY,CAAC,MAAe;YAC/B,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;YACxB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YACpC,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB,IAAI,MAAM,KAAK,IAAI,EAAE,CAAC;gBAClB,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC;oBAC/B,QAAQ,EAAE,UAAU,KAAK,EAAE,EAAE;wBACzB,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,QAAQ,GAAG,GAAG,EAAE,CAAC,CAAA,eAAe;4BACvD,KAAK,CAAC,YAAY,GAAG,EAAE,CAAC;4BACxB,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA,CAAC,CAAC,CAAC,CAAC;4BACzG,mBAAmB;4BACnB,2CAA2C;4BAC3C,UAAU,CAAC;gCACP,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;gCACnD,KAAK,CAAC,YAAY,GAAG,SAAS,CAAC;4BACnC,CAAC,EAAE,EAAE,CAAC,CAAC;wBACX,CAAC;wBACD,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;wBAChC,IAAI,CAAC,GAAG,CAAC,CAAC;wBACV,IAAI,EAAE,CAAC,QAAQ,CAAC,KAAK,IAAI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC;4BACjE,CAAC,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,sBAAsB,CAAC,EAAE,CAAC;4BAC1D,IAAI,GAAG,GAAG,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAC;4BAC/B,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;gCACtD,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gCAC/C,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;4BAC9E,CAAC;wBACL,CAAC;oBACL,CAAC;iBACJ,CAAC,CAAC;YACP,CAAC;iBAAM,CAAC;gBAEJ,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAClD,CAAC;QAEL,CAAC;QACD;;;;WAIG;QACH,OAAO,CAAC,WAAsB,EAAE,QAAgB;YAC5C,IAAI,KAAK,GAAG,IAAI,CAAC;YACjB;;;;;;;;;;;;;;;eAeG;YACH,IAAI,WAAW,KAAK,SAAS;gBACzB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YACnC,IAAI,QAAQ,KAAK,SAAS;gBACtB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC7B,iFAAiF;YACjF,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAC9D,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACrE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACrD,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;YACrE,CAAC;YACD,gEAAgE;YAChE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAC9D,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAE1D,0BAA0B;YAC1B,2BAA2B;QAE/B,CAAC;QAED;;WAEG;QACH,SAAS;YACL,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;YACnC,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;YACnC,IAAI,IAAI,CAAC,WAAW,KAAK,SAAS,EAAE,CAAC;gBACjC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBACzD,IAAI,IAAI,CAAC,iBAAiB,KAAK,SAAS;oBACpC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC5D,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;gBACnC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBACzD,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YACxD,CAAC;YACD,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;YAC7B,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;YAC9B,IAAI,CAAC,oBAAoB,GAAG,SAAS,CAAC;YACtC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;YAEhC;;6CAEiC;QAErC,CAAC;KACJ,CAAA;IA3ZY,0BAAO;sBAAP,OAAO;QADnB,IAAA,kBAAM,EAAC,6BAA6B,CAAC;;OACzB,OAAO,CA2ZnB;;;;;;;IC7RD,oBASC;;IA7HD,MAAM,WAAY,SAAQ,mBAAQ;QAAlC;;YAGI,aAAQ,GAAG,CAAC,CAAC;YACb,gBAAW,GAAG,CAAC,CAAC;YAChB,aAAQ,GAAG,KAAK,CAAC;QAWrB,CAAC;QAVG,MAAM;YACF,IAAI,IAAI,CAAC,WAAW,KAAK,CAAC,EAAE,CAAC;YAE7B,CAAC;YACD,IAAI,CAAC,UAAU,CAAC,KAAK,GAAC;gBAClB,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC;aACpD,CAAC;YAEF,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,GAAC,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,GAAC,KAAK,CAAE,CAAA,CAAC,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,QAAQ,GAAG,UAAU,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,gBAAgB,CAAA;QAC5M,CAAC;KACJ;IAGM,IAAM,UAAU,kBAAhB,MAAM,UAAU;QAIN,AAAb,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAe,EAAE,YAAyB,SAAS;;YAErE,IAAI,MAAM,GAAG,KAAK,CAAC;YACnB,IAAI,SAAS,KAAK,SAAS,EAAE,CAAC;gBAC1B,SAAS,GAAG,IAAI,WAAW,EAAE,CAAC;gBAC9B,iBAAO,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;gBAChC,SAAS,CAAC,UAAU,GAAG,IAAI,qBAAS,EAAE,CAAC;gBAEvC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;gBACpC,MAAM,GAAG,IAAI,CAAC;gBACd,eAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC1B,IAAI,CAAC;wBACD,IAAI,SAAS,CAAC,GAAG,EAAE,CAAC,CAAA,uCAAuC;4BACvD,IAAI,aAAa,GAAG,IAAI,uBAAU,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;4BACxD,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;4BAC5B,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;wBACjC,CAAC;oBACL,CAAC;oBAAC,WAAM,CAAC;oBAET,CAAC;gBACL,CAAC,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC;YACtB,CAAC;YACD,IAAG,MAAM,EAAC,CAAC;gBACP,SAAS,CAAC,SAAS,GAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;YAC7C,CAAC;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClC,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClB,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC;oBACrB,MAAM,YAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;gBAErD,CAAC;qBAAM,CAAC;oBACJ,IAAI,UAAU,GAAG,CAAC,sDAAa,gCAAgC,8CAAC,CAAC,CAAC,YAAY,CAAC;oBAC/E,MAAM,UAAU,CAAC,WAAW,EAAE,CAAC;oBAC/B,IAAI,IAAI,GAAW,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACrD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;wBACrB,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;wBAC1B,IAAI,CAAC;4BACD,IAAI,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,6BAA6B,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;gCACrG,OAAO,CAAC,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;gCACrC,IAAI,GAAG,GAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gCACvC,IAAI,IAAI,GAAG,MAAA,CAAC,sDAAa,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,8CAAC,CAAC,0CAAE,IAAI,CAAC;gCACjE,IAAI,OAAO,IAAI,KAAK,UAAU,EAAE,CAAC;oCAC7B,SAAS,CAAC,QAAQ,EAAE,CAAC;oCACrB,SAAS,CAAC,MAAM,EAAE,CAAC;oCACnB,IAAI,GAAG,GAAG,MAAM,IAAI,CAAC,IAAI,WAAI,EAAE,CAAC,CAAC;oCACjC,IAAI,GAAG,YAAY,qBAAS,EAAE,CAAC;wCAC3B,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,GAAE,UAAU,CAAE;wCACpC,GAAG,CAAC,KAAK,GAAG,MAAM,CAAC;wCACnB,IAAI,IAAI,GAAG,IAAI,qBAAS,EAAE,CAAC;wCAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;wCAC5C,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wCACpB,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oCACvB,CAAC;gCACL,CAAC;4BACL,CAAC;wBACL,CAAC;wBAAC,OAAO,GAAG,EAAE,CAAC;4BACX,IAAI,SAAS,CAAC,GAAG,EAAE,CAAC;gCAChB,IAAI,CAAC;oCACD,IAAI,aAAa,GAAG,IAAI,uBAAU,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;oCACxD,aAAa,CAAC,QAAQ,CAAC;wCACnB,KAAK,EAAE,GAAG;qCACb,CAAC,CAAC;oCACH,aAAa,CAAC,KAAK,GAAC;wCAChB,eAAe,EAAE,KAAK;qCACzB,CAAC;oCACF,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oCAC7B,SAAS,CAAC,WAAW,EAAE,CAAC;oCACxB,SAAS,CAAC,MAAM,EAAE,CAAC;gCACvB,CAAC;gCAAC,WAAM,CAAC;gCAET,CAAC;4BACL,CAAC;wBACL,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;YACD,IAAI,MAAM,EAAE,CAAC;gBACT,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAC1B,SAAS,CAAC,MAAM,EAAE,CAAC;gBACnB,eAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBACtC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YAC7B,CAAC;QAEL,CAAC;KAEJ,CAAA;IAzFY,gCAAU;IAIN;QAHZ,IAAA,kBAAO,EAAC;YACL,IAAI,EAAE,WAAW;SACpB,CAAC;;gDACgD,WAAW;;oCAmF5D;yBAvFQ,UAAU;QAFtB,IAAA,0BAAe,EAAC,yBAAyB,CAAC;QAC1C,IAAA,kBAAM,EAAC,8BAA8B,CAAC;OAC1B,UAAU,CAyFtB;IAGD,MAAa,KAAK;KAEjB;IAFD,sBAEC;IAED,UAAU;IACH,KAAK,UAAU,IAAI,CAAC,GAAS;QAEhC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;QACzB,GAAG,CAAC,WAAW,CAAC,GAAG,EAAE;YACjB,IAAI,CAAC,CAAC;YACN,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;IAGP,CAAC;;;;;;;IC/HD,oCAAoC;IAE7B,IAAM,WAAW,GAAjB,MAAM,WAAW;QACpB,KAAK,CAAC,OAAO,CAAC,IAAY;YACtB,IAAI,EAAE,GAAE,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;YACtD,OAAO,EAAE,CAAC;YACV,qCAAqC;QACzC,CAAC;QACD,KAAK,CAAC,aAAa,CAAC,MAAc,EAAE,IAAI,EAAE,MAAM;YAC5C,IAAI,MAAM,CAAC;YACX,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,UAAU,GAAG,CAAC,CAAC;YACnB,IAAI,UAAU,CAAC;YACf,IAAI,eAAM,CAAC,UAAU,IAAI,eAAM,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;gBACjD,IAAI,GAAG,GAAG,eAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;gBAC1C,UAAU,GAAG,eAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBACjC,IAAI,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE3H,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAA,6DAA6D;gBACnG,UAAU,GAAG,eAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;YAC9C,CAAC;iBAAM,CAAC;gBACJ,yBAAyB;gBACzB,UAAU,GAAG,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1H,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAA,uDAAuD;gBAE/F,IAAI,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,qBAAqB,CAAC,CAAC;gBACvD,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,qCAAqC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;oBACpE,IAAI,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;oBACrC,OAAO,GAAG,oBAAE,CAAC,cAAc,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;oBAC7C,8CAA8C;gBAClD,CAAC;qBAAM,CAAC;oBACJ,8FAA8F;oBAC9F,6BAA6B;oBAC7B,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBACvH,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,CAAC;gBAClD,CAAC;YACL,CAAC;YACD,IAAI,GAAG,GAAkE,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;gBACrG,IAAI,QAAQ,GAAG,KAAK,CAAC;gBACrB,qBAAS,CAAC,iBAAiB,CAAC,UAAU,CAAC;oBACnC,mBAAmB,EAAE,sDAAsD;iBAC9E,CAAC,CAAC;gBACH,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBACvC,qBAAS,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,QAAQ,CAAC,EAAE;oBAC5D,IAAI,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC;oBAC5B,IAAI,CAAC,GAAG,QAAQ,CAAC,oBAAoB,CAAC;wBAClC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC;wBACxC,IAAI,EAAE,IAAI;wBACV,MAAM,EAAE,MAAM;qBACjB,CAAC,CAAA;oBACF,CAAC,CAAC,UAAU,GAAG,UAAU,CAAC;oBAC1B,OAAO,CAAC,CAAC;gBACb,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ;oBACtB,OAAO,CAAC,QAAQ,CAAC,CAAC;gBACtB,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;YACH,OAAO,GAAG,CAAC;QACf,CAAC;QACD,KAAK,CAAC,aAAa,CAAC,MAAa,EAAE,IAAW,EAAE,MAAa;YACzD,IAAI,IAAI,GAAC,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,EAAC,CAAC,EAAC,IAAI,EAAC,MAAM,EAAC,CAAC,CAAC,CAAC;YAC3D,OAAO,CAAC,CAAC,IAAI,KAAG,SAAS,IAAE,IAAI,CAAC,MAAM,KAAG,CAAC,CAAC,CAAA,CAAC,CAAA,SAAS,CAAA,CAAC,CAAA,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACnE,CAAC;QACD,KAAK,CAAC,cAAc,CAAC,MAAM,EAAE,IAAmC;YAC5D,IAAI,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA,CAAA,mDAAmD;YACxG,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,qBAAqB,CAAC,CAAC;YACvD,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,qCAAqC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;gBACpE,IAAI,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;gBACrC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;YACxB,CAAC;iBAAM,IAAI,GAAG,EAAE,CAAC;gBACb,4BAA4B;gBAC5B,IAAI,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvH,OAAO,GAAG,MAAM,IAAI,eAAM,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACnD,CAAC;;gBACG,OAAO,SAAS,CAAC;YACrB,qBAAS,CAAC,iBAAiB,CAAC,UAAU,CAAC;gBAC/B,mBAAmB,EAAE,sDAAsD;aAC9E,CAAC,CAAC;YACP,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YACvC,IAAI,GAAG,GAAC,EAAE,CAAC;YACX,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC,CAAC;gBAC3B,IAAI,GAAG,GAAQ,MAAM,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;oBAEjD,iCAAiC;oBACjC,qBAAS,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,QAAQ,CAAC,EAAE;wBAC5D,IAAI,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC;wBAC5B,IAAI,CAAC,GAAG,QAAQ,CAAC,mBAAmB,CAAC;4BACjC,IAAI,EAAE,qBAAS,CAAC,iBAAiB,CAAC,oBAAoB;4BACtD,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI;4BAClB,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM;yBACzB,CAAC,CAAA;wBACF,OAAO,CAAC,CAAC;oBACb,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ;wBACtB,OAAO,CAAC,QAAQ,CAAC,CAAC;oBACtB,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;gBACH,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClB,CAAC;YACD,OAAO,MAAM,GAAG,CAAC;YACjB,6FAA6F;QACjG,CAAC;KACJ,CAAA;IAnGY,kCAAW;0BAAX,WAAW;QADvB,IAAA,kBAAM,EAAC,iCAAiC,CAAC;OAC7B,WAAW,CAmGvB;;;;;;;;IC1GD,qCAAqC;IAI9B,IAAM,UAAU,kBAAhB,MAAM,UAAU;QA2BZ,QAAQ,CAAC,IAAI;YAEhB,OAAO,YAAU,CAAC,SAAS,KAAK,IAAI,CAAC;QACzC,CAAC;QACD;;;;WAIG;QACH,KAAK,CAAC,SAAS,CAAC,QAAgB,EAAE,OAAe,EAAE,mBAAwB,SAAS;YAChF,IAAI,GAAG,GAAG,EAAE,SAAS,EAAE,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,CAAC,OAAO,CAAC,EAAE,CAAA;YACxD,IAAI,QAAQ,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA,iCAAiC;gBAChF,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,CAAC;gBACrC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC/B,CAAC;iBAAM,CAAC;gBACJ,IAAI,MAAM,GAAG,EAAE,CAAC;gBAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAClD,MAAM,GAAG,KAAK,GAAG,MAAM,CAAC;gBAC5B,CAAC;gBACD,IAAI,GAAG,GAAG;oBACN,eAAe,EAAE,gBAAgB,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,YAAU,CAAC,gBAAgB;oBAClF,QAAQ,EAAE,MAAM,GAAG,QAAQ;iBAC9B,CAAC;gBACF,YAAY;gBACZ,IAAI,IAAI,GAAQ,oBAAE,CAAC,eAAe,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;gBACjD,IAAI,MAAM,GAAG,CAAC,CAAC;gBACf,IAAI,QAAQ,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACvC,MAAM,GAAG,CAAC,CAAC;gBACf,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,KAAK,CAAC,CAAC;gBACpF,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACnC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,SAAS,CAAC,CAAC;gBACxF,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAE1C,CAAC;YACD,OAAO,GAAG,CAAC;QAEf,CAAC;QACD;YA+BA,eAAU,GAAG,IAAI,CAAC;YA7Bd,IAAI,YAAU,CAAC,SAAS,KAAK,SAAS;gBAClC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAEhD,CAAC;QAED,MAAM,CAAC,UAAU;YACb;;;iBAGK;YACL,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,kBAAkB,CAAC,kBAAkB,CAAC;gBAC9D,QAAQ,EAAE,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,MAAM;gBACzD,SAAS,EAAE,IAAI;gBACf,QAAQ,EAAE,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG;gBACpD,kBAAkB,EAAE,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,oBAAoB,CAAC,OAAO;gBAC5E,KAAK,EAAE,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK;gBAChD,SAAS,EAAE,CAAC,uBAAuB,CAAC;gBACpC,OAAO,EAAE,IAAI;gBAEb,WAAW,EAAE,IAAI;gBACjB,QAAQ,EAAE,MAAM;gBAChB,qBAAqB,EAAE,IAAI;gBAC3B,oBAAoB,EAAE,IAAI;gBAC1B,OAAO,EAAE,IAAI;gBACb,eAAe,EAAE,IAAI;gBACrB,sBAAsB,EAAE,IAAI;aAC/B,CAAC,CAAC;QAEP,CAAC;QAED,8BAA8B;QACtB,KAAK,CAAC,iBAAiB;YAC3B,IAAI,SAAS,GAAG,EAAE,CAAA;YAClB,KAAK,IAAI,GAAG,IAAI,eAAM,CAAC,OAAO,EAAE,CAAC;gBAC7B,IAAI,OAAO,GAAG,CAAC,wDAAa,GAAG,GAAG,QAAQ,gDAAC,CAAC,CAAC,OAAO,CAAC;gBACrD,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;oBAChB,KAAK,IAAI,GAAG,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;wBAC5B,IAAI,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBAC9B,SAAS,CAAC,GAAG,CAAC,GAAG,IAAI,eAAM,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBAEjD,CAAC;gBACL,CAAC;YACL,CAAC;YACD,OAAO,SAAS,CAAC;QACrB,CAAC;QACD;;;WAGG;QACH,KAAK,CAAC,WAAW;YACb,IAAI,CAAC;gBACD,IAAI,YAAU,CAAC,SAAS,KAAK,SAAS;oBAClC,OAAO;gBACX,YAAU,CAAC,SAAS,GAAG,KAAK,CAAC;gBAC7B,YAAU,CAAC,UAAU,EAAE,CAAC;gBACxB,YAAY;gBACZ,+DAA+D;gBAC/D,YAAU,CAAC,EAAE,GAAG,oBAAE,CAAC;gBACnB,IAAI,SAAS,GAAS,MAAO,CAAC,SAAS,CAAC;gBACxC,KAAK,IAAI,GAAG,IAAI,SAAS,EAAE,CAAC;oBACxB,IAAI,oBAAE,CAAC,GAAG,CAAC,KAAK,SAAS;wBACrB,oBAAE,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;gBACjC,CAAC;gBACD,IAAI,KAAK,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,GAAiC,CAAC,MAAM,IAAI,eAAM,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC;gBAErF,IAAI,SAAS,GAAG,MAAM,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC/C,4BAA4B;gBAC5B,4CAA4C;gBAC5C,IAAI,OAAO,GAAG,EAAE,CAAC;gBACjB,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;oBACd,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;oBAC1B,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBAGrB,2BAA2B;oBAC3B,IAAI,KAAK,CAAC,UAAU,CAAC,cAAc,CAAC;wBAChC,SAAS;oBACb,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC;wBAC9J,IAAI,KAAK,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;4BAC5C,IAAI,CAAC;gCACD,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,kBAAkB,CAAC,WAAW,CAAC,8BAA8B,EAAE,UAAU,GAAG,KAAK,CAAC,CAAC;4BACnH,CAAC;4BAAC,WAAM,CAAC;gCACL,OAAO,CAAC,GAAG,CAAC,qBAAqB,GAAG,KAAK,CAAC,CAAC;4BAC/C,CAAC;wBACL,CAAC;wBACD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;4BACrB,SAAS,CAAC,KAAK,CAAC,GAAG,IAAI,eAAM,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;wBACpD,CAAC;6BAAM,CAAC;4BACJ,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gCACtB,GAAG,EAAE,KAAK;gCACV,UAAU,EAAE,UAAU,OAAO;oCACzB,OAAO,CAAC,gBAAgB,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;gCACzD,CAAC;gCACD,QAAQ,EAAE,MAAM;6BACnB,CAAC,CAAC;wBACP,CAAC;wBACD,GAAG;oBACP,CAAC;gBACL,CAAC;gBACD,iBAAiB;gBAEjB,yBAAyB;gBACzB,IAAI,IAAI,GAAG,EAAE,CAAC;gBACd,KAAK,IAAI,GAAG,IAAI,SAAS,EAAE,CAAC;oBACxB,IAAI,CAAC,GAAG,CAAC,GAAG,MAAM,SAAS,CAAC,GAAG,CAAC,CAAC;gBAErC,CAAC;gBACD,KAAK,IAAI,GAAG,IAAI,SAAS,EAAE,CAAC;oBACxB,QAAQ;oBAER,YAAY;oBACZ,GAAG;oBACH,IAAI,IAAI,GAAG,YAAY,CAAC;oBAExB,IAAI,GAAG,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;wBACtF,IAAI,CAAC;4BACD,EAAE;4BACF,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;gCAClB,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,GAAG,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;gCACjE,mBAAmB;gCACnB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC;oCAC9B,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;gCAC9D,KAAK;4BACT,CAAC;iCAAM,CAAC;gCAEJ,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,kBAAkB,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,UAAU,GAAG,GAAG,CAAC,CAAC;4BAC5F,CAAC;wBACL,CAAC;wBAAC,WAAM,CAAC;wBAET,CAAC;oBACL,CAAC;oBACD,IAAI,GAAG,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;wBACzC,IAAI,GAAG,MAAM,CAAC;gBAEtB,CAAC;gBACD,mBAAmB;gBACnB,uBAAuB;gBACvB,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,EAAE,YAAY,EAAE,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;gBAChH,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,mBAAmB,EAAE,CAAC,EAAE,CAAA;gBACjF,YAAU,CAAC,SAAS,GAAG,IAAI,CAAC;gBAC5B,OAAO,IAAI,CAAC;YAChB,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACX,QAAQ,CAAC;gBACT,MAAM,GAAG,CAAC;YACd,CAAC;QACL,CAAC;QACD;;WAEG;QACH,KAAK,CAAC,uBAAuB,CAAC,IAAY,EAAE,QAAgB;YACxD,MAAM,IAAI,CAAC,aAAa,CAAC;YACzB,IAAI,YAAU,CAAC,SAAS,KAAK,IAAI,EAAE,CAAC;gBAChC,MAAM,KAAK,CAAC,6BAA6B,CAAC,CAAA;YAC9C,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,UAAU,GAAG,IAAI,EAAE,QAAQ,CAAC,CAAC;QAEpF,CAAC;QACD;;WAEG;QACH,KAAK,CAAC,qBAAqB,CAAC,IAAY,EAAE,QAAgB;YACtD,MAAM,IAAI,CAAC,aAAa,CAAC;YACzB,IAAI,YAAU,CAAC,SAAS,KAAK,IAAI,EAAE,CAAC;gBAChC,MAAM,KAAK,CAAC,6BAA6B,CAAC,CAAA;YAC9C,CAAC;YACD,YAAY;YACZ,OAAO,MAAM,IAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,UAAU,GAAG,IAAI,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;QAE7F,CAAC;QACD,KAAK,CAAC,mBAAmB,CAAC,IAAY;QAEtC,CAAC;QACD,KAAK,CAAC,UAAU,CAAC,OAAe,EAAE,OAAe;YAC7C,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,GAAG,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;YACrE,IAAI,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC9C,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,OAAO,EAAE,CAAC;YACrB,IAAI,IAAI,GAAG,MAAM,CAAC,CAAC,IAAI,CAAC;gBACpB,GAAG,EAAE,OAAO;gBACZ,UAAU,EAAE,UAAU,OAAO;oBACzB,OAAO,CAAC,gBAAgB,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAAC;gBAC5D,CAAC;gBACD,QAAQ,EAAE,MAAM;aACnB,CAAC,CAAC;YACH,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAClC,IAAI,IAAI,GAAG,YAAU,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QACzE,CAAC;QAED;;WAEG;QACH,QAAQ;YACJ,IAAI,GAAG,GAAa,EAAE,CAAC;YACvB,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;YACrC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBACtC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAChB,CAAC;YACD,OAAO,GAAG,CAAC;QACf,CAAC;QACD;;;WAGG;QACH,OAAO,CAAC,IAAY;YAChB,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,GAAG,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;YAClE,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACxC,IAAI,GAAG;gBACH,OAAO,GAAG,CAAC,QAAQ,EAAE,CAAC;;gBAEtB,OAAO,SAAS,CAAC;QACzB,CAAC;QACD;;;;WAIG;QACH,OAAO,CAAC,IAAY,EAAE,IAAY;YAC9B,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,GAAG,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;YAClE,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACxC,IAAI,CAAC,GAAG,EAAE,CAAC;gBACP,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;YAC/D,CAAC;YACD,IAAI,MAAM,GAAG,IAAI,OAAO,CAAC,UAAU,OAAO;gBACtC,IAAI,IAAI,GAAG,GAAG,CAAC,kBAAkB,CAAC,CAAC,GAAG,EAAE,EAAE;oBACtC,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC;wBAC/B,IAAI,CAAC,OAAO,EAAE,CAAC;wBACf,OAAO,CAAC,GAAG,CAAC,CAAC;oBACjB,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;YACH,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACnB,OAAO,MAAM,CAAC;QAClB,CAAC;QACD;;;;;;;;WAQG;QACH,KAAK,CAAC,yBAAyB,CAAC,IAAY,EAAE,QAAgB,EAAE,IAAY,EAAE,aAAa,GAAG,EAAE,EAAE,MAAM,GAAG,SAAS,EAAE,WAAW,GAAG,EAAE;YAClI,MAAM,IAAI,CAAC,aAAa,CAAC;YACzB,IAAI,YAAU,CAAC,SAAS,KAAK,IAAI,EAAE,CAAC;gBAChC,MAAM,KAAK,CAAC,6BAA6B,CAAC,CAAA;YAC9C,CAAC;YACD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,yBAAyB,CAAC,UAAU,GAAG,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;YAC9F,OAAO,IAAI,CAAC;QAChB,CAAC;QACD;;;;;WAKG;QACH,KAAK,CAAC,aAAa,CAAC,IAAY,EAAE,QAAgB,EAAE,OAAe,SAAS,EAAE,OAAO;YACjF,MAAM,IAAI,CAAC,aAAa,CAAC;YACzB,IAAI,YAAU,CAAC,SAAS,KAAK,IAAI,EAAE,CAAC;gBAChC,MAAM,KAAK,CAAC,6BAA6B,CAAC,CAAA;YAC9C,CAAC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;gBACrB,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACjC,MAAM,CAAC,CAAC;gBACR,0DAA0D;YAC9D,CAAC;YACD,YAAY;YACZ,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,UAAU,GAAG,IAAI,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;YAChG,sDAAsD;YACtD,OAAO,IAAI,CAAC;QAChB,CAAC;QACD,KAAK,CAAC,sBAAsB,CAAC,IAAY,EAAE,QAAgB,EAAE,IAAY;YACrE,MAAM,IAAI,CAAC,aAAa,CAAC;YACzB,IAAI,YAAU,CAAC,SAAS,KAAK,IAAI,EAAE,CAAC;gBAChC,MAAM,KAAK,CAAC,6BAA6B,CAAC,CAAA;YAC9C,CAAC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;gBACrB,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACnC,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,UAAU,GAAG,IAAI,EAAE,QAAQ,CAAC,CAAC;QACnF,CAAC;QACD,KAAK,CAAC,sBAAsB,CAAC,IAAY,EAAE,OAAe,SAAS,EAAE,KAAa,EAAE,GAAW,EAAE,UAAc;YAC3G,MAAM,IAAI,CAAC,aAAa,CAAC;YACzB,IAAI,YAAU,CAAC,SAAS,KAAK,IAAI,EAAE,CAAC;gBAChC,MAAM,KAAK,CAAC,6BAA6B,CAAC,CAAA;YAC9C,CAAC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;gBACrB,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACnC,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,UAAU,GAAG,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;QACrG,CAAC;QACD,KAAK,CAAC,cAAc,CAAC,QAAgB,EAAE,OAAe,SAAS;YAC3D,MAAM,IAAI,CAAC,aAAa,CAAC;YACzB,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YAEnC,IAAI,WAAW,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,6BAA6B,CAAC,UAAU,GAAG,QAAQ,EAAE;gBACvF,mBAAmB,EAAE,IAAI;gBACzB,8BAA8B,EAAE,IAAI;gBACpC,+CAA+C,EAAE,IAAI;gBACrD,wCAAwC,EAAE,IAAI;gBAC9C,gBAAgB,EAAE,IAAI;gBACtB,WAAW,EAAE,oBAAE,CAAC,WAAW,CAAC,KAAK;gBACjC,UAAU,EAAE,CAAC;gBACb,OAAO,EAAE,CAAC;aACb,CAAC,CAAC;YAEH,IAAI,SAAS,GAAG,IAAI,CAAC;YACrB,WAAW,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC1C,IAAI,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;gBAChC,MAAM,EAAE,IAAI,EAAE,GAAG,UAAU,CAAC;gBAC5B,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,UAAU,CAAC,OAAO;sBACzD,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;YACpD,CAAC;YACD,OAAO,SAAS,CAAC;QACrB,CAAC;QACD,KAAK,CAAC,oBAAoB;YACtB,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;YACrC,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,WAAW,GAAG,CAAC,CAAC;YACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnC,IAAI,GAAG,GAAG,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC;gBACxC,IAAI,GAAG,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;oBAChC,SAAS;gBAEb,IAAI,CAAC;oBACD,IAAI,GAAG,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC;oBAC1D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAClC,YAAY;wBACZ,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG;4BACb,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;yBAC1C,CAAA;wBACD,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBACrB,CAAC;oBACD,GAAG,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC;oBACvD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAClC,YAAY;wBACZ,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG;4BACb,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;yBAC1C,CAAA;wBACD,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBACrB,CAAC;gBACL,CAAC;gBAAC,OAAO,EAAE,EAAE,CAAC;oBACV,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,uBAAuB,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,wBAAwB,CAAC;wBAC5F,OAAO,CAAC,GAAG,CAAC,SAAS,GAAG,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC;gBAClD,CAAC;YACL,CAAC;YACD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,OAAO,GAAG,CAAC;YACX;;;;;;;;0BAQc;QAClB,CAAC;QACD,6BAA6B,CAAC,QAAgB,EAAE,GAAW;YACvD,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,GAAG,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC7G,OAAO;gBACH,IAAI,EAAE,CAAC,CAAC,UAAU;gBAClB,SAAS,EAAE,CAAC,CAAC,MAAM;aACtB,CAAA;QACL,CAAC;QACD,6BAA6B,CAAC,QAAgB,EAAE,GAAwB;YACpE,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,GAAG,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC;gBAClG,MAAM,EAAE,GAAG,CAAC,SAAS;gBACrB,UAAU,EAAE,GAAG,CAAC,IAAI;aACvB,CAAC,CAAA;YACF,OAAO,CAAC,CAAC;QACb,CAAC;QACD,KAAK,CAAC,cAAc,CAAC,IAAY,EAAE,OAAe,SAAS;YACvD,MAAM,IAAI,CAAC,aAAa,CAAC;YACzB,IAAI,YAAU,CAAC,SAAS,KAAK,IAAI,EAAE,CAAC;gBAChC,MAAM,KAAK,CAAC,6BAA6B,CAAC,CAAA;YAC9C,CAAC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;gBACrB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC7B,CAAC;YAED,OAAO;gBACH,QAAQ,EAAE,MAAM,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvE,UAAU,EAAE,MAAM,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,UAAU,GAAG,IAAI,CAAC;gBAC3E,SAAS,EAAE,MAAM,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,UAAU,GAAG,IAAI,CAAC;gBACzE,8EAA8E;aACjF,CAAA;QACL,CAAC;;IAvcQ,gCAAU;IASnB;;MAEE;IACa,oBAAS,GAAY,SAAS,AAArB,CAAsB;IACvC,2BAAgB,GAAG;QACtB,OAAO,EAAE,IAAI;QACb,MAAM,EAAE,QAAQ;QAChB,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,IAAI;QACf,MAAM,EAAE,MAAM;QACd,OAAO,EAAE,IAAI;QACb,gBAAgB,EAAE,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,oBAAoB,CAAC,OAAO;QAC1E,GAAG,EAAE,MAAM,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK;QAC9C,qBAAqB,EAAE,IAAI;QAC3B,sBAAsB,EAAE,IAAI;QAC5B,eAAe,EAAE,IAAI;QACrB,SAAS,EAAE,CAAC,uBAAuB,CAAC;KACvC,AAbsB,CAatB;yBA1BQ,UAAU;QADtB,IAAA,kBAAM,EAAC,gCAAgC,CAAC;;OAC5B,UAAU,CAwctB;IACD,YAAY;IACZ,IAAI,YAAY,GAAe,IAAI,UAAU,EAAE,CAAC;IAEvC,oCAAY;IADrB,UAAU,CAAC,QAAQ,GAAG,YAAY,CAAC;;ACxdnC,yCAAyC;AACzC,MAAM,CAAC,yBAAyB,EAAC,CAAC,SAAS,CAAC,EAAE,UAAS,OAAO;IAC7D,OAAO;QACN,OAAO,EAAE;YACV,4BAA4B,EAAE;gBAC7B,MAAM,EAAE,kBAAkB;gBAC1B,qBAAqB,EAAE,EAAE;aACzB;YACD,kCAAkC,EAAE;gBACnC,MAAM,EAAE,kBAAkB;gBAC1B,2BAA2B,EAAE,EAAE;aAC/B;YACD,kCAAkC,EAAE;gBACnC,MAAM,EAAE,aAAa;gBACrB,+BAA+B,EAAE,EAAE;aACnC;YACD,8BAA8B,EAAE;gBAC/B,MAAM,EAAE,kBAAkB;gBAC1B,6CAA6C,EAAE;oBAC9C,qBAAqB,EAAE,EAAE;oBACzB,UAAU,EAAE,EAAE;iBACd;gBACD,2BAA2B,EAAE;oBAC5B,UAAU,EAAE,EAAE;iBACd;aACD;YACD,iDAAiD,EAAE;gBAClD,MAAM,EAAE,kBAAkB;gBAC1B,8CAA8C,EAAE,EAAE;aAClD;YACD,6BAA6B,EAAE;gBAC9B,MAAM,EAAE,aAAa;gBACrB,0BAA0B,EAAE,EAAE;aAC9B;YACD,qCAAqC,EAAE;gBACtC,MAAM,EAAE,kBAAkB;gBAC1B,kCAAkC,EAAE,EAAE;aACtC;YACD,qCAAqC,EAAE;gBACtC,MAAM,EAAE,kBAAkB;gBAC1B,kCAAkC,EAAE,EAAE;aACtC;YACD,oCAAoC,EAAE;gBACrC,MAAM,EAAE,iBAAiB;gBACzB,iCAAiC,EAAE,EAAE;aACrC;YACD,gCAAgC,EAAE;gBACjC,MAAM,EAAE,iBAAiB;gBACzB,gCAAgC,EAAE;oBACjC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,OAAO,EAAE;4BACR,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,gBAAgB;oCACxB,MAAM,EAAE,6BAA6B;iCACrC;6BACD;yBACD;wBACD,YAAY,EAAE;4BACb,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,+BAA+B;oCACvC,MAAM,EAAE,sBAAsB;iCAC9B;6BACD;yBACD;qBACD;iBACD;aACD;YACD,oCAAoC,EAAE;gBACrC,MAAM,EAAE,kBAAkB;gBAC1B,iCAAiC,EAAE;oBAClC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,YAAY,EAAE;4BACb,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,kCAAkC;oCAC1C,MAAM,EAAE,uBAAuB;iCAC/B;6BACD;yBACD;qBACD;iBACD;aACD;YACD,4BAA4B,EAAE;gBAC7B,MAAM,EAAE,aAAa;gBACrB,yBAAyB,EAAE,EAAE;aAC7B;YACD,8BAA8B,EAAE;gBAC/B,MAAM,EAAE,kBAAkB;gBAC1B,8BAA8B,EAAE;oBAC/B,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,YAAY,EAAE;4BACb,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,uBAAuB;oCAC/B,MAAM,EAAE,mCAAmC;iCAC3C;6BACD;yBACD;qBACD;iBACD;aACD;YACD,8BAA8B,EAAE;gBAC/B,MAAM,EAAE,kBAAkB;aAC1B;YACD,+BAA+B,EAAE;gBAChC,MAAM,EAAE,iBAAiB;aACzB;YACD,0CAA0C,EAAE;gBAC3C,MAAM,EAAE,iBAAiB;aACzB;YACD,gCAAgC,EAAE;gBACjC,MAAM,EAAE,aAAa;gBACrB,+BAA+B,EAAE;oBAChC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,UAAU;oCAClB,MAAM,EAAE,cAAc;oCACtB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,UAAU,EAAE;4BACX,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,UAAU;oCAClB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,WAAW,EAAE;4BACZ,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,YAAY;oCACpB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,WAAW,EAAE;4BACZ,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,YAAY;oCACpB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,UAAU,EAAE;4BACX,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,QAAQ;iCAChB;6BACD;yBACD;wBACD,gBAAgB,EAAE;4BACjB,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,kBAAkB;oCAC1B,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,kBAAkB,EAAE;4BACnB,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,oBAAoB;oCAC5B,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;wBACD,QAAQ,EAAE;4BACT,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,QAAQ;iCAChB;6BACD;yBACD;wBACD,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,SAAS;iCACjB;6BACD;yBACD;wBACD,MAAM,EAAE;4BACP,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,MAAM;oCACd,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;qBACD;iBACD;gBACD,yBAAyB,EAAE;oBAC1B,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,MAAM,EAAE;4BACP,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,2BAA2B;oCACnC,MAAM,EAAE,mBAAmB;iCAC3B;6BACD;yBACD;qBACD;iBACD;aACD;YACD,gCAAgC,EAAE;gBACjC,MAAM,EAAE,kBAAkB;gBAC1B,6BAA6B,EAAE,EAAE;aACjC;YACD,yBAAyB,EAAE;gBAC1B,MAAM,EAAE,kBAAkB;aAC1B;YACD,+BAA+B,EAAE;gBAChC,MAAM,EAAE,kBAAkB;gBAC1B,4BAA4B,EAAE,EAAE;aAChC;YACD,kCAAkC,EAAE;gBACnC,MAAM,EAAE,kBAAkB;gBAC1B,kCAAkC,EAAE;oBACnC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,MAAM,EAAE;4BACP,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,4BAA4B;oCACpC,MAAM,EAAE,+BAA+B;iCACvC;6BACD;yBACD;qBACD;iBACD;aACD;YACD,+BAA+B,EAAE;gBAChC,MAAM,EAAE,kBAAkB;aAC1B;YACD,6CAA6C,EAAE;gBAC9C,MAAM,EAAE,kBAAkB;gBAC1B,oDAAoD,EAAE;oBACrD,UAAU,EAAE,EAAE;iBACd;gBACD,mCAAmC,EAAE;oBACpC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,cAAc;oCACtB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;qBACD;iBACD;aACD;YACD,6CAA6C,EAAE;gBAC9C,MAAM,EAAE,aAAa;gBACrB,oDAAoD,EAAE;oBACrD,UAAU,EAAE,EAAE;iBACd;gBACD,mCAAmC,EAAE;oBACpC,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,cAAc;oCACtB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;qBACD;iBACD;aACD;YACD,gDAAgD,EAAE;gBACjD,MAAM,EAAE,aAAa;gBACrB,6CAA6C,EAAE;oBAC9C,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,YAAY;oCACpB,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;qBACD;iBACD;aACD;YACD,iDAAiD,EAAE;gBAClD,MAAM,EAAE,aAAa;gBACrB,8CAA8C,EAAE;oBAC/C,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,SAAS,EAAE;4BACV,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,kBAAkB;oCAC1B,WAAW,EAAE,UAAU;iCACvB;6BACD;yBACD;qBACD;iBACD;aACD;YACD,uCAAuC,EAAE;gBACxC,MAAM,EAAE,kBAAkB;gBAC1B,oCAAoC,EAAE,EAAE;aACxC;YACD,uCAAuC,EAAE;gBACxC,MAAM,EAAE,aAAa;gBACrB,oCAAoC,EAAE,EAAE;aACxC;YACD,+BAA+B,EAAE;gBAChC,MAAM,EAAE,kBAAkB;gBAC1B,4BAA4B,EAAE,EAAE;aAChC;YACD,gCAAgC,EAAE;gBACjC,MAAM,EAAE,kBAAkB;gBAC1B,6BAA6B,EAAE,EAAE;aACjC;YACD,8BAA8B,EAAE;gBAC/B,MAAM,EAAE,kBAAkB;gBAC1B,8BAA8B,EAAE;oBAC/B,iBAAiB,EAAE;wBAClB,yBAAyB;qBACzB;oBACD,UAAU,EAAE;wBACX,UAAU,EAAE;4BACX,SAAS,EAAE;gCACV;oCACC,MAAM,EAAE,WAAW;iCACnB;6BACD;yBACD;qBACD;iBACD;aACD;YACD,oCAAoC,EAAE;gBACrC,MAAM,EAAE,iBAAiB;gBACzB,iCAAiC,EAAE,EAAE;aACrC;YACD,mCAAmC,EAAE;gBACpC,MAAM,EAAE,kBAAkB;gBAC1B,gCAAgC,EAAE,EAAE;aACpC;SACD;KACC,CAAA;AACF,CAAC,CAAC,CAAC","sourcesContent":["/// <amd-dependency path=\"ace/ace\" name=\"ace\"/>\r\ndeclare var ace;\r\nimport 'ace/ext/language_tools';\r\nimport \"jassijs_editor/Debugger\";\r\nimport {mytypescript} from \"jassijs_editor/util/Typescript\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\nimport { Runlater } from \"jassijs/util/Runlater\";\r\nimport { Component } from 'jassijs/ui/Component';\r\n\r\n\r\n\r\n/**\r\n* wrapper for the Ace-Code editor with Typesccript-Code-Completion an other features\r\n* @class jassijs.ui.CodePanel\r\n*/\r\n@$Class(\"jassijs.ui.AcePanel\")\r\nexport class AcePanel extends CodePanel {\r\n    private _mode: string;\r\n    private _editor;\r\n    private _isInited: boolean;\r\n    //   private _lastCursorPosition;\r\n    declare file: string;\r\n    private static _tooltipdiv: HTMLElement;\r\n    private _lastTooltipRefresh;\r\n    checkErrorTask: Runlater;\r\n    constructor() {\r\n        super();\r\n     }\r\n    render(){\r\n        return <any>React.createElement(\"div\", { className:\"CodePanel\",style:{height:\"500px\",width:\"500px\"}});\r\n    }\r\n    componentDidMount(): void {\r\n        var _this = this;\r\n        this.domWrapper.style.display = \"\";\r\n        this._editor = ace.edit(this._id);\r\n        this.file = \"\";\r\n        this.checkErrorTask = new Runlater(function () {\r\n            _this._checkCode();\r\n        }, 900);\r\n        this._editor.setOptions({\r\n            enableBasicAutocompletion: true,\r\n            //   maxLines:Infinity,\r\n            useSoftTabs: false,\r\n            autoScrollEditorIntoView: false\r\n            //      enableMultiselect: false,\r\n            //    enableLinking: true\r\n        });\r\n\r\n        // this._editor.setAutoScrollEditorIntoView(false);\r\n        this._editor.session.setOption(\"useWorker\", false)\r\n        this._editor.$blockScrolling = Infinity;\r\n        this._editor.jassi = this;\r\n        this._installLangTools();\r\n        var include = /[a-z.]/i;\r\n        this._addEvents();\r\n        this._addCommands();\r\n    }\r\n    private _addEvents() {\r\n        var _this = this;\r\n        this._editor.on('change', (obj, editor) => {\r\n            switch (obj.action) {\r\n                case 'insert':\r\n                    let lines = obj.lines;\r\n                    let char = lines[0];\r\n                    if ((lines.length === 1) && (char.length === 1) && char === \".\") {\r\n                        setTimeout(() => {\r\n                            this._editor.commands.byName.startAutocomplete.exec(this._editor);\r\n                        }, 50);\r\n                    }\r\n                    if (lines.length == 1 && lines[0].length > 1 && lines[0].indexOf(\" \") < 0) {\r\n                        //no check after .\r\n                        var idx = _this.positionToNumber(obj.start);\r\n                        var test = _this.value[idx - 1];\r\n                        if (test !== \".\") {\r\n                            setTimeout(() => {\r\n                                _this._doRequiredImports(obj.end, lines);\r\n\r\n                            }, 500);\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            _this.checkErrorTask.runlater();\r\n            var lineHeight = this._editor.renderer.lineHeight;\r\n            var editorDiv = document.getElementById(_this._id);\r\n            editorDiv.style.height = lineHeight * _this._editor.getSession().getDocument().getLength() + \" px\";\r\n            _this._editor.resize();\r\n        });\r\n\r\n        _this._editor.on(\"guttermousedown\", function (e) {\r\n\r\n            var row = e.getDocumentPosition().row;\r\n            var breakpoints = e.editor.session.getBreakpoints(row, 0);\r\n            var type = \"debugpoint\";\r\n            if (e.domEvent.ctrlKey)\r\n                type = \"checkpoint\";\r\n            var column = _this._editor.session.getLine(row).length;\r\n            if (typeof breakpoints[row] === typeof undefined) {\r\n                e.editor.session.setBreakpoint(row);\r\n                _this.callEvent(\"breakpointChanged\", row, column, true, type);\r\n            } else {\r\n                e.editor.session.clearBreakpoint(row, false, undefined);\r\n                _this.callEvent(\"breakpointChanged\", row, column, false, type);\r\n            }\r\n        });\r\n        this._editor.on(\"mousemove\", function (e) {\r\n            _this._manageTooltip(e);\r\n        })\r\n    }\r\n    autocomplete() {\r\n        this._editor.commands.byName.startAutocomplete.exec(this._editor);\r\n    }\r\n    /**\r\n     * add commands to Ace Editor\r\n     **/\r\n    private _addCommands() {\r\n        var _this = this;\r\n        this._editor.commands.addCommand({\r\n            name: \"formatDocument\",\r\n            bindKey: { win: \"Shift-Alt-f\", mac: \"Shift-Alt-f\" },\r\n            exec: function (editor) {\r\n                mytypescript.formatDocument(_this.file, _this.value).then((val) => {\r\n                    _this.value = val;\r\n                });\r\n            }\r\n        });\r\n        this._editor.commands.addCommand({\r\n            name: \"goToDeclaration\",\r\n            bindKey: { win: \"Ctrl-F12\", mac: \"Ctrl-F12\" },\r\n            exec: function (editor) {\r\n                _this.gotoDeclaration();\r\n            }\r\n        })\r\n    }\r\n    private _tooltiprefresh(event) {\r\n\r\n        if (this._lastTooltipRefresh === undefined)\r\n            return;\r\n        if (this._lastTooltipRefresh + 400 < Date.now()) {\r\n            var pos = event.getDocumentPosition();\r\n            if (pos.row === 0 || pos.column == 0)\r\n                return;\r\n            let lpos = this.positionToNumber({\r\n                column: pos.column + 1,\r\n                row: pos.row + 1\r\n            }) - 1;\r\n            if (!mytypescript.isInited(this.file))\r\n                return;\r\n            var p;\r\n            mytypescript.getQuickInfoAtPosition(this.file, lpos, this.value).then((p) => {\r\n                if (p !== undefined) {\r\n                    var text = \"<div style='font-size:12px'>\";\r\n                    for (let x = 0; x < p.displayParts.length; x++) {\r\n                        text = text + p.displayParts[x].text;\r\n                    }\r\n                    if (p.documentation !== undefined) {\r\n                        for (let x = 0; x < p.documentation.length; x++) {\r\n                            text = text + \"<br>\" + p.documentation[x].text;\r\n                        }\r\n                    }\r\n                    text = text + \"<br>\" + (p.documentation === undefined ? \"\" : p.documentation) + \"<div>\";\r\n                    AcePanel._tooltipdiv.innerHTML = text;\r\n                    AcePanel._tooltipdiv.style[\"background-color\"] = \"#f7f4a5\";\r\n                    AcePanel._tooltipdiv.style.display = \"block\";\r\n                    AcePanel._tooltipdiv.style.position = \"absolute\";\r\n                    AcePanel._tooltipdiv.style.top = event.y + \"px\";\r\n                    AcePanel._tooltipdiv.style.left = event.x + \"px\";\r\n                }\r\n            })\r\n        }\r\n    }\r\n    /**\r\n     * show tooltip\r\n     */\r\n    private _manageTooltip(event) {\r\n        if (AcePanel._tooltipdiv === undefined) {\r\n            AcePanel._tooltipdiv = Component.createHTMLElement('<div id=\"tt\">hallo</div>');\r\n            document.body.append(AcePanel._tooltipdiv);\r\n        }\r\n        if (event !== undefined) {\r\n            AcePanel._tooltipdiv.style.display = \"none\";\r\n            AcePanel._tooltipdiv.style.position = \"absolute\";\r\n            AcePanel._tooltipdiv.style.top = event.y + \"px\";\r\n            AcePanel._tooltipdiv.style.left = event.x + \"px\";\r\n        }\r\n        this._lastTooltipRefresh = Date.now();\r\n        event = event;\r\n        window.setTimeout(this._tooltiprefresh.bind(this), 400, event);\r\n    }\r\n\r\n    public insert(pos: number, text: string) {\r\n        this._editor.session.insert(pos, text);\r\n    }\r\n    /**\r\n     * check if imports are neded and do so \r\n     **/\r\n    _doRequiredImports(pos: { row: number, column: number }, name: string) {\r\n        if (!mytypescript.isInited(this.file))\r\n            return;\r\n        if (this.value.indexOf(\"import \" + name + \" \") === -1 && this.value.indexOf(\"import {\" + name + \"} \") === -1) {\r\n\r\n            let lpos = this.positionToNumber({\r\n                column: pos.column + 1,\r\n                row: pos.row + 1\r\n            }) - 1;\r\n            CodePanel.getAutoimport(lpos, this.file, this.value).then((data) => {\r\n                if (data !== undefined) {\r\n                    this._editor.session.insert(data.pos, data.text);\r\n                    mytypescript.setCode(this.file, this.value);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * check for errors or warnings\r\n     */\r\n    private _checkCode() {\r\n        if (this.file !== undefined && !this.file.toLowerCase().endsWith(\".ts\"))\r\n            return;\r\n        var _this = this;\r\n        mytypescript.waitForInited.then(() => {\r\n            if (_this._editor !== undefined && _this._editor.getSession() !== undefined) {\r\n                _this._editor.getSession().setAnnotations([{\r\n                    row: 1,\r\n                    column: 1,\r\n                    text: \"typescript initialization still in progress...\",\r\n                    type: \"information\" // also warning and information\r\n                }]);\r\n\r\n            }\r\n            mytypescript.setCode(_this.file, _this.value).then((tt) => {\r\n                if (_this.file === undefined)\r\n                    return;\r\n                    mytypescript.getDiagnostics(_this.file, _this.value).then((diag) => {\r\n                    var annotaions = [];\r\n                    var iserror = false;\r\n                    for (var x = 0; x < diag.semantic.length; x++) {\r\n                        // if (diag.semantic[x].file === undefined)\r\n                        //   continue;\r\n                        // if (diag.semantic[x].file === undefined||diag.semantic[x].file.fileName === (\"file:///\" + _this.file) {\r\n                        var err = _this.numberToPosition(diag.semantic[x].start);\r\n                        annotaions.push({\r\n                            row: err.row - 1,\r\n                            column: err.column - 1,\r\n                            text: diag.semantic[x].messageText[\"messageText\"] === undefined ? diag.semantic[x].messageText : diag.semantic[x].messageText[\"messageText\"],//Bug\r\n                            type: \"error\" // also warning and information\r\n                        })\r\n                        iserror = true;\r\n                        //  }\r\n                    }\r\n                    for (var y = 0; y < diag.suggestion.length; y++) {\r\n                        //if (diag.suggestion[y].file === undefined)\r\n                        //    continue;\r\n                        //   if (diag.suggestion[y].file === undefined||diag.suggestion[y].file.fileName === _this.file) {\r\n                        var err = _this.numberToPosition(diag.suggestion[y].start);\r\n                        annotaions.push({\r\n                            row: err.row - 1,\r\n                            column: err.column - 1,\r\n                            text: diag.suggestion[y].messageText,\r\n                            type: \"warning\" // also warning and information\r\n                        })\r\n                        //  }\r\n                    }\r\n                    for (var x = 0; x < diag.syntactic.length; x++) {\r\n                        //  if (diag.syntactic[x].file === undefined)\r\n                        //    continue;\r\n                        // if (iag.syntactic[x].file === undefined||diag.syntactic[x].file.fileName === _this.file) {\r\n                        var err = _this.numberToPosition(diag.syntactic[x].start);\r\n                        annotaions.push({\r\n                            row: err.row - 1,\r\n                            column: err.column - 1,\r\n                            text: diag.syntactic[x].messageText[\"messageText\"] === undefined ? diag.syntactic[x].messageText : diag.syntactic[x].messageText[\"messageText\"],//Bug\r\n                            type: \"error\" // also warning and information\r\n                        })\r\n                        iserror = true;\r\n                        //}\r\n                    }\r\n                    _this._editor.getSession().setAnnotations(annotaions);\r\n                    if (_this.dom) {\r\n                        if (iserror) {\r\n                            (<HTMLElement>_this.dom.querySelector(\".ace_gutter\")).style.background = \"#ffbdb9\";\r\n                        } else {\r\n                            (<HTMLElement>_this.dom.querySelector(\".ace_gutter\")).style.background = \"\";\r\n                        }\r\n                    }\r\n\r\n\r\n                })\r\n            });\r\n        });\r\n\r\n\r\n    }\r\n    /**\r\n     * text changes\r\n     * @param {function} handler\r\n     */\r\n    onchange(handler) {\r\n        this._editor.on('change', handler);\r\n    }\r\n    /**\r\n     * initialize the Ace language Tools (only once)\r\n     */\r\n    private _installLangTools() {\r\n        var aceLangTools = ace.require(\"ace/ext/language_tools\");\r\n        var _this = this;\r\n        if (aceLangTools.jassi === undefined) {\r\n            aceLangTools.jassi = {\r\n                constructor: {\r\n\r\n                },\r\n                getDocTooltip: function (item) {\r\n                    return item.codePanel.getDocTooltip(item);\r\n                    // if (item.jassi !== undefined && item.jassijs.getDocTooltip !== undefined)\r\n                    //     return item.jassijs.getDocTooltip(item);\r\n                },\r\n                getCompletions: function (editor, session, pos, prefix, callback) {\r\n                    return _this.getCompletions(editor, session, pos, prefix, callback);\r\n                }\r\n            }\r\n\r\n        }\r\n        aceLangTools.setCompleters([aceLangTools.jassi, aceLangTools.keyWordCompleter]);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n    * get the completion entrys for the Ace-Code-Editor\r\n    * @param editor - the editor instance\r\n    * @param session - the editor session\r\n    * @param pos - the current code position\r\n    * @param prefix - the word before the code position\r\n    * @param callback - the function to transfer the completions\r\n    */\r\n    getCompletions(editor, session, pos: { row: number, column: number }, prefix, callback) {\r\n        /*   var ret = [];\r\n           var entry = { caption: caption, name: sname, value: sname, score: 10, meta: \"object\", parent: ob };\r\n           ret.push(entry);\r\n           callback(null, ret);*/\r\n        var ret = [];\r\n        var _this = this;\r\n        var p = _this.positionToNumber({\r\n            column: pos.column + 1,\r\n            row: pos.row + 1\r\n        });\r\n        var code = this.value;\r\n\r\n        if (mytypescript.isInited(this.file) !== true) {\r\n            let entry = { caption: \"please try later ... loading in progress\", name: \"loading\", value: \"empty\", score: 10, meta: \"object\", parent: \"otto\", codePanel: _this };\r\n            ret.push(entry);\r\n            return;\r\n        }\r\n        if (_this.file.endsWith(\".js\"))\r\n            return;\r\n            mytypescript.getCompletion(_this.file, p, code, { includeExternalModuleExports: true }).then((data) => {\r\n            if (data !== undefined) {\r\n                for (let e = 0; e < data.entries.length; e++) {\r\n                    let entr = data.entries[e];\r\n                    var icon = \"variableicon\";\r\n                    if (entr.kind === \"method\" || entr.kind === \"function\")\r\n                        icon = \"functionicon\";\r\n                    if (entr.kind === \"property\" || entr.kind === \"getter\" || entr.kind === \"setter\")\r\n                        icon = \"membericon\";\r\n                    if (entr.name.startsWith(\"$\") && entr.kind === \"function\") {\r\n                        icon = \"annotationicon\";\r\n                    }\r\n                    if (entr.kind === \"class\")\r\n                        icon = \"classicon\";\r\n                    var entry = {\r\n                        caption: entr.name, name: entr.name, value: entr.name,\r\n                        score: 10, meta: entr.kind, codePanel: _this, pos: p, file: _this.file, className: icon, icon: \"method\"\r\n                    };\r\n                    ret.push(entry);\r\n                }\r\n            } else {\r\n                let entry = { caption: \"empty\", name: \"empty\", value: \"empty\", score: 10, meta: \"object\", parent: \"otto\", codePanel: _this };\r\n                ret.push(entry);\r\n            }\r\n            callback(null, ret);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n    * get the documentation for a member for the Ace-Code-Editor\r\n    * @param {object} item - the member to describe\r\n    */\r\n    getDocTooltip(item) {\r\n        if (item.file === undefined)\r\n            return \"\";\r\n        var _id = \"j\" + registry.nextID();\r\n        item.docHTML = \"<span id='\" + _id + \"'> please try later ... loading in progress<span>\";\r\n\r\n        mytypescript.getCompletionEntryDetails(item.file, item.pos, item.name, {}, undefined, {}).then((ret) => {\r\n            if (ret === undefined)\r\n                return;\r\n            var doc = \"<b>\";\r\n            if (ret.displayParts !== undefined) {\r\n                for (var x = 0; x < ret.displayParts.length; x++) {\r\n                    doc = doc + ret.displayParts[x].text;//+ret.tags[x].text;\r\n                }\r\n            }\r\n            //doc = \"<div style='width:50px;word-wrap: break-word'>\"+doc + \"</div></b><br>\";\r\n            doc = \"<div style='word-wrap: break-word'>\" + doc + \"</div></b><br>\";\r\n            if (ret.documentation !== undefined) {\r\n                for (var x = 0; x < ret.documentation.length; x++) {\r\n                    doc = doc + ret.documentation[x].text + \"<br>\";//+ret.tags[x].text;\r\n                }\r\n            }\r\n            doc = doc;\r\n            if (ret.tags !== undefined) {\r\n                for (var x = 0; x < ret.tags.length; x++) {\r\n                    var text = ret.tags[x].text;\r\n                    if (Array.isArray(text)) {\r\n                        var t = \"\";\r\n                        text.forEach((e) => t += e.text);\r\n                        text = t;\r\n                    }\r\n                    doc = doc + \"<b>\" + ret.tags[x].name + \" </b> \" + (text === undefined ? \"\" : text.replaceAll(\"<\", \"&#60;\").replaceAll(\">\", \"&#62;\") + \"<br>\");\r\n                }\r\n            }\r\n            doc = doc;\r\n            var html = \"<div style='font-size:12px'>\" + doc + \"<div>\";//this._getDescForMember(item.parent, item.name);\r\n            //window.setTimeout(()=>{\r\n            document.getElementById(_id).outerHTML = html;\r\n\r\n            // },10);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * gets a list of all lines with breakpoint\r\n     * @returns {Object.<number, boolean>}\r\n     */\r\n    getBreakpoints(): { [line: number]: boolean } {\r\n        var ret = {};\r\n        var breakpoints = this._editor.session.getBreakpoints(0, 0);\r\n        for (var x = 0; x < breakpoints.length; x++) {\r\n            if (breakpoints[x] !== undefined) {\r\n                ret[x] = true;\r\n            }\r\n            //\tdebugger;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    /**\r\n     * component get focus\r\n     * @param {function} handler\r\n     */\r\n    onfocus(handler) {\r\n        return this._editor.on(\"focus\", handler);\r\n    }\r\n    /**\r\n     * component lost focus\r\n     * @param {function} handler\r\n     */\r\n    onblur(handler) {\r\n        return this._editor.on(\"blur\", handler);\r\n    }\r\n    /**\r\n     * @param - the codetext\r\n     */\r\n    set value(value: string) { //the Code\r\n        var lastcursor = this.cursorPosition;\r\n        this._editor.setValue(value);\r\n        this._editor.clearSelection();\r\n        //force ctrl+z not shows an empty document\r\n        if (this._isInited === undefined) {\r\n            this._isInited = true;\r\n            this._editor.getSession().setUndoManager(new ace.UndoManager());\r\n        }\r\n        if (lastcursor !== undefined) {\r\n            //this.cursorPosition = lastcursor;\r\n        }\r\n        var _this = this;\r\n        //asynchron\r\n        window.setTimeout(() => {\r\n            this._checkCode();\r\n\r\n        }, 10);\r\n    }\r\n    get value(): string {\r\n        return this._editor.getValue();\r\n    }\r\n    /**\r\n     * @param {object} position - the current cursor position {row= ,column=}\r\n     */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._editor.focus();\r\n        this._editor.gotoLine(cursor.row, cursor.column, true);\r\n        var r = cursor.row;\r\n        if (r > 5)\r\n            r = r - 5;\r\n        var _this = this;\r\n        //_this._editor.renderer.scrollToRow(r);\r\n        // _this._editor.renderer.scrollCursorIntoView({ row: cursor.row, column: cursor.column  }, 0.5);\r\n    }\r\n    get cursorPosition(): { row: number, column: number } {\r\n        var ret = this._editor.getCursorPosition();\r\n        ret.row++;\r\n        ret.column++;\r\n        return ret;\r\n    }\r\n    /**\r\n     * returns a single line\r\n     * @param {number} line - the line number\r\n     */\r\n    getLine(line) {\r\n        return this._editor.getSession().getLine(line);\r\n    }\r\n    /**\r\n     * @member {string} - the language of the editor e.g. \"ace/mode/javascript\"\r\n     */\r\n    set mode(mode) {\r\n        //  alert(mode);\r\n        this._mode = mode;\r\n        this._editor.getSession().setMode(\"ace/mode/\" + mode);\r\n    }\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n    destroy() {\r\n        this._editor.destroy();\r\n        super.destroy();\r\n    }\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        this._editor.undo();\r\n    }\r\n    /**\r\n     * resize the editor\r\n     * */\r\n    resize() {\r\n        this._editor.resize();\r\n    }\r\n}\r\n\r\nexport async function test() {\r\n\r\n    var dlg = new AcePanel();\r\n    dlg.value = \"var h;\\r\\nvar k;\\r\\nvar k;\\r\\nvar k;\\r\\nconsole.debug('ddd');\";\r\n    dlg.mode = \"typescript\";\r\n    dlg.height = 100;\r\n\r\n    //dlg._editor.renderer.setShowGutter(false);\t\t\r\n    //dlg._editor.getSession().addGutterDecoration(1,\"error_line\");\r\n    //  dlg._editor.getSession().setBreakpoint(1);\r\n    // dlg._editor.getSession().setBreakpoint(2);\r\n    var h = dlg.getBreakpoints();\r\n    return dlg;\r\n}\r\n\r\n","/// <amd-dependency path=\"ace/ace\" name=\"ace\"/>\r\ndeclare var ace;\r\nimport 'ace/ext/language_tools';\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\n\r\n\r\n\r\n/**\r\n* wrapper for the Ace-Code editor with Typesccript-Code-Completion an other features\r\n* @class jassijs.ui.CodePanel\r\n*/\r\n@$Class(\"jassijs.ui.AcePanelSimple\")\r\nexport class AcePanelSimple extends CodePanel{\r\n    private _mode: string;\r\n    private _editor;\r\n    private _isInited: boolean;\r\n    constructor() {\r\n        super();\r\n      \r\n       \r\n        //editor.$blockScrolling = Infinity;\r\n    }\r\n    render(){\r\n        return <any>React.createElement(\"div\", { className:\"CodePanel\",style:{height:\"500px\",width:\"500px\"}});\r\n    }\r\n    componentDidMount(): void {\r\n        this.domWrapper.style.display=\"\";\r\n        this._editor = ace.edit(this._id);\r\n        this.file = \"\";\r\n        this._editor.setOptions({\r\n            enableBasicAutocompletion: true,\r\n            //   maxLines:Infinity,\r\n            useSoftTabs: false,\r\n            autoScrollEditorIntoView: false\r\n            //      enableMultiselect: false,\r\n            //    enableLinking: true\r\n        });\r\n\r\n        // this._editor.setAutoScrollEditorIntoView(false);\r\n        this._editor.session.setOption(\"useWorker\", false)\r\n        this._editor.$blockScrolling = Infinity;\r\n        this._editor.jassi = this;\r\n        this._addEvents();\r\n    }\r\n    private _addEvents() {\r\n        var _this = this;\r\n   /*     this._editor.on('change', (obj, editor) => {\r\n            var lineHeight = this._editor.renderer.lineHeight;\r\n            var editorDiv = document.getElementById(_this._id);\r\n            editorDiv.style.height = lineHeight * _this._editor.getSession().getDocument().getLength() + \" px\";\r\n            _this._editor.resize();\r\n        });*/\r\n\r\n\r\n    }\r\n    autocomplete(){\r\n        console.log(\"not implemented\");\r\n    }\r\n\tpublic insert(pos:number,text:string){\r\n\t\tthis._editor.session.insert(pos, text);\r\n\t}\r\n\t/**\r\n     * text changes\r\n     * @param {function} handler\r\n     */\r\n    onchange(handler) {\r\n       this._editor.on('change', handler);\r\n    }\r\n  \r\n    \r\n    /**\r\n     * component get focus\r\n     * @param {function} handler\r\n     */\r\n    onfocus(handler) {\r\n        return this._editor.on(\"focus\", handler);\r\n    }\r\n    /**\r\n     * component lost focus\r\n     * @param {function} handler\r\n     */\r\n    onblur(handler) {\r\n        return this._editor.on(\"blur\", handler);\r\n    }\r\n    /**\r\n     * @param - the codetext\r\n     */\r\n    set value(value: string) { //the Code\r\n        var lastcursor = this.cursorPosition;\r\n        this._editor.setValue(value);\r\n        this._editor.clearSelection();\r\n        //force ctrl+z not shows an empty document\r\n        if (this._isInited === undefined) {\r\n            this._isInited = true;\r\n            this._editor.getSession().setUndoManager(new ace.UndoManager());\r\n        }\r\n        if (lastcursor !== undefined) {\r\n            //this.cursorPosition = lastcursor;\r\n        }\r\n        var _this = this;\r\n        \r\n    }\r\n    get value(): string {\r\n        return this._editor.getValue();\r\n    }\r\n    /**\r\n     * @param {object} position - the current cursor position {row= ,column=}\r\n     */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._editor.focus();\r\n        this._editor.gotoLine(cursor.row, cursor.column, true);\r\n        var r = cursor.row;\r\n        if (r > 5)\r\n            r = r -5;\r\n        var _this = this;\r\n        //_this._editor.renderer.scrollToRow(r);\r\n       // _this._editor.renderer.scrollCursorIntoView({ row: cursor.row, column: cursor.column  }, 0.5);\r\n    }\r\n    get cursorPosition(): { row: number, column: number } {\r\n        var ret= this._editor.getCursorPosition();\r\n        ret.row++;\r\n        ret.column++;\r\n        return ret;\r\n    }\r\n    /**\r\n     * returns a single line\r\n     * @param {number} line - the line number\r\n     */\r\n    getLine(line) {\r\n        return this._editor.getSession().getLine(line);\r\n    }\r\n    /**\r\n     * @member {string} - the language of the editor e.g. \"ace/mode/javascript\"\r\n     */\r\n    set mode(mode) {\r\n        //  alert(mode);\r\n        this._mode = mode;\r\n        this._editor.getSession().setMode(\"ace/mode/\" + mode);\r\n    }\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n    destroy() {\r\n        this._editor.destroy();\r\n        super.destroy();\r\n    }\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        this._editor.undo();\r\n    }\r\n    /**\r\n     * resize the editor\r\n     * */\r\n    resize() {\r\n        this._editor.resize();\r\n    }\r\n}\r\nexport async function test() {\r\n\r\n    var dlg = new AcePanelSimple();\r\n    dlg.value = \"var h;\\r\\nvar k;\\r\\nvar k;\\r\\nvar k;\\r\\nconsole.debug('ddd');\";\r\n    dlg.mode = \"typescript\";\r\n    dlg.height=100;\r\n\r\n    //dlg._editor.renderer.setShowGutter(false);\t\t\r\n    //dlg._editor.getSession().addGutterDecoration(1,\"error_line\");\r\n    //  dlg._editor.getSession().setBreakpoint(1);\r\n    // dlg._editor.getSession().setBreakpoint(2);\r\n    var h = dlg.getBreakpoints();\r\n    return dlg;\r\n}\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Debugger } from \"jassijs_editor/Debugger\";\nimport { CodeEditor } from \"jassijs_editor/CodeEditor\";\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\nimport { TSSourceMap } from \"jassijs_editor/util/TSSourceMap\";\nimport { Reloader } from \"jassijs/util/Reloader\";\nimport { Server } from \"jassijs/remote/Server\";\nimport windows from \"jassijs/base/Windows\";\nimport { notify, notifyAddStyle } from \"jassijs/ui/Notify\";\nvar installed = undefined;\n\n\n/**\n * debugging in Chrome\n */\n@$Class(\"jassijs_editor.ChromeDebugger\")\nexport class ChromeDebugger extends Debugger {\n    private static mid = 0;\n    private responseList = {};\n    allBreakPoints: { [file: string]: string[] } = {};\n    constructor() {\n        super();\n        //listen to code changes\n        this.sendChromeMessage({ name: \"getCodeChange\" });\n        window.addEventListener(\"message\", (event) => {\n            // console.log(\"mess\"+JSON.stringify(event));\n            this.onChromeMessage(event);\n        });\n    }\n    public static showHintExtensionNotInstalled() {\n        notifyAddStyle('downloadlink', {\n            html: \"<div><a href='https://uwei.github.io/jassijs/jassichrome/jassijsext.zip'><span data-notify-text/></a></div>\",\n            classes: {\n                base: {\n                    \"color\": \"white\",\n                    \"background-color\": \"lightblue\"\n                }\n            }\n        });\n\n        notify(\"Jassi Debugger Chrome extension not installed. Click here to download.\", { position: \"right bottom\", style: 'downloadlink', autoHideDelay: 7000 });\n\n    }\n    //on receiving messages from chrome extension\n    private onChromeMessage(event) {\n        var _this = this;\n        //console.log(\"Website received message: \" + JSON.stringify(event.data));\n        if (event?.data?.event === \"onResourceContentCommitted\") {\n            _this.saveCode(event.data.url.url, event.data.data);\n        }\n        if (event.data.fromJassiExtension && event.data.connected) {\n            installed = true;\n            //clearTimeout(checkExtensionInstalled);\n            if (jassijs.debugger !== undefined)\n                jassijs.debugger.destroy();\n            jassijs.debugger = this;\n        }\n        if (event.data.fromJassiExtension && event.data.mid) {\n            var test = this.responseList[event.data.mid];\n            if (test) {\n                test(event);\n                delete this.responseList[event.data.mid];\n            }\n        }\n    }\n    //send message to chrome extension\n    private sendChromeMessage(msg, response = undefined) {\n        msg.toJassiExtension = true;\n        msg.mid = ChromeDebugger.mid++;\n        if (response)\n            this.responseList[msg.mid] = response;\n        window.postMessage(msg, \"*\");\n    }\n    urlToFile(url) {\n        var file = url;\n        var wurl = window.location.href.split(\"/index.html\")[0];\n        file = file.replace(wurl + \"/\", \"\");\n        file = file.split(\"?\")[0];\n        return file;\n    }\n    async saveCode(url, code) {\n        //alert(code);\n        var file: string = this.urlToFile(url);\n        var filename: string = file.replace(\"$temp\", \"\");\n        var _this = this;\n        //give the user the option to reload the changes in codeeditor\n        var editor = windows.findComponent(\"jassijs_editor.CodeEditor-\" + filename);\n        if (editor !== undefined) {\n\n            if (editor._codeToReload === undefined) {\n\n                OptionDialog.show(\"The source was updated in Chrome. Do you want to load this modification?\", [\"Yes\", \"No\"], editor, false).then(function (data) {\n                    if (data.button === \"Yes\")\n                        editor.value = editor._codeToReload;\n                    delete editor._codeToReload;\n                });\n            }\n            //remove temporary debugpoints\n            if (file.indexOf(\"$temp\") > -1) {\n                var reg = new RegExp(\"{var debug_editor.*debug_editor\\\\.addVariables\\\\(_variables_\\\\)\\\\;}\");\n                var ret = reg.exec(code);\n                while (ret !== null) {\n                    code = code.substring(0, ret.index) + code.substring(ret.index + ret[0].length);\n                    ret = reg.exec(code);\n                }\n            }\n            editor._codeToReload = code;\n\n        }\n        if (file.indexOf(\"$temp\") > -1) {\n            return;\n        }\n        new Server().saveFile(file, code).then(function () {\n            Reloader.instance.reloadJS(file.replace(\".ts\", \"\"));\n            if (code.indexOf(\"jassijs.register(\") > -1) {\n                jassijs.registry.reload();\n            }\n        });\n    }\n\n    /**\n     * remove all breakpoints for the file\n     * @param file \n     */\n    async removeBreakpointsForFile(file: string) {\n        var bps = this.allBreakPoints[file];\n        if (bps === undefined)\n            return;\n        while (bps.length > 0) {\n            await this.breakpointChanged(file, Number(bps[0].split(\":\")[0]), Number(bps[0].split(\":\")[1]), false);\n        }\n    }\n    /**\n     * sets a breakpoint for debugging\n     * @param {string} file\n     * @param {number} line\n     * @param {number} enable - if true then breakpoint is set if false then removed\n     * @param {string} type - the type default undefined->stop debugging \n     **/\n    async breakpointChanged(file, line, column, enable, type = undefined) {\n        if (!installed)\n            ChromeDebugger.showHintExtensionNotInstalled();\n        if (this.allBreakPoints[file] === undefined) {\n            this.allBreakPoints[file] = [];\n        }\n        if (enable) {\n            this.allBreakPoints[file].push(line + \":\" + column);\n        } else {\n            var pos = this.allBreakPoints[file].indexOf(line + \":\" + column);\n            this.allBreakPoints[file].splice(pos, 1);\n        }\n        var _this = this;\n        var newline = await new TSSourceMap().getLineFromTS(file, line, column);\n        var ret = new Promise(function (resolve) {\n            //http://localhost/jassijs/public_html/demo/TreeTable.js?bust=1551539152470\n            var sfile = newline.jsfilename;//file.replace(\".ts\", \".js\");\n            var root = window.location.origin + window.location.pathname;\n            root = root.substring(0, root.lastIndexOf(\"/\"));\n            var url = root + \"/\" + newline.jsfilename;//+\"?bust=\"+window.jassiversion;\n            if (newline.jsfilename.indexOf(\":\") > -1)\n                url = newline.jsfilename;//load module from js-file\n            _this.sendChromeMessage({\n                name: \"breakpointChanged\",\n                url: url,\n                line: newline.line,\n                enable: enable,\n                condition: \"1===1\",\n                type: type\n            }, (data) => {\n                resolve(data);\n            });\n        })\n        return ret;\n    }\n    /**\n    * add debugpoints in code\n    * @param {[string]} lines - code\n    * @param {Object.<number, boolean>} debugpoints - the debugpoints\n    * @param {jassijs_editor.CodeEditor} codeEditor\n    */\n    addDebugpoints(lines, debugpoints, codeEditor) {\n        //added directly\n\n    }\n    /**\n     * report current variable scope\n     * @param {numer} url - url of the script\n     * @param {[Object.<string,object>]} variables \n     */\n    reportVariables(url, variables, type = undefined) {\n        return;\n        var file = this.urlToFile(url);\n        var _this = this;\n\n        var editor = jassijs.windows.findComponent(\"jassijs_editor.CodeEditor-\" + file);\n        if (editor !== undefined) {\n            editor.addVariables(variables);\n        }\n\n    }\n    destroy() {\n        //\tchrome.runtime.sendMessage(extensionId,{name: \"disconnect\"},undefined);\n        this.destroyed = true;\n    }\n\n}\n\n\n//if connected then this instance is registred to jassijs.debugger;\nnew ChromeDebugger();\nwindow.postMessage({ toJassiExtension: true, name: \"connect\" }, \"*\");\nexport function test(){\n    ChromeDebugger.showHintExtensionNotInstalled();\n}","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\nimport { VariablePanel } from \"jassijs/ui/VariablePanel\";\r\nimport { DockingContainer } from \"jassijs/ui/DockingContainer\";\r\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { Reloader } from \"jassijs/util/Reloader\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Component, createComponent } from \"jassijs/ui/Component\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\n\r\nimport { AcePanel } from \"jassijs_editor/AcePanel\";\r\nimport { mytypescript, Typescript } from \"jassijs_editor/util/Typescript\";\r\nimport { MonacoPanel } from \"jassijs_editor/MonacoPanel\";\r\nimport { $SettingsDescriptor, Settings } from \"jassijs/remote/Settings\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\nimport { currentsettings } from \"jassijs/base/CurrentSettings\";\r\nimport windows from \"jassijs/base/Windows\";\r\nimport { notify } from \"jassijs/ui/Notify\";\r\n\r\njassijs.includeCSSFile(\"jassijs_editor.css\");\r\n\r\ndeclare global {\r\n    export interface KnownSettings {\r\n        Development_DefaultEditor: \"ace\" | \"monaco\" | \"aceOnBrowser\";\r\n        Development_MoanacoEditorTheme: \"vs-dark\" | \"vs-light\" | \"hc-black\";\r\n    }\r\n}\r\n@$SettingsDescriptor()\r\n@$Class(\"jassijs_editor.CodeEditorSettingsDescriptor\")\r\nclass CodeEditorSettingsDescriptor {\r\n    @$Property({ chooseFrom: [\"ace\", \"monaco\", \"aceOnBrowser\"], default: \"aceOnBrowser\", chooseFromStrict: true })\r\n    Development_DefaultEditor: string;\r\n    @$Property({ chooseFrom: [\"vs-dark\", \"vs-light\", \"hc-black\"], default: \"vs-light\", chooseFromStrict: true })\r\n    Development_MoanacoEditorTheme: string;\r\n}\r\n\r\n\r\n/**\r\n * Panel for editing sources\r\n * @class jassijs_editor.CodeEditor\r\n */\r\n@$Class(\"jassijs_editor.CodeEditor\")\r\nexport class CodeEditor extends Panel {\r\n    _main: DockingContainer;\r\n    _codeView: Panel;\r\n    _codeToolbar: Panel;\r\n    _codePanel: CodePanel;\r\n    _errors: ErrorPanel;\r\n    _file: string;\r\n    variables: VariablePanel;\r\n    _design: Panel;\r\n    editMode: boolean;\r\n    __evalToCursorReached: boolean;\r\n    autoCompleteButton: Button;\r\n\r\n    private _line: number;\r\n    constructor(properties: { codePanel?: CodePanel, hideToolbar?: boolean } = undefined) {\r\n        super();\r\n        this.maximize();\r\n        this._main = new DockingContainer();\r\n        this._codeView = new Panel();\r\n        this._codeToolbar = new Panel();\r\n        //if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n        let mobil = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n        let sett = currentsettings.gets(Settings.keys.Development_DefaultEditor);\r\n        if (properties?.codePanel) {\r\n            this._codePanel = properties.codePanel;\r\n        } else {\r\n            CodePanel.typescript = mytypescript;\r\n            if (sett === \"ace\" || (mobil && (sett === \"aceOnBrowser\" || sett === undefined))) {\r\n                this._codePanel = new AcePanel();\r\n\r\n            } else {\r\n                this._codePanel = <any>new MonacoPanel();\r\n                // this._codePanel = new AcePanel(); \r\n\r\n            }\r\n\r\n        }\r\n        this._errors = new ErrorPanel();\r\n        this._file = \"\";\r\n        this.variables = new VariablePanel();\r\n        this._design = new Panel();\r\n        this._init(properties?.hideToolbar);\r\n\r\n        this.editMode = true;\r\n    }\r\n    private _initCodePanel() {\r\n        this._codePanel.width = \"100%\";\r\n        this._codePanel.mode = \"typescript\";\r\n        this._codePanel.height = \"calc(100% - 31px)\";\r\n        let _this = this;\r\n        this._codePanel.onBreakpointChanged(function (line, column, enable, type) {\r\n            jassijs.debugger.breakpointChanged(_this._file, line, column, enable, type);\r\n        });\r\n    }\r\n\r\n    private _init(hideToolbar: boolean) {\r\n        var _this = this;\r\n        this._initCodePanel();\r\n        this._codeView[\"horizontal\"] = true;\r\n\r\n        if (hideToolbar !== true) {\r\n            this._codeView.add(this._codeToolbar);\r\n            this._codeToolbar[\"horizontal\"] = true;\r\n            this._codeToolbar.height = \"30\";\r\n\r\n            var run = new Button();\r\n            run.icon = \"mdi mdi-car-hatchback mdi-18px\";\r\n            run.tooltip = \"Run(F4)\";\r\n            run.onclick(function () {\r\n                _this.evalCode();\r\n            });\r\n            this._codeToolbar.add(run);\r\n\r\n\r\n            var save = new Button();\r\n            save.tooltip = \"Save(Ctrl+S)\";\r\n            save.icon = \"mdi mdi-content-save mdi-18px\";\r\n            save.onclick(function () {\r\n                _this.save();\r\n            });\r\n            this._codeToolbar.add(save);\r\n\r\n\r\n            var undo = new Button();\r\n            undo.icon = \"mdi mdi-undo mdi-18px\";\r\n            undo.tooltip = \"Undo (Strg+Z)\";\r\n            undo.onclick(function () {\r\n                _this._codePanel.undo();\r\n            });\r\n            this._codeToolbar.add(undo);\r\n\r\n            var goto = new Button();\r\n            goto.icon = \"mdi mdi-ray-start-arrow mdi-18px\";\r\n            goto.tooltip = \"Goto\";\r\n            goto.onclick(function () {\r\n                _this.gotoDeclaration();\r\n            });\r\n            this._codeToolbar.add(goto);\r\n            this.autoCompleteButton = new Button();\r\n            this.autoCompleteButton.icon = \"mdi mdi-robot-happy-outline mdi-18px\";\r\n            this.autoCompleteButton.tooltip = \"autocomplete (ctrl space)\";\r\n            this.autoCompleteButton.onclick(function () {\r\n                _this._codePanel.autocomplete();\r\n            });\r\n            this._codeToolbar.add(this.autoCompleteButton);\r\n            jassijs[\"$CodeEditor\"] = CodeEditor;\r\n            // $(goto.dom).attr(\"ondrop\", \"event.preventDefault();jassijs.$CodeEditor.search(event.dataTransfer.getData('text'));\");\r\n            //  $(goto.dom).attr(\"ondragover\", \"event.preventDefault();\");\r\n\r\n        }\r\n        this._codeView.add(this._codePanel);\r\n\r\n        this._main.width = \"calc(100% - 1px)\";\r\n        this._main.height = \"99%\";\r\n        this._main.onresize = function () {\r\n            setTimeout(function () {\r\n                _this._codePanel.resize();\r\n\r\n            }, 1000);\r\n        }\r\n        /*var test = new Button();\r\n        test.icon = \"mdi mdi-bug mdi-18px\";\r\n        test.tooltip = \"Test\";\r\n        test.onclick(function () {\r\n            var kk = _this._main.layout;\r\n        });\r\n        this._codeToolbar.add(test);*/\r\n\r\n\r\n        super.add(this._main);\r\n\r\n        this._installView();\r\n        this.registerKeys();\r\n\r\n        this.variables.createTable();\r\n        //   this._codePanel.setCompleter(this);\r\n        setTimeout(() => {\r\n            //_this.editorProvider=\"ace\";\r\n        }, 100);\r\n    }\r\n    static async addFilesToCompletion(filenames: string[]) {\r\n        // await typescript.initService();\r\n\r\n\r\n    }\r\n\r\n    _installView() {\r\n        this._main.add(this._codeView, \"Code..\", \"code\");\r\n        this._main.add(this.variables, \"Variables\", \"variables\");\r\n        this._main.add(this._design, \"Design\", \"design\");\r\n        this._main.add(this._errors, \"Errors\", \"errors\");\r\n        this._main.layout = '{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\"},\"dimensions\":{\"borderWidth\":5,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":100,\"content\":[{\"type\":\"stack\",\"width\":33.333333333333336,\"height\":80.34682080924856,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":19.653179190751445,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":50,\"width\":50,\"content\":[{\"title\":\"Errors\",\"type\":\"component\",\"componentName\":\"errors\",\"componentState\":{\"title\":\"Errors\",\"name\":\"errors\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"width\":50,\"content\":[{\"title\":\"Variables\",\"type\":\"component\",\"componentName\":\"variables\",\"componentState\":{\"title\":\"Variables\",\"name\":\"variables\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}'\r\n\r\n    }\r\n\r\n    /*set editorProvider(value: \"ace\" | \"monaco\") {\r\n        if (value !== this.editorProvider) {\r\n            //switch to new provider\r\n            let pos = this.cursorPosition;\r\n            let val = this.value;\r\n            let old = this._codePanel;\r\n            \r\n            if (value === \"ace\") {\r\n                this._codePanel = new AcePanel();\r\n            } else {\r\n                this._codePanel = new MonacoPanel();\r\n            }\r\n            this._initCodePanel();\r\n            this._codeView.remove(old);\r\n            this._codeView.add(this._codePanel);\r\n            this.value=val;\r\n            this.cursorPosition=pos;\r\n            old.destroy();\r\n        }\r\n        \r\n    }*/\r\n\r\n\r\n    private async _save(code) {\r\n        await new Server().saveFile(this._file, code);\r\n\r\n\r\n        var f = this._file.replace(\".tsx\", \"\").replace(\".ts\", \"\");\r\n        if (this._file?.startsWith(\"$serverside/\")) {\r\n\r\n        } else {\r\n            if (code.indexOf(\"@$\") > -1) {\r\n                await registry.reload();\r\n            }\r\n            await Reloader.instance.reloadJS(f);\r\n        }\r\n\r\n    }\r\n    /**\r\n    * save the code to server\r\n    */\r\n    save() {\r\n        var code = this._codePanel.value;\r\n        var _this = this;\r\n        this._save(code);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * goto to the declariation on cursor\r\n     */\r\n    async gotoDeclaration() {\r\n        this._codePanel.gotoDeclaration();\r\n    }\r\n\r\n    /**\r\n     * search text in classes at the given text\r\n     * @param {string} text - the text to search\r\n     * @returns {jassijs_editor.CodeEditor} - the editor instance\r\n     */\r\n    static async search(text) {\r\n        //TODO ask typescript service\r\n        /* var found = undefined;\r\n         text = text.replaceAll(\"\\r\\n\", \"\\n\");\r\n         var content = undefined;\r\n         //Fast search\r\n         for (var file in classes.getCache()) {\r\n             var fname = file.replaceAll(\".\", \"/\");\r\n             var cl = classes.getCache()[file];\r\n             var code = cl.toString().replaceAll(\"\\r\\n\", \"\\n\");\r\n             if (code.indexOf(text) > -1) {\r\n                 found = fname + \".js\";\r\n                 content = code;\r\n                 break;\r\n             }\r\n         }\r\n         if (found === undefined) {\r\n             //Deep search (slow)\r\n             var files = registry.getAllFilesForService(\"classes\");\r\n             if (files !== undefined) {\r\n                 for (var x = 0; x < files.length; x++) {\r\n                     let code:string = await new Server().loadFile(files[x]);\r\n                     code = code.replaceAll(\"\\r\\n\", \"\\n\");\r\n                     if (code.indexOf(text) > -1) {\r\n                         found = files[x];\r\n                         content = code;\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n         if (found !== undefined) {\r\n             var line = code.substring(0, content.indexOf(text)).split(\"\\n\").length + 1;\r\n             router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + found + \"&line=\" + line.toString());\r\n             //                return await jassijs_editor.CodeEditor.open(found+\":\"+line.toString()+\":0\");\r\n         }*/\r\n        return undefined;\r\n    }\r\n\r\n\r\n    /**\r\n     * manage shortcuts\r\n     */\r\n    registerKeys() {\r\n        var _this = this;\r\n        this._codePanel.dom.addEventListener(\"keydown\", function (evt) {\r\n            if (evt.keyCode === 115 && evt.shiftKey) {//F4\r\n                // var thiss=this._this._id;\r\n                // var editor = ace.edit(this._this._id);\r\n                _this.evalCode(true);\r\n                evt.preventDefault();\r\n                return false;\r\n            } else if (evt.keyCode === 115) {//F4\r\n                _this.evalCode(false);\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 116) {//F5\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n\r\n            if ((String.fromCharCode(evt.which).toLowerCase() === 's' && evt.ctrlKey)/* && (evt.which == 19)*/) {//Str+s\r\n                _this.save();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n\r\n        });\r\n\r\n\r\n    }\r\n    /**\r\n     * extract lines from code\r\n     * @param {string} code - the code\r\n     * @returns {[string]} - all lines\r\n     */\r\n    _codeToLines(code) {\r\n        var lines = code.split(\"\\n\");\r\n        for (var x = 0; x < lines.length; x++) {\r\n            while (lines[x].startsWith(\"/\") || lines[x].startsWith(\" \")\r\n                || lines[x].startsWith(\"*\") || lines[x].startsWith(\"\\t\")) {\r\n                lines[x] = lines[x].substring(1);\r\n            }\r\n        }\r\n        return lines;\r\n    }\r\n\r\n\r\n    _evalToCursorReached() {\r\n        if (this.__evalToCursorReached !== true)\r\n            this._main.show('code');\r\n        this.__evalToCursorReached = true;\r\n    }\r\n    /**\r\n     * add variables to variabelpanel\r\n     * @param Object<string,object> variables [\"name\"]=value\r\n     */\r\n    addVariables(variables) {\r\n        this.variables.addAll(variables);\r\n    }\r\n    private async fillVariablesAndSetupParser(url: string, root: Component, thecomponent: Component, cache: { [componentid: string]: [{ component: Component, line: number, column: number, pos: number, name: string }] }, parser, codePositions) {\r\n\r\n        var useThis = false;\r\n        var connectedComponents = [thecomponent];\r\n        if (thecomponent.__dom._thisOther)\r\n            thecomponent.__dom._thisOther.forEach(e => connectedComponents.push(e));\r\n        for (var i = 0; i < connectedComponents.length; i++) {\r\n            var component = connectedComponents[i];\r\n\r\n            if (cache[component._id] === undefined && component[\"__stack\"] !== undefined ) {\r\n                var lines = component[\"__stack\"]?.split(\"\\n\");\r\n                for (var x = 0; x < lines.length; x++) {\r\n                    var sline: string = lines[x];\r\n                    if (sline.indexOf(\"$temp.js\") > 0) {\r\n                        var spl = sline.split(\":\");\r\n                        var entr = {\r\n\r\n                        }\r\n                        if (cache[component._id] === undefined)\r\n                            cache[component._id] = <any>[];\r\n                        var data = {\r\n                            line: Number(spl[spl.length - 2]),\r\n                            column: Number(spl[spl.length - 1].replace(\")\", \"\")),\r\n                            component: component,\r\n                            pos: 0,\r\n                            name: undefined\r\n                        };\r\n                        if (codePositions[data.line + \",\" + data.column] === undefined) {//we collect first position in the scourecode file\r\n                            codePositions[data.line + \",\" + data.column] = data;\r\n                        }\r\n                        cache[component._id].push(data);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // if (this.file.toLocaleLowerCase().endsWith(\".tsx\")) {\r\n        for (var x = 0; x < thecomponent.dom.childNodes.length; x++) {//children\r\n            var ch = <any>thecomponent.dom.childNodes[x];\r\n            if (ch._this) {\r\n                this.fillVariablesAndSetupParser(url, root, ch._this, cache, parser, codePositions);\r\n            }\r\n        }\r\n        /* } else {\r\n             if (thecomponent[\"_components\"]) {\r\n                 for (var x = 0; x < thecomponent[\"_components\"].length; x++) {\r\n                     this.fillVariablesAndSetupParser(url, root, thecomponent[\"_components\"][x], cache, parser, codePositions);\r\n                 }\r\n             }\r\n         }*/\r\n\r\n        if (thecomponent === root) {\r\n            //fertig\r\n            var hh = 0;\r\n            var TSSourceMap = await classes.loadClass(\"jassijs_editor.util.TSSourceMap\");\r\n            var values = [];\r\n\r\n            //@ts-ignore\r\n            Object.values(cache).forEach((e) => {\r\n                e.forEach(f => values.push(f));\r\n            });\r\n\r\n            var tmap = await new TSSourceMap().getLinesFromJS(\"js/\" + url.replace(\".tsx\", \".js\").replace(\".ts\", \".js\"), values)\r\n            for (var x = 0; x < tmap.length; x++) {\r\n                var val = values[x];\r\n                val.column = tmap[x].column;\r\n                val.line = tmap[x].line;\r\n                val.pos = this._codePanel.positionToNumber({\r\n                    row: val.line,\r\n                    column: val.column\r\n                });\r\n\r\n            }\r\n            //setupClasscope\r\n            var foundscope;\r\n            if (cache[root._id]) {\r\n                for (var xx = 0; xx < cache[root._id].length; xx++) {\r\n                    foundscope = parser.getClassScopeFromPosition(this._codePanel.value, cache[root._id][xx].pos);\r\n                    if (foundscope)\r\n                        break;\r\n                }\r\n            }\r\n            var scope = [{ classname: root?.constructor?.name, methodname: \"layout\" }];\r\n            if (foundscope)\r\n                scope = [{ classname: root?.constructor?.name, methodname: \"layout\" }, foundscope];\r\n            if (this.file.toLowerCase().endsWith(\".tsx\")) {\r\n                //@ts-ignore\r\n                values = Object.values(codePositions);\r\n                parser.parse(this._codePanel.value, undefined, values, true);\r\n                for (var x = 0; x < values.length; x++) {\r\n                    this.variables.addVariable(values[x].name, values[x].component, false,values[x].autoGenerated);\r\n                }\r\n                // this.variables.addVariable(sname, val.component, false);\r\n\r\n            } else {\r\n                values = Object.values(codePositions);\r\n                parser.parse(this._codePanel.value, undefined, values); //scope);\r\n                for (var x = 0; x < values.length; x++) {\r\n                    this.variables.addVariable(values[x].name, values[x].component, false,values[x].autoGenerated);\r\n                }\r\n                //if layout is rendered and an other variable is assigned to this, then remove ths variable\r\n                if (parser.classes[root?.constructor?.name] && parser.classes[root?.constructor?.name].members[\"layout\"]) {\r\n                    useThis = true;\r\n                    this.variables.addVariable(\"this\", root);\r\n                }\r\n                for (var key in parser.data) {\r\n                    var com = parser.data[key];\r\n                    var _new_ = com[\"_new_\"];\r\n                    if (_new_) {\r\n                        var pos = _new_[0].node.pos;\r\n                        var end = _new_[0].node.end;\r\n                        for (var x = 0; x < values.length; x++) {\r\n                            var val = values[x];\r\n                            if (val.pos >= pos && val.pos <= end) {\r\n                                val.name = key;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                var ignoreVar = [];\r\n                for (var x = 0; x < values.length; x++) {\r\n                    var val = values[x];\r\n                    var sname = val.name;\r\n\r\n                    var found = false;\r\n                    this.variables.value.forEach((it) => {\r\n                        if (it.name === sname)\r\n                            found = true;\r\n                    });\r\n                    //sometimes does a constructor create other Components so we need the first one\r\n                    if (found)\r\n                        continue;\r\n\r\n                    if (sname && this.variables.getObjectFromVariable(sname) === undefined) {\r\n                        if (ignoreVar.indexOf(sname) === -1) {\r\n                            if (useThis && root === val.component)\r\n                                ignoreVar.push(sname);//do nothing\r\n                            else\r\n                                this.variables.addVariable(sname, val.component, false);\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n\r\n                this.variables.updateCache();\r\n                this.variables.update();\r\n                // parser.parse(,)\r\n            }\r\n        }\r\n        return parser;\r\n\r\n\r\n\r\n    }\r\n    getDesigner() {\r\n        return this._design;\r\n    }\r\n    /**\r\n     * load the right editor for the returned value\r\n     */\r\n    private async _processEvalResult(ret, filename) {\r\n        //_this.variables.addVariable(\"me\", ret.me);\r\n        var _this = this;\r\n        _this.variables.updateCache();\r\n        if (ret instanceof Component && ret[\"reporttype\"] === undefined) {\r\n            //require([\"jassijs_editor/ComponentDesigner\", \"jassijs_editor/util/Parser\"], function () {\r\n            //    var ComponentDesigner = classes.getClass(\"jassijs_editor.ComponentDesigner\");\r\n            //   var Parser = classes.getClass(\"jassijs_editor.base.Parser\");\r\n\r\n            var ComponentDesigner;\r\n            // if (this.file.toLowerCase().endsWith(\".tsx\"))\r\n            ComponentDesigner = await classes.loadClass(\"jassijs_editor.HtmlDesigner\");\r\n            // else\r\n            //   ComponentDesigner = await classes.loadClass(\"jassijs_editor.ComponentDesigner\");\r\n\r\n            var Parser = await classes.loadClass(\"jassijs_editor.util.Parser\");\r\n            var parser = new Parser();\r\n            // await _this.fillVariablesAndSetupParser(filename, ret, ret, {},parser);\r\n            if (!((_this._design) instanceof ComponentDesigner)) {\r\n                _this._design = new ComponentDesigner();\r\n\r\n                _this._main.add(_this._design, \"Design\", \"design\");\r\n                _this._design[\"codeEditor\"] = _this;\r\n            }\r\n            //@ts-ignore\r\n            _this._design.connectParser(parser);\r\n\r\n            var codePositions = {};\r\n            await _this.fillVariablesAndSetupParser(filename, ret, ret, {}, parser, codePositions);\r\n            (<any>_this._design).designedComponent = ret;\r\n            (<any>_this._design).editDialog(true);\r\n            //});\r\n        } else if (ret[\"reportdesign\"] !== undefined) {\r\n            var Parser = await classes.loadClass(\"jassijs_editor.util.Parser\");\r\n            var ReportDesigner = await classes.loadClass(\"jassijs_report.designer.ReportDesigner\");\r\n            var ReportDesign = await classes.loadClass(\"jassijs_report.ReportDesign\");\r\n            if (!((_this._design) instanceof ReportDesigner)) {\r\n                _this._design = new ReportDesigner();\r\n                _this._main.add(_this._design, \"Design\", \"design\");\r\n                _this._design[\"codeEditor\"] = _this;\r\n                parser = new Parser();\r\n                parser.classScope = undefined;// [{ classname: _this._design?.constructor?.name, methodname: \"layout\" }, { classname: undefined, methodname: \"test\" }];\r\n                //@ts-ignore\r\n                _this._design.connectParser(parser);\r\n\r\n            }\r\n            var rep = new ReportDesign();\r\n            rep.design = Object.assign({}, ret.reportdesign);\r\n            if (ret.value && rep.design.data === undefined)\r\n                rep.design.data = ret.value;\r\n            else if (ret.data && rep.design.data === undefined)\r\n                rep.design.data = ret.data;\r\n\r\n            if (ret.parameter && rep.design.parameter === undefined)\r\n                rep.design.parameter = ret.parameter;\r\n            _this._design[\"designedComponent\"] = rep;\r\n\r\n            /*   require([\"jassijs_report/ReportDesign\"], function() {\r\n                   var rd = classes.getClass(\"jassijs_report.ReportDesign\");\r\n                   let rep = rd[\"fromJSON\"](ret);\r\n                   \r\n                   _this._design[\"designedComponent\"] = rep;\r\n               });*/\r\n\r\n\r\n        }/*else if (ret[\"reporttype\"] !== undefined) {\r\n                    require([\"jassijs_report/designer/ReportDesigner\"], function () {\r\n                        var ReportDesigner = classes.getClass(\"jassijs_report.designer.ReportDesigner\");\r\n                        if (!((_this._design) instanceof ReportDesigner)) {\r\n                            _this._design = new ReportDesigner();\r\n                            _this._main.add(_this._design, \"Design\", \"design\");\r\n                            _this._design[\"codeEditor\"] = _this;\r\n                        }\r\n                        _this._design[\"designedComponent\"] = ret;\r\n\r\n             \r\n                    });\r\n                }*/\r\n    }\r\n    private hookComponents(name, component: Component, react) {\r\n        if (name === \"create\") {\r\n\r\n            if (component?.props?.[\"__stack\"]) {\r\n                component[\"__stack\"] = component.props[\"__stack\"];\r\n                delete component.props[\"__stack\"];\r\n            } else {\r\n                var ex = new Error();\r\n                if (ex?.stack?.indexOf(\"$temp.js\") === -1) {\r\n                    ex = <any>{};\r\n                    //@ts-ignore\r\n                    Error.captureStackTrace(ex, createComponent);\r\n                }\r\n\r\n                if (ex?.stack?.indexOf(\"$temp.js\") != -1) {\r\n                    if (react === \"React.createElement\") {\r\n                        if (component?.props === undefined)\r\n                            component.props = {};\r\n                        component.props[\"__stack\"] = ex.stack;\r\n                    } else {\r\n                        //\r\n                        component[\"__stack\"] = ex.stack;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private async _evalCodeOnLoad(data) {\r\n        this.variables.clear();\r\n        var code = this._codePanel.value;\r\n        var lines = code.split(\"\\n\");\r\n        var _this = this;\r\n        var breakpoints = _this._codePanel.getBreakpoints();\r\n        var filename = \"\";\r\n        if (_this._file.endsWith(\".tsx\"))\r\n            filename = _this._file.replace(\".tsx\", \"$temp.tsx\");\r\n        else\r\n            filename = _this._file.replace(\".ts\", \"$temp.ts\");\r\n        await jassijs.debugger.removeBreakpointsForFile(filename);\r\n        for (var line in breakpoints) {\r\n            if (breakpoints[line]) {\r\n                var row = lines[line].length;\r\n                await jassijs.debugger.breakpointChanged(filename, line, row, true, \"debugpoint\");\r\n            }\r\n        }\r\n\r\n        var islocaldb = classes.getClass(\"jassijs_localserver.DBManager\");\r\n        if (islocaldb && code.indexOf(\"@$DBObject(\") > -1) {\r\n\r\n            (<any>islocaldb).destroyConnection();\r\n        }\r\n        //@ts-ignore\r\n        if (data.test !== undefined || window.reportdesign) {\r\n            //capure created Components\r\n\r\n            try {\r\n                Component.onComponentCreated(this.hookComponents);\r\n                var ret;\r\n                if (data.test) {\r\n                    ret = await data.test(new Test());\r\n                } else {\r\n                    //@ts-ignore\r\n                    if (window.reportdesign) {\r\n                        ret = {\r\n                            //@ts-ignore\r\n                            reportdesign: window.reportdesign\r\n                        }\r\n                    } else {\r\n                        Component.offComponentCreated(this.hookComponents);\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                // Promise.resolve(ret).then(async function(ret) {\r\n                if (ret !== undefined) {\r\n\r\n                    await this._processEvalResult(ret, filename);\r\n                    // Component.offComponentCreated(hook);\r\n\r\n                }\r\n\r\n                //  });\r\n            } finally {\r\n                Component.offComponentCreated(this.hookComponents);\r\n            }\r\n        }\r\n\r\n    }\r\n    private async saveTempFile(file: string, code: string) {\r\n\r\n        //@ts-ignore \r\n        var tss = await import(\"jassijs_editor/util/Typescript\");\r\n        //@ts-ignore \r\n        var settings = Object.assign({}, Typescript.compilerSettings);\r\n        settings[\"inlineSourceMap\"] = true;\r\n        settings[\"inlineSources\"] = true;\r\n        var files;\r\n        if (this.file.endsWith(\".tsx\"))\r\n            files = await tss.mytypescript.transpile(file + \".tsx\", code, settings);\r\n        else\r\n            files = await tss.mytypescript.transpile(file + \".ts\", code, settings);\r\n\r\n        var codets = -1;\r\n        var codemap = -1;\r\n        var codejs = -1;\r\n        for (var x = 0; x < files.fileNames.length; x++) {\r\n            if (files.fileNames[x].endsWith(\".ts\") || files.fileNames[x].endsWith(\".tsx\")) {\r\n                codets = x;\r\n            }\r\n            if (files.fileNames[x].endsWith(\".js.map\")) {\r\n                codemap = x;\r\n            }\r\n            if (files.fileNames[x].endsWith(\".js\")) {\r\n                codejs = x;\r\n            }\r\n        }\r\n        /*  var all = JSON.parse(files.contents[codemap]);\r\n          all[\"sourcesContent\"] = [files.contents[codets]];\r\n          files.contents[codemap] = JSON.stringify(all);\r\n          var b64 = btoa(unescape(encodeURIComponent(files.contents[codemap])));\r\n          var pos = files.contents[codejs].indexOf(\"//\" + \"# sourceMappingURL=\");\r\n          files.contents[codejs] = files.contents[codejs].substring(0, pos);\r\n          files.contents[codejs] = files.contents[codejs] + \"//\" + \"# sourceMappingURL=data:application/json;charset=utf8;base64,\" + b64;\r\n          */\r\n        const channel = new MessageChannel();\r\n\r\n        var ret = new Promise((res, rej) => {\r\n            channel.port1.onmessage = (evt) => {\r\n                channel.port1.close();\r\n                res(evt);\r\n            };\r\n        });\r\n        let abspath = location.origin + location.pathname;\r\n        abspath = abspath.substring(0, abspath.lastIndexOf(\"/\") + 1);\r\n        navigator.serviceWorker.controller.postMessage({\r\n            type: 'SAVE_FILE',\r\n            filename: abspath + files.fileNames[codejs],\r\n            code: files.contents[codejs]\r\n        }, [channel.port2]);\r\n        var test = await ret;\r\n    }\r\n    async evalServerside() {\r\n        var code = this._codePanel.value;\r\n        var testcode = await new Server().loadFile(this.file);\r\n        var hasModified = testcode !== code;\r\n        if (hasModified) {\r\n            notify(\"please save code before test\", \"error\");\r\n            return undefined;\r\n        }\r\n        var res = await new Server().testServersideFile(this._file.substring(0, this._file.length - 3));\r\n        return res;\r\n    }\r\n    /**\r\n     * execute the current code\r\n     * @param {boolean} toCursor -  if true the variables were inspected on cursor position, \r\n     *                              if false at the end of the layout() function or at the end of the code\r\n     */\r\n    async evalCode(toCursor = undefined) {\r\n        this.__evalToCursorReached = false;\r\n        this.variables.clear();\r\n\r\n        var code = this._codePanel.value;\r\n        var lines = code.split(\"\\n\");\r\n\r\n        var _this = this;\r\n        if (this.file?.startsWith(\"$serverside/\")) {\r\n\r\n            var res = await this.evalServerside();\r\n            await this._processEvalResult(res, undefined);\r\n\r\n            return;\r\n        }\r\n\r\n        window[\"test\"] = undefined;\r\n\r\n        code = \"\";\r\n        for (var x = 0; x < lines.length; x++) {\r\n            code = code + lines[x] + \"\\n\";\r\n        }\r\n        code = code;\r\n        var _this = this;\r\n        var tmp = new Date().getTime();\r\n        var jsfile = _this._file.replace(\".tsx\", \"\").replace(\".ts\", \"\") + \"$temp\";\r\n        //await new Server().saveFile(\"tmp/\" + _this._file, code);\r\n        //only local - no TS File in Debugger\r\n        await this.saveTempFile(jsfile, code);\r\n        //@ts-ignore\r\n        window.reportdesign = undefined;\r\n        try { requirejs.undef(\"js/\" + jsfile + \".js\"); } catch (ex) { };\r\n        var onload = function (data) {\r\n\r\n            _this._evalCodeOnLoad(data).catch((err) => {\r\n                throw err;\r\n            });\r\n\r\n        }\r\n        //await new Promise(resolve => setTimeout(resolve, 1000));\r\n        //if this is the first save for the tmpfile then it fails - I dont know why, give it a second try\r\n        //@ts-ignore\r\n        require([\"js/\" + jsfile + \".js\"], onload,/*error*/function (err) {\r\n            //console.log(\"reload\");\r\n            window.setTimeout(function () {\r\n                //@ts-ignore\r\n                require([\"js/\" + jsfile + \".js\"], onload, function (err) {\r\n                    throw err;\r\n                });\r\n            }, 20);\r\n        });\r\n\r\n\r\n\r\n    }\r\n    /**\r\n     * switch view\r\n     * @member {string} view - \"design\" or \"code\"\r\n     */\r\n    set viewmode(view) {\r\n        this._main.show(view);\r\n    }\r\n\r\n    /**\r\n    * get all known instances for type\r\n    * @param {type} type - the type we are interested\r\n    * @returns {[string]}\r\n    */\r\n    getVariablesForType(type) {\r\n        return this.variables.getVariablesForType(type);\r\n    }\r\n    /**\r\n     * gets the name of the variabel that holds the object\r\n     * @param {object} ob - the\r\n     */\r\n    getVariableFromObject(ob) {\r\n        return this.variables.getVariableFromObject(ob);\r\n    }\r\n\r\n    /**\r\n     * gets the name object of the given variabel\r\n     * @param {string} ob - the name of the variable\r\n     */\r\n    getObjectFromVariable(varname) {\r\n        return this.variables.getObjectFromVariable(varname);\r\n    }\r\n    isVariableAutogenerated(varname){\r\n        return this.variables.isVariableAutogenerated(varname);\r\n    }\r\n\r\n    /**\r\n      * renames a variable in design\r\n      * @param {string} oldName\r\n      * @param {string} newName\r\n      */\r\n    renameVariable(oldName:string, newName:string,autogenerated:boolean) {\r\n        this.variables.renameVariable(oldName, newName,autogenerated);\r\n        if (this._design !== undefined && this._design[\"_componentExplorer\"] !== undefined)\r\n            this._design[\"_componentExplorer\"].update();\r\n    }\r\n\r\n    /**\r\n     * gets the name object of the given variabel\r\n     * @param {string} ob - the name of the variable\r\n     */\r\n    removeVariableInDesign(varname) {\r\n        return this.variables.removeVariable(varname);\r\n    }\r\n\r\n    /**\r\n     * @member {string} - the code\r\n     */\r\n    set value(value) {\r\n        this._codePanel.file = this._file;\r\n        this._codePanel.value = value;\r\n\r\n    }\r\n    get value() {\r\n        return this._codePanel.value;\r\n    }\r\n    setCursorPorition(position: number) {\r\n        this.cursorPosition = this._codePanel.numberToPosition(position);\r\n    }\r\n    /**\r\n    * @param {object} position - the current cursor position {row= ,column=}\r\n    */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._codePanel.cursorPosition = cursor;\r\n    }\r\n    get cursorPosition() {\r\n        return this._codePanel.cursorPosition;\r\n    }\r\n\r\n    /**\r\n     * @member {string} - title of the component\r\n     */\r\n    get title() {\r\n        var s: any = this.file.split(\"/\");\r\n        s = s[s.length - 1];\r\n        if (this.file?.startsWith(\"$serverside\"))\r\n            s = s + \"(s)\";\r\n        return s;\r\n    }\r\n    /**\r\n    * @member {string} - the url to edit\r\n    */\r\n    set file(value: string) { //the Code\r\n        this._file = value;\r\n        this.openFile(value);\r\n\r\n    }\r\n    @$Property({ isUrlTag: true, id: true })\r\n    get file(): string {\r\n        return this._file;\r\n    }\r\n    /**\r\n    * goes to the line number \r\n    * @param {object} value - the line number \r\n    */\r\n    set line(value: number) {\r\n        this._line = Number(value);\r\n        this.cursorPosition = { row: this._line, column: 1 };\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.cursorPosition = { row: _this._line, column: 1 };\r\n        }, 300);\r\n        /*setTimeout(function() {\r\n            _this.cursorPosition = { row: value, column: 0 };\r\n        }, 1000);//start takes one second....*/\r\n    }\r\n    @$Property({ isUrlTag: true })\r\n    get line(): number {\r\n        return this.cursorPosition.row;\r\n    }\r\n    /**\r\n     * open the file\r\n     */\r\n    async openFile(_file) {\r\n        this._file = _file;\r\n        var content = await new Server().loadFile(this._file);\r\n        this._codePanel.file = _file;\r\n        this._codePanel.value = content;\r\n        this._codePanel.width = \"100%\";\r\n        //  this._codePanel.height=\"100%\";\r\n        this._main.update();\r\n        if (this._line)\r\n            this.line = this._line;\r\n\r\n    }\r\n    destroy() {\r\n        this._codeView.destroy();\r\n        this._codeToolbar.destroy();\r\n        this._codePanel.destroy();\r\n        this._errors.destroy();\r\n        this.variables.destroy();\r\n        this._design.destroy();\r\n        //this._main.destroy();\r\n        super.destroy();\r\n    }\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        this._codePanel.undo();\r\n    }\r\n\r\n}\r\n\r\nexport async function test() {\r\n    var editor = new CodeEditor();\r\n    //var url = \"jassijs_editor/AcePanel.ts\";\r\n    editor.height = \"100%\";\r\n    editor.width = \"100%\";\r\n    //await editor.openFile(url);\r\n    editor.file = \"tests/TestDialog.ts\";//\"$serverside/jassijs_report/TestServerreport.ts\";//\r\n    setTimeout(() => {\r\n        editor.evalCode();\r\n\r\n    }, 500);\r\n    windows.add(editor, editor.title);\r\n    // debugger;\r\n    // var k=await new Server().testServersideFile(\"$serverside/jassijs_report/TestServerreport\");\r\n};\r\n//jassijs.myRequire(modul.css[\"jassijs_editor.css\"]);","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\r\nimport \"jassijs/ui/Image\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { InvisibleComponent } from \"jassijs/ui/InvisibleComponent\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Component, $UIComponent, UIComponentProperties } from \"jassijs/ui/Component\";\r\n//import {CodeEditor} from \"jassijs_editor/CodeEditor\";//could be removed\r\n\r\n\r\n@$Class(\"jassijs_editor.CodeEditorInvisibleComponents\")\r\nexport class CodeEditorInvisibleComponents extends Panel {\r\n\r\n    codeeditor;\r\n    constructor(codeeditor) {\r\n        super();\r\n        \r\n        /** \r\n       * @member {jassijs_editor.CodeEditor} - the parent CodeEditor\r\n       * */\r\n\r\n        this.codeeditor = codeeditor;\r\n        this.layout();\r\n    }\r\n    render(){\r\n        return <any>React.createElement(\"span\", { className:\"Panel\",style:{border:\"1px solid #ccc\"}});\r\n    }\r\n    componentDidMount(): void {\r\n       \r\n    }\r\n    layout() {\r\n        this.update();\r\n    }\r\n    update() {\r\n\r\n        var _this = this;\r\n        while (_this._components.length > 0) {\r\n            _this.remove(_this._components[0]);\r\n        }\r\n        var elements = _this.codeeditor.getVariablesForType(\"$isInivisibleComponent\");//InvisibleComponent);\r\n        for (var x = 0; x < elements.length; x++) {\r\n            var img = new Button();\r\n            var name = elements[x];\r\n            img.tooltip = name;\r\n            //                    img.height=24;\r\n            //  img.width=24;\r\n            img.text = name.startsWith(\"me.\") ? name.substring(3) : name;\r\n            var ob = _this.codeeditor.getObjectFromVariable(name);\r\n            img.dom[\"ob\"] = ob;\r\n            img.onclick(function (evt) {\r\n                _this.codeeditor._design._propertyEditor.value = evt.currentTarget.ob;\r\n                var ac = evt.currentTarget.ob.extensionCalled;\r\n                if (ac !== undefined) {\r\n                    evt.currentTarget.ob.extensionCalled({ componentDesignerInvisibleComponentClicked: { codeEditor: _this.codeeditor, designButton: img } });\r\n                }\r\n            });\r\n            var cn = classes.getClassName(ob);\r\n            //search icon\r\n            registry.getJSONData(\"$UIComponent\").then((regdata) => {\r\n                regdata.forEach(function (val) {\r\n                    if (val.classname === cn) {\r\n                        img.icon = val.params[0].icon;\r\n                    }\r\n                });\r\n            });\r\n\r\n            _this.add(img);\r\n        }\r\n        /* if(entries===undefined)\r\n              return;\r\n          for(var key in entries){\r\n              var entry=entries[key].data;\r\n              var img=new jassijs.ui.Image();\r\n              var name=entry[1].split(\"/\");\r\n              name=name[name.length-1];\r\n              img.tooltip=name;\r\n              img.src=entry[2];\r\n              img.height=24;\r\n              img.width=24;\r\n              img.createFromType=entry[0];\r\n              _this._makeDraggable(img);\r\n              _this.add(img);\r\n          }*/\r\n\r\n    }\r\n    /**\r\n     * install the draggable\r\n     * @param {jassijs.ui.Component} component\r\n     */\r\n    _makeDraggable(component) {\r\n        var helper = new (classes.getClass(component.createFromType))();\r\n        document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n        $(component.dom).draggable({\r\n            cancel: \"false\", revert: \"invalid\",\r\n            appendTo: \"body\",\r\n            helper: function (event) {\r\n                return $(helper.dom);\r\n            }\r\n            /*   drag:function(event,ui){\r\n                   var mouse=event.target._this.dom.style.cursor;\r\n                   if(mouse===\"e-resize\"||mouse===\"s-resize\"||mouse===\"se-resize\")\r\n                       return false;\r\n                   else\r\n                       return true;\r\n               }*/\r\n\r\n        });\r\n    }\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\n//import typescript from \"jassijs_editor/util/Typescript\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { notify } from \"jassijs/ui/Notify\";\r\n\r\n@$Class(\"jassijs_editor.CodePanel\")\r\nexport abstract class CodePanel extends Panel {\r\n    static typescript:any;\r\n    file: string;\r\n\r\n\r\n    resize() {\r\n\r\n    }\r\n    undo() {\r\n\r\n    }\r\n    abstract set mode(mode: string);\r\n    abstract get mode(): string;\r\n    abstract set value(value: string);\r\n    abstract get value(): string;\r\n    abstract autocomplete();\r\n    /**\r\n     * breakpoint changed\r\n     * @param {function} handler - function(line,enabled,type)\r\n     */\r\n    onBreakpointChanged(handler) {\r\n        this.addEvent(\"breakpointChanged\", handler);\r\n    }\r\n\r\n    /**\r\n    * gets a list of all lines with breakpoint\r\n    * @returns {Object.<number, boolean>}\r\n    */\r\n    getBreakpoints(): { [line: number]: boolean } {\r\n        return undefined;\r\n    }\r\n    public numberToPosition(pos: number): { row: number, column: number } {\r\n\t\treturn CodePanel.numberToPosition(this.file,pos,this.value);\r\n        /*var ret = typescript.getLineAndCharacterOfPosition(this.file, pos);\r\n        return {\r\n            row: ret.line,\r\n            column: ret.character\r\n        };*/\r\n    }\r\n    public static numberToPosition(file:string,pos: number,code:string): { row: number, column: number } {\r\n\t\tif(code!==undefined)\r\n        CodePanel.typescript.setCode(file,code);\r\n        var ret = CodePanel.typescript.getLineAndCharacterOfPosition(file, pos);\r\n        return {\r\n            row: ret.line,\r\n            column: ret.character\r\n        };\r\n    }\r\n    public positionToNumber(pos: { row: number, column: number }): number {\r\n    \tCodePanel.typescript.setCode(this.file,this.value);\r\n        var ret = CodePanel.typescript.getPositionOfLineAndCharacter(this.file, {\r\n            line: pos.row,\r\n            character: pos.column\r\n        });\r\n        return ret;\r\n    }\r\n    public static async getAutoimport(lpos:number,file:string,code:string):Promise<{text:string,pos:{ row: number, column: number }}> {\r\n       \r\n        //var lpos = this.positionToNumber(this.cursorPosition);\r\n        //@ts-ignore\r\n        var change=await CodePanel.typescript.getCodeFixesAtPosition(file, code, lpos, lpos, [2304]);\r\n            if (change === undefined)\r\n                return;\r\n            for (let x = 0;x < change.length;x++) {\r\n                if (change[x].changes[0].textChanges[0].newText === \"const \") {\r\n                    change.splice(x, 1);\r\n                }\r\n            }\r\n            if (change.length > 0) {\r\n                var entr = change[0].changes[0].textChanges[0];\r\n                let insertPos = CodePanel.numberToPosition(file,entr.span.start,code);\r\n                insertPos.row = insertPos.row - 1;\r\n                //Bug duplicate insert {Kunde,Kunde}\r\n                if (entr.newText.indexOf(\",\")>-1) {\r\n                    var thisline = code.substring(1 + code.lastIndexOf(\"{\", entr.span.start), code.indexOf(\"}\", entr.span.start));\r\n                    thisline=\"*\"+thisline.replaceAll(\" \",\"*\").replaceAll(\"}\",\"*\").replaceAll(\",\",\"*\")+\"*\";\r\n                    \r\n                    var cl = entr.newText.split(\",\")[0];\r\n                    if (thisline.indexOf(\"*\"+cl+\"*\")>0) {\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                //relative to absolute\r\n                var words = entr.newText.split(\"\\\"\");\r\n                var oldPath: string = words[1];\r\n\r\n                var path = file.split(\"/\");\r\n                path.splice(-1, 1);//remove last\r\n                if (oldPath !== undefined && oldPath.startsWith(\".\")) {//convert relative to absolute\r\n                    if (oldPath.startsWith(\"./\"))\r\n                        oldPath = oldPath.substring(2);\r\n                    while (oldPath.startsWith(\"../\")) {\r\n                        oldPath = oldPath.substring(3);\r\n                        path.splice(-1, 1);\r\n                    }\r\n                    var newPath = \"\";\r\n                    for (let x = 0;x < path.length;x++) {\r\n                        newPath = newPath + path[x] + \"/\";\r\n                    }\r\n                    newPath = newPath + oldPath;\r\n                    return {\r\n                    \ttext:words[0] + \"\\\"\" + newPath + \"\\\"\" + words[2],\r\n                    \tpos:insertPos\r\n                    }\r\n                  //  this.insert(this.positionToNumber(insertPos), words[0] + \"\\\"\" + newPath + \"\\\"\" + words[2]);\r\n                } else {\r\n                \t return {\r\n                    \ttext:entr.newText,\r\n                    \tpos:insertPos\r\n                    }\r\n                    //this.insert(this.positionToNumber(insertPos), entr.newText);\r\n                }\r\n               // typescript.setCode(this.file, this.value);\r\n            }\r\n            return undefined;\r\n\r\n    }\r\n\r\n    /**\r\n   * @param {object} position - the current cursor position {row= ,column=}\r\n   */\r\n    abstract set cursorPosition(cursor: { row: number, column: number });\r\n\r\n    abstract get cursorPosition(): { row: number, column: number };\r\n    /**\r\n         * goes to the declaration under cursor\r\n         */\r\n    gotoDeclaration() {\r\n        var pos = this.positionToNumber(this.cursorPosition)\r\n        var test = this.numberToPosition(pos);\r\n        if (!CodePanel.typescript.isInited(this.file)) {\r\n            notify(\"please try later ... loading in progress\", \"info\", { position: \"bottom right\" });\r\n            return;\r\n        }\r\n        CodePanel.typescript.getDefinitionAtPosition(this.file, pos).then((def) => {\r\n            if (def !== undefined && def.length > 0) {\r\n                var entr = def[0];\r\n                var file = entr.fileName?.replace(\"file:///\", \"\");\r\n                var p = entr.textSpan.start;\r\n                var newPos = CodePanel.numberToPosition(file,p,undefined);\r\n                var line = newPos.row;\r\n                router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + file + \"&line=\" + line);\r\n            }\r\n\r\n        });\r\n    }\r\n}\r\n\r\n","import registry, { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { VariablePanel } from \"jassijs/ui/VariablePanel\";\r\nimport { PropertyEditor } from \"jassijs/ui/PropertyEditor\";\r\nimport { ComponentExplorer } from \"jassijs_editor/ComponentExplorer\";\r\nimport { ComponentPalette } from \"jassijs_editor/ComponentPalette\";\r\nimport { Resizer } from \"jassijs_editor/util/Resizer\";\r\n//import DragAndDropper from \"jassijs/ui/helper/DragAndDropper\";\r\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\r\nimport { CodeEditorInvisibleComponents } from \"jassijs_editor/CodeEditorInvisibleComponents\";\r\nimport \"jassijs/ui/StateBinder\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport { DragAndDropper } from \"jassijs_editor/util/DragAndDropper\";\r\nimport { ComponentDescriptor } from \"jassijs/ui/ComponentDescriptor\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Container } from \"jassijs/ui/Container\";\r\nimport { BoxPanel } from \"jassijs/ui/BoxPanel\";\r\n\r\n//import { Parser } from \"./util/Parser\";\r\n\r\n\r\n\r\nexport class ClipboardData {\r\n    varNamesToCopy: string[] = [];\r\n    children: { [name: string]: string[] } = {};\r\n    properties: { [name: string]: { [propname: string]: any[] } } = {};\r\n    types: { [name: string]: string } = {};\r\n    allChilds: string[] = [];\r\n}\r\n\r\n\r\n@$Class(\"jassijs_editor.ComponentDesigner\")\r\nexport class ComponentDesigner extends Panel {\r\n    _codeEditor;\r\n    editMode: boolean;\r\n    variables: VariablePanel;\r\n    _propertyEditor: PropertyEditor;\r\n    _errors: ErrorPanel;\r\n    _componentPalette: ComponentPalette;\r\n    _componentExplorer: ComponentExplorer; dummy\r\n    _invisibleComponents: CodeEditorInvisibleComponents;\r\n    _designToolbar: Panel;\r\n    _designPlaceholder: Panel;\r\n    _resizer: Resizer;\r\n    _draganddropper: DragAndDropper;\r\n    saveButton: Button;\r\n    runButton: Button;\r\n    lassoButton: Button;\r\n    undoButton: Button;\r\n    editButton: Button;\r\n    cutButton: Button;\r\n    inlineEditorPanel: Panel;\r\n    copyButton: Button;\r\n    pasteButton: Button;\r\n    dummyHolder: HTMLSpanElement;\r\n    lastSelectedDummy = {\r\n        component: undefined,\r\n        pre: false\r\n    }\r\n    private _lastComponent;\r\n    constructor(props) {\r\n        super(props);\r\n        this._codeEditor = undefined;\r\n        this._initDesign();\r\n        this.editMode = true;\r\n\r\n    }\r\n\r\n    connectParser(parser) {\r\n        this._propertyEditor.parser = parser;\r\n    }\r\n    set codeEditor(value) {\r\n        var _this = this;\r\n        this._codeEditor = value;\r\n        this.variables = this._codeEditor.variables;\r\n        this._propertyEditor = new PropertyEditor(value, undefined);\r\n        //   this._propertyEditor=new PropertyEditor(undefined);\r\n        this._errors = this._codeEditor._errors;\r\n        this._componentPalette = new ComponentPalette();\r\n        this._componentPalette.service = \"$UIComponent\";\r\n        this._componentExplorer = new ComponentExplorer(value, this._propertyEditor);\r\n        this._invisibleComponents = new CodeEditorInvisibleComponents(value);\r\n        this.add(this._invisibleComponents);\r\n        this._initComponentExplorer();\r\n        this._installView();\r\n        this._codeEditor._codePanel.onblur(function (evt) {\r\n            _this._propertyEditor.updateParser();\r\n        });\r\n        this.registerKeys();\r\n\r\n    }\r\n    get codeEditor() {\r\n        return this._codeEditor;\r\n    }\r\n    _initDesign() {\r\n        var _this = this;\r\n        this._designToolbar = new Panel();\r\n        this._designPlaceholder = new Panel();\r\n        this.editButton = new Button();\r\n        this.editButton.icon = \"mdi mdi-run mdi-18px\";\r\n        this.editButton.tooltip = \"Test Dialog\";\r\n        this.editButton.onclick(function () {\r\n            _this.editDialog(!_this.editMode);\r\n\r\n        });\r\n\r\n        this._designToolbar.add(this.editButton);\r\n\r\n        this.saveButton = new Button();\r\n        this.saveButton.tooltip = \"Save(Ctrl+S)\";\r\n        this.saveButton.icon = \"mdi mdi-content-save mdi-18px\";\r\n        this.saveButton.onclick(function () {\r\n            _this.save();\r\n        });\r\n        this._designToolbar.add(this.saveButton);\r\n\r\n        /*  this.runButton = new Button();\r\n          this.runButton.icon = \"mdi mdi-car-hatchback mdi-18px\";\r\n          this.runButton.tooltip = \"Run(F4)\";\r\n          this.runButton.onclick(function () {\r\n              _this.evalCode();\r\n          });\r\n          this._designToolbar.add(this.runButton);*/\r\n\r\n        this.undoButton = new Button();\r\n        this.undoButton.icon = \"mdi mdi-undo mdi-18px\";\r\n        this.undoButton.tooltip = \"Undo (Strg+Z)\";\r\n        this.undoButton.onclick(function () {\r\n            _this.undo();\r\n        });\r\n        this._designToolbar.add(this.undoButton);\r\n\r\n        /*  var test=new Button();\r\n         test.icon=\"mdi mdi-bug mdi-18px\";\r\n         test.tooltip=\"Test\";\r\n         test.onclick(function(){\r\n                     //var kk=_this._codeView.layout;\r\n         });\r\n         this._designToolbar.add(test);*/\r\n\r\n\r\n\r\n\r\n        this.lassoButton = new Button();\r\n        this.lassoButton.icon = \"mdi mdi-lasso mdi-18px\";\r\n        this.lassoButton.tooltip = \"Select rubberband\";\r\n        this.lassoButton.onclick(function () {\r\n            var val = _this.lassoButton.toggle();\r\n            _this._resizer.setLassoMode(val);\r\n            _this._draganddropper.enableDraggable(!val);\r\n            //_this._draganddropper.activateDragging(!val);\r\n        });\r\n        this._designToolbar.add(this.lassoButton);\r\n\r\n        this.cutButton = new Button();\r\n        this.cutButton.icon = \"mdi mdi-content-cut mdi-18px\";\r\n        this.cutButton.tooltip = \"Cut selected Controls (Ctrl+Shift+X)\";\r\n        this.cutButton.onclick(function () {\r\n            _this.cutComponent();\r\n        });\r\n        this._designToolbar.add(this.cutButton);\r\n\r\n\r\n        this.copyButton = new Button();\r\n        this.copyButton.icon = \"mdi mdi-content-copy mdi-18px\";\r\n        this.copyButton.tooltip = \"Copy (Ctrl+Shift+C)\";\r\n        this.copyButton.onclick(function () {\r\n            _this.copy();\r\n        });\r\n        this._designToolbar.add(this.copyButton);\r\n        this.pasteButton = new Button();\r\n        this.pasteButton.icon = \"mdi mdi-content-paste mdi-18px\";\r\n        this.pasteButton.tooltip = \"Paste (Ctrl+Shift+V)\";\r\n        this.pasteButton.onclick(function () {\r\n            _this.paste();\r\n        });\r\n        this._designToolbar.add(this.pasteButton);\r\n        var box = new BoxPanel();\r\n        box.horizontal = true;\r\n\r\n        this.inlineEditorPanel = new Panel();\r\n        this.inlineEditorPanel._id = \"i\" + this.inlineEditorPanel._id;\r\n        this.inlineEditorPanel.dom.setAttribute(\"id\", this.inlineEditorPanel._id);\r\n        this.inlineEditorPanel.dom.style.display = \"inline\";\r\n        this.inlineEditorPanel.domWrapper.style.display = \"inline\";\r\n        this.inlineEditorPanel.dom.classList.add(\"InlineEditorPanel\");\r\n\r\n        //   box.height=40;\r\n        box.add(this._designToolbar);\r\n        box.add(this.inlineEditorPanel);\r\n        this.add(box);\r\n        this._designPlaceholder.domWrapper.style.position = \"relative\";\r\n        this.dummyHolder = document.createElement(\"span\");\r\n        this.__dom.append(this.dummyHolder);\r\n        this.add(this._designPlaceholder);\r\n\r\n    }\r\n    /**\r\n   * manage shortcuts\r\n   */\r\n    registerKeys() {\r\n        var _this = this;\r\n        this._codeEditor._design.dom.tabindex = \"1\";\r\n        this._codeEditor._design.dom.addEventListener(\"keydown\", function (evt) {\r\n            if (evt.keyCode === 115 && evt.shiftKey) {//F4\r\n                // var thiss=this._this._id;\r\n                // var editor = ace.edit(this._this._id);\r\n                _this.evalCode(true);\r\n                evt.preventDefault();\r\n                return false;\r\n            } else if (evt.keyCode === 115) {//F4\r\n                _this.evalCode(false);\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 90 && evt.ctrlKey) {//Ctrl+Z\r\n                _this.undo();\r\n            }\r\n            if (evt.keyCode === 116) {//F5\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 46 || (evt.keyCode === 88 && evt.ctrlKey && evt.shiftKey)) {//Del or Ctrl X)\r\n                _this.cutComponent();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 67 && evt.ctrlKey && evt.shiftKey) {//Ctrl+C\r\n                _this.copy();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if (evt.keyCode === 86 && evt.ctrlKey && evt.shiftKey) {//Ctrl+V\r\n                _this.paste();\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n            if ((String.fromCharCode(evt.which).toLowerCase() === 's' && evt.ctrlKey)/* && (evt.which == 19)*/) {//Str+s\r\n                _this.save();\r\n                event.preventDefault();\r\n                return false;\r\n            }\r\n\r\n        });\r\n    }\r\n    resize() {\r\n        this._updateInvisibleComponents();\r\n    }\r\n    _installView() {\r\n        this._codeEditor._main.add(this._propertyEditor, \"Properties\", \"properties\");\r\n        this._codeEditor._main.add(this._componentExplorer, \"Components\", \"components\");\r\n        this._codeEditor._main.add(this._componentPalette, \"Palette\", \"componentPalette\");\r\n        this._codeEditor._main.layout = '{\"settings\":{\"hasHeaders\":true,\"constrainDragToContainer\":true,\"reorderEnabled\":true,\"selectionEnabled\":false,\"popoutWholeStack\":false,\"blockedPopoutsThrowError\":true,\"closePopoutsOnUnload\":true,\"showPopoutIcon\":false,\"showMaximiseIcon\":true,\"showCloseIcon\":true,\"responsiveMode\":\"onload\"},\"dimensions\":{\"borderWidth\":5,\"minItemHeight\":10,\"minItemWidth\":10,\"headerHeight\":20,\"dragProxyWidth\":300,\"dragProxyHeight\":200},\"labels\":{\"close\":\"close\",\"maximise\":\"maximise\",\"minimise\":\"minimise\",\"popout\":\"open in new window\",\"popin\":\"pop in\",\"tabDropdown\":\"additional tabs\"},\"content\":[{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"content\":[{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":81.04294066258988,\"content\":[{\"type\":\"stack\",\"width\":80.57491289198606,\"height\":71.23503465658476,\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"content\":[{\"title\":\"Code..\",\"type\":\"component\",\"componentName\":\"code\",\"componentState\":{\"title\":\"Code..\",\"name\":\"code\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Design\",\"type\":\"component\",\"componentName\":\"design\",\"componentState\":{\"title\":\"Design\",\"name\":\"design\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"column\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"width\":19.42508710801394,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":19.844357976653697,\"content\":[{\"title\":\"Palette\",\"type\":\"component\",\"componentName\":\"componentPalette\",\"componentState\":{\"title\":\"Palette\",\"name\":\"componentPalette\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":80.1556420233463,\"content\":[{\"title\":\"Properties\",\"type\":\"component\",\"componentName\":\"properties\",\"componentState\":{\"title\":\"Properties\",\"name\":\"properties\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]},{\"type\":\"row\",\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"height\":18.957059337410122,\"content\":[{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"height\":18.957059337410122,\"width\":77.70034843205575,\"content\":[{\"title\":\"Variables\",\"type\":\"component\",\"componentName\":\"variables\",\"componentState\":{\"title\":\"Variables\",\"name\":\"variables\"},\"isClosable\":true,\"reorderEnabled\":true},{\"title\":\"Errors\",\"type\":\"component\",\"componentName\":\"errors\",\"componentState\":{\"title\":\"Errors\",\"name\":\"errors\"},\"isClosable\":true,\"reorderEnabled\":true}]},{\"type\":\"stack\",\"header\":{},\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"activeItemIndex\":0,\"width\":22.299651567944256,\"content\":[{\"title\":\"Components\",\"type\":\"component\",\"componentName\":\"components\",\"componentState\":{\"title\":\"Components\",\"name\":\"components\"},\"isClosable\":true,\"reorderEnabled\":true}]}]}]}],\"isClosable\":true,\"reorderEnabled\":true,\"title\":\"\",\"openPopouts\":[],\"maximisedItemId\":null}';\r\n    }\r\n\r\n    _updateInvisibleComponents() {\r\n        var _this = this;\r\n        this._invisibleComponents.update();\r\n    }\r\n\r\n    _initComponentExplorer() {\r\n        var _this = this;\r\n        this._componentExplorer.onselect(function (data) {\r\n\r\n            // console.log(_this._componentExplorer.selection);\r\n            //  var ob = data.data;\r\n            setTimeout(() => {\r\n                var sel = _this._componentExplorer.tree.selection;\r\n                if (sel.length === 1)\r\n                    sel = sel[0];\r\n                _this._propertyEditor.value = sel;\r\n            }, 10);\r\n        });\r\n        this._componentExplorer.getComponentName = function (item) {\r\n            var varname = _this._codeEditor.getVariableFromObject(item);\r\n            if (varname === undefined)\r\n                return;\r\n            if (varname.startsWith(\"this.\"))\r\n                return varname.substring(5);\r\n            return varname;\r\n        };\r\n    }\r\n    deleteComponents(text) {\r\n        var clip: ClipboardData = JSON.parse(text);//to Clipboard\r\n\r\n        var all = [];\r\n        for (var x = 0; x < clip.allChilds.length; x++) {\r\n            var varname = clip.allChilds[x];//this._codeEditor.getVariableFromObject(todel);\r\n            var todel = this._codeEditor.getObjectFromVariable(varname);\r\n            if (varname !== \"this\") {\r\n                if (todel?.domWrapper?._parent !== undefined) {\r\n                    todel.domWrapper._parent.remove(todel);\r\n                }\r\n                all.push(varname);\r\n                this._propertyEditor.removeVariableInDesign(varname);\r\n            }\r\n        }\r\n        console.log(all);\r\n        this._propertyEditor.removeVariablesInCode(all);\r\n        this._componentExplorer.update();\r\n\r\n    }\r\n    /**\r\n     * removes the selected component\r\n     */\r\n    async cutComponent() {\r\n        var text = await this.copy();\r\n        if (await navigator.clipboard.readText() !== text) {\r\n            alert(\"could not copy to Clipboard.\")\r\n            return;\r\n        }\r\n        this.deleteComponents(text);\r\n\r\n        this._updateInvisibleComponents();\r\n\r\n        this.updateDummies();\r\n\r\n    }\r\n    private copyProperties(clip: ClipboardData, component: Component) {\r\n        var varname = this._codeEditor.getVariableFromObject(component);\r\n        var parserdata = this._propertyEditor.parser.data[varname];\r\n        clip.allChilds.push(varname);\r\n        clip.types[varname] = classes.getClassName(component);\r\n        if (!clip.properties[varname]) {\r\n            clip.properties[varname] = {};\r\n        }\r\n        var editorfields = {};\r\n        ComponentDescriptor.describe(component.constructor)?.fields.forEach((f) => { editorfields[f.name] = f });\r\n        for (var key in parserdata) {\r\n            //if (editorfields[key] ||key === \"_new_\" || key === \"add\") {\r\n            if (!clip.properties[varname][key]) {\r\n                clip.properties[varname][key] = []\r\n            }\r\n            for (var i = 0; i < parserdata[key].length; i++) {\r\n                //only add fields in Propertydescriptor\r\n                clip.properties[varname][key].push(parserdata[key][i].value);\r\n            }\r\n            //}\r\n        }\r\n        if (component[\"_components\"]) {\r\n            for (var x = 0; x < component[\"_components\"].length; x++) {\r\n                var childname = this._codeEditor.getVariableFromObject(component[\"_components\"][x]);\r\n                if (childname) {\r\n                    if (clip.children[varname] === undefined) {\r\n                        clip.children[varname] = [];\r\n                    }\r\n                    clip.children[varname].push(childname);\r\n                    this.copyProperties(clip, component[\"_components\"][x]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    componentsToString(components: Component[]): string {\r\n        var clip = new ClipboardData();\r\n        clip.varNamesToCopy = [];\r\n        for (var x = 0; x < components.length; x++) {\r\n            var component: Component = components[x];\r\n            var varname = this._codeEditor.getVariableFromObject(component);\r\n            clip.varNamesToCopy.push(varname);\r\n            this.copyProperties(clip, component);\r\n        }\r\n\r\n\r\n\r\n        var text = JSON.stringify(clip);\r\n        return text;\r\n    }\r\n    async copy(): Promise<string> {\r\n\r\n        var components = this._propertyEditor.value;\r\n        if (!Array.isArray(components)) {\r\n            components = [components];\r\n        }\r\n\r\n        var text = this.componentsToString(components);\r\n        await navigator.clipboard.writeText(text);\r\n        return text;\r\n    }\r\n    private async pasteComponent(clip: ClipboardData, target: Container, before: Component, varname: string, variablelistold: any[], variablelistnew: any[]) {\r\n        var _this = this;\r\n        var created: Component;\r\n        console.log(clip);\r\n        if (clip.properties[varname] !== undefined && clip.properties[varname][\"_new_\"] !== undefined) {\r\n\r\n            var vartype = clip.properties[varname][\"_new_\"][0];\r\n            if (variablelistold.indexOf(varname) > -1)\r\n                return;\r\n            vartype = vartype.split(\"(\")[0].split(\"new \")[1];\r\n\r\n            var targetname = _this._codeEditor.getVariableFromObject(target);\r\n            var newcomp = { createFromType: clip.types[varname] };\r\n            await classes.loadClass(clip.types[varname]);\r\n            var svarname = varname.split(\".\")[varname.split(\".\").length - 1];\r\n\r\n            created = _this.createComponent(clip.types[varname], newcomp, undefined, undefined, target, before, false, svarname, false);\r\n            variablelistold.push(varname);\r\n            var newvarname = _this._codeEditor.getVariableFromObject(created);\r\n            variablelistnew.push(newvarname);\r\n            //correct designdummy\r\n            for (var t = 0; t < target._components.length; t++) {\r\n                var ch = target._components[t];\r\n                if (ch[\"type\"] === \"atEnd\") {\r\n                    target.remove(ch);\r\n                    // target.add(ch);\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            //component is already created outside the code\r\n            created = _this._codeEditor.getObjectFromVariable(varname);\r\n        }\r\n        if (clip.children[varname] !== undefined) {\r\n            for (var k = 0; k < clip.children[varname].length; k++) {\r\n                await _this.pasteComponent(clip, <Container>created, undefined, clip.children[varname][k], variablelistold, variablelistnew);\r\n            }\r\n        }\r\n        return created;\r\n    }\r\n    async pasteComponents(text: string, parent: Container, before: Component = undefined) {\r\n        var _this = this;\r\n        var variablelistold = [];\r\n        var variablelistnew = [];\r\n        var clip: ClipboardData = JSON.parse(text);\r\n        //create Components\r\n        for (var x = 0; x < clip.varNamesToCopy.length; x++) {\r\n            var varname = clip.varNamesToCopy[x];\r\n\r\n            await _this.pasteComponent(clip, parent, before, varname, variablelistold, variablelistnew);\r\n\r\n            //set properties\r\n        }\r\n        //in the new Text the variables are renamed\r\n        var textnew = text;\r\n        for (var x = 0; x < variablelistnew.length; x++) {\r\n            var oldName = variablelistold[x];\r\n            var newName = variablelistnew[x];\r\n            if (oldName !== newName) {\r\n\r\n                var reg = new RegExp(\"\\\\W\" + oldName + \"\\\\W\");\r\n                var found = true;\r\n                while (found == true) {\r\n                    found = false;\r\n                    textnew = textnew.replace(reg, function replacer(match, offset, string) {\r\n                        // p1 is nondigits, p2 digits, and p3 non-alphanumerics\r\n                        found = true;\r\n                        return match.substring(0, 1) + newName + match.substring(match.length - 1, match.length);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        clip = JSON.parse(textnew);\r\n\r\n        //set properties\r\n        for (var x = 0; x < variablelistnew.length; x++) {\r\n            var variablename = variablelistnew[x]\r\n            for (var key in clip.properties[variablename]) {\r\n                if (key !== \"_new_\" && key !== \"config\" && key != \"add\") {\r\n                    var propdata = clip.properties[variablename][key];\r\n                    for (var v = 0; v < propdata.length; v++) {\r\n                        var svalue: string = propdata[v];\r\n                        var component = _this._codeEditor.getObjectFromVariable(variablename);\r\n                        var argnames = [];\r\n                        var args = [];\r\n                        var allvars = _this.codeEditor.variables.value;\r\n                        //introduce variables replace me.textbox1->me_textbox1\r\n                        for (var vv = 0; vv < allvars.length; vv++) {\r\n\r\n                            var newvarname = allvars[vv].name.replaceAll(\".\", \"_\");\r\n                            svalue = svalue.replaceAll(allvars[vv].name, newvarname);\r\n                            if (newvarname !== \"this\") {\r\n                                argnames.push(newvarname);\r\n                                args.push(allvars[vv].value);\r\n                            }\r\n                        }\r\n                        try {\r\n                            //set value in Designer\r\n                            var realvalue = new Function(...argnames, \"return (\" + svalue + \");\").bind(_this._codeEditor.getObjectFromVariable(\"this\"))(...args);\r\n                            if (typeof (component[key]) === \"function\") {\r\n                                component[key](realvalue);\r\n                            } else {\r\n                                component[key] = realvalue;\r\n                            }\r\n                        } catch {\r\n\r\n                        }\r\n                        //_this._propertyEditor.setPropertyInDesign(key,value);\r\n                        _this._propertyEditor.setPropertyInCode(key, propdata[v], propdata.length > 0, variablename, undefined, undefined, false);\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        _this.variables.updateCache();\r\n    }\r\n    async paste() {\r\n        var text = await navigator.clipboard.readText();\r\n        //    var clip: ClipboardData = JSON.parse(text);\r\n        var _this = this;\r\n        var target: Container = _this._propertyEditor.value;\r\n        var insertBefore = target._components === undefined;\r\n        if (this.lastSelectedDummy.component === target && this.lastSelectedDummy.pre)\r\n            insertBefore = true;\r\n        if (this.lastSelectedDummy.component === target && !this.lastSelectedDummy.pre)\r\n            insertBefore = false;\r\n        if (!insertBefore)\r\n            await this.pasteComponents(text, target, undefined); // await _this.pasteComponent(clip, target, undefined, varname, variablelistold, variablelistnew);\r\n        else {\r\n            // if(x===0)\r\n            //    before=target;\r\n            await this.pasteComponents(text, target._parent, target);//await _this.pasteComponent(clip, target._parent, target, varname, variablelistold, variablelistnew);\r\n        }\r\n        //_this._propertyEditor.value = created;\r\n        // _this._propertyEditor.codeEditor.value = _this._propertyEditor.parser.getModifiedCode();\r\n        _this._propertyEditor.updateParser();\r\n        _this.codeHasChanged();\r\n        // _this._propertyEditor.callEvent(\"codeChanged\", {});\r\n        //include the new element\r\n        _this.editDialog(true);\r\n        //  _this._componentExplorer.update();\r\n        //  _this._updateInvisibleComponents();\r\n\r\n    }\r\n    /**\r\n    * execute the current code\r\n    * @param {boolean} toCursor -  if true the variables were inspected on cursor position, \r\n    *                              if false at the end of the layout() function or at the end of the code\r\n    */\r\n    evalCode(toCursor = undefined) {\r\n        this._codeEditor.evalCode(toCursor);\r\n\r\n    }\r\n    /**\r\n    * save the code to server\r\n    */\r\n    save() {\r\n        this._codeEditor.save();\r\n\r\n    }\r\n\r\n    /**\r\n     * undo action\r\n     */\r\n    undo() {\r\n        this._codeEditor.undo();\r\n    }\r\n    private getComponentIDsInDesign(component: Component, collect: string[]) {\r\n\r\n        collect.push(\"#\" + component._id);\r\n        var childs = component[\"_components\"];\r\n        if (childs !== undefined) {\r\n            for (let x = 0; x < childs.length; x++) {\r\n                this.getComponentIDsInDesign(childs[x], collect);\r\n            }\r\n        }\r\n    }\r\n    createDragAndDropper(): DragAndDropper {\r\n        return new DragAndDropper();\r\n    }\r\n    selectComponents(components: Component[]) {\r\n        var component = this._designPlaceholder._components[0];\r\n        component.dom.querySelectorAll(\".jselected\").forEach((c) => { c.classList.remove(\"jselected\") });\r\n            //                   $(\".jselected\").removeClass(\"jselected\");\r\n            \r\n        for (var x = 0; x < components.length; x++) {\r\n            if (components[x][\"editorselectthis\"])\r\n                components[x] = components[x][\"editorselectthis\"];\r\n            components[x].domWrapper.classList.add(\"jselected\");\r\n        }\r\n        if (components.length === 1){\r\n            this._propertyEditor.value = components[0];\r\n            this._componentExplorer.select( components[0]);\r\n        }else if(components.length > 0) {\r\n            this._propertyEditor.value = components;\r\n            this._componentExplorer.select(components[0]);\r\n        }\r\n\r\n    }\r\n    /**\r\n     * dialog edit mode\r\n     * @param {boolean} enable - if true allow resizing and drag and drop \r\n     */\r\n    editDialog(enable) {\r\n        var _this = this;\r\n        this.editMode = enable;\r\n        this.editButton.toggle(!this.editMode);\r\n        this.undoButton.hidden = !enable;\r\n        this.lassoButton.hidden = !enable;\r\n        this.cutButton.hidden = !enable;\r\n        this.copyButton.hidden = !enable;\r\n        this.pasteButton.hidden = !enable;\r\n        var component = this._designPlaceholder._components[0];\r\n        //switch designmode\r\n        var comps = component.dom.querySelectorAll(\".jcomponent\");\r\n        if (enable)\r\n            comps.forEach((c) => c.classList.add(\"jdesignmode\"));\r\n        else\r\n            comps.forEach((c) => c.classList.remove(\"jdesignmode\"));\r\n        for (var c = 0; c < comps.length; c++) {\r\n\r\n            if (comps[c]._this[\"extensionCalled\"] !== undefined) {\r\n                comps[c]._this[\"extensionCalled\"]({\r\n                    componentDesignerSetDesignMode: { enable, componentDesigner: this }\r\n                });\r\n            }\r\n        }\r\n        if (component[\"extensionCalled\"] !== undefined) {\r\n            component[\"extensionCalled\"]({\r\n                componentDesignerSetDesignMode: { enable, componentDesigner: this }\r\n            });\r\n\r\n        }\r\n\r\n        this.variables.updateCache();//variables can be added with Repeater.setDesignMode\r\n        if (this._resizer !== undefined) {\r\n            this._resizer.uninstall();\r\n        }\r\n        if (this._draganddropper !== undefined) {\r\n            this._draganddropper.uninstall();\r\n        }\r\n\r\n        if (enable === true) {\r\n            var _this = this;\r\n            var allcomponents = this.variables.getEditableComponents(component);\r\n            if (this._propertyEditor.codeEditor === undefined) {\r\n                var ret = [];\r\n\r\n                this.getComponentIDsInDesign(component, ret);\r\n                allcomponents = ret.join(\",\");\r\n            } else\r\n                allcomponents = this.variables.getEditableComponents(component);\r\n            //this._installTinyEditor();\r\n            this._draganddropper = this.createDragAndDropper();\r\n            this._resizer = new Resizer();\r\n            this._resizer.draganddropper = this._draganddropper;\r\n\r\n            this._resizer.onelementselected = function (elementIDs, e) {\r\n                var ret = [];\r\n                for (var x = 0; x < elementIDs.length; x++) {\r\n                    var ob = document.getElementById(elementIDs[x])._this;\r\n\r\n                    ret.push(ob);\r\n                }\r\n                _this.selectComponents(ret);\r\n            };\r\n\r\n            this._resizer.onpropertychanged = function (comp: Component, prop: string, value: any) {\r\n                if (_this._propertyEditor.value !== comp)\r\n                    _this._propertyEditor.value = comp;\r\n                _this._propertyEditor.setPropertyInCode(prop, value + \"\", true);\r\n                _this._propertyEditor.value = _this._propertyEditor.value;\r\n                // _this._propertyEditor.setPropertyInDesign(prop, value);\r\n                console.log(value);\r\n                _this.updateDummies();\r\n            };\r\n            this._resizer.install(component, allcomponents);\r\n            allcomponents = this.variables.getEditableComponents(component, true);\r\n            if (this._draganddropper) {\r\n                this._draganddropper.install(component, allcomponents);\r\n                this._draganddropper.onpropertychanged = function (component, top, left, oldParent, newParent, beforeComponent) {\r\n                    _this.moveComponent(component, top, left, oldParent, newParent, beforeComponent);\r\n                }\r\n                this._draganddropper.onpropertyadded = function (type, component, top, left, newParent, beforeComponent) {\r\n                    _this.createComponent(type, component, top, left, newParent, beforeComponent);\r\n\r\n                }\r\n\r\n                this._draganddropper.isDragEnabled = function (event, ui) {\r\n                    if (_this._resizer === undefined)\r\n                        return false;\r\n                    return _this._resizer.componentUnderCursor !== undefined;\r\n                }\r\n            }\r\n            this.dummyHolder.hidden = false;\r\n        } else {\r\n            this.dummyHolder.hidden = true;\r\n        }\r\n        this._componentExplorer.update();\r\n    }\r\n\r\n    /**\r\n     * move a component\r\n     * @param {jassijs.ui.Component} component - the component to move\r\n     * @param {number} top - the top absolute position\r\n     * @param {number} left - the left absolute position\r\n     * @param {jassijs.ui.Container} newParent - the new parent container where the component move to\r\n     * @param {jassijs.ui.Component} beforeComponent - insert the component before beforeComponent\r\n     **/\r\n    moveComponent(component, top, left, oldParent, newParent, beforeComponent) {\r\n        var _this = this;\r\n        var oldName = _this._codeEditor.getVariableFromObject(oldParent);\r\n        var newName = _this._codeEditor.getVariableFromObject(newParent);\r\n        var compName = _this._codeEditor.getVariableFromObject(component);\r\n        if (top !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"x\", top + \"\", true);\r\n        } else {\r\n            _this._propertyEditor.removePropertyInCode(\"x\");\r\n        }\r\n        if (left !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"y\", left + \"\", true);\r\n        } else {\r\n            _this._propertyEditor.removePropertyInCode(\"y\");\r\n        }\r\n\r\n        if (oldParent !== newParent || beforeComponent !== undefined || top === undefined) {//top=undefined ->on relative position at the end call the block\r\n            //get Position\r\n            var oldVal = _this._propertyEditor.removePropertyInCode(\"add\", compName, oldName, false);\r\n            var before;\r\n            if (beforeComponent !== undefined && beforeComponent.type !== \"atEnd\") {//designdummy atEnd\r\n                var on = _this._codeEditor.getVariableFromObject(beforeComponent);\r\n                var par = _this._codeEditor.getVariableFromObject(beforeComponent._parent);\r\n                before = { variablename: par, property: \"add\", value: on };\r\n            }\r\n            _this._propertyEditor.setPropertyInCode(\"add\", /*compName*/oldVal, false, newName, before);\r\n\r\n        }\r\n        _this.variables.updateCache();\r\n        _this._propertyEditor.value = _this._propertyEditor.value;\r\n        _this._componentExplorer.value = _this._componentExplorer.value;\r\n    }\r\n    /**\r\n     * create a new component\r\n     * @param {string} type - the type of the new component\r\n     * @param {jassijs.ui.Component} component - the component themself\r\n     * @param {number} top - the top absolute position\r\n     * @param {number} left - the left absolute position\r\n     * @param {jassijs.ui.Container} newParent - the new parent container where the component is placed\r\n     * @param {jassijs.ui.Component} beforeComponent - insert the new component before beforeComponent\r\n     **/\r\n    createComponent(type, component, top, left, newParent, beforeComponent, doUpdate = true, suggestedName: string = undefined, refresh: boolean = undefined): Component {\r\n        var _this = this;\r\n        /*if(beforeComponent!==undefined&&beforeComponent.designDummyFor&&beforeComponent.type===\"atEnd\"){\r\n            beforeComponent=undefined;\r\n        }*/\r\n        var file = type.replaceAll(\".\", \"/\");\r\n        var stype = file.split(\"/\")[file.split(\"/\").length - 1];\r\n        registry.getJSONData(\"$Class\", type).then((data) => {\r\n            var filename = data[0].filename;\r\n            _this._propertyEditor.addImportIfNeeded(stype, filename.substring(0, filename.lastIndexOf(\".\")));\r\n        })\r\n\r\n\r\n        var scope = undefined;\r\n\r\n\r\n        var varvalue;\r\n        if (classes.getClassName(component) === type)\r\n            varvalue = component;\r\n        else\r\n            varvalue = new (classes.getClass(type));\r\n        var varname = _this.createVariable(type, scope, varvalue, suggestedName, refresh);\r\n        if (this._propertyEditor.codeEditor !== undefined) {\r\n\r\n            var newName = _this._codeEditor.getVariableFromObject(newParent);\r\n            var before;\r\n            if (beforeComponent !== undefined && beforeComponent.type !== \"atEnd\") {//Designdummy atEnd\r\n                //if(beforeComponent.type===\"beforeComponent\")\r\n                //   beforeComponent=beforeComponent.designDummyFor;\r\n                var on = _this._codeEditor.getVariableFromObject(beforeComponent);\r\n                var par = _this._codeEditor.getVariableFromObject(beforeComponent._parent);\r\n                before = { variablename: par, property: \"add\", value: on };\r\n            }\r\n            _this._propertyEditor.setPropertyInCode(\"add\", varname, false, newName, before, scope);\r\n        }\r\n\r\n        if (beforeComponent !== undefined) {\r\n            newParent.addBefore(varvalue, beforeComponent);\r\n        } else {\r\n            newParent.add(varvalue);\r\n        }\r\n        if (refresh)\r\n            _this.variables.updateCache();\r\n\r\n        //set initial properties for the new component\r\n        if (component.createFromParam !== undefined) {\r\n            for (var key in component.createFromParam) {\r\n                var val = component.createFromParam[key];\r\n                if (typeof val === 'string')\r\n                    val = '\"' + val + '\"';\r\n                _this._propertyEditor.setPropertyInCode(key, val, true, varname);\r\n            }\r\n            $.extend(varvalue, component.createFromParam);\r\n        }\r\n        if (top !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"x\", top + \"\", true, varname);\r\n            varvalue.x = top;\r\n        }\r\n        if (left !== undefined) {\r\n            _this._propertyEditor.setPropertyInCode(\"y\", left + \"\", true, varname);\r\n            varvalue.y = left;\r\n        }\r\n\r\n        //notify componentdescriptor \r\n        var ac = varvalue.extensionCalled;\r\n        if (ac !== undefined) {\r\n            varvalue.extensionCalled({\r\n                componentDesignerComponentCreated: {\r\n                    newParent: newParent\r\n                }\r\n            });\r\n        }\r\n        if (doUpdate) {\r\n            _this._propertyEditor.value = varvalue;\r\n            //include the new element\r\n            _this.editDialog(true);\r\n            _this._componentExplorer.update();\r\n            _this._updateInvisibleComponents();\r\n            _this.updateDummies();\r\n        }\r\n        return varvalue;\r\n    }\r\n    createVariable(type, scope, varvalue, suggestedName: string = undefined, refresh: boolean = undefined) {\r\n        if (this._propertyEditor.codeEditor === undefined)\r\n            return;\r\n        var varname = this._propertyEditor.addVariableInCode(type, scope, suggestedName);\r\n\r\n        /* if (varname.startsWith(\"me.\") && this._codeEditor.getObjectFromVariable(\"me\") !== undefined) {\r\n             var me = this._codeEditor.getObjectFromVariable(\"me\");\r\n             me[varname.substring(3)] = varvalue;\r\n         } else if (varname.startsWith(\"this.\")) {\r\n             var th = this._codeEditor.getObjectFromVariable(\"this\");\r\n             th[varname.substring(5)] = varvalue;\r\n         } else*/\r\n        this.variables.addVariable(varname, varvalue, refresh, true);\r\n        return varname;\r\n    }\r\n\r\n\r\n    private fillVariables(root: Component, component: Component, cache: { [componentid: string]: { line: number, column: number } }) {\r\n        if (cache[component._id] === undefined && component[\"__stack\"] !== undefined) {\r\n            var lines = component[\"__stack\"]?.split(\"\\n\");\r\n            for (var x = 0; x < lines.length; x++) {\r\n                var sline: string = lines[x];\r\n                if (sline.indexOf(\"$temp.js\") > 0) {\r\n                    var spl = sline.split(\":\");\r\n                    var entr = {\r\n\r\n                    }\r\n                    cache[component._id] = {\r\n                        line: Number(spl[spl.length - 2]),\r\n                        column: Number(spl[spl.length - 1].replace(\")\", \"\"))\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            if (component[\"_components\"]) {\r\n                for (var x = 0; x < component[\"_components\"].length; x++) {\r\n                    this.fillVariables(root, component[\"_components\"][x], cache);\r\n                }\r\n            }\r\n            if (component === root) {\r\n                //fertig\r\n                var hh = 0;\r\n            }\r\n        }\r\n\r\n    }\r\n    codeHasChanged() {\r\n        var _this = this;\r\n        _this.updateDummies();\r\n        _this._propertyEditor.codeEditor.value = _this._propertyEditor.parser.getModifiedCode();\r\n        _this._propertyEditor.callEvent(\"codeChanged\", {});\r\n        _this._componentExplorer.update();\r\n        _this._updateInvisibleComponents();\r\n    }\r\n    createPreDummy(node: HTMLElement) {\r\n        var _this = this;\r\n        var dummy: HTMLSpanElement;\r\n        //  if (ComponentDesigner.beforeDummy === undefined) {\r\n        dummy = <HTMLSpanElement>document.createElement(\"span\");\r\n        dummy.contentEditable = node.tagName.toUpperCase() === \"BR\" ? \"true\" : \"false\";\r\n        dummy.draggable = true;\r\n        dummy.classList.add(\"_dummy_\");\r\n        dummy.onkeydown = (e) => {\r\n\r\n            if ((<any>_this).keydown) {\r\n                e.preventDefault();\r\n                (<any>_this).keydown(e);\r\n            }\r\n        }\r\n        dummy.ondrop = (ev) => {\r\n            ev.preventDefault();\r\n            async function doit() {\r\n                var data = ev.dataTransfer.getData(\"text\");\r\n                if (data.indexOf('\"createFromType\":') > -1) {\r\n                    var toCreate: { createFromType: string, createFromParam: string } = <any>JSON.parse(data);\r\n                    var cl = classes.getClass(toCreate.createFromType);\r\n                    var newComponent = new cl();\r\n                    var beforeComponent: Component = (<any>ev.target)._this;\r\n                    var newParent = beforeComponent._parent;\r\n                    _this.createComponent(toCreate.createFromType, newComponent, undefined, undefined, newParent, beforeComponent);// beforeComponent);\r\n                } else if (data.indexOf('\"varNamesToCopy\":') > -1) {\r\n                    var beforeComponent: Component = (<any>ev.target)._this;\r\n                    var newParent = beforeComponent._parent;\r\n                    await _this.pasteComponents(data, newParent, beforeComponent);\r\n                    _this.deleteComponents(data);\r\n                } else {\r\n\r\n                }\r\n                _this.codeHasChanged();\r\n            };\r\n            doit();\r\n        };\r\n\r\n        dummy.onclick = (ev) => {\r\n            ev.preventDefault();\r\n            var all = [(<any>ev.target)._this];\r\n            if (node._thisOther) {\r\n                for (var x = 0; x < node._thisOther.length; x++) {\r\n                    var varname = this._codeEditor.getVariableFromObject(node._thisOther[x]);\r\n                    if (varname) {\r\n                        all.push(node._thisOther[x]);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            var comp = (<any>ev.target)._this;\r\n            /* if (all.length > 1) {//there are more nodes under cursor so we switch the components\r\n                 var pos = all.indexOf(_this._propertyEditor.value);\r\n                 if (pos == -1)\r\n                     pos = 0;\r\n                 else\r\n                     pos++;\r\n                 if (pos >= all.length)\r\n                     pos = 0;\r\n                 comp = all[pos];\r\n             }*/\r\n\r\n            _this._propertyEditor.value = comp;\r\n\r\n            _this.lastSelectedDummy.component = comp;\r\n            this.lastSelectedDummy.pre = true;\r\n            if (_this.lastSelectedDummy.component.tag?.toUpperCase() === \"BR\") {\r\n                //dummy.contentEditable=true;\r\n                //dummy.focus();//with this the keydown event will work\r\n                console.log(\"focus\");\r\n            }\r\n            console.log(\"setcomp\");\r\n            /*  var newSel = getSelection();\r\n              var range = document.createRange();\r\n              range.setStart(_this.lastSelectedDummy.component.dom, 0);\r\n              newSel.removeAllRanges();\r\n              newSel.addRange(range);*/\r\n\r\n            // (<any>newSel).modify(\"move\", \"left\", \"character\");\r\n            getSelection().removeAllRanges();//the next paste is before the component\r\n        }\r\n        dummy.ondragover = (ev) => {\r\n            ev.preventDefault();\r\n        }\r\n        dummy.ondragstart = ev => {\r\n            ev.dataTransfer.setDragImage((<any>event.target).nd, 20, 20);\r\n            ev.dataTransfer.setData(\"text\", _this.componentsToString([(<any>event.target)._this]));\r\n        }\r\n        dummy.style.zIndex = \"10000\";\r\n        dummy.style.backgroundColor = \"rgba(245,234,39,0.6)\";\r\n        dummy.innerHTML = \"&nbsp;&nbsp;&nbsp;&nbsp;\";\r\n        dummy.style.fontSize = \"10px\";\r\n        dummy.style.position = \"absolute\";\r\n        dummy.ondragenter = dummy.onmouseenter = (e) => {\r\n            (<any>e.target)._this.dom.classList.add(\"dummyselected\");\r\n\r\n        }\r\n        dummy.ondragleave = dummy.onmouseleave = (e) => (<any>e.target)._this.dom.classList.remove(\"dummyselected\");\r\n        //  ComponentDesigner.beforeDummy = dummy;\r\n        // }\r\n        // dummy = ComponentDesigner.beforeDummy.cloneNode(true);\r\n        return dummy;\r\n    }\r\n    createPostDummy() {\r\n        var _this = this;\r\n        var dummy: HTMLSpanElement;\r\n        //  if (ComponentDesigner.beforeDummy === undefined) {\r\n        dummy = <HTMLSpanElement>document.createElement(\"span\");\r\n        dummy.contentEditable = \"true\";\r\n        dummy.draggable = true;\r\n        dummy.classList.add(\"_dummy_\");\r\n        dummy.classList.add(\"ui-droppable\");\r\n        dummy.onclick = (ev) => {\r\n            _this._propertyEditor.value = (<any>ev.target)._this;\r\n            //getSelection().removeAllRanges();//the next paste is before the component\r\n            _this.lastSelectedDummy.component = (<any>ev.target)._this;\r\n            this.lastSelectedDummy.pre = false;\r\n            this.select(this.designedComponent.__dom, 0);\r\n            //setTimeout(()=>getSelection().removeAllRanges(),3000);\r\n        }\r\n        //dummy.onclick = (ev) => console.log(ev);\r\n        dummy.ondrop = (ev) => {\r\n            ev.preventDefault();\r\n\r\n            async function doit() {\r\n                var data = ev.dataTransfer.getData(\"text\");\r\n                if (data.indexOf('\"createFromType\":') > -1) {\r\n                    var toCreate: { createFromType: string, createFromParam: string } = <any>JSON.parse(data);\r\n                    var cl = classes.getClass(toCreate.createFromType);\r\n                    var newComponent = new cl();\r\n                    let newParent = (<any>ev.target)._this;\r\n                    _this.createComponent(toCreate.createFromType, newComponent, undefined, undefined, newParent, undefined);// beforeComponent);\r\n                } else if (data.indexOf('\"varNamesToCopy\":') > -1) {\r\n                    let newParent: Container = (<any>ev.target)._this;\r\n                    await _this.pasteComponents(data, newParent, undefined);\r\n                    _this.deleteComponents(data);\r\n                } else {\r\n\r\n                }\r\n                _this.codeHasChanged();\r\n            };\r\n            doit();\r\n\r\n        };\r\n        /* dummy.onkeydown = (e) => {\r\n            \r\n            if ((<any>_this).keydown) {\r\n                e.preventDefault();\r\n                (<any>_this).keydown(e);\r\n            }\r\n        }*/\r\n        dummy.ondragover = (ev) => {\r\n            ev.preventDefault();\r\n            //  ev.dataTransfer.dropEffect = \"move\";\r\n        } /*\r\n        dummy.ondragstart = ev => {\r\n            ev.dataTransfer.setDragImage((<any>event.target).nd, 20, 20);\r\n            ev.dataTransfer.setData(\"text\", \"Hallo\");\r\n        }*/\r\n        dummy.style.zIndex = \"10000\";\r\n        dummy.style.backgroundColor = \"rgba(56, 146, 232, 0.2)\";\r\n        dummy.innerHTML = \"&nbsp;&nbsp;&nbsp;&nbsp;\";\r\n        dummy.style.fontSize = \"10px\";\r\n        dummy.style.position = \"absolute\";\r\n        dummy.ondragenter = dummy.onmouseenter = (e) => {\r\n            (<any>e.target)._this.dom.classList.add(\"dummyselected\");\r\n            var name = this._codeEditor.getVariableFromObject((<any>e.target)._this);\r\n            if ((<any>e.target)._this.dom._backgroundsic === undefined)\r\n                (<any>e.target)._this.dom._backgroundsic = (<any>e.target)._this.dom.style[\"background-image\"];\r\n            (<any>e.target)._this.dom.style[\"background-image\"] = 'url(\"' + \"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='120px'><text x='0' y='15' fill='black' opacity='0.18' font-size='12'>\" + name + \"</text></svg>\" + '\")';\r\n        }\r\n        dummy.ondragleave = dummy.onmouseleave = (e) => {\r\n            (<any>e.target)._this.dom.classList.remove(\"dummyselected\");\r\n\r\n            (<any>e.target)._this.dom.style[\"background-image\"] = (<any>e.target)._this.dom._backgroundsic;\r\n            delete (<any>e.target)._this.dom._backgroundsic;\r\n\r\n        }\r\n        //   ComponentDesigner.beforeDummy = dummy;\r\n        // }\r\n        // dummy = ComponentDesigner.beforeDummy.cloneNode(true);\r\n        return dummy;\r\n    }\r\n    private insertDummies(node: HTMLElement, root: HTMLElement, arr, rootRect: DOMRect) {\r\n        if (node._this === undefined)\r\n            return;\r\n        var node = node._this.dom;//eliminate Wrapper\r\n        if ((<any>node)._dummyholder === true)\r\n            return;\r\n        if (root === undefined)\r\n            root = node;\r\n        //only elements with varaiables can have dummies\r\n        var allComponents: Component[] = [];\r\n        var varname = this._codeEditor.getVariableFromObject(node._this);\r\n        if (varname)\r\n            allComponents.push(node._this);\r\n        if (node._thisOther) {\r\n            for (var x = 0; x < node._thisOther.length; x++) {\r\n                var varname2 = this._codeEditor.getVariableFromObject(node._thisOther[x]);\r\n                if (varname2)\r\n                    allComponents.push(node._thisOther[x]);\r\n            }\r\n        }\r\n        for (var curComponent = 0; curComponent < allComponents.length; curComponent++) {\r\n\r\n            varname = this._codeEditor.getVariableFromObject(allComponents[curComponent]);\r\n            var comp = allComponents[curComponent];\r\n            /* if (!varname && node._thisOther) {\r\n                 for (var x = 0; x < node._thisOther.length; x++) {\r\n                     varname = this._codeEditor.getVariableFromObject(node._thisOther[x]);\r\n                     if (varname) {\r\n                         comp = node._thisOther[x];\r\n                         break;\r\n                     }\r\n                 }\r\n             }*/\r\n\r\n            var hasChildren = false;\r\n            var desc = ComponentDescriptor.describe(comp.constructor);\r\n            var fnew = desc.findField(\"children\");\r\n            if (fnew) {\r\n                if (fnew?.createDummyInDesigner !== undefined) {\r\n                    if (typeof (fnew.createDummyInDesigner) == \"boolean\") {\r\n                        hasChildren = fnew.createDummyInDesigner;\r\n                    } else {\r\n                        hasChildren = fnew.createDummyInDesigner(comp, false);\r\n                    }\r\n\r\n                } else {\r\n                    hasChildren = true;\r\n                }\r\n                if (hasChildren) {\r\n                    if (!node.classList.contains(\"jeditablecontainer\")) {\r\n                        node.classList.add(\"jeditablecontainer\");\r\n                    }\r\n                }\r\n            }\r\n            if (!varname) {\r\n                if (node.contentEditable !== \"false\")\r\n                    node.contentEditable = \"false\";\r\n            }\r\n            if (fnew?.createDummyInDesigner !== undefined) {\r\n                if (typeof (fnew.createDummyInDesigner) === \"boolean\") {\r\n                    if (fnew.createDummyInDesigner === false)\r\n                        varname = undefined;\r\n\r\n                } else {\r\n                    if (fnew.createDummyInDesigner(comp, true) === false)\r\n                        varname = undefined;\r\n                }\r\n\r\n            }\r\n\r\n\r\n            if (node.getClientRects === undefined)\r\n                return;\r\n\r\n            var rect = node.getClientRects()[0];\r\n            if (rect === undefined)\r\n                return;\r\n            rect = <any>{\r\n                left: rect.left - rootRect.left + window.scrollX,\r\n                top: rect.top - rootRect.top + window.scrollY,\r\n                right: rect.right - rootRect.left + window.scrollX,\r\n                bottom: rect.bottom - rootRect.top + window.scrollY\r\n            }\r\n            if ((<any>node)?.nd)\r\n                return;\r\n            if (varname) {\r\n                var preDummy = undefined;\r\n                if ((<any>node)._preDummies_)\r\n                    preDummy = (<any>node)._preDummies_[curComponent];\r\n                if (!preDummy) {\r\n                    if ((<any>node)._preDummies_ === undefined)\r\n                        (<any>node)._preDummies_ = [];\r\n                    preDummy = this.createPreDummy(node);\r\n                    (<any>preDummy).nd = node;\r\n                    (<any>preDummy)._this = comp;\r\n                    preDummy.title = varname;\r\n                    arr.push(preDummy);\r\n                    (<any>node)._preDummies_.push(preDummy);\r\n                }\r\n                var newTop = rect.top;\r\n                var newLeft = rect.left + curComponent * 8;\r\n                (<any>node).myTop = rect.top;\r\n                (<any>node).myLeft = rect.left;\r\n\r\n                var parentNode = node.parentNode;\r\n                //wrapper\r\n\r\n                if (node._this === (<any>node.parentNode)._this)\r\n                    parentNode = node.parentNode.parentNode;\r\n                if ((<any>parentNode)._preDummies_) {\r\n\r\n                    const rp = {\r\n                        top: (<any>parentNode).myTop,\r\n                        left: (<any>parentNode).myLeft,\r\n                        right: (<any>parentNode).myLeft + (<any>parentNode)._preDummies_.length * 8\r\n                    }\r\n                    if (rect.top > rp.top - 5 && rect.top < rp.top + 5 && rect.left > rp.left - 5 && rect.left < rp.right + 5) {\r\n                        var pr = (<any>parentNode)._preDummies_[(<any>parentNode)._preDummies_.length - 1];\r\n                        newLeft = parseInt(pr.style.left.replace(\"px\", \"\")) + 8;\r\n                    }\r\n                }\r\n                preDummy.style.top = newTop + \"px\";\r\n                preDummy.style.left = newLeft + \"px\";\r\n            }\r\n            if (hasChildren) {\r\n                var postDummy = undefined;\r\n                if ((<any>node)._postDummies_)\r\n                    postDummy = (<any>node)._postDummies_[curComponent];\r\n                if (!(postDummy)) {\r\n                    if ((<any>node)._postDummies_ === undefined)\r\n                        (<any>node)._postDummies_ = [];\r\n                    postDummy = this.createPostDummy();\r\n                    (<any>postDummy).nd = node;\r\n                    (<any>postDummy)._this = comp;\r\n                    postDummy.title = varname;\r\n                    arr.push(postDummy);\r\n                    (<any>node)._postDummies_.push(postDummy);\r\n                }\r\n                var newBottom = rect.bottom;\r\n                var newRight = rect.right - curComponent * 8;\r\n                (<any>node).myBottom = rect.bottom;\r\n                (<any>node).myRight = rect.right;\r\n                //var par = (<any>node)._this._parent;\r\n                if ((<any>parentNode)._postDummies_) {\r\n                    const rp = {\r\n                        bottom: (<any>parentNode).myBottom,\r\n                        right: (<any>parentNode).myRight,\r\n                        left: (<any>parentNode).myRight - (<any>parentNode)._postDummies_.length * 8\r\n                    }\r\n                    if (rect.bottom > rp.bottom - 5 && rect.bottom < rp.bottom + 5 && rect.right > rp.right - 5 && rect.right < rp.right + 5) {\r\n                        var pr = (<any>parentNode)._postDummies_[(<any>parentNode)._postDummies_.length - 1];\r\n                        newRight = pr.style.left.replace(\"px\", \"\");\r\n                    }\r\n                }\r\n                postDummy.style.top = (newBottom - 8) + \"px\";\r\n                postDummy.style.left = (newRight - 8) + \"px\";\r\n            }\r\n        }\r\n        for (var x = 0; x < node.childNodes.length; x++) {\r\n            if (node._this !== (<any>node.childNodes[x])._this)//Wrapper\r\n                this.insertDummies(<any>node.childNodes[x], root, arr, rootRect);\r\n        }\r\n\r\n    }\r\n    select(nodeStart: Node, posStart: number, nodeEnd: Node = undefined, posEnd: number = undefined) {\r\n        var newSel = getSelection();\r\n        var range = document.createRange();\r\n        range.setStart(nodeStart, posStart);\r\n        if (nodeEnd !== undefined)\r\n            range.setEnd(nodeEnd, posEnd);\r\n        newSel.removeAllRanges();\r\n        newSel.addRange(range);\r\n        return range;\r\n    }\r\n    /**\r\n     * @member {jassijs.ui.Component} - the designed component\r\n     */\r\n    set designedComponent(component) {\r\n        this.fillVariables(component, component, {});\r\n        var com = component;\r\n        if (com[\"isAbsolute\"] !== true && com.width === \"0\" && com.height === \"0\") {\r\n            component.width = \"calc(100% - 1px)\";\r\n            component.height = \"calc(100% - 1px)\";\r\n        }\r\n        if (this._codeEditor.__evalToCursorReached !== true) {\r\n            this._codeEditor._main.show(\"design\");\r\n        }\r\n        while (this._designPlaceholder._components.length > 0)\r\n            this._designPlaceholder.remove(this._designPlaceholder._components[0], true);\r\n        this._designPlaceholder.add(component);\r\n        // \r\n        this._propertyEditor.updateParser();\r\n        this.editDialog(this.editMode === undefined ? true : this.editMode);\r\n\r\n        this._componentExplorer.value = component;\r\n\r\n        this.dom.focus();\r\n\r\n\r\n        this._updateInvisibleComponents();\r\n        while (this.inlineEditorPanel.dom.firstChild) {\r\n            this.inlineEditorPanel.dom.firstChild.remove();\r\n        }\r\n        this.updateDummies();\r\n        this.callEvent(\"onDesignedComponentChanged\", component);\r\n        //var parser=new jassijs.ui.PropertyEditor.Parser();\r\n        //parser.parse(_this.value);\r\n    }\r\n    onDesignedComponentChanged(handler: (Component) => void) {\r\n        this.addEvent(\"onDesignedComponentChanged\", handler);\r\n    }\r\n    updateDummies() {\r\n        var arr = [];\r\n        var component = this.designedComponent;//this._componentExplorer.value;\r\n        if (this._lastComponent !== component) {//delete dummies if the designedComponent has changed\r\n            //if((<any>this.dom).dummyholder)\r\n            //  (<any>this.dom).dummyholder.innerHTML=\"\";\r\n            this.dummyHolder.innerHTML = \"\";//delete all\r\n            this._lastComponent = component;\r\n        }\r\n        /* if ((<any>this.dom).dummyholder === undefined) {\r\n             (<any>this.dom).dummyholder = document.createElement(\"span\");\r\n             (<any>this.dom).dummyholder._dummyholder = true;\r\n             this.dom.prepend((<any>component.dom).dummyholder);\r\n         }*/\r\n        this.insertDummies(component.dom, this.dummyHolder, arr, this.dom.getClientRects()[0]);\r\n        this.dummyHolder.append(...arr);\r\n        component.dom.contentEditable = \"true\";\r\n        this._designPlaceholder.domWrapper.contentEditable = \"false\";\r\n        this._designPlaceholder.dom.contentEditable = \"false\";\r\n        //delete removed dummies\r\n        for (var x = 0; x < this.dummyHolder.childNodes.length; x++) {\r\n            if ((<any>this.dummyHolder.childNodes[x])._this.dom._this._parent === undefined) {\r\n                //if ((<any>this.dummyHolder.childNodes[x])._this._parent === undefined) {\r\n                this.dummyHolder.removeChild(this.dummyHolder.childNodes[x]);\r\n            }\r\n        }\r\n    }\r\n    get designedComponent() {\r\n        return this._designPlaceholder._components[0];\r\n    }\r\n    destroy() {\r\n        if (this._resizer !== undefined) {\r\n            this._resizer.uninstall();\r\n        }\r\n        if (this._draganddropper !== undefined) {\r\n            this._draganddropper.isDragEnabled = undefined;\r\n            this._draganddropper.uninstall();\r\n        }\r\n        this._propertyEditor?.destroy();\r\n        this._componentPalette?.destroy();\r\n        this._componentExplorer?.destroy();\r\n        this._invisibleComponents?.destroy();\r\n        super.destroy();\r\n    }\r\n\r\n}\r\nexport async function test() {\r\n    return new ComponentDesigner();\r\n\r\n};\r\n\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { Tree } from \"jassijs/ui/Tree\";\nimport { ComponentDescriptor } from \"jassijs/ui/ComponentDescriptor\";\nimport { ContextMenu } from \"jassijs/ui/ContextMenu\";\nimport { Action, Actions } from \"jassijs/base/Actions\";\nimport { Container } from \"jassijs/ui/Container\";\n//import { CodeEditor } from \"jassijs_editor/CodeEditor\";\nimport { ComponentDesigner } from \"jassijs_editor/ComponentDesigner\";\nimport { PropertyEditor } from \"jassijs/ui/PropertyEditor\";\nimport { propertyeditor } from \"jassijs/base/PropertyEditorService\";\nimport { classes } from \"jassijs/remote/Classes\";\nimport { Component } from \"jassijs/ui/Component\";\n\n@$Class(\"jassijs_editor.ComponentExplorer\")\nexport class ComponentExplorer extends Panel {\n    codeEditor;//:CodeEditor;\n    propertyEditor: PropertyEditor;\n    tree: Tree;\n    //contextMenu:ContextMenu;\n    _value;\n    /**\n    * edit object properties\n    */\n    constructor(codeEditor, propertyEditor: PropertyEditor) {\n        super();\n        /** @member {jassijs_editor.CodeEditor} - the parent CodeEditor */\n        this.codeEditor = codeEditor;\n        this.tree = new Tree();\n        this.tree.height = \"100%\";\n        this.contextMenu = new ContextMenu();\n        this.add(this.contextMenu);\n        this.layout();\n        this.propertyEditor = propertyEditor;\n    }\n    /**\n     * @member {jassijs.ui.Component}  - the rendered object \n     */\n    set value(value) {\n        this._value = value;\n        this.tree.items = (value === undefined ? [] : value);\n        this.tree.expandAll();\n    }\n    get value() {\n        return this._value;\n    }\n    /**\n     * get the displayname of the item\n     * must be override\n     * @param {object} item\n     */\n    getComponentName(item) {\n        return item;\n    }\n\n    /**\n     * get the child components\n     * must be override\n     * @param {object} item\n     */\n    getComponentChilds(item) {\n        if (this.codeEditor === undefined)\n            return this.getComponentChildsOld(item);\n        if (item === undefined)\n            return [];\n        var ret = [];\n        if (item.dom?._thisOther) {\n            // <Comp1><Comp2><div> rsults in Tree Comp1-Comp2-div\n            //\n            var pos = item.dom?._thisOther.indexOf(item);\n            if (pos == -1)\n                pos = 0;\n            else\n                pos++;\n            if (pos < item.dom?._thisOther.length) {\n                var varname = this.codeEditor.getVariableFromObject(item.dom._thisOther[pos]);\n                if (varname) {\n                    ret.push(item.dom._thisOther[pos]);\n                    return ret;\n                }\n            }\n        }\n        if (item.dom?.childNodes) {\n            for (var x = 0; x < item.dom.childNodes.length; x++) {\n                var nd = item.dom.childNodes[x];\n                var varname = this.codeEditor.getVariableFromObject(nd._this);\n                if (varname)\n                    ret.push(nd._this);\n            }\n        }\n        return ret;\n    }\n    getComponentChildsOld(item) {\n        if (item === undefined)\n            return [];\n        if (item === this.value && item._components) {\n            var all = [];\n            (<Component[]>item._components).forEach((e) => {\n               \n                    all.push(e);\n            });\n            return all;\n        }\n        var comps = ComponentDescriptor.describe(item.constructor).resolveEditableComponents(item);\n\n        var ret = [];\n        for (var name in comps) {\n            var comp = comps[name];\n            if (comp === undefined)\n                continue;\n            var complist = comp._components;\n            if (name !== \"this\" && this.getComponentName(comp) !== undefined) {\n                if (ret.indexOf(comp) === -1)\n                    ret.push(comp);\n            }\n            if (complist !== undefined) {\n                for (var y = 0; y < complist.length; y++) {\n                    if (this.getComponentName(complist[y]) !== undefined) {\n                        if (ret.indexOf(complist[y]) === -1)\n                            ret.push(complist[y]);\n                    }\n                }\n            }\n        }\n        return ret;\n    }\n    select(component:Component){\n        this.tree.selection=[component];\n        //this.tree.scrollToSelection();\n        setTimeout(()=>this.tree.scrollToSelection(),200);\n    }\n    layout() {\n        var _this = this;\n        this.tree.width = \"100%\";\n        this.tree.height = \"100%\";\n        this.tree.propChilds = function (item) {\n            return _this.getComponentChilds(item);\n        }\n\n        this.tree.propDisplay = function (item) {\n            return _this.getComponentName(item);\n        }\n        this.contextMenu.getActions = async function (data: any[]): Promise<Action[]> {\n            var ret = [];\n            var parent = <Container>data[0]._parent;\n\n            if (parent !== undefined && parent._components !== undefined) {\n                if ((parent._components.length > 1 ) && parent._components.indexOf(data[0]) !== 0) {\n                    var ac: Action = {\n                        call: function () {\n\n                            _this.propertyEditor.swapComponents(parent._components[parent._components.indexOf(data[0]) + -1], data[0]);\n                            _this.tree.items = _this.tree.items;\n                            _this.tree.value = data[0];\n                        },\n                        name: \"move up\"\n                    };\n                    ret.push(ac)\n                }\n                if (parent._components.length > 1 + hasDummy &&\n                    parent._components.indexOf(data[0]) + hasDummy + 1 < parent._components.length) {\n                    var ac: Action = {\n                        call: function () {\n                            _this.propertyEditor.swapComponents(data[0], parent._components[parent._components.indexOf(data[0]) + 1]);\n                            _this.tree.items = _this.tree.items;\n                            _this.tree.value = data[0];\n                        },\n                        name: \"move down\"\n                    };\n                    ret.push(ac)\n                }\n            }\n            return ret;\n        }\n        this.tree.contextMenu = this.contextMenu;\n        this.add(this.tree);\n    }\n    update() {\n        this.value = this.value;\n    }\n    onselect(handler) {\n        this.tree.onselect(handler);\n    }\n    onclick(handler) {\n        this.tree.addEvent(\"click\", handler);\n    }\n    destroy() {\n        this._value = undefined;\n        super.destroy();\n    }\n}\nexport async function test() {\n    var dlg = new ComponentExplorer(undefined, undefined);\n    dlg.getComponentName = function (item) {\n        return classes.getClassName(item);\n    };\n    dlg.value = dlg;\n    return dlg;\n}\n\n\n","import \"jassijs/ext/jquerylib\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\r\nimport { Image } from \"jassijs/ui/Image\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { $UIComponent, UIComponentProperties } from \"jassijs/ui/Component\";\r\n\r\n@$Class(\"jassijs_editor.ComponentPalette\")\r\nexport class ComponentPalette extends Panel {\r\n    _service: string;\r\n    constructor() {\r\n        super();\r\n        this.layout();\r\n    }\r\n    layout() {\r\n    }\r\n    /**\r\n     * @member {string} - the service where the palette-items are registred\r\n     **/\r\n    set service(value) {\r\n        var _this = this;\r\n        this._service = value;\r\n        while (this._components.length > 0) {\r\n            this.remove(this._components[0]);\r\n        }\r\n        registry.getJSONData(this._service).then((jdata) => {\r\n         /*   for (var x = 0; x < jdata.length; x++) {\r\n                var mdata = jdata[x];\r\n                var data: UIComponentProperties = mdata.params[0];\r\n                if (data.fullPath === undefined || data.fullPath === \"undefined\")\r\n                    continue;\r\n                var img = new Image();\r\n                var name = data.fullPath.split(\"/\");\r\n                var sname = name[name.length - 1];\r\n                img.tooltip = sname;\r\n\r\n                img.src = data.icon === undefined ? \"mdi mdi-chart-tree mdi-18px\" : data.icon + (data.icon.startsWith(\"mdi\") ? \" mdi-18px\" : \"\");\r\n                //img.height = 24;\r\n                //img.width = 24;\r\n                img[\"createFromType\"] = mdata.classname;\r\n                img[\"createFromParam\"] = data.initialize;\r\n                _this._makeDraggable(img);\r\n                _this.add(img);\r\n            }*/\r\n            for (var x = 0; x < jdata.length; x++) {\r\n                var mdata = jdata[x];\r\n                var data: UIComponentProperties = mdata.params[0];\r\n                if (data.fullPath === undefined || data.fullPath === \"undefined\")\r\n                    continue;\r\n                var img = new Image();\r\n                var name = data.fullPath.split(\"/\");\r\n                var sname = name[name.length - 1];\r\n                img.tooltip = sname;\r\n                img.src = data.icon === undefined ? \"mdi mdi-chart-tree mdi-18px\" : data.icon + (data.icon.startsWith(\"mdi\") ? \" mdi-18px\" : \"\");\r\n                //img.height = 24;\r\n                //img.width = 24;\r\n                img[\"createFromType\"] = mdata.classname;\r\n                img[\"createFromParam\"] = data.initialize;\r\n                _this._makeDraggable2(img);\r\n                _this.add(img);\r\n            }\r\n        });\r\n\r\n\r\n\r\n       /* registry.loadAllFilesForService(this._service).then(function(){\r\n            registry.getData(_this._service).forEach(function(mdata){\r\n                var data:UIComponentProperties=mdata.params[0];\r\n                var img=new Image();\r\n                if(data.fullPath===undefined)\r\n                    return;\r\n                var name=data.fullPath.split(\"/\");\r\n                var sname=name[name.length-1];\r\n                img.tooltip=sname;\r\n                img.src=data.icon===undefined?\"res/unknowncomponent.png\":data.icon;\r\n                img.height=24;\r\n                img.width=24;\r\n                img[\"createFromType\"]=classes.getClassName(mdata.oclass);\r\n                img[\"createFromParam\"]=data.initialize;\r\n                _this._makeDraggable(img);\r\n                _this.add(img);\r\n            });\r\n       });*/\r\n    }\r\n    get service() {\r\n        return this._service;\r\n    }\r\n    /**\r\n     * install the draggable\r\n     * @param {jassijs.ui.Image} component\r\n     */\r\n    _makeDraggable(component) {\r\n        var helper = undefined;\r\n\r\n\r\n        $(component.dom).draggable({\r\n            cancel: \"false\", revert: \"invalid\",\r\n\r\n            appendTo: \"body\",\r\n            helper: function (event) {\r\n                if (helper === undefined) {\r\n                    var cl = classes.getClass(component.createFromType);\r\n                    if (cl === undefined) {\r\n                        classes.loadClass(component.createFromType);//for later\r\n                        cl = Panel;\r\n                    }\r\n                    helper = new cl();\r\n                    var img = new Image();\r\n                    img.src = component.src;\r\n                    img.height = \"24\";\r\n                    img.width = \"24\";\r\n                    img.x = component.x;\r\n                    img.y = component.y;\r\n                    helper._position = img;\r\n                    component._helper = helper;\r\n                    if (component.createFromParam !== undefined) {\r\n                        $.extend(helper, component.createFromParam);\r\n                    }\r\n                    document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n                    document.getElementById(\"jassitemp\").removeChild(helper._position.domWrapper);\r\n                }\r\n                return helper._position.dom;\r\n            }\r\n        });\r\n    }\r\n    _makeDraggable2(component) {\r\n        var helper = undefined;\r\n\r\n        var cl = classes.getClass(component.createFromType);\r\n        if (cl === undefined) {\r\n            classes.loadClass(component.createFromType);//for later\r\n            cl = Panel;\r\n        }\r\n\r\n        /*   var img = new Image();\r\n           (<any>img).native=true;\r\n           img.src = component.src;\r\n           img.dom.style.color = \"blue\";\r\n           img.height = \"24\";\r\n           img.width = \"24\";\r\n           img.x = component.x;\r\n           img.y = component.y;*/\r\n        component.dom.draggable = true;\r\n        component.dom.ondragstart = ev => {\r\n        /*    helper = new cl();\r\n            var img = new Image();\r\n            img.src = component.src;\r\n            img.height = \"24\";\r\n            img.width = \"24\";\r\n            img.x = component.x;\r\n            img.y = component.y;\r\n            helper._position = img;\r\n            component._helper = helper;\r\n            if (component.createFromParam !== undefined) {\r\n                $.extend(helper, component.createFromParam);\r\n            }*/\r\n          //  ev.dataTransfer.setDragImage(img.dom, 20, 20);\r\n            ev.dataTransfer.setData(\"text\", JSON.stringify({\r\n               createFromType : component[\"createFromType\"],\r\n               createFromParam : component[\"createFromParam\"]                       \r\n            }));\r\n            //document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n            //document.getElementById(\"jassitemp\").removeChild(helper._position.domWrapper);\r\n        }\r\n \r\n        //helper._position = img;\r\n        //component._helper = helper;\r\n        // if (component.createFromParam !== undefined) {\r\n        //   $.extend(helper, component.createFromParam);\r\n        //  }\r\n\r\n        /* $(component.dom).draggable({\r\n             cancel: \"false\", revert: \"invalid\",\r\n \r\n             appendTo: \"body\",\r\n             helper: function (event) {\r\n                 if (helper === undefined) {\r\n                     var cl = classes.getClass(component.createFromType);\r\n                     if (cl === undefined) {\r\n                         classes.loadClass(component.createFromType);//for later\r\n                         cl = Panel;\r\n                     }\r\n                     helper = new cl();\r\n                     var img = new Image();\r\n                     img.src = component.src;\r\n                     img.height = \"24\";\r\n                     img.width = \"24\";\r\n                     img.x = component.x;\r\n                     img.y = component.y;\r\n                     helper._position = img;\r\n                     component._helper = helper;\r\n                     if (component.createFromParam !== undefined) {\r\n                         $.extend(helper, component.createFromParam);\r\n                     }\r\n                     document.getElementById(\"jassitemp\").removeChild(helper.domWrapper);\r\n                     document.getElementById(\"jassitemp\").removeChild(helper._position.domWrapper);\r\n                 }\r\n                 return helper._position.dom;\r\n             }\r\n         });*/\r\n    }\r\n    destroy() {\r\n\r\n        for (var x = 0; x < this._components.length; x++) {\r\n            var comp = this._components[x];\r\n            if ((<any>comp).native !== true) {\r\n                $(comp.dom).draggable({});\r\n                $(comp.dom).draggable(\"destroy\");\r\n                if (comp[\"_helper\"] !== undefined)\r\n                    comp[\"_helper\"].destroy();\r\n            }\r\n        }\r\n        super.destroy();\r\n    }\r\n}\r\nexport function test() {\r\n    var comp = new ComponentPalette();\r\n    comp.service = \"$UIComponent\";\r\n    return comp;\r\n}","import { $Class } from \"jassijs/remote/Registry\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\nimport {Table} from \"jassijs/ui/Table\";\r\nimport {HTMLPanel} from \"jassijs/ui/HTMLPanel\";\r\nimport {Repeater} from \"jassijs/ui/Repeater\";\r\nimport {Button} from \"jassijs/ui/Button\";\r\nimport {BoxPanel} from \"jassijs/ui/BoxPanel\";\r\nimport {Select} from \"jassijs/ui/Select\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\n\r\nclass Me {\r\n    IDText? : ErrorPanel;\r\n    boxpanel1? : BoxPanel;\r\n    IDUpdate? : Button;\r\n    IDClear ?: Button;\r\n    IDTable?:Table;\r\n}\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs_editor.ui.ComponentSpy\")\r\nexport class ComponentSpy extends Panel {\r\n    ids;\r\n    labelids;\r\n    me:Me;\r\n    hook=undefined;\r\n    constructor() {\r\n        super();\r\n        var _this=this;\r\n        this.hook=Component.onComponentCreated((name,comp)=>{\r\n            if(name===\"create\"){\r\n                _this.watch(comp);\r\n            }\r\n            if(name===\"precreate\"||name===\"destroy\"){\r\n                _this.unwatch(comp);\r\n            }\r\n        });\r\n        this.ids = {};\r\n        this.labelids = {};\r\n        this.layout();\r\n    }\r\n\r\n    @$Action ({\r\n        name: \"Administration\",\r\n        icon: \"mdi mdi-account-cog-outline\",\r\n    })\r\n    static async dummy() {\r\n        \r\n    }\r\n    \r\n\r\n    @$Action ({\r\n        name: \"Administration/Spy Components\",\r\n        icon: \"mdi mdi-police-badge\",\r\n    })\r\n    static async showDialog() {\r\n        router.navigate(\"#do=jassijs.ui.ComponentSpy\");\r\n    }\r\n    layout() {\r\n        var me:Me = this.me = {};\r\n\r\n        me.IDText = new  ErrorPanel();//HTMLPanel();\r\n        this.style={overflow: \"scroll\"};\r\n        var _this = this;\r\n        me.boxpanel1 = new BoxPanel();\r\n        me.IDUpdate = new Button();\r\n        me.IDClear = new Button();\r\n        me.IDTable = new Table();\r\n        this.add(me.boxpanel1);\r\n        this.add(me.IDTable);\r\n        this.add(me.IDText);\r\n        me.boxpanel1.add(me.IDUpdate);\r\n        me.boxpanel1.add(me.IDClear);\r\n        me.boxpanel1.horizontal = false;\r\n        me.IDClear.text = \"clear\";\r\n        me.IDUpdate.text = \"update\";\r\n        me.IDUpdate.onclick(function (event) {\r\n            _this.update();\r\n        });\r\n        me.IDClear.onclick(function (event) {\r\n            _this.clear();\r\n        });\r\n        me.IDText.height=100;\r\n        me.IDUpdate.text = \"Update\";\r\n        me.IDTable.width = \"100%\";\r\n        me.IDTable.height = \"400\";\r\n       \r\n        me.IDTable.onchange(function (ob) {\r\n            me.IDText.addError({error:ob.data});//.stack.replaceAll(\"\\n\", \"<br>\");\r\n        });\r\n       \r\n    }\r\n    update() {\r\n        \r\n        var data = [];\r\n        for (var k in jassijs.componentSpy.ids) {\r\n            data.push(jassijs.componentSpy.ids[k]);\r\n        }\r\n        try{\r\n             this.me.IDTable.items = data;\r\n        }catch{\r\n            setTimeout(()=>this.me.IDTable.items = data,100);\r\n        }\r\n    }\r\n    clear() {\r\n        jassijs.componentSpy.ids = {};\r\n        jassijs.componentSpy.labelids = {};\r\n        this.update();\r\n    }\r\n\r\n    watch(component) {\r\n    \r\n    \t\t\r\n            var ob = {\r\n                type: classes.getClassName(component),\r\n                id: component._id,\r\n                labelid: component.domWrapper === undefined ? 0 : component.domWrapper._id,\r\n                stack: new Error().stack\r\n            }\r\n            this.ids[ob.id] = ob\r\n            this.labelids[ob.labelid] = ob;\r\n        \r\n    }\r\n    stack(id) {\r\n        var test = this.ids[id];\r\n        if (test === undefined)\r\n            test = this.labelids[id];\r\n        if (test !== undefined)\r\n            return test.stack;\r\n        else\r\n            return \"empty\";\r\n    }\r\n    unwatch(component) {\r\n        var ob = this.ids[component._id];\r\n        if (ob !== undefined) {\r\n            delete this.ids[ob.id];\r\n            delete this.labelids[ob.labelid];\r\n        }\r\n    }\r\n    list() {\r\n        var test = [\"jj\", \"kkk\"];\r\n        return test;\r\n    }\r\n    destroy() {\r\n        super.destroy();\r\n        Component.offComponentCreated(this.hook);\r\n        this.hook=undefined;\r\n    }\r\n}\r\nexport function test() {\r\n    var sp=new ComponentSpy();\r\n    sp.update();\r\n    sp.height=100;\r\n    return sp;\r\n}\r\njassijs.componentSpy = new ComponentSpy();\r\n","import { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport { Button } from \"jassijs/ui/Button\";\nimport { Select } from \"jassijs/ui/Select\";\nimport { Table } from \"jassijs/ui/Table\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { Panel } from \"jassijs/ui/Panel\";\n\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\nimport { router } from \"jassijs/base/Router\";\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\nimport windows from \"jassijs/base/Windows\";\nimport { DatabaseClass, DatabaseField, DatabaseSchema } from \"jassijs_editor/util/DatabaseSchema\";\nimport { StateDatabinder } from \"jassijs/ui/StateBinder\";\ntype Me = {\n    table?: Table;\n    select?: Select;\n    databinder?: StateDatabinder;\n    newclass?: Button;\n    boxpanel1?: BoxPanel;\n    save?: Button;\n    boxpanel2?: BoxPanel;\n    newfield?: Button;\n    removefield?: Button;\n    boxpanel3?: BoxPanel;\n};\n\n@$ActionProvider(\"jassijs.base.ActionNode\")\n@$Class(\"jassijs_editor/DatabaseDesigner\")\nexport class DatabaseDesigner extends Panel {\n    me: Me;\n    currentSchema: DatabaseSchema;\n    currentClass: DatabaseClass;\n    allTypes = { values: [\"\"] };\n    posibleRelations = { values: [\"\"] };\n    constructor(readShema = true) {\n        super();\n        this.me = {};\n        this.layout(this.me, readShema);\n    }\n    @$Action({\n        name: \"Administration/Database Designer\",\n        icon: \"mdi mdi-database-edit\",\n    })\n    static async showDialog() {\n        router.navigate(\"#do=jassijs_editor/DatabaseDesigner\");\n    }\n\n    layout(me: Me, readShema = true) {\n        me.newclass = new Button();\n        me.boxpanel1 = new BoxPanel();\n        me.save = new Button();\n        me.boxpanel2 = new BoxPanel({horizontal :false});\n        me.newfield = new Button();\n        me.removefield = new Button();\n        me.boxpanel3 = new BoxPanel();\n        me.boxpanel1.horizontal = true;\n        var _this = this;\n        var xxx = 0;\n        var params = { values: [\"hall\", \"du\"] };\n        me.table = new Table(\n            {\n                options: {\n                    autoColumns: false,\n                    columns: [\n                        //@ts-ignore\n                        { title: \"name\", field: \"name\", editor: \"input\", editable: true },\n                        //@ts-ignore\n                        { title: \"type\", field: \"type\", editor: \"select\", editorParams: this.allTypes },\n                        //@ts-ignore\n                        { title: \"nullable\", field: \"nullable\", editor: \"tickCross\", editorParams: { tristate: false } },\n\n                        {\n                            //@ts-ignore\n                            title: \"relationinfo\", field: \"relationinfo\", editor: \"select\",\n                            editorParams: this.posibleRelations,\n                            cellEditing: function (cell) {\n                                _this.updatePossibleRelations(cell);\n                            }\n                        }\n                    ]\n                }\n            });\n        me.select = new Select();\n        me.databinder = new Databinder();\n        this.add(me.databinder);\n        me.table.width = 565;\n        me.table.height = \"300\";\n        me.table.onchange(function (event?: JQueryEventObject, data?: any/*Tabulator.RowComponent*/) {\n        });\n        me.select.display = \"name\";\n        me.select.selectComponent = me.databinder;\n        me.select.onchange(function (event) {\n            _this.update();\n        });\n        me.select.width = 210;\n        if (readShema) {\n            this.readSchema();\n        }\n        this.width = 719;\n        this.height = 386;\n        this.add(me.boxpanel1);\n        this.add(me.boxpanel2);\n        me.newclass.text = \"Create DBClass\";\n        me.newclass.onclick(function (event) {\n            _this.addClass();\n        });\n        me.newclass.icon = \"mdi mdi-note-plus-outline\";\n        me.newclass.tooltip = \"new DBClass\";\n        me.newclass.width = \"150\";\n        me.boxpanel1.add(me.select);\n        me.boxpanel1.width = 365;\n        me.boxpanel1.height = 25;\n        me.boxpanel1.add(me.newclass);\n        me.boxpanel1.add(me.save);\n        me.save.text = \"Save all Classes\";\n        me.save.onclick(function (event) {\n            _this.saveAll().then((s) => {\n                if (s !== \"\") {\n                    alert(s);\n                }\n            })\n        });\n        me.save.width = 150;\n        me.save.icon = \"mdi mdi-content-save\";\n        me.save.width = 180;\n        me.boxpanel2.height = 115;\n        me.boxpanel2.horizontal = true;\n        me.boxpanel2.width = 55;\n        me.newfield.text = \"Create Field\";\n        me.newfield.icon = \"mdi mdi-playlist-plus\";\n        me.newfield.onclick(function (event) {\n            _this.addField();\n        });\n        me.newfield.width = \"120\";\n        me.newfield.height = 25;\n        me.newfield.style = {\n            textAlign: \"left\"\n        };\n        me.boxpanel2.add(me.table);\n        me.boxpanel2.add(me.boxpanel3);\n        me.removefield.text = \"Remove Field\";\n        me.removefield.icon = \"mdi mdi-playlist-minus\";\n        me.removefield.width = \"120\";\n        me.removefield.style = {\n            textAlign: \"left\"\n        };\n        me.removefield.onclick(function (event) {\n            var field = me.table.value;\n            if (field) {\n                var pos = _this.currentClass.fields.indexOf(field);\n                _this.currentClass.fields.splice(pos, 1);\n                me.table.items = _this.currentClass.fields;\n                me.table.value = undefined;\n            }\n        });\n        me.boxpanel3.add(me.newfield);\n        me.boxpanel3.add(me.removefield);\n    }\n\n    async saveAll(showChanges = undefined): Promise<string> {\n        try {\n            var text = await this.currentSchema.updateSchema(true);\n            if (text !== \"\") {\n                if (showChanges === false || (await OptionDialog.show(\"Do you won't this changes?<br/>\" + text.replaceAll(\"\\n\", \"<br/>\"), [\"Yes\", \"Cancel\"])).button === \"Yes\") {\n                    await this.currentSchema.updateSchema(false);\n                    //@ts-ignore\n                    windows.findComponent(\"Files\")?.refresh();\n                }\n            }\n            else {\n                return \"no changes detected\";\n            }\n        }\n        catch (err) {\n\n            return err.message + \"\\r\\n\" + err.stack;\n        }\n        return \"\";\n    }\n\n    addField(typename: string = undefined, name: string = undefined, nullable: boolean = undefined, relation: string = undefined) {\n        var field = new DatabaseField();\n        //@ts-ignore\n        field.parent = this.currentClass;\n        if (name)\n            field.name = name;\n        if (nullable)\n            field.nullable = nullable;\n        if (typename)\n            field.type = typename;\n        if (relation)\n            field.relation = relation;\n        this.currentClass.fields.push(field);\n        this.me.table.items = this.currentClass.fields;\n    }\n\n    async addClass(classname: string = undefined) {\n        var sub = this.currentClass.name.substring(0, this.currentClass.name.lastIndexOf(\".\"));\n        var res;\n        if (classname) {\n            res = {\n                button: \"OK\",\n                text: classname\n            }\n        } else\n            res = await OptionDialog.show(\"Enter classname\", [\"OK\", \"Cancel\"], undefined, true, sub + \".MyOb\");\n        if (res.button === \"OK\") {\n            this.currentClass = new DatabaseClass();\n            this.currentClass.name = res.text;\n            this.currentClass.parent = this.currentSchema;\n            var f = new DatabaseField();\n            f.name = \"id\";\n            f.type = \"int\";\n            f.relation = \"PrimaryColumn\";\n            this.currentClass.fields = [f];\n            this.currentSchema.databaseClasses.push(this.currentClass);\n            this.me.select.items = this.currentSchema.databaseClasses;\n            this.me.select.value = this.currentClass;\n            this.update();\n        }\n    }\n\n    updatePossibleRelations(cell: any /*Tabulator.CellComponent*/) {\n        var _this = this;\n        var tp: DatabaseField = <DatabaseField>cell.getData();\n        this.posibleRelations.values = tp.getPossibleRelations();\n    }\n    updateTypes() {\n        var _this = this;\n        this.allTypes.values = [];\n        DatabaseSchema.basicdatatypes.forEach((e) => {\n            _this.allTypes.values.push(e);\n        });\n        this.currentSchema.databaseClasses.forEach((cl) => {\n            _this.allTypes.values.push(cl.name);\n            _this.allTypes.values.push(cl.name + \"[]\");\n        });\n    }\n    update() {\n        this.currentClass = this.me.select.value;\n        this.me.table.items = this.currentClass.fields;\n        this.updateTypes();\n    }\n    async readSchema() {\n        this.currentSchema = new DatabaseSchema();\n        await this.currentSchema.loadSchemaFromCode();\n        this.me.select.items = this.currentSchema.databaseClasses;\n        this.me.select.value = this.currentSchema.databaseClasses[0];\n        this.update();\n    }\n}\n\nexport async function test() {\n    var ret = new DatabaseDesigner();\n\n    return ret;\n}\n","import { $Class } from \"jassijs/remote/Registry\";\n\n//https://developer.chrome.com/extensions/messaging\n@$Class(\"jassijs_editor.Debugger\")\nexport class Debugger\n{\n        destroyed:boolean;\n        debugpoints;\n        /**\n         * routing of url\n         * @class jassijs.base.Debugger\n         */\n\t\tconstructor(){\n   \n\t\t}\n\t\t/**\n\t\t * @param {string} file - the file to save\n\t\t * @param {string} code - the code to Transform\n\t\t * @param [number] debuglines - lines which updates the variables\n\t\t * @param {Object.<int,string>}  debuglinesConditions - is the breakpoint in line conitionally [line]->condition\n\t\t **/\n\t\tasync debugCode(file,code,debuglines,debuglinesConditions,evalToCursorPosition){\n        }\n        /**\n         * remove all breakpoints for the file\n         * @param file \n         */\n        async removeBreakpointsForFile(file:string){\n        }\n\t\t /**\n         * extract all variables in code\n         * @param {string} code - the code to inspect\n         */\n        _extractVariables(code){\n            var pos=0;\n            var ret=[];\n            while(pos!==-1){\n                pos=code.indexOf(\"var\"+\" \",pos);\n                if(pos!==-1){\n                    var p1=code.indexOf(\" \",pos+4);\n                    var p2=code.indexOf(\";\",pos+4);\n                    var p3=code.indexOf(\"=\",pos+4);\n                    var p=Math.min(p1===-1?999999999:p1,p2===-1?999999999:p2,p3===-1?999999999:p3);\n                    var variabel=code.substring(pos+4,p);\n                    var patt = new RegExp(\"\\\\W\");\n                    if(!patt.test(variabel))\n                        ret.push(variabel);\n                     pos=pos+1;\n                }\n               \n            }\n            return ret;\n        }\n        /**\n         * sets a breakpoint for debugging\n         * @param {string} file\n         * @param {number} line\n         * @param {number} enable - if true then breakpoint is set if false then removed\n         * @param {string} type - the type default undefined->stop debugging \n         **/\n        breakpointChanged(file,line,column,enable,type){\n            if(navigator.userAgent.indexOf(\"Chrome\")>-1){\n                (import(\"jassijs_editor/ChromeDebugger\")).then((deb)=>{\n                    deb.ChromeDebugger.showHintExtensionNotInstalled();\n\n                });\n            }\n        //\tconsole.log(\"break on\"+file);\n        }\n        /**\n         * report current variable scope\n         * @param {numer} id - id of the variablepanel\n         * @param {[Object.<string,object>]} variables \n         */\n    \treportVariables(id,variables){\n    \t\tvar editor=document.getElementById(id)._this;\n    \t\talert(editor);\n    \t    \t\n    \t\n    \t\teditor[\"addVariables\"](variables);\n    \t}\n    \t /**\n         * add debugpoints in code\n         * @param {[string]} lines - code\n         * @param {Object.<number, boolean>} debugpoints - the debugpoints\n         * @param {jassijs_editor.CodeEditor} codeEditor\n         */\n        addDebugpoints(lines,debugpoints,codeEditor){\n        \tjassijs.d[codeEditor._id]=undefined;\n//        \tjassijs.ui.VariablePanel.get(this._id).__db=undefined;\n        \tvar hassome=undefined;\n        \tthis.debugpoints=debugpoints;\n        \tfor(var point in debugpoints){\n        \t\tif(debugpoints[point]===true){\n        \t\t\t//lines[point]=\"if(jassijs.ui.VariablePanel.get(\"+this._id+\").__db===undefined){ jassijs.ui.VariablePanel.get(\"+this._id+\").__db=true;debugger;}\"+lines[point];\n        \t\t\tlines[point]=\"if(jassijs.d(\"+codeEditor._id+\")) debugger;\"+lines[point];\n \n        \t\t}\n        \t}\n        }\n\t\t/**\n         * \n         * @param {string} code - full source code\n         * @param {jassijs_editor.CodeEditor} codeEditor\n         * @returns {string}\n         */\n        getCodeForBreakpoint(code,codeEditor){\n        /*\tvar reg = /([\\w]*)[\\(][^\\)]*[\\)]/g;\n        \tvar test=reg.exec(code);\n        \ttest=reg.exec();\n        \talert(test);*/\n        \t\n            var vars=this._extractVariables(code);\n            var reg=/[A-Z,a-z,0-9,\\_]*[/w]*[\\(][A-Z,a-z,0-9,\\_,\\,]*\\)\\{/g;\n            var test=reg.exec(code);\n            while(test){\n                \n                \n                if(!test[0].startsWith(\"while\")&&!test[0].startsWith(\"if\")){\n                    var params=test[0].substring(test[0].indexOf(\"(\")+1,test[0].indexOf(\")\"));\n                    if(params.length>0){\n                        var ps=params.split(\",\");\n                        for(var p=0;p<ps.length;p++){\n                            if(vars.indexOf(ps[p])===-1)\n                                vars.push(ps[p]);\n                        }\n                    }\n                }\n                test=reg.exec(code);\n            }\n            var svars=\"{var debug_editor=document.getElementById(\"+codeEditor._id+\")._this;var _variables_={} ;try{if(this!==jassi)_variables_['this']=this;}catch(ex){};\";\n            //svars=svars+\"try{_variables_.addParameters(arguments);}catch(ex){};\";\n            for(var x=0;x<vars.length;x++){\n        //        alert(vars[x]);\n                svars=svars+\"try{_variables_['\"+vars[x]+\"']=\"+vars[x]+\";}catch(ex){};\";\n            }\n            svars=svars+\"debug_editor.addVariables(_variables_);}\";\n            return svars;\n        }\n         destroy(){\n\t\t\tthis.destroyed=true;\n        }\n}\n\t   \n\t   if(jassijs.debugger===undefined)\n           jassijs.debugger=new Debugger();\n           //@ts-ignore\n        require([\"jassijs_editor/ChromeDebugger\"]);\n\n\n\n   ","\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { errors, Errors } from \"jassijs/base/Errors\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\n\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport { notify } from \"jassijs/ui/Notify\";\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport { config } from \"jassijs/remote/Config\";\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs_editor.ui.ErrorPanel\")\r\nexport class ErrorPanel extends Panel {\r\n    IDClear: Button;\r\n    _container;\r\n    IDToolbar: Panel;\r\n    IDSearch: Button;\r\n    withControls: boolean;\r\n    withLastErrors: boolean;\r\n    withNewErrors: boolean;\r\n    /**\r\n * shows errors \r\n * @class jassijs.ui.ErrorPanel\r\n */\r\n    constructor(withControls = true, withLastErrors = true, withNewErrors = true) {\r\n        super();\r\n        this.withControls = withControls;\r\n        this.withLastErrors = withLastErrors;\r\n        this.withNewErrors = withNewErrors;\r\n        this.layout();\r\n    }\r\n    @$Action({\r\n        name: \"Administration/Errors\",\r\n        icon: \"mdi mdi-emoticon-confused-outline\",\r\n    })\r\n    static async showDialog() {\r\n        router.navigate(\"#do=jassijs.ui.ErrorPanel\");\r\n    }\r\n    layout() {\r\n        var _this = this;\r\n        if (this.withControls) {\r\n            this.IDClear = new Button();\r\n            this.IDClear.tooltip = \"Clear log\";\r\n            this.IDClear.icon = \"mdi mdi-delete\";\r\n            this.IDClear.onclick(function () {\r\n                _this.clear();\r\n                errors.items = [];\r\n            });\r\n            this.IDClear.width = 35;\r\n            this.IDSearch = new Button();\r\n            this.IDSearch.tooltip = \"search errors\";\r\n            this.IDSearch.icon = \"mdi mdi-file-search-outline\";\r\n            this.IDSearch.onclick(function () {\r\n                _this.search();\r\n\r\n            });\r\n            this.IDToolbar = new Panel();\r\n            this.IDToolbar.width = \"99%\";\r\n\r\n            this.IDToolbar.add(this.IDClear);\r\n            this.IDToolbar.add(this.IDSearch);\r\n            this.IDToolbar.height = 20;\r\n            super.add(this.IDToolbar);\r\n        }\r\n        var value = Component.createHTMLElement('<div><font  size=\"2\"><div class=\"errorpanel\"></div></font></div>');\r\n        this.dom.appendChild(value);\r\n        this._container = this.dom.querySelector(\".errorpanel\");\r\n        if (this.withNewErrors)\r\n            this.registerError();\r\n        if (this.withLastErrors) {\r\n            //old Errors\r\n            for (var x = 0; x < errors.items.length; x++) {\r\n                this.addError(errors.items[x]);\r\n            }\r\n        }\r\n        if (window[\"jassijs_debug\"] === undefined)\r\n            window[\"jassijs_debug\"] = { variables: [] };\r\n\r\n    }\r\n    /**\r\n     * search Errors in code\r\n     **/\r\n    async search() {\r\n        var typescript = (await import(\"jassijs_editor/util/Typescript\")).mytypescript;\r\n        await typescript.initService();\r\n       \r\n        var all = await typescript.getDiagnosticsForAll();\r\n        \r\n        if (all.length === 0)\r\n            notify(\"no Errors found\", \"info\", { position: \"right\" });\r\n        for (var x = 0; x < all.length; x++) {\r\n            var diag = all[x];\r\n            var s = diag.file.fileName;\r\n            var pos = typescript.getLineAndCharacterOfPosition(diag.file.fileName, diag.start);\r\n            var href = window.location.origin;\r\n            var err = {\r\n                filename: diag.file.fileName,\r\n                lineno: pos.line,\r\n                colno: pos.character,\r\n                error: {\r\n\r\n                    message: diag.messageText,\r\n                    stack: \"\"//href + \"/\" + diag.file.fileName + \":\" + pos.line + \":\" + pos.character\r\n\r\n                }\r\n\r\n\r\n            }\r\n            Errors.errors.addError(err);\r\n        }\r\n\r\n    }\r\n    /**\r\n     * adds a new error\r\n     * @param {object} error - the error\r\n     */\r\n    async addError(error) {\r\n        var msg = \"\";\r\n        if (error.infoMsg !== undefined) {\r\n            msg = error.infoMsg + \"<br>\";\r\n        } else {\r\n            var sstack = \"\";\r\n            var m = error.error?.message;\r\n            if (!m)\r\n                m = \"\";\r\n            if (m.messageText)\r\n                m = m.messageText;\r\n            if (error.error) {\r\n                sstack = m.replaceAll(\":\", \"\") + \"(\" + error.filename + \":\" + error.lineno + \":\" + error.colno + \")\\n\";\r\n                if (error.error.stack !== undefined)\r\n                    sstack = sstack + error.error.stack;\r\n            }\r\n            if (error.reason !== undefined) {\r\n                sstack = error.reason.message + \":::\\n\";\r\n                if (error.reason.stack !== undefined)\r\n                    sstack = sstack + error.reason.stack;\r\n            }\r\n            var stack = sstack.split('\\n');\r\n            msg = \"\";\r\n            for (var i = 0; i < stack.length; i++) {\r\n                var line = stack[i];\r\n                if (line.indexOf(\".ts:\") > 0) {\r\n                    msg = msg + '<div>' + line.substring(0, line.lastIndexOf(\"(\")) +\r\n                        '<a href=\"#\" onclick=\"jassijs.ErrorPanel.prototype.onsrclink(this);\">' +\r\n                        line.substr(line.lastIndexOf(\"(\") + 1, line.length - 1) + '</a>)' + \"\" + '</div>';\r\n\r\n                } else {\r\n                    if (line.split(\":\").length < 4)\r\n                        continue;//edge and chrome insert message in stack->ignore\r\n                    var poshttp = line.indexOf(\"http\");\r\n                    var url: string = await this._convertURL(line.substring(poshttp, line.length));\r\n                    line = line.replace(\"\\n\", \"\");\r\n                    var ident = (i === 0 ? \"0\" : \"20\");\r\n                    msg = msg + '<div style=\"text-indent:' + ident + 'px;\">' + line.substring(0, poshttp) +\r\n                        '<a href=\"#\" onclick=\"jassijs.ErrorPanel.prototype.onsrclink(this);\">' +\r\n                        url + '</a>' + (line.endsWith(\")\") ? \")\" : \"\") + '</div>';\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n        var value = Component.createHTMLElement('<span>' + msg + '</span>');\r\n        this._container.prepend(value);\r\n        //  this.dom.appendChild(value);\r\n    }\r\n    async _convertURL(url: string) {\r\n        var wurl = window.location.href.split(\"/index.html\")[0];\r\n        if (url.endsWith(\")\"))\r\n            url = url.substring(0, url.length - 1);\r\n        var wurl = url.substring(0, url.indexOf(\"#\"));\r\n\r\n\r\n        var aurl = url.split(\":\");\r\n        if (aurl.length >= 3) {\r\n            var line = aurl[aurl.length - 2];\r\n            var col = aurl[aurl.length - 1];\r\n            var u = url.substring(0, url.length - 2 - line.length - col.length);\r\n            if (line === \"\" || col === \"\" || u === \"\")\r\n                return url;\r\n            var ismodul = false;\r\n            for (var mod in config.modules) {\r\n                if (config.modules[mod] === u)\r\n                    ismodul = true;\r\n            }\r\n            if (u.indexOf(\"/js/\") > -1 || ismodul) {\r\n                try {\r\n                    //@ts-ignore\r\n                    var TSSourceMap = (await import(\"jassijs_editor/util/TSSourceMap\")).TSSourceMap;\r\n                var map=new TSSourceMap();\r\n                    var pos = await map.getLineFromJS(u, Number(line), Number(col));\r\n                    if (pos) {\r\n                        return pos.source.replace(\"../client/\", \"\").replaceAll(\"../\", \"\").replace(\"$temp\", \"\") +\r\n                            \":\" + pos.line + \":\" + pos.column;\r\n                    }\r\n                } catch (err) {\r\n                    return url;\r\n                }\r\n            }\r\n\r\n        }\r\n        /* if (!url.startsWith(\"/\"))\r\n             url = \"/\" + url;\r\n         if (url.startsWith(\"/js\") && url.indexOf(\".js\") > -1) {\r\n             var aurl = url.substring(1).split(\":\");\r\n             var newline = await new TSSourceMap().getLineFromJS(aurl[0], Number(aurl[1]), Number(aurl[2]));\r\n             url = aurl[0].substring(3).replace(\".js\", \".ts\") + \":\" + newline + \":\" + aurl[2];\r\n             if (url.startsWith(\"tmp/\"))\r\n                 url = url.substring(4);\r\n         }*/\r\n        return url;\r\n    }\r\n    /**\r\n     * deletes all errors\r\n     */\r\n    clear() {\r\n        while (this._container.firstChild) {\r\n            this._container.removeChild(this._container.firstChild);\r\n        }\r\n    }\r\n    registerError() {\r\n        var _this = this;\r\n        errors.onerror(function (err) {\r\n            _this.addError(err);\r\n\r\n        }, this._id);\r\n    }\r\n    unregisterError() {\r\n        errors.offerror(this._id);\r\n    }\r\n    destroy() {\r\n        this.unregisterError();\r\n        super.destroy();\r\n        //this._container\r\n    }\r\n\r\n    /*  set value(value){ //the Code\r\n          //this.table.value=value;\r\n      }\r\n      get value(){\r\n          //return this.table.value;\r\n      }*/\r\n}\r\nexport function test2() {\r\n    var ret = new ErrorPanel();\r\n    return ret;\r\n};\r\n\r\n\r\n\r\nErrorPanel.prototype[\"onsrclink\"] = function (param) {\r\n    var data = param.text.split(\":\");\r\n    if (data[1] === \"\")\r\n        return;\r\n    router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + data[0] + \"&line=\" + data[1]);\r\n    // jassijs_editor.CodeEditor.open(param.text);\r\n}\r\njassijs.ErrorPanel = ErrorPanel;\r\n","/// <amd-dependency path=\"vs/editor/editor.main\" name=\"_monaco\"/>\r\n\r\n/*\r\n/// <amd-dependency path=\"vs/editor/editor.main\" name=\"_monaco\"/>\r\n/// <amd-dependency path=\"vs/language/typescript/tsWorker\" name=\"tsWorker\"/>\r\n*/\r\ndeclare var _monaco;\r\ndeclare var tsWorker;\r\ndeclare var require;\r\n\r\nexport { };\r\n\r\n\r\n","\r\nimport modul from \"jassijs_editor/modul\";\r\n//hack to make autocompletion for autoimports from other modules\r\n//let monacopath=\"https://cdn.jsdelivr.net/npm/monaco-editor@0.21.2/dev\";\r\nlet monacopath = modul.require.paths.vs.replace(\"/vs\", \"\");\r\nexport { };\r\nconst channel = new MessageChannel();\r\n\r\n\r\nasync function downloadFile(file: string) {\r\n    return await new Promise((resolve, reject) => {\r\n        var xmlHttp = new XMLHttpRequest();\r\n        xmlHttp.open('GET', file.replace(\"./client\", \"\"), true);\r\n\r\n        xmlHttp.onreadystatechange = function () {\r\n            if (xmlHttp.readyState == 4) {\r\n                if (xmlHttp.status === 200)\r\n                    resolve(xmlHttp.responseText);\r\n                else\r\n                    resolve(undefined);\r\n            };\r\n        };\r\n        xmlHttp.onerror = (err) => {\r\n            resolve(undefined);\r\n        }\r\n        xmlHttp.send(null);\r\n\r\n    })\r\n};\r\n\r\nasync function test(){\r\n\r\n    var s=<string>await downloadFile(monacopath+\"/vs/language/typescript/tsWorker.js?1\");\r\n    /*async getCompletionsAtPosition(fileName, position) {\r\n        if (fileNameIsLib(fileName)) {\r\n          return void 0;\r\n        }\r\n        return this._languageService.getCompletionsAtPosition(fileName, position, void 0);\r\n      }*/\r\n    s=s.replace(\"async getCompletionsAtPosition(fileName, position)\",\"async getCompletionsAtPosition(fileName, position,settings)\");\r\n    s=s.replace(\"this._languageService.getCompletionsAtPosition(fileName, position, void 0);\",\"this._languageService.getCompletionsAtPosition(fileName, position, settings);\");\r\n    s=s.replace(\"var factory2 =\",\"var factory2 = globalThis.tsfactory =\")\r\n    navigator.serviceWorker.controller.postMessage({\r\n        type: 'SAVE_FILE',\r\n        filename:(monacopath+\"/vs/language/typescript/tsWorker.js\"),\r\n        code: s\r\n    }, [channel.port2]);\r\n }\r\ntest();","\r\n\r\n/// <amd-dependency path=\"vs/language/typescript/tsWorker\" name=\"tsWorker\"/>\r\n//// <amd-module name=\"jassijs_editor_ext_typescriptservices\"/>\r\nvar ts=window[\"ts\"];\r\nexport default ts;","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Tree } from \"jassijs/ui/Tree\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { Textbox } from \"jassijs/ui/Textbox\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { $ActionProvider, $Action, Actions } from \"jassijs/base/Actions\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { Menu } from \"jassijs/ui/Menu\";\r\nimport { MenuItem } from \"jassijs/ui/MenuItem\";\r\n\r\nimport { ContextMenu } from \"jassijs/ui/ContextMenu\";\r\nimport { CSSProperties } from \"jassijs/ui/CSSProperties\";\r\nimport windows from \"jassijs/base/Windows\";\r\nimport { config } from \"jassijs/remote/Config\";\r\n\r\nimport { Reloader } from \"jassijs/util/Reloader\";\r\n//drag from Desktop https://www.html5rocks.com/de/tutorials/file/dndfiles/\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs_editor.ui.FileActions\")\r\nexport class FileActions {\r\n\r\n    @$Action({\r\n        name: \"New/File\",\r\n        icon: \"mdi mdi-file\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[], fileName: string = undefined, code: string = \"\", open: boolean = false) {\r\n        if (all.length === 0 || !all[0].isDirectory())\r\n            return;\r\n        var path = all[0].fullpath;\r\n        if (fileName === undefined) {\r\n            var res = await OptionDialog.show(\"Enter file name:\", [\"ok\", \"cancel\"], undefined, true, \".ts\");\r\n            if (res.button === \"ok\" && res.text !== all[0].name) {\r\n                fileName = res.text;\r\n            } else\r\n                return;\r\n        }\r\n        //console.log(\"create \" + fileName);\r\n        var key = FileExplorer.instance?.tree?.getKeyFromItem(all[0]);\r\n        var newfile = path + (path===\"\"?\"\":\"/\") + fileName;\r\n\r\n        var ret = await new Server().createFile(newfile, code);\r\n        var newkey = path + (path===\"\"?\"\":\"|\")+ fileName;\r\n        if (ret !== \"\") {\r\n            alert(ret);\r\n            return;\r\n        }\r\n        try {\r\n            await FileExplorer.instance?.refresh();\r\n            await FileExplorer.instance?.tree.activateKey(newkey);\r\n            if (open)\r\n                router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + newkey.replaceAll(\"|\", \"/\"));\r\n        } catch (err) {\r\n            debugger;\r\n        }\r\n    }\r\n    @$Action({\r\n        name: \"Download\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async download(all: FileNode[]) {\r\n\r\n        var path = all[0].fullpath;\r\n        var byteCharacters = atob(<string>await new Server().zip(path));\r\n        const byteNumbers = new Array(byteCharacters.length);\r\n        for (let i = 0; i < byteCharacters.length; i++) {\r\n            byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n        }\r\n        const byteArray = new Uint8Array(byteNumbers);\r\n        // If you want to use the image in your DOM:\r\n        var blob = new Blob([byteArray], { type: \"application/zip\" });\r\n        var url = URL.createObjectURL(blob);\r\n        var link = document.createElement('a');\r\n        document.body.appendChild(link);\r\n        link.href = url;\r\n        link.click();\r\n        link.remove();\r\n    }\r\n\r\n    @$Action({\r\n        name: \"New/Folder\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFolder(all: FileNode[], filename: string = undefined) {\r\n        if (all.length === 0 || !all[0].isDirectory())\r\n            return;\r\n        var path = all[0].fullpath;\r\n\r\n        var res;\r\n        if (filename) {\r\n            res = { button: \"ok\", text: filename };\r\n        } else\r\n            res = await OptionDialog.show(\"Enter file name:\", [\"ok\", \"cancel\"], undefined, true, \"\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n           // console.log(\"create Folder\" + res.text);\r\n            var key = FileExplorer.instance?.tree.getKeyFromItem(all[0]);\r\n            var newfile = path + (path===\"\"?\"\":\"/\") + res.text;\r\n            var ret = await new Server().createFolder(newfile);\r\n            var newkey = path + (path===\"\"?\"\":\"|\") + res.text;\r\n            if (ret !== \"\") {\r\n                alert(ret);\r\n                return;\r\n            }\r\n            await FileExplorer.instance?.refresh();\r\n            FileExplorer.instance?.tree.activateKey(newkey);\r\n        }\r\n\r\n    }\r\n    @$Action({\r\n        name: \"New/Module\",\r\n        isEnabled: function (all: FileNode[]): boolean {\r\n            return all[0].name === \"client\" && all[0].fullpath === \"\";\r\n        }\r\n    })\r\n    static async newModule(all: FileNode[]) {\r\n        if (all.length === 0 || !all[0].isDirectory())\r\n            return;\r\n        var path = all[0].fullpath;\r\n\r\n        var res = await OptionDialog.show(\"Enter file name:\", [\"ok\", \"cancel\"], undefined, true, \"\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n            var smodule = res.text.toLocaleLowerCase();\r\n            if (config.modules[smodule]) {\r\n                alert(\"modul allready exists\");\r\n                return;\r\n            }\r\n            var key = FileExplorer.instance.tree.getKeyFromItem(all[0]);\r\n\r\n            var ret = await new Server().createModule(smodule);\r\n            var newkey = path + (path===\"\"?\"\":\"|\") + smodule;\r\n            if (ret !== \"\") {\r\n                alert(ret);\r\n                return;\r\n            } else {\r\n                config.modules[smodule] = smodule;\r\n            }\r\n            await FileExplorer.instance.refresh();\r\n            FileExplorer.instance.tree.activateKey(newkey);\r\n        }\r\n\r\n    }\r\n    @$Action({ name: \"Delete\" })\r\n    static async dodelete(all: FileNode[], withwarning = true) {\r\n        var s = \"\";\r\n        all.forEach((node) => {\r\n            s = s + \"\" + node.fullpath + \"<br/>\";\r\n        })\r\n        var res;\r\n        if (withwarning) {\r\n            res = await OptionDialog.show(\"Delete this?<br/>\" + s, [\"ok\", \"cancel\"], undefined, true);\r\n        }\r\n        if (!withwarning || (res.button === \"ok\" && res.text !== all[0].name)) {\r\n            var ret = await new Server().delete(all[0].fullpath);\r\n            if (ret !== \"\") {\r\n                alert(ret);\r\n                return;\r\n            }\r\n            var key = FileExplorer.instance?.tree.getKeyFromItem(all[0].parent);\r\n            await FileExplorer.instance?.refresh();\r\n            FileExplorer.instance?.tree.activateKey(key);\r\n        }\r\n    }\r\n    private static async  reloadFilesystem(enableLocalFS) {\r\n        await new Promise((resolve)=>{\r\n            config.serverrequire([\"jassijs/server/NativeAdapter\",\"jassijs/server/LocalFS\",\"jassijs/server/FS\"],(native,localFS,FS)=>{\r\n                if(enableLocalFS){\r\n                native.myfs=new localFS.LocalFS();\r\n                native.exists=localFS.exists;\r\n                }else{\r\n                    native.myfs=new FS.FS();\r\n                    native.exists=FS.exists;\r\n                        \r\n                }\r\n                    resolve(undefined);\r\n               \r\n            })\r\n    \r\n        });\r\n    } \r\n    @$Action({ name: \"Map local folder\",isEnabled:(entr)=>entr[0].name===\"client\"&&config.serverrequire!==undefined})\r\n    static async mapLocalFolder(all: FileNode[], foldername = undefined) {\r\n        await new Promise((resolve)=>{\r\n            config.serverrequire([\"jassijs/server/LocalFS\"],(localFS)=>{\r\n                localFS.createHandle().then((res)=>{\r\n                    resolve(undefined);\r\n                })\r\n            })\r\n    \r\n        });\r\n        config.isLocalFolderMapped=true;\r\n        await FileActions.reloadFilesystem(true);\r\n        await FileActions.refresh(all);\r\n    }\r\n    @$Action({ name: \"Close local folder\",isEnabled:(entr)=>entr[0].name===\"client\"&&config.isLocalFolderMapped})\r\n    static async closeLocalFolder(all: FileNode[], foldername = undefined) {\r\n        await new Promise((resolve)=>{\r\n            config.serverrequire([\"jassijs/server/LocalFS\"],(localFS)=>{\r\n                localFS.deleteHandle().then((res)=>{\r\n                    resolve(undefined);\r\n                })\r\n            })\r\n    \r\n        });\r\n        config.isLocalFolderMapped=true;\r\n        await FileActions.reloadFilesystem(false);\r\n        await FileActions.refresh(all);\r\n    }\r\n    @$Action({ name: \"Rename\" })\r\n    static async rename(all: FileNode[], foldername = undefined) {\r\n        if (all.length !== 1)\r\n            alert(\"only one file could be renamed\");\r\n        else {\r\n            var res;\r\n            if (foldername) {\r\n                res = { button: \"ok\", text: foldername };\r\n            } else\r\n                res = await OptionDialog.show(\"Enter new name:\", [\"ok\", \"cancel\"], undefined, true, all[0].name);\r\n            if (res.button === \"ok\" && res.text !== all[0].name) {\r\n                //console.log(\"rename \" + all[0].name + \" to \" + res.text);\r\n                var key = FileExplorer.instance?.tree.getKeyFromItem(all[0]);\r\n                var path = all[0].parent !== undefined ? all[0].parent.fullpath : \"\";\r\n                var newfile = path + (path===\"\"?\"\":\"/\") + res.text;\r\n                var ret = await new Server().rename(all[0].fullpath, newfile);\r\n                var newkey = key?.replace(all[0].name, res.text);\r\n                if (ret !== \"\") {\r\n                    alert(ret);\r\n                    return;\r\n                }\r\n                if (!all[0].isDirectory()){\r\n\r\n                    let tss = (await import(\"jassijs_editor/util/\"+\"Typescript\")).default;//modul jassijs could not comp\r\n                    await tss?.renameFile(all[0].fullpath, newfile);\r\n                }\r\n                await FileExplorer.instance?.refresh();\r\n                FileExplorer.instance?.tree.activateKey(newkey);\r\n            }\r\n        }\r\n    }\r\n    @$Action({ name: \"Refresh\" })\r\n    static async refresh(all: FileNode[]) {\r\n        var key = FileExplorer.instance.tree.getKeyFromItem(all[0]);\r\n        await FileExplorer.instance.refresh();\r\n        FileExplorer.instance.tree.activateKey(key);\r\n    }\r\n    @$Action({\r\n        name: \"Open\", isEnabled: function (all: FileNode[]): boolean {\r\n            return !all[0].isDirectory();\r\n        }\r\n    })\r\n    static async open(all: FileNode[]) {\r\n        var node: FileNode = all[0];\r\n        if (node.isDirectory())\r\n            return;\r\n        router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + node.fullpath);\r\n    }\r\n\r\n}\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs.ui.FileExplorer\")\r\nexport class FileExplorer extends Panel {\r\n    tree: Tree;\r\n    _files: any;\r\n    search: Textbox;\r\n    static instance: FileExplorer = undefined;\r\n    constructor() {\r\n        super();\r\n        FileExplorer.instance = this;\r\n        //this.maximize();\r\n        this.dom.style.width=\"calc(100% - 8px)\";\r\n        this.dom.style.height=\"calc(100% - 25px)\";//why 25????\r\n        this.tree = new Tree();\r\n        this.search = new Textbox();\r\n        this.layout();\r\n        this.tree.propStyle = node => { return this.getStyle(node) };\r\n    }\r\n    @$Action({\r\n        name: \"Windows/Development/Files\",\r\n        icon: \"mdi mdi-file-tree\",\r\n    })\r\n    static async show() {\r\n        if (windows.contains(\"Files\"))\r\n            var window = windows.show(\"Files\");\r\n        else\r\n            windows.addLeft(new FileExplorer(), \"Files\");\r\n    }\r\n    getStyle(node: FileNode): CSSProperties {\r\n        var ret: CSSProperties = undefined;\r\n        if (node.flag?.indexOf(\"fromMap\") > -1) {\r\n            ret = {\r\n                color: \"green\"\r\n            }\r\n        }\r\n        if (node.flag?.indexOf(\"module\") > -1) {\r\n            ret = {\r\n                color: \"blue\"\r\n            }\r\n        }\r\n\r\n        return ret;\r\n    }\r\n    async refresh() {\r\n        let root = (await new Server().dir());\r\n        root.fullpath = \"\";\r\n        root.name = \"client\";\r\n        //flag modules\r\n        for (let x = 0; x < root.files.length; x++) {\r\n\r\n            if (config.modules[root.files[x].name] !== undefined) {\r\n                root.files[x].flag = (root.files[x].flag?.length > 0) ? \"module\" : root.files[x].flag + \" module\";\r\n            }\r\n        }\r\n        var keys = this.tree.getExpandedKeys();\r\n        this.tree.items = [root];\r\n        if (keys.indexOf(\"client\") === -1)\r\n            keys.push(\"client\");\r\n        await this.tree.expandKeys(keys);\r\n\r\n    }\r\n    async layout() {\r\n        var _this = this;\r\n        this.tree.width = \"100%\"\r\n        this.tree.height = \"100%\";\r\n        super.add(this.search);\r\n        super.add(this.tree);\r\n        this.tree.propDisplay = \"name\";\r\n        this.tree.propChilds = \"files\";\r\n        let context = new ContextMenu();\r\n        this.tree.contextMenu = context;\r\n        context.includeClassActions = true;\r\n        this.refresh();\r\n        this.add(this.tree);\r\n        // this._files.files;\r\n        this.tree.onclick(function (evt) {\r\n\r\n            if (evt.data !== undefined) {\r\n                FileActions.open([evt.data]);\r\n\r\n            }\r\n        });\r\n        //@ts-ignore\r\n        this.dom.style.flow=\"visible\";\r\n        this.search.onkeydown(function (evt) {\r\n            window.setTimeout(() => {\r\n                _this.tree.filter(<string>_this.search.value);\r\n                if (evt.code === \"Enter\") {\r\n                    //_this.tree.\r\n                }\r\n            }, 100);\r\n        });\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\nexport function test() {\r\n    var exp = new FileExplorer();\r\n    exp.height = 100;\r\n    return exp;\r\n\r\n}\r\n\r\n\r\n","import { ClipboardData, ComponentDesigner } from \"jassijs_editor/ComponentDesigner\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Component, TextComponent, createComponent, HTMLComponent, jc } from \"jassijs/ui/Component\";\r\nimport { Container } from \"jassijs/ui/Container\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { Button } from \"jassijs/ui/Button\";\r\nimport { Tools } from \"jassijs/util/Tools\";\r\nimport { Textbox } from \"jassijs/ui/Textbox\";\r\nimport \"jassijs/ext/spectrum\";\r\nimport { Select } from \"jassijs/ui/Select\";\r\nimport { ComponentDescriptor } from \"jassijs/ui/ComponentDescriptor\";\r\n@$Class(\"jassijs_editor.HtmlDesigner\")\r\nexport class HtmlDesigner extends ComponentDesigner {\r\n    boldButton: Button;\r\n    italicButton: Button;\r\n    underlineButton: Button;\r\n    colorIcon: Textbox;\r\n    bgcolorIcon: Textbox;\r\n    fontSizeButton: HTMLComponent;\r\n    constructor() {\r\n        super({});\r\n        var _this = this;\r\n        this._designPlaceholder.dom.addEventListener(\"keydown\", (ev => _this.keydown(ev)));\r\n        this._designPlaceholder.dom.contentEditable = \"true\";\r\n        this._designPlaceholder.dom.addEventListener(\"drop\", (ev) => _this.ondrop(ev));\r\n        this.onDesignedComponentChanged((component) => _this.updateContentEditable(component));\r\n        this.dom.onclick = ((ev: any) => _this.onclick(ev));\r\n    }\r\n    private onclick(ev) {\r\n        if (!ev.target.classList.contains(\"_dummy_\")) {\r\n            this.lastSelectedDummy.component = undefined;\r\n            this.lastSelectedDummy.pre = false;\r\n        }\r\n        return undefined;\r\n    }\r\n    private getParentList(node: Node, list: Node[]) {\r\n        list.push(node);\r\n        if (node !== <any>document)\r\n            this.getParentList(<any>node.parentNode, list);\r\n    }\r\n    private htmlToClipboardData(data: string) {\r\n        var nodes = Component.createHTMLElement(\"<span>\" + data + \"</span>\");\r\n        var toInsert = [];\r\n        var textvor;\r\n        var textnach;\r\n        var textpositions: any = {};\r\n        for (var x = 0; x < nodes.childNodes.length; x++) {\r\n            var nd: HTMLElement = <any>nodes.childNodes[x];\r\n            if (nd.classList.contains(\"jcomponent\")) {\r\n                toInsert.push(document.getElementById(nd.id)._this);\r\n            }\r\n            else {\r\n                var text = nd.innerText;\r\n                textpositions[x] = nd.innerText;\r\n            }\r\n        }\r\n        var clip: ClipboardData = JSON.parse(this.componentsToString(toInsert));\r\n        var counter = 1000;\r\n        for (var p in textpositions) {\r\n            while (clip.allChilds.indexOf(\"text\" + counter) !== -1) {\r\n                counter++;\r\n            }\r\n            var varnamepre = \"text\" + counter;\r\n            clip.allChilds.push(varnamepre);\r\n            clip.varNamesToCopy.splice(parseInt(p), 0, varnamepre);\r\n            clip.properties[varnamepre] = { \"text\": ['\"' + textpositions[parseInt(p)] + '\"'], \"_new_\": ['\"' + textpositions[parseInt(p)] + '\"'] };\r\n            clip.types[varnamepre] = \"jassijs.ui.TextComponent\";\r\n        }\r\n        return clip;\r\n    }\r\n    select(nodeStart: Node, posStart: number, nodeEnd: Node = undefined, posEnd: number = undefined) {\r\n        var newSel = getSelection();\r\n        var range = document.createRange();\r\n        range.setStart(nodeStart, posStart);\r\n        if (nodeEnd !== undefined)\r\n            range.setEnd(nodeEnd, posEnd);\r\n        newSel.removeAllRanges();\r\n        newSel.addRange(range);\r\n        return range;\r\n    }\r\n    ondrop(ev: DragEvent) {\r\n        var _this = this;\r\n        ev.preventDefault();\r\n        var selection = document.getSelection();\r\n        let anchorNodeToDel = selection.anchorNode;\r\n        let anchorOffsetToDel = selection.anchorOffset;\r\n        let focusNodeToDel = selection.focusNode;\r\n        let focusOffsetToDel = selection.focusOffset;\r\n        var data = ev.dataTransfer.getData(\"text\");\r\n        var range: Range;\r\n        if (document.caretRangeFromPoint) {\r\n            // edge, chrome, android\r\n            range = document.caretRangeFromPoint(ev.clientX, ev.clientY);\r\n        }\r\n        else {\r\n\r\n            // firefox\r\n            //@ts-ignore\r\n            range = this.select(ev.rangeParent, ev.rangeOffse, ev.rangeParent, ev.rangeOffse);\r\n        }\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);\r\n        let anchorNode = selection.anchorNode;\r\n        let anchorOffset = selection.anchorOffset;\r\n        let focusNode = selection.focusNode;\r\n        let focusOffset = selection.focusOffset;\r\n        var position = anchorNode.compareDocumentPosition(focusNode);\r\n        if (!position && anchorOffset > focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            var k = focusNode;\r\n            focusNode = focusNode;\r\n            focusNode = k;\r\n            var k1 = anchorOffset;\r\n            anchorOffset = focusOffset;\r\n            focusOffset = k1;\r\n        }\r\n        console.log(\"a\" + anchorOffset);\r\n        if (data.indexOf('\"createFromType\":') > -1) {\r\n            var toCreate: {\r\n                createFromType: string;\r\n                createFromParam: string;\r\n            } = <any>JSON.parse(data);\r\n            var cl = classes.getClass(toCreate.createFromType);\r\n            var newComponent = new cl();\r\n            var last = _this.splitText(selection)[1];\r\n            var text2 = this.createComponent(classes.getClassName(newComponent), newComponent, undefined, undefined, last._parent, last, true);\r\n            //            _this.insertComponent(newComponent, selection);\r\n        }\r\n        else if (data.indexOf('\"varNamesToCopy\":') > -1) {\r\n            var clip: ClipboardData = JSON.parse(data);\r\n            var svar = clip.varNamesToCopy[0];\r\n            var comp = _this._propertyEditor.getObjectFromVariable(svar);\r\n            var last = _this.splitText(selection)[1];\r\n            this.moveComponent(comp, undefined, undefined, comp._parent, last._parent, last);\r\n            last.domWrapper.parentNode.insertBefore(comp.domWrapper, last.domWrapper);\r\n        }\r\n        else {\r\n            data = ev.dataTransfer.getData(\"text/html\");\r\n            var clip = this.htmlToClipboardData(data);\r\n            var nodes = Component.createHTMLElement(\"<span>\" + data + \"</span>\");\r\n            if (anchorNode === anchorNodeToDel && anchorOffsetToDel < anchorOffset) {\r\n                anchorOffset -= (<any>nodes.childNodes[0]).innerText.length; //removing the selection changes the insertposition\r\n            }\r\n            this.select(anchorNodeToDel, anchorOffsetToDel, focusNodeToDel, focusOffsetToDel);\r\n            var newSel = getSelection();\r\n            this.removeNodes(newSel);\r\n            range = this.select(anchorNode, anchorOffset);\r\n            selection.removeAllRanges();\r\n            selection.addRange(range);\r\n            var selection = getSelection();\r\n            var last = _this.splitText(selection)[1];\r\n            this.pasteComponents(JSON.stringify(clip), last._parent, last).then(() => {\r\n                _this._propertyEditor.updateParser();\r\n                _this.codeHasChanged();\r\n                _this.editDialog(true);\r\n            });\r\n            //this.removeNodes(anchorNodeToDel,anchorOffsetToDel,focusNodeToDel,focusOffsetToDel);\r\n            // var fneu=anchorNode.textContent.substring(0,anchorOffset)+toInsert[0]+anchorNode.textContent.substring(anchorOffset);\r\n            //this.changeText(anchorNode, fneu);                    \r\n        }\r\n    }\r\n    async paste() {\r\n        var data = await navigator.clipboard.read();\r\n        var sel = document.getSelection();\r\n        var comp;\r\n        if (sel.anchorNode == null)\r\n            comp = this._propertyEditor.value;\r\n        else\r\n            comp = this.splitText(sel)[1];\r\n        if (data[0].types.indexOf(\"text/html\") !== -1) {\r\n            var data2 = await data[0].getType(\"text/html\");\r\n            var text = await data2.text();\r\n            var clip = this.htmlToClipboardData(text);\r\n            if (this.lastSelectedDummy.component === comp && !this.lastSelectedDummy.pre)\r\n                await this.pasteComponents(JSON.stringify(clip), comp); //insert in Container at the End\r\n            else\r\n                await this.pasteComponents(JSON.stringify(clip), comp._parent, comp);\r\n        }\r\n        else {\r\n            this._propertyEditor.value = comp;\r\n            return await super.paste();\r\n        }\r\n        this._propertyEditor.updateParser();\r\n        this.codeHasChanged();\r\n        this.editDialog(true);\r\n        //  alert(8);\r\n        // debugger; \r\n        //return await super.paste(); \r\n    }\r\n    async copy(): Promise<string> {\r\n        var sel = document.getSelection();\r\n        if (sel.focusNode === sel.anchorNode && sel.focusOffset === sel.anchorOffset)\r\n            return await super.copy();\r\n        document.execCommand(\"copy\");\r\n        return await navigator.clipboard.readText();\r\n    }\r\n    updateContentEditable(component: Component) {\r\n        var allComponents: Component[] = [component.dom._this];\r\n        if (component.dom._thisOther)\r\n            allComponents.push(...component.dom._thisOther);\r\n        var varname = undefined;\r\n        for (var curComponent = 0; curComponent < allComponents.length; curComponent++) {\r\n            var comp = <Container>allComponents[curComponent];\r\n            varname = this._codeEditor.getVariableFromObject(comp);\r\n            if (varname !== undefined)\r\n                break;\r\n            //        var desc = ComponentDescriptor.describe(comp.constructor);\r\n            //      var fnew = desc.findField(\"children\");\r\n            for (var x = 0; x < comp._components?.length; x++) {\r\n                this.updateContentEditable(comp._components[x]);\r\n            }\r\n        }\r\n        if (varname === undefined) {\r\n            component.dom.contentEditable = \"false\";\r\n        }\r\n        else {\r\n            component.dom.contentEditable = \"true\";\r\n        }\r\n    }\r\n    registerKeys() {\r\n        //in keydown(...)\r\n    }\r\n    /* private deleteNodeBetween(node1: Node, node2: Node) {\r\n         var list1 = [];\r\n                                        var list2 = [];\r\n                                        this.getParentList(node1, list1);\r\n                                        this.getParentList(node2, list2);\r\n                                        var pos = 0;\r\n                                        var test = list1[pos];\r\n                                        while (list2.indexOf(list1[pos]) === -1) {\r\n                                            pos++;\r\n         }\r\n\r\n                                        var par1 = list1[pos];\r\n                                        var par2 = list2[list2.indexOf(list1[pos]) ];\r\n                                        var components = [];\r\n                                        if(node1===node2){\r\n                                            components.push(node1._this);\r\n         }else{\r\n             var todel = par1.nextSibling;\r\n\r\n                                        var components = [];\r\n                                        while (todel !== par2) {\r\n                 var del = todel;\r\n                                        todel = todel.nextSibling;\r\n                                        components.push(del._this);\r\n                 // del.remove();\r\n             }\r\n         }\r\n                                        var s = this.componentsToString(components);\r\n                                        this.deleteComponents(s);\r\n     }*/\r\n    private deleteNodeBetween(selection: Selection) {\r\n        var range = selection.getRangeAt(0);\r\n        var parent = range.commonAncestorContainer;\r\n        var contains = false;\r\n        var components: Component[] = [];\r\n        for (var x = 0; x < parent.childNodes.length; x++) {\r\n            var node = parent.childNodes[x];\r\n            //@ts-ignore\r\n            if (node._this === selection.anchorNode._this || node._this === selection.focusNode._this || selection.containsNode(node)) {\r\n                contains = true;\r\n            }\r\n            else {\r\n                contains = false;\r\n            }\r\n            if (contains) {\r\n                components.push((<any>node)._this);\r\n            }\r\n        }\r\n        //@ts-ignore\r\n        document.getSelection().modify(\"move\", \"left\", \"character\");\r\n        var a = getSelection().anchorNode;\r\n        var apos = getSelection().anchorOffset;\r\n        setTimeout(() => {\r\n            if (a.parentNode == null)\r\n                return;\r\n            this.select(a, apos); //removed position\r\n        }, 10);\r\n        //@ts-ignore\r\n        if (components.length > 0 && components[0].dom.nodeType === components[0].dom.TEXT_NODE)\r\n            components.splice(0, 1);\r\n        if (components.length > 0 && components[components.length - 1].dom.nodeType === components[components.length - 1].dom.TEXT_NODE)\r\n            components.splice(components.length - 1, 1);\r\n        var s = this.componentsToString(components);\r\n        console.log(components);\r\n        this.deleteComponents(s);\r\n    }\r\n    protected wrapTextNodeIfNeeded(found: Node) {\r\n        var parent = found.parentNode;\r\n        if (parent.childNodes.length !== 1) {\r\n            //no wrap\r\n            var textComp = (<any>found)._this;\r\n            var newSpan = new HTMLComponent({ tag: \"span\" });\r\n            var span = this.createComponent(classes.getClassName(newSpan), newSpan, undefined, undefined, textComp._parent, textComp, false);\r\n            var varspan = this.codeEditor.getVariableFromObject(span);\r\n            this._propertyEditor.setPropertyInCode(\"tag\", \"\\\"span\\\"\", true, varspan);\r\n            this.moveComponent(textComp, undefined, undefined, textComp._parent, span, undefined);\r\n            (<Container>span).add(textComp);\r\n            parent = span.__dom;\r\n        }\r\n        return parent;\r\n    }\r\n    bold() {\r\n        this.setStyle(\"bold\");\r\n    }\r\n    italic() {\r\n        this.setStyle(\"italic\");\r\n    }\r\n    underline() {\r\n        this.setStyle(\"underline\");\r\n    }\r\n    /**\r\n     * if user select lastnode to firstnode\r\n     */\r\n    private reverseSelectionIfNeeded() {\r\n        var sel = getSelection();\r\n        var anchorNode = sel.anchorNode;\r\n        var anchorOffset = sel.anchorOffset;\r\n        var focusNode = sel.focusNode;\r\n        var focusOffset = sel.focusOffset;\r\n        var position = anchorNode.compareDocumentPosition(focusNode);\r\n        if (!position && anchorOffset > focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            var k = focusNode;\r\n            anchorNode = focusNode;\r\n            focusNode = k;\r\n            var k1 = anchorOffset;\r\n            anchorOffset = focusOffset;\r\n            focusOffset = k1;\r\n            this.select(anchorNode, anchorOffset, focusNode, focusOffset);\r\n        }\r\n    }\r\n    setStyle(style: string, value = undefined): Component[] {\r\n        this.reverseSelectionIfNeeded();\r\n        var sel = getSelection();\r\n        var anchorNode = sel.anchorNode;\r\n        var anchorOffset = sel.anchorOffset;\r\n        var focusNode = sel.focusNode;\r\n        var focusOffset = sel.focusOffset;\r\n        var position = anchorNode.compareDocumentPosition(focusNode);\r\n        if (!position && anchorOffset > focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            var k = focusNode;\r\n            anchorNode = focusNode;\r\n            focusNode = k;\r\n            var k1 = anchorOffset;\r\n            anchorOffset = focusOffset;\r\n            focusOffset = k1;\r\n            this.select(anchorNode, anchorOffset, focusNode, focusOffset);\r\n            var sel = document.getSelection();\r\n        }\r\n        var container = sel.getRangeAt(0).commonAncestorContainer;\r\n        if (container.nodeType === container.TEXT_NODE)\r\n            container = container.parentNode;\r\n        var allModified: Component[] = [];\r\n        for (var x = 0; x < container.childNodes.length; x++) {\r\n            var child = container.childNodes[x];\r\n            if ((<HTMLElement>child).tagName === \"BR\" || (<HTMLElement>child).tagName === \"br\")\r\n                continue;\r\n            var found = undefined;\r\n            if (sel.containsNode(child)) {\r\n                found = child;\r\n            }\r\n            if (child.contains(anchorNode) || child === anchorNode) {\r\n                if (anchorOffset !== 0) {\r\n                    var samenode = anchorNode === focusNode;\r\n                    if (child === anchorNode)\r\n                        x++;\r\n                    var texts = this.splitText(sel);\r\n                    anchorNode = texts[1].dom;\r\n                    if (allModified.indexOf(texts[0]) === -1)\r\n                        allModified.push(texts[0]);\r\n                    if (allModified.indexOf(texts[1]) === -1)\r\n                        allModified.push(texts[1]);\r\n                    if (anchorNode.nodeType !== anchorNode.TEXT_NODE) { //textnode is wrapped\r\n                        anchorNode = anchorNode.childNodes[0];\r\n                    }\r\n                    if (samenode) {\r\n                        focusNode = anchorNode;\r\n                        focusOffset -= anchorOffset;\r\n                    }\r\n                    anchorOffset = 0;\r\n                }\r\n                found = anchorNode;\r\n            }\r\n            if (child.contains(focusNode) || child === focusNode) {\r\n                if (focusOffset !== (<any>child).length) {\r\n                    //  var samenode = anchorNode === focusNode;\r\n                    this.select(focusNode, focusOffset, focusNode, (<any>focusNode).length);\r\n                    sel = document.getSelection();\r\n                    if (child === focusNode)\r\n                        x++;\r\n                    var texts = this.splitText(sel);\r\n                    var pos = allModified.indexOf(texts[1]);\r\n                    if (pos !== -1)\r\n                        allModified.splice(pos, 0, texts[0]);\r\n                    else\r\n                        allModified.push(texts[0]);\r\n                    if (allModified.indexOf(texts[1]) === -1)\r\n                        allModified.push(texts[1]);\r\n                    var newNode: any = texts[0].dom;\r\n                    if (newNode.nodeType !== newNode.TEXT_NODE) { //textnode is wrapped\r\n                        newNode = newNode.childNodes[0];\r\n                    }\r\n                    if (focusNode === anchorNode) {\r\n                        focusNode = anchorNode = newNode;\r\n                    }\r\n                    else\r\n                        focusNode = newNode;\r\n                    //focusOffset=(<any>focusNode).length;\r\n                }\r\n                found = focusNode;\r\n            }\r\n            if (found) {\r\n                var parent = this.wrapTextNodeIfNeeded(found);\r\n                var compParent: Component = (<any>parent)._this;\r\n                if (allModified.indexOf(compParent) === -1)\r\n                    allModified.push(compParent);\r\n                this.applyStyle(compParent, style, value);\r\n            }\r\n        }\r\n        this.select(anchorNode, anchorOffset, focusNode, focusOffset);\r\n        return allModified;\r\n    }\r\n    applyStyle(comp: Component, stylename: string, value: any = undefined) {\r\n        var varParent = this.codeEditor.getVariableFromObject(comp);\r\n        var style = this._propertyEditor.parser.getPropertyValue(varParent, \"style\");\r\n        var st: React.CSSProperties = Tools.jsonToObject(style === undefined ? \"{}\" : style);\r\n        if (stylename === \"bold\") {\r\n            if (st.fontWeight === \"bold\")\r\n                delete st.fontWeight; //=\"normal\";\r\n            else\r\n                st.fontWeight = \"bold\";\r\n        }\r\n        else if (stylename === \"italic\") {\r\n            if (st.fontStyle === \"italic\")\r\n                delete st.fontStyle; //=\"normal\";\r\n            else\r\n                st.fontStyle = \"italic\";\r\n        }\r\n        else if (stylename === \"underline\") {\r\n            if (st.textDecorationLine === \"underline\")\r\n                delete st.textDecorationLine; //=\"normal\";\r\n            else\r\n                st.textDecorationLine = \"underline\";\r\n        }\r\n        else if (stylename === \"color\") {\r\n            st.color = value;\r\n        }\r\n        else if (stylename === \"backgroundColor\") {\r\n            st.backgroundColor = value;\r\n        }\r\n        else if (stylename === \"fontSize\") {\r\n            st.fontSize = value;\r\n        }\r\n        if (this._propertyEditor.codeEditor)\r\n            this._propertyEditor.setPropertyInCode(\"style\", JSON.stringify(st), true, varParent, undefined, undefined);\r\n        comp.style = st;\r\n    }\r\n    _initDesign() {\r\n        super._initDesign();\r\n        var _this = this;\r\n        this.boldButton = new Button();\r\n        this.boldButton.icon = \"mdi mdi-format-bold mdi-18px\";\r\n        this.boldButton.tooltip = \"bold\";\r\n        this.boldButton.onclick(function () {\r\n            _this.bold();\r\n        });\r\n        this._designToolbar.add(this.boldButton);\r\n        this.italicButton = new Button();\r\n        this.italicButton.icon = \"mdi mdi-format-italic mdi-18px\";\r\n        this.italicButton.tooltip = \"italic\";\r\n        this.italicButton.onclick(function () {\r\n            _this.italic();\r\n        });\r\n        this._designToolbar.add(this.italicButton);\r\n        this.underlineButton = new Button();\r\n        this.underlineButton.icon = \"mdi mdi-format-underline mdi-18px\";\r\n        this.underlineButton.tooltip = \"italic\";\r\n        this.underlineButton.onclick(function () {\r\n            _this.underline();\r\n        });\r\n        this._designToolbar.add(this.underlineButton);\r\n        this._createColorIcon();\r\n        this._createBGColorIcon();\r\n        this._createFontSizeIcon();\r\n    }\r\n    private _createFontSizeIcon() {\r\n        var _this = this;\r\n        this.fontSizeButton = <any>createComponent(jc(\"select\", {\r\n            style: {\r\n                fontSize: \"8pt\", \"height\": \"24px\", \"verticalAlign\": \"2px\"\r\n            },\r\n            onChange: (e) => {\r\n                var val = (<any>e.target).value;\r\n                _this.setStyle(\"fontSize\", val);\r\n            },\r\n            children: [\r\n                jc(\"option\", { children: [\"8px\"], value: \"8px\" }),\r\n                jc(\"option\", { children: [\"10px\"], value: \"10px\" }),\r\n                jc(\"option\", { children: [\"12px\"], value: \"12px\" }),\r\n                jc(\"option\", { children: [\"14px\"], value: \"14px\" }),\r\n                jc(\"option\", { children: [\"18px\"], value: \"18px\" }),\r\n                jc(\"option\", { children: [\"24px\"], value: \"24px\" }),\r\n                jc(\"option\", { children: [\"36px\"], value: \"36px\" }),\r\n            ]\r\n        }));\r\n        this._designToolbar.add(this.fontSizeButton);\r\n    }\r\n    private _createColorIcon() {\r\n        var _this = this;\r\n        this.colorIcon = new Textbox({useWrapper:true});\r\n        var spec = $(this.colorIcon.dom)[\"spectrum\"]({\r\n            color: \"#f00\",\r\n            showPalette: true,\r\n            palette: [\r\n                ['black'], [\"brown\"], [\"blue\"], [\"green\"], [\"red\"], [\"orange\"], [\"yellow\"], ['white']\r\n            ],\r\n            change: function (color) {\r\n                var scolor = color.toHexString();\r\n                if (color.toName())\r\n                    scolor = color.toName();\r\n                _this.setStyle(\"color\", scolor);\r\n                // debugger;\r\n                //\t\t    _this.paletteChanged(color.toHexString()); // #ff0000\r\n            }\r\n        });\r\n        //correct height\r\n        var bt: HTMLElement = this.colorIcon.domWrapper.querySelector(\".sp-preview\");\r\n        bt.style.width = \"14px\";\r\n        bt.style.height = \"14px\";\r\n        var bx: HTMLElement = this.colorIcon.domWrapper.querySelector(\".sp-replacer\");\r\n        bx.style.verticalAlign = \"-7px\";\r\n        bx.style.height = \"16px\";\r\n        bx.style.width = \"16px\";\r\n        var bp: HTMLElement = this.colorIcon.domWrapper.querySelector(\".sp-dd\");\r\n        bp.innerHTML = \"<bolder>T</bolder>\";\r\n        bp.style.zIndex = \"100\";\r\n        bp.style.position = \"relative\";\r\n        bp.style.top = \"-19px\";\r\n        bp.style.height = \"12px\";\r\n        bp.style.fontSize = \"25px\";\r\n        // spec.width=\"10px\";\r\n        //\tspec.height=\"10px\";\r\n        this._designToolbar.add(this.colorIcon);\r\n    }\r\n    private _createBGColorIcon() {\r\n        var _this = this;\r\n        this.bgcolorIcon = new Textbox({useWrapper:true});\r\n        var spec = $(this.bgcolorIcon.dom)[\"spectrum\"]({\r\n            color: \"#f00\",\r\n            showPalette: true,\r\n            palette: [\r\n                ['black'], [\"brown\"], [\"blue\"], [\"green\"], [\"red\"], [\"orange\"], [\"yellow\"], ['white']\r\n            ],\r\n            change: function (color) {\r\n                var scolor = color.toHexString();\r\n                if (color.toName())\r\n                    scolor = color.toName();\r\n                _this.setStyle(\"backgroundColor\", scolor);\r\n                // debugger;\r\n                //\t\t    _this.paletteChanged(color.toHexString()); // #ff0000\r\n            }\r\n        });\r\n        //correct height\r\n        var bt: HTMLElement = this.bgcolorIcon.domWrapper.querySelector(\".sp-preview\");\r\n        bt.style.width = \"14px\";\r\n        bt.style.height = \"14px\";\r\n        var bx: HTMLElement = this.bgcolorIcon.domWrapper.querySelector(\".sp-replacer\");\r\n        bx.style.verticalAlign = \"-7px\";\r\n        bx.style.height = \"16px\";\r\n        bx.style.width = \"16px\";\r\n        // spec.width=\"10px\";\r\n        //\tspec.height=\"10px\";\r\n        this._designToolbar.add(this.bgcolorIcon);\r\n    }\r\n    editDialog(enable) {\r\n        super.editDialog(enable);\r\n    }\r\n    createDragAndDropper() {\r\n        return undefined;\r\n    }\r\n    private removeNodes(selection: Selection) {\r\n        var from: Node = selection.anchorNode;\r\n        var frompos: number = selection.anchorOffset;\r\n        var to: Node = selection.focusNode;\r\n        var topos: number = selection.focusOffset;\r\n        var position = from.compareDocumentPosition(to);\r\n        // selection has wrong direction\r\n        if (!position && frompos > topos || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            var k = from;\r\n            from = to;\r\n            to = k;\r\n            var k1 = frompos;\r\n            frompos = topos;\r\n            topos = k1;\r\n        }\r\n        this.deleteNodeBetween(selection);\r\n        //@ts-ignore\r\n        if (from === to && to.nodeType === from.TEXT_NODE) {\r\n            var neu = to.textContent;\r\n            this.changeText(to, neu.substring(0, frompos) + \"\" + neu.substring(topos), true);\r\n        }\r\n        else {\r\n            if (from.nodeType === from.TEXT_NODE) {\r\n                this.changeText(from, from.textContent.substring(0, frompos), true);\r\n            }\r\n            if (to.nodeType === from.TEXT_NODE) {\r\n                this.changeText(to, to.textContent.substring(topos), true);\r\n            }\r\n            //this.changeText(from, from.textContent.substring(0, frompos));\r\n            //this.changeText(to, to.textContent.substring(topos));\r\n        }\r\n        /*else {\r\n            var end = to.childNodes[topos];\r\n                                                                                    if (end === undefined)\r\n                                                                                    end = to.childNodes[to.childNodes.length - 1];\r\n                                                                                    this.deleteNodeBetween(from.childNodes[frompos], end);\r\n        }*/\r\n        /*} else {\r\n            if (from.nodeType === from.TEXT_NODE){\r\n                                                                                        this.deleteNodeBetween(from,to);\r\n                                                                                    this.changeText(from, from.textContent.substring(0, frompos));\r\n                                                                                    this.changeText(to, to.textContent.substring(topos));\r\n            }else{\r\n                                                                                        this.deleteNodeBetween(from.childNodes[frompos],to);\r\n\r\n                                                                                    this.changeText(to, to.textContent.substring(topos));\r\n            }\r\n        }*/\r\n    }\r\n    protected changeText(node: Node, text: string, deleteNodeIfEmpty = false): Node {\r\n        var varname = this.codeEditor.getVariableFromObject((<any>node)._this);\r\n        if (this._propertyEditor.codeEditor) {\r\n            if (deleteNodeIfEmpty && text === \"\") {\r\n                var s = this.componentsToString([(<any>node)._this]);\r\n                this.deleteComponents(s);\r\n            }\r\n            else\r\n                this._propertyEditor.setPropertyInCode(\"text\", '\"' + text + '\"', true, varname);\r\n        }\r\n        if (text === \"&nbsp;\")\r\n            (<HTMLHtmlElement>node).innerHTML = text;\r\n        else\r\n            node.textContent = text;\r\n        this._propertyEditor.callEvent(\"propertyChanged\", event);\r\n        return node;\r\n    }\r\n    private splitText(sel: Selection = document.getSelection()): Component[] {\r\n        // selection has wrong direction\r\n        var offSet = sel.anchorOffset;\r\n        var node = sel.anchorNode;\r\n        if (sel.anchorNode.compareDocumentPosition(sel.focusNode) === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            node = sel.focusNode;\r\n            offSet = sel.focusOffset;\r\n        }\r\n        var old = node.textContent;\r\n        var node = node;\r\n        var v1 = old.substring(0, offSet);\r\n        var v2 = old.substring(offSet);\r\n        this.changeText(node, v2);\r\n        var comp: Component = (<any>node)._this;\r\n        // var br = this.createComponent(classes.getClassName(component), component, undefined, undefined, comp._parent, comp, true, suggestedvarname);\r\n        if (v1 === \"\")\r\n            return [comp, comp]; //v1 = \"&nbsp;\";\r\n        var text2 = this.createTextComponent(v1, comp._parent, comp);\r\n        /*        var nd = document.createTextNode(v1);\r\n                var comp2 = new TextComponent();\r\n                comp2.init(<any>nd, {});\r\n                                                                                                        var text2 = this.createComponent(\"jassijs.ui.TextComponent\", comp2, undefined, undefined, comp._parent, comp, true, \"text\");\r\n                                                                                                        */\r\n         this.changeText(text2.dom, v1);\r\n        //this.updateDummies();\r\n        return [text2, comp];\r\n    }\r\n    async cutComponent() {\r\n        var _this = this;\r\n        var sel = document.getSelection();\r\n        if (sel.focusNode === sel.anchorNode && sel.focusOffset === sel.anchorOffset)\r\n            return super.cutComponent();\r\n        document.execCommand(\"copy\");\r\n        var data = await navigator.clipboard.read();\r\n        var tt = await data[0].getType(\"text/html\");\r\n        var text = await tt.text();\r\n        var code = JSON.stringify(_this.htmlToClipboardData(text));\r\n        navigator.clipboard.writeText(code);\r\n        var e = new KeyboardEvent(\"keypress\", {\r\n            code: \"Delete\"\r\n        });\r\n        _this.keydown(e);\r\n    }\r\n    createTextComponent(text, par, before): Component {\r\n        /*        var comp2 = new TextComponent();\r\n                                                                                                        var newone = document.createTextNode(text);\r\n                                                                                                        comp2.init(<any>newone, {noWrapper: true });*/\r\n        var comp2 = new TextComponent();\r\n        var newone = comp2.dom;\r\n        return this.createComponent(\"jassijs.ui.TextComponent\", comp2, undefined, undefined, par, before, true, \"text\");\r\n        ;\r\n    }\r\n    protected insertLineBreak(sel: Selection, atEndOfContainer: Component = undefined) {\r\n        var enter = createComponent(React.createElement(\"br\"));\r\n        var center, comp;\r\n        if (sel.anchorNode.nodeType !== sel.anchorNode.TEXT_NODE) {\r\n            if (atEndOfContainer !== undefined) {\r\n                center = this.createComponent(classes.getClassName(enter), enter, undefined, undefined, atEndOfContainer, undefined, true, \"br\");\r\n            } else {\r\n                comp = (<any>sel.anchorNode)._this;\r\n                center = this.createComponent(classes.getClassName(enter), enter, undefined, undefined, comp._parent, comp, true, \"br\");\r\n            }\r\n        } else {\r\n            comp = this.splitText(sel)[1];\r\n            center = this.createComponent(classes.getClassName(enter), enter, undefined, undefined, comp._parent, comp, true, \"br\");\r\n        }\r\n        this._propertyEditor.setPropertyInCode(\"tag\", \"\\\"br\\\"\", true, this.codeEditor.getVariableFromObject(center));\r\n    }\r\n    private keydown(e: KeyboardEvent) {\r\n\r\n        var dummyPre = undefined;\r\n        //predeummy is selected\r\n        if (this.lastSelectedDummy?.pre && this.lastSelectedDummy.component !== undefined) {\r\n            this.select(this.lastSelectedDummy.component.dom, 0);\r\n            dummyPre = true;\r\n        }\r\n\r\n        if (!this.lastSelectedDummy?.pre && this.lastSelectedDummy.component !== undefined) {\r\n            var con: Container = this.lastSelectedDummy.component;\r\n            this.select(con.dom, 0);\r\n            dummyPre = false;\r\n        }\r\n        var _this = this;\r\n        if (e.keyCode === 115 && e.shiftKey) { //F4\r\n            return false;\r\n        }\r\n        else if (e.keyCode === 115) { //F4\r\n            return false;\r\n        }\r\n        if (e.keyCode === 90 && e.ctrlKey) { //Ctrl+Z\r\n        }\r\n        if (e.keyCode === 116) { //F5\r\n            e.preventDefault();\r\n            return false;\r\n        }\r\n        if ((e.keyCode === 88 && e.ctrlKey)) { //Del or Ctrl X)\r\n            e.preventDefault();\r\n            this.cutComponent();\r\n            return;\r\n        }\r\n        if (e.keyCode === 67 && e.ctrlKey) { //Ctrl+C\r\n            e.preventDefault();\r\n            this.copy();\r\n            return false;\r\n        }\r\n        if (e.keyCode === 86 && e.ctrlKey) { //Ctrl+V\r\n            e.preventDefault();\r\n            this.paste();\r\n            return false;\r\n        }\r\n        if ((String.fromCharCode(e.which).toLowerCase() === 's' && e.ctrlKey) /* && (evt.which == 19)*/) { //Str+s\r\n            return false;\r\n        }\r\n        if (e.ctrlKey)\r\n            return;\r\n        var sel = document.getSelection();\r\n        if (sel.anchorNode === null && sel.focusNode == null)\r\n            return;\r\n        if (sel.anchorNode === null) {\r\n            /*  var nd = document.createTextNode(\"\");\r\n                                                                                                            var comp2 = new TextComponent();\r\n                                                                                                            comp2.init(<any>nd, {noWrapper: true });*/\r\n            var comp2 = new TextComponent();\r\n            var nd = comp2.dom;\r\n            if (this.lastSelectedDummy.pre)\r\n                var text2 = this.createComponent(\"jassijs.ui.TextComponent\", comp2, undefined, undefined, this._propertyEditor.value._parent, this._propertyEditor.value, true, \"text\");\r\n            else\r\n                var text2 = this.createComponent(\"jassijs.ui.TextComponent\", comp2, undefined, undefined, this._propertyEditor.value, undefined, true, \"text\");\r\n            this.select(comp2.dom, 0, comp2.dom, 0);\r\n            var selection = getSelection();\r\n        }\r\n        var position = sel.anchorNode.compareDocumentPosition(sel.focusNode);\r\n        var anchorNode = sel.anchorNode;\r\n        var anchorOffset = sel.anchorOffset;\r\n        var focusNode = sel.focusNode;\r\n        var focusOffset = sel.focusOffset;\r\n        // selection has wrong direction\r\n        if (!position && sel.anchorOffset > sel.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {\r\n            anchorOffset = sel.focusOffset;\r\n            anchorNode = sel.focusNode;\r\n            focusNode = sel.anchorNode;\r\n            focusOffset = sel.anchorOffset;\r\n        }\r\n        //Table up =up in same column\r\n        if (e.keyCode === 38 && ((<any>focusNode?.parentNode)?.tagName == \"TR\" || (<any>focusNode?.parentNode.parentNode)?.tagName == \"TR\")) {\r\n            var tr = (<any>focusNode?.parentNode)?.tagName == \"TR\" ? focusNode?.parentNode : focusNode?.parentNode.parentNode;\r\n            var td = focusNode;\r\n            if ((<any>focusNode?.parentNode)?.tagName == \"TD\")\r\n                td = focusNode?.parentNode;\r\n            var poscol = -1;\r\n            for (var x = 0; x < tr.children.length; x++) {\r\n                if (tr.children[x] === td)\r\n                    poscol = x;\r\n            }\r\n            var posrow = -1;\r\n            for (var x = 0; x < tr.parentNode.children.length; x++) {\r\n                if (tr.parentNode.children[x] === tr)\r\n                    posrow = x;\r\n            }\r\n            if (posrow !== -1 && posrow > 0 && poscol !== -1 && tr.parentNode.children[posrow - 1].children.length > poscol) {\r\n                e.preventDefault();\r\n                const cell = tr.parentNode.children[posrow - 1].children[poscol];\r\n                this.select(cell, 0);\r\n                return;\r\n            }\r\n        }\r\n        //Table down =down in same column\r\n        if (e.keyCode === 40 && ((<any>focusNode?.parentNode)?.tagName == \"TR\" || (<any>focusNode?.parentNode.parentNode)?.tagName == \"TR\")) {\r\n            var tr = (<any>focusNode?.parentNode)?.tagName == \"TR\" ? focusNode?.parentNode : focusNode?.parentNode.parentNode;\r\n            var td = focusNode;\r\n            if ((<any>focusNode?.parentNode)?.tagName == \"TD\")\r\n                td = focusNode?.parentNode;\r\n            var poscol = -1;\r\n            for (var x = 0; x < tr.children.length; x++) {\r\n                if (tr.children[x] === td)\r\n                    poscol = x;\r\n            }\r\n            var posrow = -1;\r\n            for (var x = 0; x < tr.parentNode.children.length; x++) {\r\n                if (tr.parentNode.children[x] === tr)\r\n                    posrow = x;\r\n            }\r\n            if (posrow !== -1 && posrow < (tr.parentNode.children.length - 1) && poscol !== -1 && tr.parentNode.children[posrow + 1].children.length > poscol) {\r\n                e.preventDefault();\r\n                const cell = tr.parentNode.children[posrow + 1].children[poscol];\r\n                this.select(cell, 0);\r\n                return;\r\n            }\r\n        }\r\n        if (e.keyCode === 13) {\r\n            e.preventDefault();\r\n            this.insertLineBreak(sel, dummyPre === false ? this.lastSelectedDummy.component : undefined);\r\n            //     this.insertComponent(enter, sel, \"br\");\r\n            //var enter = node.parentNode.insertBefore(document.createElement(\"br\"), node);\r\n            // var textnode = enter.parentNode.insertBefore(document.createTextNode(v1), enter);\r\n        }\r\n        else if (e.code === \"Delete\") {\r\n            e.preventDefault();\r\n            if (anchorNode === focusNode && anchorOffset === focusOffset) { //no selection\r\n                (<any>sel).modify(\"extend\", \"right\", \"character\");\r\n                var newsel = document.getSelection();\r\n                this.removeNodes(newsel);\r\n            }\r\n            else {\r\n                this.removeNodes(sel);\r\n            }\r\n            this.updateDummies();\r\n            return;\r\n        }\r\n        else if (e.code === \"Backspace\") {\r\n\r\n            e.preventDefault();\r\n            if (anchorNode === focusNode && anchorOffset === focusOffset) { //no selection\r\n                if (sel.anchorNode === sel.focusNode && sel.anchorNode.nodeName === \"TD\") {\r\n                    console.log(\"return\");\r\n                    return;\r\n                }\r\n                (<any>sel).modify(\"extend\", \"left\", \"character\");\r\n                var newsel = document.getSelection();\r\n                this.removeNodes(newsel);\r\n            }\r\n            else {\r\n\r\n\r\n                this.removeNodes(sel);\r\n            }\r\n            this.updateDummies();\r\n            return;\r\n        }\r\n        else if (e.key.length === 1) {\r\n            var end = focusOffset;\r\n            if (anchorNode !== focusNode) {\r\n                end = anchorNode.textContent.length;\r\n            }\r\n            if (anchorNode === focusNode && anchorOffset === focusOffset) { //no selection\r\n            }\r\n            else {\r\n                this.removeNodes(sel);\r\n            }\r\n            var neu = anchorNode.textContent.substring(0, anchorOffset) + e.key + anchorNode.textContent.substring(end);\r\n\r\n            if (anchorNode.nodeType !== anchorNode.TEXT_NODE) {//there is no Textnode here we create one\r\n                if (dummyPre === true) {\r\n                    var before = undefined;\r\n                    // if (anchorNode.childNodes.length > anchorOffset) {\r\n                    before = (<any>anchorNode)._this;\r\n                    //}\r\n                    anchorOffset = 0;\r\n                    anchorNode = this.createTextComponent(e.key, (<any>anchorNode)._this._parent, before).dom;\r\n                    neu = e.key;\r\n                } else if (dummyPre === false) {\r\n                    var container = this.lastSelectedDummy.component;\r\n                    //}\r\n                    anchorOffset = 0;\r\n                    anchorNode = this.createTextComponent(e.key, container, undefined).dom;\r\n                    neu = e.key;\r\n                } else {//insert in Container\r\n                    var desc = ComponentDescriptor.describe((<any>anchorNode)._this.constructor);\r\n                    var fnew = desc.findField(\"children\");\r\n                    if (fnew === undefined)\r\n                        return;\r\n                    var before = undefined;\r\n                    if (anchorNode.childNodes.length > anchorOffset) {\r\n                        before = (<any>anchorNode.childNodes[anchorOffset])._this;\r\n                    }\r\n                    anchorOffset = 0;\r\n                    anchorNode = this.createTextComponent(e.key, (<any>anchorNode)._this, before).dom;\r\n                    neu = e.key;\r\n                }\r\n            }\r\n            this.changeText(anchorNode, neu);\r\n            e.preventDefault();\r\n            this.select(anchorNode, anchorOffset + 1);\r\n        }\r\n        this.updateDummies();\r\n    }\r\n}\r\nexport function test() {\r\n    var dom = React.createElement(\"div\", {\r\n        contenteditable: \"true\"\r\n    }, \"Hallo\", \"Du\");\r\n    var ret = createComponent(dom);\r\n    //ret.dom.addEventListener(\"keydown\", keydown);\r\n    //windows.add(ret, \"Hallo\");\r\n    return ret;\r\n}\r\n","export default {\r\n    \"css\":{\"jassijs_editor.css\":\"jassijs_editor.css\"},\r\n    \"types\":{\r\n        \"node_modules/csstype.d.ts\":\"https://cdn.jsdelivr.net/gh/frenic/csstype@master/index.d.ts\",\r\n       \r\n       // \"node_modules/@types/csstype/index.d.ts\":\"https://cdn.jsdelivr.net/gh/frenic/csstype@master/index.d.ts\",\r\n        \"node_modules/@types/react/canary.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/canary.d.ts\",\r\n        \"node_modules/@types/react/experimental.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/experimental.d.ts\",\r\n        \"node_modules/@types/react/global.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/global.d.ts\",\r\n        \"node_modules/@types/react/index.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/index.d.ts\",\r\n        \"node_modules/@types/react/jsx-runtime.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/jsx-runtime.d.ts\",\r\n        \"node_modules/@types/react/jsx-dev-runtime.d.ts\":\"https://cdn.jsdelivr.net/npm/@types/react@18.2.22/jsx-dev-runtime.d.ts\",\r\n        \"node_modules/monaco.d.ts\":\"https://cdn.jsdelivr.net/npm/monaco-editor@0.50.0/monaco.d.ts\",\r\n        \"node_modules/@types/typescript.d.ts\": \"https://cdn.jsdelivr.net/gh/microsoft/TypeScript@release-5.4/lib/typescript.d.ts\"\r\n    },\r\n    \"require\":{ \r\n        map:{\r\n            \"*\":{\r\n                \"typescript\":\"jassijs_editor/ext/typescriptservices\",\r\n            }\r\n        },\r\n        paths: {\r\n            'ace': '//cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/',\r\n            'ace/ext/language_tools': '//cdnjs.cloudflare.com/ajax/libs/ace/1.4.7/ext-language_tools',\r\n            \r\n            //typescript:\"https://cdn.jsdelivr.net/gh/microsoft/TypeScript@release-5.4/lib/typescript\",\r\n            vs: \"https://cdn.jsdelivr.net/npm/monaco-editor@0.50.0/dev/vs\"\r\n        },\r\n        shim: {\r\n            'ace/ext/language_tools': ['ace/ace'],\r\n        }\r\n    \r\n    }\r\n}","\r\nimport { Component } from \"jassijs/ui/Component\";\r\nimport \"jassijs_editor/Debugger\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport \"jassijs_editor/ext/monaco\";\r\nimport {mytypescript} from \"jassijs_editor/util/Typescript\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { CodePanel } from \"jassijs_editor/CodePanel\";\r\nimport { Settings } from \"jassijs/remote/Settings\";\r\nimport { currentsettings } from \"jassijs/base/CurrentSettings\";\r\n\r\n\r\nvar inited = false;\r\nfunction __init(editor: monaco.editor.IStandaloneCodeEditor) {\r\n    if (inited)\r\n        return;\r\n    //auto import \r\n    const cs = (editor as any)._commandService\r\n    var CommandsRegistry = require(\"vs/platform/commands/common/commands\").CommandsRegistry;\r\n    CommandsRegistry.registerCommand(\"autoimport\", (o1, model: monaco.editor.ITextModel, pos) => {\r\n        var file = model.uri.path.substring(1);\r\n        var code = model.getValue();\r\n        var p = mytypescript.getPositionOfLineAndCharacter(file, {\r\n            line: pos.lineNumber, character: pos.column\r\n        });\r\n        const oldpos = model[\"lastEditor\"].getPosition();\r\n        setTimeout(() => {\r\n            CodePanel.getAutoimport(p, file, code).then((data) => {\r\n\r\n                if (data !== undefined) {\r\n\r\n                    model.pushEditOperations([], [{\r\n                        range: monaco.Range.fromPositions({ column: data.pos.column, lineNumber: data.pos.row + 1 }),\r\n                        text: data.text\r\n                    }], (a) => {\r\n                        return null;\r\n                    });\r\n                    oldpos.lineNumber = oldpos.lineNumber + (data.text.indexOf(\"\\r\") ? 1 : 0);\r\n                    model[\"lastEditor\"].setPosition(oldpos);\r\n                }\r\n            });\r\n\r\n        }, 100);\r\n    })\r\n    //implement go to definition\r\n    //TODO FIX deprecrated in new Version s. monaco.editor.registerEditorOpener\r\n    const editorService = editor[\"_codeEditorService\"];\r\n    const openEditorBase = editorService.openCodeEditor.bind(editorService);\r\n    editorService.openCodeEditor = async (input, source) => {\r\n        const result = await openEditorBase(input, source);\r\n        if (result === null) {\r\n            var file = input.resource.path.substring(1);\r\n            var line = input.options.selection.startLineNumber;\r\n\r\n            router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + file + \"&line=\" + line);\r\n        }\r\n        return result; // always return the base result\r\n    };\r\n    //completion for autonimport\r\n    monaco.languages.registerCompletionItemProvider('typescript', {\r\n        provideCompletionItems: async function (model, position) {\r\n            var textUntilPosition = model.getValueInRange({ startLineNumber: 1, startColumn: 1, endLineNumber: position.lineNumber, endColumn: position.column });\r\n            var word = model.getWordUntilPosition(position);\r\n            var range = {\r\n                startLineNumber: position.lineNumber,\r\n                endLineNumber: position.lineNumber,\r\n                startColumn: word.startColumn,\r\n                endColumn: word.endColumn\r\n            };\r\n            var file = model.uri.path.substring(1);\r\n            var pos = mytypescript.getPositionOfLineAndCharacter(file, { line: position.lineNumber, character: position.column });\r\n            var all = await mytypescript.getCompletion(file, pos, undefined, { includeExternalModuleExports: true });\r\n            var sug = [];\r\n            for (var x = 0; x < all.entries.length; x++) {\r\n                var it = all.entries[x];\r\n                if ((it.kindModifiers === \"export\" || it.kindModifiers === \"\") && it.hasAction === true) {\r\n                    var item: monaco.languages.CompletionItem = {\r\n                        label: it.name,\r\n                        kind: <monaco.languages.CompletionItemKind>it.kind,\r\n                        documentation: \"import from \" + it.source,\r\n                        insertText: it.name,\r\n                        range: range,\r\n                        command: {\r\n                            arguments: [model, position],\r\n                            id: \"autoimport\",\r\n                            title: \"autoimport\"\r\n                        }\r\n                    }\r\n                    sug.push(item);\r\n                }\r\n            }\r\n            return {\r\n                suggestions: sug\r\n            };\r\n        }\r\n    });\r\n    inited = true;\r\n}\r\n\r\n/**\r\n* wrapper for the Ace-Code editor with Typescript-Code-Completion an other features\r\n* @class jassijs.ui.CodePanel\r\n*/\r\n@$Class(\"jassijs_editor.MonacoPanel\")\r\nexport class MonacoPanel extends CodePanel {\r\n    private _mode: string;\r\n    private _editor: monaco.editor.IStandaloneCodeEditor;\r\n    private _isInited: boolean;\r\n    //   private _lastCursorPosition;\r\n    declare file: string;\r\n    private static _tooltipdiv;\r\n    private _lastTooltipRefresh;\r\n    constructor() {\r\n        super();\r\n       \r\n        //this._editor.setModel(monaco.editor.getModels() [1]);\r\n\r\n    }\r\n    render(){\r\n        return React.createElement(\"div\", { className:\"MonacoPanel\",style:{borderSpacing:\"0px\", minWidth:\"50px\",tableLayout: \"fixed\"}});\r\n    }\r\n    componentDidMount(): void {\r\n        var _this = this;\r\n        \r\n        this.domWrapper.style.overflow=\"hidden\";\r\n        this.domWrapper.style.display= \"\";\r\n\r\n        let theme = currentsettings.gets(Settings.keys.Development_MoanacoEditorTheme);\r\n        this._editor = monaco.editor.create(this.dom, {\r\n            //value:  monaco.editor.getModels()[0], //['class A{b:B;};\\nclass B{a:A;};\\nfunction x() {', '\\tconsole.log(\"Hello world!\");', '}'].join('\\n'),\r\n            language: 'typescript',\r\n            theme: (theme ? theme : \"vs-light\"),\r\n            glyphMargin: true,\r\n            fontSize: 12,\r\n            automaticLayout: true,\r\n            //@ts-ignore\r\n            inlineSuggest:{}\r\n        });\r\n\r\n        __init(this._editor);\r\n        this._editor.onMouseDown(function (e) {\r\n            _this._mouseDown(e);\r\n        });\r\n    }\r\n    private getBreakpointDecoration(line: number): monaco.editor.IModelDecoration {\r\n        var decs = this._editor.getLineDecorations(line);\r\n        for (var x = 0; x < decs.length; x++) {\r\n            if (decs[x].options.glyphMarginClassName === \"jbreackpoint\")\r\n                return decs[x];\r\n        }\r\n        return undefined;\r\n    }\r\n     autocomplete(){\r\n        this._editor.trigger(\"äläöl\",'editor.action.triggerSuggest',\"{}\");\r\n    }\r\n    private _mouseDown(e) {\r\n        if (e.target.type === 2) {\r\n            var line = e.target.position.lineNumber;\r\n            var column = this._editor.getModel().getLineContent(line - 1).length;\r\n            var type = \"debugpoint\";\r\n            var dec = this.getBreakpointDecoration(line);\r\n            if (dec) {\r\n                this._editor.deltaDecorations([dec.id], []);\r\n                this.callEvent(\"breakpointChanged\", line - 1, column, false, type);\r\n            } else {\r\n                this.callEvent(\"breakpointChanged\", line - 1, column, true, type);\r\n                var decorations = this._editor.deltaDecorations([], [\r\n                    {\r\n                        range: new monaco.Range(line, 1, line, 1),\r\n                        options: {\r\n                            isWholeLine: true,\r\n                            className: 'jbreackpointclass',\r\n                            glyphMarginClassName: 'jbreackpoint'\r\n                        }\r\n                    }\r\n                ]);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * gets a list of all lines with breakpoint\r\n     * @returns {Object.<number, boolean>}\r\n     */\r\n    getBreakpoints(): { [line: number]: boolean } {\r\n        var ret = {};\r\n        var decs = this._editor.getModel().getLineCount();\r\n        for (var x = 1; x <= this._editor.getModel().getLineCount(); x++) {\r\n            if (this.getBreakpointDecoration(x)) {\r\n                ret[x - 1] = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * breakpoint changed\r\n     * @param {function} handler - function(line,enabled,type)\r\n     */\r\n    onBreakpointChanged(handler) {\r\n        this.addEvent(\"breakpointChanged\", handler);\r\n    }\r\n    /**\r\n     * component get focus\r\n     * @param {function} handler\r\n     */\r\n    onfocus(handler) {\r\n        return undefined;\r\n        //   this._editor.on(\"focus\", handler);\r\n    }\r\n    /**\r\n     * component lost focus\r\n     * @param {function} handler\r\n     */\r\n    onblur(handler) {\r\n        return undefined;\r\n        // this._editor.on(\"blur\", handler);\r\n    }\r\n    /**\r\n     * @param - the codetext\r\n     */\r\n    set value(value: string) { //the Code\r\n        var lastcursor = this.cursorPosition;\r\n        var _this = this;\r\n        if (this.file) {\r\n            var ffile = monaco.Uri.from({ path: \"/\" + this.file, scheme: 'file' });\r\n            var mod = monaco.editor.getModel(ffile);\r\n            if (!mod) {\r\n                var stype=\"typescript\";\r\n                if(this.file.toLocaleLowerCase().endsWith(\".css\"))\r\n                    stype=\"css\";\r\n                 if(this.file.toLocaleLowerCase().endsWith(\".json\"))\r\n                    stype=\"json\";\r\n                if(this.file.toLocaleLowerCase().endsWith(\".html\"))\r\n                    stype=\"html\";\r\n                if(this.file.toLocaleLowerCase().endsWith(\".jpg\"))\r\n                    stype=\"jpg\";\r\n                mod = monaco.editor.createModel(value, stype, ffile);\r\n                this._editor.setModel(mod);\r\n                this._editor.setValue(value);\r\n            } else if (mod !== this._editor.getModel()) {\r\n                delete this._editor.getModel()[\"lastEditor\"];\r\n                this._editor.setModel(mod);\r\n                this._editor.setValue(value);\r\n            } else {\r\n                const fullRange = this._editor.getModel().getFullModelRange();\r\n\r\n                // Apply the text over the range\r\n                this._editor.executeEdits(null, [{\r\n                    text: value,\r\n                    range: fullRange\r\n                    \r\n                }]);\r\n                \r\n                /* alternative\r\n                this._editor.getModel().pushEditOperations([], [{\r\n                    range: this._editor.getModel().getFullModelRange(),// monaco.Range.fromPositions({ column: data.pos.column, lineNumber: data.pos.row }),\r\n                    text: value\r\n                }], (a) => {\r\n                    return null\r\n                });*/\r\n                this._editor.pushUndoStop();\r\n            }\r\n            if (this._editor.getModel()) {\r\n                this._editor.getModel()[\"lastEditor\"] = _this._editor;\r\n\r\n            }\r\n        } else\r\n\r\n            this._editor.setValue(value);\r\n    }\r\n\r\n    get value(): string {\r\n        return this._editor.getValue();\r\n    }\r\n    /**\r\n     * @param {object} position - the current cursor position {row= ,column=}\r\n     */\r\n    set cursorPosition(cursor: { row: number, column: number }) {\r\n        this._editor.focus();\r\n        try {\r\n            this._editor.revealLine(cursor.row);\r\n            this._editor.setPosition({ column: cursor.column, lineNumber: cursor.row });\r\n        } catch {\r\n\r\n        }\r\n    }\r\n    get cursorPosition(): { row: number, column: number } {\r\n        var pos = this._editor.getPosition();\r\n        return {\r\n            row: pos.lineNumber,\r\n            column: pos.column\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        //this._editor.destroy();\r\n        super.destroy();\r\n        delete this._editor.getModel()[\"lastEditor\"];\r\n    }\r\n\r\n    /**\r\n    * undo action\r\n    */\r\n    undo() {\r\n        //@ts-ignore\r\n        this._editor.getModel().undo();\r\n    }\r\n    /**\r\n     * resize the editor\r\n     * */\r\n    resize() {\r\n        //\r\n        //   this._editor.resize();\r\n    }\r\n    /**\r\n   * @member {string} - the language of the editor e.g. \"ace/mode/javascript\"\r\n   */\r\n    set mode(mode) {\r\n        //  alert(mode);\r\n        this._mode = mode;\r\n        //  this._editor.getSession().setMode(\"ace/mode/\" + mode);\r\n    }\r\n    get mode() {\r\n        return this._mode;\r\n    }\r\n    async loadsample() {\r\n\r\n        this.file = \"a/Dialog.ts\";\r\n        this.value = \"var a=window.document;\";\r\n    }\r\n}\r\n\r\nexport async function test() {\r\n    //await Settings.save(Settings.keys.Development_MoanacoEditorTheme, \"vs-dark\", \"user\")\r\n    var dlg = new MonacoPanel();\r\n    //  var code = await new Server().loadFile(\"a/Dialog.ts\");\r\n    await dlg.loadsample();\r\n    setTimeout(() => {\r\n        dlg.width = \"800\";\r\n        dlg.height = \"100\";\r\n\r\n    }, 200);\r\n    //@ts-ignore\r\n    //   dlg._editor.layout();\r\n\r\n    //    dlg.value = \"var h;\\r\\nvar k;\\r\\nvar k;\\r\\nvar k;\\r\\nconsole.debug('ddd');\";\r\n    //  dlg.mode = \"javascript\";\r\n    //dlg._editor.renderer.setShowGutter(false);\t\t\r\n    //dlg._editor.getSession().addGutterDecoration(1,\"error_line\");\r\n    //  dlg._editor.getSession().setBreakpoint(1);\r\n    // dlg._editor.getSession().setBreakpoint(2);\r\n\r\n    return dlg;\r\n}\r\n\r\n","//this file is autogenerated don't modify\ndefine(\"jassijs_editor/registry\",[\"require\"], function(require) {\n return {\n  default: {\n\t\"jassijs_editor/AcePanel.ts\": {\n\t\t\"date\": 1720101244987.3042,\n\t\t\"jassijs.ui.AcePanel\": {}\n\t},\n\t\"jassijs_editor/AcePanelSimple.ts\": {\n\t\t\"date\": 1719757301492.3672,\n\t\t\"jassijs.ui.AcePanelSimple\": {}\n\t},\n\t\"jassijs_editor/ChromeDebugger.ts\": {\n\t\t\"date\": 1681488352000,\n\t\t\"jassijs_editor.ChromeDebugger\": {}\n\t},\n\t\"jassijs_editor/CodeEditor.ts\": {\n\t\t\"date\": 1739909138880.0374,\n\t\t\"jassijs_editor.CodeEditorSettingsDescriptor\": {\n\t\t\t\"$SettingsDescriptor\": [],\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs_editor.CodeEditor\": {\n\t\t\t\"@members\": {}\n\t\t}\n\t},\n\t\"jassijs_editor/CodeEditorInvisibleComponents.ts\": {\n\t\t\"date\": 1719757407652.6265,\n\t\t\"jassijs_editor.CodeEditorInvisibleComponents\": {}\n\t},\n\t\"jassijs_editor/CodePanel.ts\": {\n\t\t\"date\": 1655661690000,\n\t\t\"jassijs_editor.CodePanel\": {}\n\t},\n\t\"jassijs_editor/ComponentDesigner.ts\": {\n\t\t\"date\": 1740075940067.0588,\n\t\t\"jassijs_editor.ComponentDesigner\": {}\n\t},\n\t\"jassijs_editor/ComponentExplorer.ts\": {\n\t\t\"date\": 1739999267632.0261,\n\t\t\"jassijs_editor.ComponentExplorer\": {}\n\t},\n\t\"jassijs_editor/ComponentPalette.ts\": {\n\t\t\"date\": 1721754620068.305,\n\t\t\"jassijs_editor.ComponentPalette\": {}\n\t},\n\t\"jassijs_editor/ComponentSpy.ts\": {\n\t\t\"date\": 1719755727631.165,\n\t\t\"jassijs_editor.ui.ComponentSpy\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"dummy\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-account-cog-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Spy Components\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-police-badge\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/DatabaseDesigner.ts\": {\n\t\t\"date\": 1739905972951.1553,\n\t\t\"jassijs_editor/DatabaseDesigner\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Database Designer\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-database-edit\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/Debugger.ts\": {\n\t\t\"date\": 1656019586000,\n\t\t\"jassijs_editor.Debugger\": {}\n\t},\n\t\"jassijs_editor/ErrorPanel.ts\": {\n\t\t\"date\": 1720116488294.8394,\n\t\t\"jassijs_editor.ui.ErrorPanel\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Errors\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-emoticon-confused-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/ext/monaco.ts\": {\n\t\t\"date\": 1720105252684.6934\n\t},\n\t\"jassijs_editor/ext/monaco2.ts\": {\n\t\t\"date\": 1720090850426.468\n\t},\n\t\"jassijs_editor/ext/typescriptservices.ts\": {\n\t\t\"date\": 1720556246507.595\n\t},\n\t\"jassijs_editor/FileExplorer.ts\": {\n\t\t\"date\": 1683575950000,\n\t\t\"jassijs_editor.ui.FileActions\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/File\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"download\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Download\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newModule\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Module\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"dodelete\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Delete\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"mapLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Map local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"closeLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Close local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"rename\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Rename\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"refresh\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Refresh\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"open\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Open\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"jassijs.ui.FileExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Files\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file-tree\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/HtmlDesigner.ts\": {\n\t\t\"date\": 1739909679697.9824,\n\t\t\"jassijs_editor.HtmlDesigner\": {}\n\t},\n\t\"jassijs_editor/modul.ts\": {\n\t\t\"date\": 1720612634385.9824\n\t},\n\t\"jassijs_editor/MonacoPanel.ts\": {\n\t\t\"date\": 1720101262364.5872,\n\t\t\"jassijs_editor.MonacoPanel\": {}\n\t},\n\t\"jassijs_editor/SearchExplorer.ts\": {\n\t\t\"date\": 1720256623984.0022,\n\t\t\"jassijs_editor.ui.SearchExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Search\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-folder-search-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/StartEditor.ts\": {\n\t\t\"date\": 1720115090825.8567\n\t},\n\t\"jassijs_editor/template/TemplateDBDialog.ts\": {\n\t\t\"date\": 1721659030283.6165,\n\t\t\"jassijs_editor.template.TemplateDBDialogProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBDialog\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateDBObject.ts\": {\n\t\t\"date\": 1681570394000,\n\t\t\"jassijs_editor.template.TemplateDBObjectProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateEmptyDialog.ts\": {\n\t\t\"date\": 1681579996000,\n\t\t\"jassijs_editor.template.TemplateEmptyDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Dialog\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateRemoteObject.ts\": {\n\t\t\"date\": 1681570100000,\n\t\t\"jassijs_editor.template.TemplateRemoteObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/RemoteObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/DatabaseSchema.ts\": {\n\t\t\"date\": 1720101271019.9363,\n\t\t\"jassijs_editor.util.DatabaseSchema\": {}\n\t},\n\t\"jassijs_editor/util/DragAndDropper.ts\": {\n\t\t\"date\": 1657925428000,\n\t\t\"jassijs_editor.util.DragAndDropper\": {}\n\t},\n\t\"jassijs_editor/util/Parser.ts\": {\n\t\t\"date\": 1722105568121.3489,\n\t\t\"jassijs_editor.util.Parser\": {}\n\t},\n\t\"jassijs_editor/util/Resizer.ts\": {\n\t\t\"date\": 1739999435244.1797,\n\t\t\"jassijs_editor.util.Resizer\": {}\n\t},\n\t\"jassijs_editor/util/Tests.ts\": {\n\t\t\"date\": 1739727794640.8933,\n\t\t\"jassijs_editor.ui.TestAction\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"testNode\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Run Tests\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/TSSourceMap.ts\": {\n\t\t\"date\": 1720117379608.988,\n\t\t\"jassijs_editor.util.TSSourceMap\": {}\n\t},\n\t\"jassijs_editor/util/Typescript.ts\": {\n\t\t\"date\": 1720115012657.7117,\n\t\t\"jassijs_editor.util.Typescript\": {}\n\t}\n}\n }\n});","import { $Class } from \"jassijs/remote/Registry\";\r\nimport {Tree} from \"jassijs/ui/Tree\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\nimport {Textbox} from \"jassijs/ui/Textbox\";\r\nimport {Server} from \"jassijs/remote/Server\";\r\n\r\nimport { router } from \"jassijs/base/Router\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport windows from \"jassijs/base/Windows\";\r\n\r\n@$ActionProvider(\"jassijs.base.ActionNode\")\r\n@$Class(\"jassijs_editor.ui.SearchExplorer\")\r\nexport class SearchExplorer extends Panel {\r\n    tree: Tree;\r\n    search: Textbox;\r\n    //@member - maximal hits which are found \r\n    maximalFounds: Number = 100;\r\n    constructor() {\r\n        super();\r\n        //this.maximize();\r\n        this.dom.style.width= \"calc(100% - 8px)\";\r\n        this.dom.style.height= \"calc(100% - 25px)\";//why 25????\r\n        this.tree = new Tree();\r\n        this.search = new Textbox();\r\n        this.layout();\r\n    }\r\n      @$Action ({\r\n    \tname: \"Windows/Development/Search\",\r\n       \ticon: \"mdi mdi-folder-search-outline\",\r\n    })\r\n    static async show(){\r\n        if (windows.contains(\"Search\")) \r\n\t\t\tvar window = windows.show(\"Search\");\r\n\t\telse\r\n         windows.addLeft(new SearchExplorer(), \"Search\");\r\n    }\r\n    async doSearch() { \r\n        var typescript=(await import (\"jassijs_editor/util/Typescript\")).mytypescript;\r\n        var all = [];\r\n        var files = [];// [{name:\"Hallo\",lines:[{ name:\"Treffer1\",pos:1},{name:\"treffer2\" ,pos:2}]}];\r\n        var toFind: string =( <string>this.search.value).toLocaleLowerCase();\r\n        var count = 0;\r\n        var filenames=typescript.getFiles();\r\n        for (var f=0;f<filenames.length;f++){\r\n            var file=filenames[f];\r\n            if(file.indexOf(\"node_modules\")>-1)//no search in node modules\r\n                continue;\r\n            var code=typescript.getCode(file);\r\n            if(code){\r\n                var text = code.toLowerCase();\r\n                var pos = text.indexOf(toFind);\r\n                var foundedFile={name:file,lines: [] }\r\n                while (pos !== -1) {\r\n                    count++;\r\n                    if (count > this.maximalFounds) {\r\n                        break;\r\n                    }\r\n                    var startline = text.lastIndexOf(\"\\n\", pos);\r\n                    var endline = text.indexOf(\"\\n\", pos);\r\n                    var line = text.substring(startline, endline);\r\n                    foundedFile.lines.push({name:line,pos:pos,file:file})\r\n                    pos = text.indexOf(toFind,pos+1);\r\n                }\r\n                if(foundedFile.lines.length>0)\r\n                    files.push(foundedFile);\r\n                if (count > this.maximalFounds) { \r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this.tree.items = files;\r\n        this.tree.expandAll();\r\n    }\r\n    async layout() {\r\n        var _this = this;\r\n        this.tree.width = \"100%\";\r\n        this.tree.height = \"100%\";\r\n        super.add(this.search);\r\n        super.add(this.tree);\r\n\r\n        this.tree.propDisplay = \"name\";\r\n        this.tree.propChilds = \"lines\";\r\n\r\n        this.tree.onclick(function(evt) {\r\n\r\n            if (evt.data !== undefined && evt.data.file !== undefined) {\r\n            \tvar pos=evt.data.pos;\r\n                var file=evt.data.file;\r\n                import (\"jassijs_editor/util/Typescript\").then(Typescript=>{\r\n                    var text:string=Typescript.mytypescript.getCode(file);\r\n                    var line=text.substring(0,pos).split(\"\\n\").length;\r\n                    router.navigate(\"#do=jassijs_editor.CodeEditor&file=\" + file+\"&line=\"+line);\r\n                });\r\n\r\n            }\r\n        });\r\n        this.dom.style[\"flow\"]=\"visible\";\r\n        this.search.onkeydown(function(evt) {\r\n            window.setTimeout(() => {\r\n                //\tif(evt.code===\"Enter\"){\r\n                _this.doSearch();\r\n                //\t}\r\n            }, 100);\r\n        });\r\n        this.search.height = 15;\r\n    }\r\n\r\n\r\n}\r\nexport function test() {\r\n    return new SearchExplorer();\r\n\r\n}\r\n\r\n\r\n","\r\n\r\n\r\nimport {FileExplorer} from \"jassijs_editor/FileExplorer\";\r\nimport windows from \"jassijs/base/Windows\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\nimport {Button} from \"jassijs/ui/Button\";\r\nimport { router } from \"jassijs/base/Router\";\r\nimport {SearchExplorer} from \"jassijs_editor/SearchExplorer\";\r\nimport { DBObjectExplorer } from \"jassijs/ui/DBObjectExplorer\";\r\nimport { ActionNodeMenu } from \"jassijs/ui/ActionNodeMenu\";\r\n\r\n\r\n//var h=new RemoteObject().test();\r\n\r\nasync function start() {\r\n\r\n  //  jassijs.myRequire(\"https://unpkg.com/source-map@0.7.3/dist/source-map.js\");\r\n    //var body = new Panel({ id: \"body\" });\r\n    //body.max();\r\n    windows.addLeft(new DBObjectExplorer(), \"DBObjects\");\r\n    windows.addLeft(new SearchExplorer(), \"Search\");\r\n    windows.addLeft(new FileExplorer(), \"Files\");\r\n    var bt=new Button();\r\n    windows._desktop.add(bt);\r\n    bt.icon=\"mdi mdi-refresh\";\r\n    var am=new ActionNodeMenu();\r\n    bt.onclick(()=>{\r\n        windows._desktop.remove(am);\r\n        am=new ActionNodeMenu()\r\n        windows._desktop.add(am);\r\n    });\r\n    windows._desktop.add(am);\r\n    router.navigate(window.location.hash);\r\n\r\n\r\n}\r\nstart().then();\r\n\r\n\r\n\r\n","import registry, { $Class } from \"jassijs/remote/Registry\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nimport { $Action, $ActionProvider } from \"jassijs/base/Actions\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { DBObject } from \"jassijs/remote/DBObject\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport { FileActions } from \"jassijs_editor/FileExplorer\"; \r\n\r\nconst code=`\r\nimport { NumberConverter } from \"jassijs/ui/converters/NumberConverter\";\r\nimport { Textbox } from \"jassijs/ui/Textbox\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Panel } from \"jassijs/ui/Panel\";\r\nimport { {{dbclassname}} } from \"{{dbfilename}}\";\r\nimport { DBObjectView, $DBObjectView, ObjectViewToolbar } from \"jassijs/ui/DBObjectView\";\r\nimport { jc } from \"jassijs/ui/Component\";\r\n\r\n\r\n\r\n@$DBObjectView({classname:\"{{fulldbclassname}}\"})\r\n@$Class(\"{{fullclassname}}\")\r\nexport class {{dialogname}} extends DBObjectView<{{dbclassname}}> {\r\n    get title() {\r\n        return this.value === undefined ? \"{{dialogname}}\" : \"{{dialogname}} \" + this.value.id;\r\n    }\r\n    render() {\r\n        return jc(Panel, {\r\n            children: [\r\n                jc(ObjectViewToolbar, { view: this })\r\n            ]\r\n        })\r\n    }\r\n}\r\n\r\nexport async function test(){\r\n\tvar ret=new {{dialogname}}();\r\n\tret.value=<{{dbclassname}}>await {{dbclassname}}.findOne();\r\n\treturn ret;\r\n}`;\r\n@$Class(\"jassijs_editor.template.TemplateDBDialogProperties\")\r\nexport class TemplateDBDialogProperties {\r\n\t@$Property({decription:\"name of the dialog\"})\r\n\tdialogname:string;\r\n\t@$Property({type:\"classselector\", service:\"$DBObject\"})\r\n    dbobject:DBObject;\r\n}\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs.template.TemplateDBDialog\")\r\nexport class TemplateDBDialog {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/DBDialog\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\t\tvar props=new TemplateDBDialogProperties();\r\n        var res = await OptionDialog.askProperties(\"Create new DBDialog:\",props, [\"ok\", \"cancel\"],undefined,false);\r\n        if (res.button === \"ok\" ) {\r\n\t    \tvar scode=code.replaceAll(\"{{dialogname}}\",props.dialogname);\r\n\t    \tvar fulldbclassname= classes.getClassName(props.dbobject);\r\n\t    \tvar shortdbclassname=fulldbclassname.split(\".\")[fulldbclassname.split(\".\").length-1];\r\n\t    \tvar dbfilename=(await registry.getJSONData(\"$Class\",fulldbclassname))[0].filename;\r\n\t    \tdbfilename=dbfilename.substring(0,dbfilename.length-3);\r\n\t    \tscode=scode.replaceAll(\"{{fullclassname}}\",(all[0].fullpath+\"/\"+props.dialogname).replaceAll(\"/\",\".\"));\r\n\t    \tscode=scode.replaceAll(\"{{dbclassname}}\",shortdbclassname);\r\n\t    \tscode=scode.replaceAll(\"{{fulldbclassname}}\",fulldbclassname);\r\n\t    \tscode=scode.replaceAll(\"{{dbfilename}}\",dbfilename);\r\n\t    \r\n\t    \tFileActions.newFile(all,props.dialogname+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\r\nimport { $Property } from \"jassijs/ui/Property\";\r\nimport { $ActionProvider, $Action } from \"jassijs/base/Actions\";\r\nimport { DBObject } from \"jassijs/remote/DBObject\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { classes } from \"jassijs/remote/Classes\";\r\nimport registry from \"jassijs/remote/Registry\";\r\nimport { FileActions } from \"jassijs_editor/FileExplorer\";\r\nimport { TemplateDBDialog } from \"jassijs_editor/template/TemplateDBDialog\";\r\n\r\nvar code=`import {DBObject, $DBObject } from \"jassijs/remote/DBObject\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Entity, PrimaryColumn, Column, OneToOne, ManyToMany, ManyToOne, OneToMany,JoinColumn,JoinTable } from \"jassijs/util/DatabaseSchema\";\r\nimport { $DBObjectQuery } from \"jassijs/remote/DBObjectQuery\";\r\n\r\n\r\n@$DBObject()\r\n@$Class(\"{{fullclassname}}\")\r\n\r\nexport class {{classname}} extends DBObject {\r\n\r\n    {{PrimaryAnnotator}}\r\n    declare id: number;\r\n  \r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n\r\n\r\nexport async function test() {\r\n};`;\r\n\r\n@$Class(\"jassijs_editor.template.TemplateDBObjectProperties\")\r\nexport class TemplateDBObjectProperties {\r\n\t@$Property({decription:\"name of the db class\"})\r\n\tname:string;\r\n\t@$Property({default:\"true\",description:\"the primary column alue will be automatically generated with an auto-increment value\"})\r\n    autogeneratedid:string;\r\n}\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs.template.TemplateDBObject\")\r\nexport class TemplateDBObject {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/DBObject\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory()&&all[0].fullpath.indexOf(\"/remote/\")!==-1;\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\t\tvar props=new TemplateDBObjectProperties();\r\n        var res = await OptionDialog.askProperties(\"Create Database Class:\",props, [\"ok\", \"cancel\"],undefined,false);\r\n        if (res.button === \"ok\" ) {\r\n\t    \tvar scode=TemplateDBObject.code.replaceAll(\"{{fullclassname}}\",all[0].fullpath+\"/\"+props.name);\r\n\t    \tscode=scode.replaceAll(\"{{classname}}\",props.name);\r\n\t    \tvar anno=\"@PrimaryColumn()\";\r\n\t    \tif(props.autogeneratedid)\r\n\t    \t\t anno=\"@PrimaryGeneratedColumn()\";\r\n\t    \tscode=scode.replaceAll(\"{{PrimaryAnnotator}}\",anno);\r\n\r\n\t    \tFileActions .newFile(all,props.name+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { $ActionProvider, $Action } from \"jassijs/base/Actions\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { FileExplorer, FileActions } from \"jassijs_editor/FileExplorer\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { router } from \"jassijs/base/Router\";\r\nconst code=`import { $Class } from \"jassijs/remote/Registry\";\r\nimport {Panel} from \"jassijs/ui/Panel\";\r\n\r\ntype Me = {\r\n}\r\n\r\n@$Class(\"{{fullclassname}}\")\r\nexport class {{dialogname}} extends Panel {\r\n    me: Me;\r\n    constructor() {\r\n        super();\r\n        this.me = {};\r\n        this.layout(this.me);\r\n    }\r\n    layout(me: Me) {\r\n        this.config({});\r\n\t}\r\n}\r\n\r\nexport async function test(){\r\n\tvar ret=new {{dialogname}}();\r\n\treturn ret;\r\n}`;\r\n\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs_editor.template.TemplateEmptyDialog\")\r\nexport class TemplateEmptyDialog {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/Dialog\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory();\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\r\n        var res = await OptionDialog.show(\"Enter dialog name:\", [\"ok\", \"cancel\"], undefined, true, \"Dialog\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n\t    \tvar scode=code.replaceAll(\"{{dialogname}}\",res.text);\r\n\t    \tscode=scode.replaceAll(\"{{fullclassname}}\",all[0].fullpath+\"/\"+res.text);\r\n\t    \tFileActions.newFile(all,res.text+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { $ActionProvider, $Action } from \"jassijs/base/Actions\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\";\r\nimport { FileExplorer, FileActions } from \"jassijs_editor/FileExplorer\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { router } from \"jassijs/base/Router\";\r\nconst code=`import { $Class } from \"jassijs/remote/Registry\";\r\nimport { Context, RemoteObject } from \"jassijs/remote/RemoteObject\";\r\n\r\n@$Class(\"{{fullclassname}}\")\r\nexport class {{name}} extends RemoteObject{\r\n    //this is a sample remote function\r\n    public async sayHello(name: string,context: Context = undefined) {\r\n        if (!context?.isServer) {\r\n            return await this.call(this, this.sayHello, name,context);\r\n        } else {\r\n            return \"Hello \"+name;  //this would be execute on server  \r\n        }\r\n    }\r\n}\r\nexport async function test(){\r\n    console.log(await new {{name}}().sayHello(\"Kurt\"));\r\n}\r\n`;\r\n\r\n@$ActionProvider(\"jassijs.remote.FileNode\")\r\n@$Class(\"jassijs_editor.template.TemplateRemoteObject\")\r\nexport class TemplateRemoteObject {\r\n\tstatic code:string=code;\r\n    @$Action({\r\n        name: \"New/RemoteObject\",\r\n        isEnabled: function(all: FileNode[]): boolean {\r\n            return all[0].isDirectory()&&all[0].fullpath.split(\"/\").length>1&&all[0].fullpath.split(\"/\")[1]===\"remote\";\r\n        }\r\n    })\r\n    static async newFile(all: FileNode[]) {\r\n\r\n        var res = await OptionDialog.show(\"Enter RemoteObject name:\", [\"ok\", \"cancel\"], undefined, true, \"MyRemoteObject\");\r\n        if (res.button === \"ok\" && res.text !== all[0].name) {\r\n\t    \tvar scode=code.replaceAll(\"{{name}}\",res.text);\r\n\t    \tscode=scode.replaceAll(\"{{fullclassname}}\",(all[0].fullpath+\"/\"+res.text).replaceAll(\"/\",\".\"));\r\n\t    \tFileActions.newFile(all,res.text+\".ts\",scode,true);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { $Class } from \"jassijs/remote/Registry\";\nimport registry from \"jassijs/remote/Registry\";\nimport \"jquery.choosen\";\nimport {mytypescript} from \"jassijs_editor/util/Typescript\";\nimport { Parser, ParsedClass } from \"jassijs_editor/util/Parser\";\nimport { TemplateDBObject } from \"jassijs_editor/template/TemplateDBObject\";\nimport { Tools } from \"jassijs/util/Tools\";\nimport { Server } from \"jassijs/remote/Server\";\nimport windows from \"jassijs/base/Windows\";\nimport { OptionDialog } from \"jassijs/ui/OptionDialog\"; \n\n\nexport class DatabaseField { \n    name: string;\n    type: string;\n    relation: string;\n    properties: any;\n    inverseSide: string;\n    join: boolean;\n\n\n    get nullable(): boolean {\n        return this.properties?.nullable;\n    }\n    set nullable(value: boolean) {\n        if (value === undefined) {\n            if (this.properties)\n                delete this.properties.nullable;\n            return;\n        }\n\n        if (DatabaseSchema.basicdatatypes.indexOf(this.type) === -1 || this.relation) {\n            if (value === undefined)\n                return;\n            throw \"This field could not be nullable\";\n        }\n        if (this.properties === undefined)\n            this.properties = {};\n        this.properties.nullable = value;\n\n    }\n    private parent: DatabaseClass;\n    getReverseField(): DatabaseField {\n        if (this.inverseSide && this.inverseSide !== \"\") {\n            if (this.inverseSide.indexOf(\".\") === -1)\n                return undefined;\n            var sp = this.inverseSide.split(\".\");\n            var clname = this.type.replace(\"[]\", \"\")\n            var cl = this.parent.parent.getClass(clname);\n            if (!cl)\n                return undefined;\n            return cl.getField(sp[1]);\n        }\n        return undefined;\n    }\n\n    /**\n     * looks possible relations in the type class\n     **/\n    getPossibleRelations(): string[] {\n        if (this.name === \"id\")\n            return [\"PrimaryColumn\", \"PrimaryGeneratedColumn\"];\n\n        if (!this.type || DatabaseSchema.basicdatatypes.indexOf(this.type) >= 0)\n            return [];\n        var values = [];\n        if (this.type.endsWith(\"[]\")) {\n            values = [\"\", \"OneToMany\", \"ManyToMany\"];\n        } else\n            values = [\"\", \"OneToOne\", \"ManyToOne\"];\n        var cl = this.type.replace(\"[]\", \"\");\n        var parentcl = this.parent.name;\n        var relclass = this.parent.parent.getClass(cl);\n        for (var x = 0; x < relclass.fields.length; x++) {\n            var relfield = relclass.fields[x];\n            if (this.type.endsWith(\"[]\")) {\n\n                if (relfield.type === parentcl) {\n                    //OneToMany\n                    values.push(\"e.\" + relfield.name);\n                }\n                if (relfield.type === (parentcl + \"[]\")) {\n                    //ManyToMany\n                    values.push(\"e.\" + relfield.name);\n                    values.push(\"e.\" + relfield.name + \"(join)\");\n                }\n            } else {\n\n                if (relfield.type === parentcl) {\n                    //OneToOne\n                    values.push(\"e.\" + relfield.name);\n                    values.push(\"e.\" + relfield.name + \"(join)\");\n                }\n                if (relfield.type === (parentcl + \"[]\")) {\n                    //ManyToOne\n                    values.push(\"e.\" + relfield.name);\n                }\n            }\n        }\n        return values;\n    }\n    get relationinfo(): string {\n        if (this.relation === \"OneToOne\" || this.relation === \"ManyToMany\" || this.relation === \"ManyToOne\" || this.relation === \"OneToMany\") {\n            if (this.inverseSide) {\n                return this.inverseSide + (this.join ? \"(join)\" : \"\");\n            } else {\n                return this.relation;\n            }\n        } else if (this.relation === \"PrimaryColumn\" || this.relation === \"PrimaryGeneratedColumn\")\n            return this.relation;\n        else\n            return undefined;\n    }\n    set relationinfo(value: string) {\n        if (value === \"\")\n            value = undefined;\n        if (value === undefined) {\n            this.relation = undefined;\n            //  return;\n        }\n        if (value === \"PrimaryColumn\" || value === \"PrimaryGeneratedColumn\") {\n            if (this.name === \"id\")\n                this.relation = value;\n            return;\n        }\n        if (value === undefined || value === \"OneToOne\" || value === \"ManyToMany\" || value === \"ManyToOne\" || value === \"OneToMany\") {\n\n            var old = this.getReverseField();\n            if (old !== undefined)\n                old.inverseSide = undefined;//delete the relation on the reverse side\n            this.relation = value;\n            this.inverseSide = undefined;\n        } else {\n            var oval = value;\n            if (oval.endsWith(\"(join)\")) {\n                oval = oval.replace(\"(join)\", \"\");\n                this.join = true;\n            } else\n                this.join = false;\n            this.inverseSide = oval;\n            var rfield = this.getReverseField();\n\n            if (rfield === undefined) {\n\n                this.inverseSide = undefined;\n                throw Error(\"relation not found\")\n            }\n            //set the relation on the reverse side\n            if (!rfield.inverseSide?.endsWith(\".\" + this.name))\n                rfield.inverseSide = \"e.\" + this.name;\n            if (this.type.endsWith(\"[]\")) {\n                if (rfield.type.endsWith(\"[]\")) {\n                    this.relation = \"ManyToMany\";\n                    //sets the join in the other\n                    rfield.join = !this.join;\n\n                } else {\n                    this.relation = \"OneToMany\";\n                }\n            } else {\n                if (rfield.type.endsWith(\"[]\")) {\n                    this.relation = \"ManyToOne\";\n                } else {\n                    this.relation = \"OneToOne\";\n                    //sets the join in the other\n                    rfield.join = !this.join;\n                }\n            }\n        }\n    }\n\n}\nexport class DatabaseClass {\n    filename: string;\n    name: string;\n    fields: DatabaseField[] = [];\n    properties: any;\n    parent: DatabaseSchema;\n    simpleclassname: string;\n    getField(name: string): DatabaseField {\n        for (var x = 0; x < this.fields.length; x++) {\n            var cl = this.fields[x];\n            if (cl.name === name)\n                return cl;\n        };\n        return undefined;\n    }\n}\n\nvar classnode = undefined;\n@$Class(\"jassijs_editor.util.DatabaseSchema\")\nexport class DatabaseSchema {\n    static basicdatatypes = [\"string\", \"int\", \"decimal\", \"boolean\", \"Date\"];\n    databaseClasses: DatabaseClass[] = [];\n    private parsedClasses: { [classname: string]: ParsedClass };\n    //AR|de/AR\n    private definedImports: { [importname: string]: ParsedClass };\n    getClass(name: string): DatabaseClass {\n        for (var x = 0; x < this.databaseClasses.length; x++) {\n            var cl = this.databaseClasses[x];\n            if (cl.name === name)\n                return cl;\n        };\n        return undefined;\n    }\n\n    //type => ARZeile\n    private getFulltype(type: string, parsedClass: ParsedClass): ParsedClass {\n        var pos = type.lastIndexOf(\">\");\n        if (pos > -1)\n            type = type.substring(pos + 1).trim();\n        var file = parsedClass.parent.imports[type];\n        if (type === parsedClass.name)\n            return parsedClass;\n        var ret = this.definedImports[type + \"|\" + file];\n        if (!ret) {\n            throw Error(\"Import not found \" + parsedClass.fullClassname + \" : \" + type);\n        }\n        return ret;\n    }\n    private createDBClass(cl: DatabaseClass) {\n        var scode = TemplateDBObject.code.replaceAll(\"{{fullclassname}}\", cl.name);\n        var file = cl.name.replaceAll(\".\", \"/\") + \".ts\";\n        file = file.substring(0, file.indexOf(\"/\")) + \"/remote\" + \"/\" + file.substring(file.indexOf(\"/\") + 1);\n        cl.filename = file;\n        cl.simpleclassname = cl.name.split(\".\")[cl.name.split(\".\").length - 1];\n        scode = scode.replaceAll(\"{{classname}}\", cl.simpleclassname);\n        scode = scode.replaceAll(\"{{PrimaryAnnotator}}\", \"@\" + cl.getField(\"id\").relation + \"()\");\n        var parser = new Parser();\n        parser.parse(scode);\n        for (var key in parser.classes) {\n            var pclass = parser.classes[key];\n            pclass[\"filename\"] = file;\n            if (pclass.decorator[\"$DBObject\"]) {\n                //var dbclass=pclass.decorator[\"$Class\"].param[0];\n                this.parsedClasses[pclass.fullClassname] = pclass;\n                this.definedImports[pclass.name + \"|\" + file.substring(0, file.length - 3)] = pclass;\n            }\n        }\n    }\n    private createDBField(field: DatabaseField, dbcl: DatabaseClass) {\n        var decs = {};\n        if ((field.join || field.inverseSide === undefined || field.inverseSide === \"\") && field.relation === \"OneToOne\")\n            decs[\"JoinColumn\"] = { name: \"JoinColumn\", parameter: [] };\n        if ((field.join || field.inverseSide === undefined || field.inverseSide === \"\") && field.join && field.relation === \"ManyToMany\")\n            decs[\"JoinTable\"] = { name: \"JoinTable\", parameter: [] };\n\n\n        var realtype = field.type;\n        var realprops = field.properties;\n        if (field.type === \"decimal\") {\n            realtype = \"number\";\n            if (!realprops)\n                realprops = {};\n            realprops.type = \"decimal\";\n        }\n        if (field.type === \"int\")\n            realtype = \"number\";\n        var s = realprops ? Tools.objectToJson(realprops, undefined, false)?.replaceAll(\"\\n\", \"\") : undefined;\n\n        var p = undefined;\n        if (!field.relation || field.relation === \"\") {\n            if (s)\n                p = [s];\n            decs[\"Column\"] = { name: \"Column\", parameter: p };\n        } else if (field.relation === \"PrimaryColumn\" || field.relation === \"PrimaryGeneratedColumn\") {\n            if (s)\n                p = [s];\n            decs[field.relation] = { name: field.relation, parameter: p };\n        } else {\n            var params = [];\n            var tcl = field.type.replace(\"[]\", \"\");\n\n            realtype = this.getClass(tcl).simpleclassname;\n            if (dbcl.name !== tcl)\n                this.parsedClasses[dbcl.name].parent.addImportIfNeeded(realtype, this.getClass(tcl).filename.substring(0, this.getClass(tcl).filename.length - 3));\n            let scl = tcl;\n            if (scl.indexOf(\".\") > -1) {\n                scl = scl.substring(scl.lastIndexOf(\".\") + 1);\n            }\n            params.push(\"type => \" + scl);\n            if (field.inverseSide && field.inverseSide !== \"\")\n                params.push(\"e=>\" + field.inverseSide);\n            if (s)\n                params.push(s);\n            decs[field.relation] = { name: field.relation, parameter: params };\n        }\n        this.parsedClasses[dbcl.name].parent.addOrModifyMember({ name: field.name, type: realtype, decorator: decs }, this.parsedClasses[dbcl.name]);\n    }\n    private async reloadCodeInEditor(file: string, text: string) {\n        var editor = windows.findComponent(\"jassijs_editor.CodeEditor-\" + file);\n        if (editor !== undefined) {\n\n            if (editor._codeToReload === undefined) {\n\n                var data = await OptionDialog.show(\"The source was updated in Chrome. Do you want to load this modification?\", [\"Yes\", \"No\"], editor, false);\n                if (data.button === \"Yes\")\n                    editor.value = text;\n                delete editor._codeToReload;\n\n            }\n        }\n    }\n    async updateSchema(onlyPreview: boolean = false): Promise<string> {\n        ///todo wenn kein basicfieldtype muss eine Beziehung hinterlegt sein throw Error\n        var changes = \"\";\n        var org = new DatabaseSchema();\n        await org.loadSchemaFromCode();\n        var modifiedclasses: DatabaseClass[] = [];\n        //check relations\n        for (var x = 0; x < this.databaseClasses.length; x++) {\n            var dbcl = this.databaseClasses[x];\n            for (var y = 0; y < dbcl.fields.length; y++) {\n                let f = dbcl.fields[y];\n                if (DatabaseSchema.basicdatatypes.indexOf(f.type) === -1 && (f.relation === undefined || f.relation === \"\"))\n                    throw Error(\"Relation must be filled \" + dbcl.name + \" field \" + f.name);\n            }\n        }\n        for (var x = 0; x < this.databaseClasses.length; x++) {\n            var dbcl = this.databaseClasses[x];\n            if (org.getClass(dbcl.name) === undefined) {\n                changes += \"create class \" + dbcl.name + \"\\n\";\n                modifiedclasses.push(dbcl);\n                if (!onlyPreview) {\n                    this.createDBClass(dbcl);\n                }\n            }\n            for (var y = 0; y < dbcl.fields.length; y++) {\n                var field = dbcl.fields[y];\n                var forg = org.getClass(dbcl.name)?.getField(field.name);\n                if (org.getClass(dbcl.name) === undefined || forg === undefined) {\n                    changes += \"create field \" + dbcl.name + \": \" + field.name + \"\\n\";\n                    if (modifiedclasses.indexOf(dbcl) === -1)\n                        modifiedclasses.push(dbcl);\n                    if (!onlyPreview) {\n                        this.createDBField(field, dbcl);\n                    }\n                } else {\n                    var jfield = JSON.stringify(field.properties);\n                    var jorg = JSON.stringify(forg.properties);\n                    var fieldjoin = field.join;\n                    if (fieldjoin === false)\n                        fieldjoin = undefined;\n                    if (field.type !== forg.type || field.inverseSide !== forg.inverseSide || field.relation !== forg.relation || jfield !== jorg || fieldjoin !== forg.join) {\n                        changes += \"modify deorator field \" + dbcl.name + \": \" + field.name + \"\\n\";\n                        if (modifiedclasses.indexOf(dbcl) === -1)\n                            modifiedclasses.push(dbcl);\n                        if (!onlyPreview) {\n                            this.createDBField(field, dbcl);\n                        }\n                    }\n                }\n            }\n        }\n\n        var files: string[] = [];\n        var contents: string[] = [];\n        if (!onlyPreview) {\n            for (var x = 0; x < modifiedclasses.length; x++) {\n                var mcl = modifiedclasses[x];\n                var text = this.parsedClasses[mcl.name].parent.getModifiedCode();\n                files.push(mcl.filename);\n                contents.push(text);\n                // console.log(mcl.filename + \"\\n\");\n                //  console.log(text + \"\\n\");\n\n            }\n            try {\n                await new Server().saveFiles(files, contents);\n                for (var y = 0; y < files.length; y++)\n                    await this.reloadCodeInEditor(files[y], contents[y]);\n            } catch (perr) {\n                alert(perr.message);\n            }\n        }\n        return changes;\n    }\n    private async parseFiles() {\n        this.parsedClasses = {};\n        this.definedImports = {};\n        await mytypescript.waitForInited;\n        var data = await registry.getJSONData(\"$DBObject\");\n        for (let x = 0; x < data.length; x++) {\n            var entr = data[x];\n            var parser = new Parser();\n            var file = entr.filename;\n            var code = mytypescript.getCode(file);\n           // if (code === undefined)\n           //     code = await new Server().loadFile(file);\n         if (code !== undefined) {\n                try {\n                    parser.parse(code);\n                } catch (err) {\n                    console.error(\"error in parsing \" + file);\n                    throw err;\n                }\n                for (var key in parser.classes) {\n                    var pclass = parser.classes[key];\n                    pclass[\"filename\"] = file;\n                    if (pclass.decorator[\"$DBObject\"]) {\n                        //var dbclass=pclass.decorator[\"$Class\"].param[0];\n                        this.parsedClasses[pclass.fullClassname] = pclass;\n                        this.definedImports[pclass.name + \"|\" + file.substring(0, file.length - 3)] = pclass;\n                    }\n                }\n            }\n        }\n    }\n    async loadSchemaFromCode() {\n        await this.parseFiles();\n        //await registry.loadAllFilesForService(\"$DBObject\")\n        await registry.reload();\n        var data = registry.getJSONData(\"$DBObject\");\n        this.databaseClasses = [];\n        var _this = this;\n        (await data).forEach((entr) => {\n            var dbclass = new DatabaseClass();\n            dbclass.name = entr.classname;\n            dbclass.parent = _this;\n            this.databaseClasses.push(dbclass);\n            var pclass = this.parsedClasses[entr.classname];\n            if (pclass) {\n                dbclass.filename = pclass[\"filename\"];\n                dbclass.simpleclassname = pclass.name;\n                dbclass.name = pclass.fullClassname;\n                for (var fname in pclass.members) {\n                    var pfield = pclass.members[fname];\n                    if (!pfield.decorator[\"Column\"] && !pfield.decorator[\"PrimaryColumn\"] && !pfield.decorator[\"PrimaryGeneratedColumn\"] && !pfield.decorator[\"OneToOne\"] && !pfield.decorator[\"ManyToOne\"] && !pfield.decorator[\"OneToMany\"] && !pfield.decorator[\"ManyToMany\"])\n                        continue;\n                    var field = new DatabaseField();\n                    field[\"parent\"] = dbclass;\n                    field.name = fname;\n                    dbclass.fields.push(field);\n                    var meta = pfield.decorator;\n\n                    if (meta[\"PrimaryColumn\"]) {\n                        field.relation = \"PrimaryColumn\";\n                    } else if (meta[\"PrimaryGeneratedColumn\"]) {\n                        field.relation = \"PrimaryColumn\";\n                    } else if (meta[\"Column\"]) {\n                        field.relation = undefined;\n\n                        //var mt=mtype[0][0];\n                        if (meta[\"Column\"].parameter.length > 0 && meta[\"Column\"].parameter.length > 0) {\n                            field.properties = meta[\"Column\"].parsedParameter[0];\n                        }\n\n                    } else if (meta[\"ManyToOne\"]) {\n                        field.relation = \"ManyToOne\";\n                        if (meta[\"ManyToOne\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"ManyToOne\"].parameter.length; x++) {\n                                let vd = meta[\"ManyToOne\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"ManyToOne\"].parameter[0], pclass).fullClassname;\n                                } else {\n                                    if (!meta[\"ManyToOne\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"ManyToOne\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                    } else if (meta[\"OneToMany\"]) {\n                        field.relation = \"OneToMany\";\n                        if (meta[\"OneToMany\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"OneToMany\"].parameter.length; x++) {\n                                let vd = meta[\"OneToMany\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"OneToMany\"].parameter[0], pclass).fullClassname + \"[]\";\n                                } else {\n                                    if (!meta[\"OneToMany\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"OneToMany\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                    } else if (meta[\"ManyToMany\"]) {\n                        field.relation = \"ManyToMany\";\n                        if (meta[\"ManyToMany\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"ManyToMany\"].parameter.length; x++) {\n                                let vd = meta[\"ManyToMany\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"ManyToMany\"].parameter[0], pclass).fullClassname + \"[]\";\n                                } else {\n                                    if (!meta[\"ManyToMany\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"ManyToMany\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                        if (meta[\"JoinTable\"])\n                            field.join = true;\n\n                    } else if (meta[\"OneToOne\"]) {\n                        field.relation = \"OneToOne\";\n                        if (meta[\"OneToOne\"].parameter.length > 0) {\n                            for (var x = 0; x < meta[\"OneToOne\"].parameter.length; x++) {\n                                let vd = meta[\"OneToOne\"].parameter[x];\n                                if (x === 0) {\n                                    field.type = this.getFulltype(meta[\"OneToOne\"].parameter[0], pclass).fullClassname;\n                                } else {\n                                    if (!meta[\"OneToOne\"].parameter[x].startsWith(\"{\")) {\n                                        field.inverseSide = vd.split(\">\")[1].trim();\n                                    } else {\n                                        field.properties = meta[\"OneToOne\"].parsedParameter[x];\n                                    }\n                                }\n                            }\n                        }\n                        if (meta[\"JoinColumn\"])\n                            field.join = true;\n                    }\n\n                    if (meta[\"PrimaryColumn\"] || meta[\"PrimaryGeneratedColumn\"] || meta[\"Column\"]) {\n                        var tp = pfield.type;\n                        if (tp === \"string\")\n                            field.type = \"string\";\n                        else if (tp === \"number\")\n                            field.type = \"int\";\n                        else if (tp === \"boolean\")\n                            field.type = \"boolean\";\n                        else if (tp === \"Date\")\n                            field.type = \"Date\";\n                        else\n                            throw new Error(\"type unknown \" + dbclass.name + \":\" + field.name);\n                        if (field.properties !== undefined && field.properties[\"type\"]) {\n                            field.type = field.properties[\"type\"];\n                        }\n                    }\n                }\n            }\n\n        });\n    }\n\n}\n\n/*\n@$Class(\"jassijs.base.DatabaseColumnOptions\")\nclass ColumnOptions{\n//\t@$Property({type:\"string\",chooseFrom:DatabaseSchema.basicdatatypes,description:\"Column type. Must be one of the value from the ColumnTypes class.\"})\n  //  type?: ColumnType;\n    @$Property({description:\"Indicates if column's value can be set to NULL.\", default:false}) \n    nullable?: boolean;\n    @$Property({type:\"string\",description:\"Default database value.\"}) \n    default?: any;\n    @$Property({description:\"Indicates if column is always selected by QueryBuilder and find operations.\",default:true})\n    @$Property({description:'Column types length. Used only on some column types. For example type = \"string\" and length = \"100\" means that ORM will create a column with type varchar(100).'})\n    length?: number;\n    [name:string]:any;\n}*/\nexport async function test3() {\n    var schema = new DatabaseSchema();\n    await schema.loadSchemaFromCode();\n    var schema2 = new DatabaseSchema();\n    await schema2.loadSchemaFromCode();\n\n    var test = new DatabaseClass();\n    test.parent = schema2;\n    test.name = \"de.NeuerKunde\";\n    var testf = new DatabaseField();\n    testf.name = \"id\";\n    testf.type = \"int\";\n    testf.relation = \"PrimaryColumn\";\n    test.fields.push(testf);\n    schema2.databaseClasses.push(test);\n    var f = new DatabaseField();\n    f.name = \"hallo\";\n    f.type = \"string\";\n    schema2.getClass(\"de.AR\").fields.push(f);\n    schema2.getClass(\"de.AR\").getField(\"nummer\").properties = { nullable: false };\n    var text = await schema2.updateSchema(true);\n    //console.log(result);\n    //test.pop();\n    //schema.visitNode(sourceFile);\n\n}\n\nexport async function test2() {\n    var schema = new DatabaseSchema();\n    await schema.loadSchemaFromCode();\n    var h = schema.getClass(\"de.AR\").getField(\"kunde\");\n    var f = h.getReverseField();\n    var kk = f.relationinfo;\n    debugger;\n    f.relationinfo = kk;\n}\n\n\n\n\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { Component } from \"jassijs/ui/Component\";\nimport \"jassijs/ext/jquerylib\";\n@$Class(\"jassijs_editor.util.DragAndDropper\")\nexport class DragAndDropper {\n    //called if a property has changed the position\n    public onpropertychanged: (component: Component, top: number, left: number, oldParent: Component, newParent: Component, beforeComponent: Component) => any;\n    //called if a property is added\n    public onpropertyadded: (typename: string, component: Component, top: number, left: number, newparent: number, beforecomponent: Component) => any;;\n    //the last drop has been canceled\n    private lastDropCanceled: boolean;\n    //all component id's which should be dragged\n    private allIDs: string;\n    //dragging is active\n    private _isDragging: boolean;\n    //all child Components can be drag and dropped\n    private parentPanel: Component;\n    //all draggable components\n    public draggableComponents: JQuery<Element>;\n    //all droppable Components\n    private droppableComponents: JQuery<Element>;\n    constructor() {\n        this.onpropertychanged = undefined;\n        this.onpropertyadded = undefined;\n        this.lastDropCanceled = false;\n        this.allIDs = \"\";\n    }\n    /**\n     * could be override to block dragging \n     */\n    public isDragEnabled(event: any, ui: any): boolean {\n        var mouse = event.target._this.dom.style.cursor;\n        if (mouse === \"e-resize\" || mouse === \"s-resize\" || mouse === \"se-resize\")\n            return true;\n        else\n            return false;\n    }\n    //dragging is active\n    public isDragging() {\n        return this._isDragging;\n    }\n    /*public activateDragging(enable:boolean) {\n        $(this.allIDs).find(\".jcontainer\").not(\".jdesigncontainer\").draggable(enable ? \"enable\" : \"disable\");\n    }*/\n    public enableDraggable(enable: boolean) {\n        //  this.onpropertychanged = undefined;\n        // this.onpropertyadded = undefined;\n\n        try{\n            if (this.draggableComponents !== undefined) {\n                if (!enable)\n                    this.draggableComponents.draggable('disable');\n                else\n                    this.draggableComponents.draggable('enable');\n            }\n        }catch{\n            console.log(\"fetched error\");;\n        }\n\n    }\n    private _drop(target, event, ui) {\n        var _this = this;\n        var newComponent = ui.draggable[0]._this;\n        var newParent = target._this;\n        var beforeComponent = target._this;\n        var designDummyAtEnd;\n        if (beforeComponent?.type === \"atEnd\") {\n            designDummyAtEnd = beforeComponent;\n            beforeComponent = undefined;\n            newParent = newParent.designDummyFor;\n        }\n        if (beforeComponent?.type === \"beforeComponent\") {\n            beforeComponent = newParent.designDummyFor;\n            newParent = newParent.designDummyFor._parent;\n        }\n        if (target._this.isAbsolute) {\n\n            var left = parseInt(ui.helper[0].style.left);\n            var top = parseInt(ui.helper[0].style.top);\n            if (ui.draggable[0]._this.createFromType !== undefined) {\n                var offsetNewParent = $(target._this.dom).offset();\n                left = -offsetNewParent.left + parseInt($(ui.helper).css('left'));\n                top = -offsetNewParent.top + parseInt($(ui.helper).css('top'));\n                //      ui.helper[0]._this.left=left;\n                //    ui.helper[0]._this.y=top;\n                if (this.onpropertyadded !== undefined)\n                    this.onpropertyadded(ui.draggable[0]._this.createFromType, newComponent, left, top, newParent, undefined);\n                return;\n            }\n            var oldParent = ui.draggable[0]._this._parent;\n            var pleft = $(newParent.dom).offset().left;\n            var ptop = $(newParent.dom).offset().top;\n            var oleft = $(oldParent.dom).offset().left;\n            var otop = $(oldParent.dom).offset().top;\n            left = left + oleft - pleft;\n            top = top + otop - ptop;\n            //snap to 5\n            if (top !== 1) {\n                top = Math.round(top / 5) * 5;\n            }\n            if (left !== 1) {\n                left = Math.round(left / 5) * 5;\n            }\n\n\n            oldParent.remove(ui.draggable[0]._this);\n            $(ui.draggable).css({ 'top': top, 'left': left, position: 'absolute' });\n            target._this.add(ui.draggable[0]._this);\n            if (_this.onpropertychanged !== undefined) {\n                _this.onpropertychanged(newComponent, left, top, oldParent, newParent, undefined);\n            }\n        } else {//relative layout\n\n            var oldParent = ui.draggable[0]._this._parent;\n\n            if (!$(newParent.domWrapper).hasClass(\"jcontainer\") && newParent._parent) {\n                newParent = newParent._parent;\n            }\n            $(ui.draggable).css({ 'top': \"\", 'left': \"\", \"position\": \"relative\" });\n            if (ui.draggable[0]._this.createFromType !== undefined) {\n                if (this.onpropertyadded !== undefined)\n                    this.onpropertyadded(newComponent.createFromType, ui.draggable[0]._this, undefined, undefined, newParent, beforeComponent);\n\n            } else {\n                //newParent.add(ui.draggable[0]._this);\n                if (target._this !== newParent)\n                    newParent.addBefore(ui.draggable[0]._this, target._this);\n                else\n                    newParent.add(ui.draggable[0]._this);\n                if (_this.onpropertychanged !== undefined) {\n                    _this.onpropertychanged(newComponent, undefined, undefined, oldParent, newParent, beforeComponent);\n                }\n            }\n\n        }\n        if (designDummyAtEnd) {//this Component should stand at last\n            var par = designDummyAtEnd._parent;\n            par.remove(designDummyAtEnd);\n            par.add(designDummyAtEnd);\n            par.designDummies.push(designDummyAtEnd);//bug insert dummy again\n        }\n    }\n\n    /**\n    * install the DragAndDropper\n    * all child jomponents are draggable\n    * all child containers are droppable\n    * @param  parentPanel - all childs are effected\n    * @param allIDs - ID's of all editable components e.g. #10,#12\n    * @returns {unresolved}\n    */\n    public install(parentPanel: Component, allIDs: string) {\n       \n        //$(this.parentPainer\");\n        var _this = this;\n        if (parentPanel !== undefined)\n            this.parentPanel = parentPanel;\n        if (allIDs !== undefined)\n            this.allIDs = allIDs;\n        var dcs = [];\n        this.allIDs.split(\",\").forEach((str) => {\n            let el = document.getElementById(str.substring(1));\n            if (el) {\n                var classes = el.classList;\n                if (classes.contains(\"jcomponent\") && !classes.contains(\"jdesigncontainer\") && !classes.contains(\"designerNoDraggable\"))\n                    dcs.push(document.getElementById(str.substring(1)));\n            }\n        });\n        //slow\n       // this.draggableComponents = $(this.allIDs).find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\");\n        this.draggableComponents = $(dcs);//.find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\");\n\n\n        this.draggableComponents.draggable({\n            cancel: \"false\",\n            revert: \"invalid\",\n            drag: function (event, ui) {\n\n                _this.lastDropCanceled = _this.isDragEnabled(event, ui);\n                setTimeout(function () {\n                    _this.lastDropCanceled = false;\n                }, 100);\n                return !_this.lastDropCanceled;\n            },\n            start: function () {\n                _this._isDragging = true;\n            },\n            stop: function () {\n                _this._isDragging = false;\n            },\n            //appendTo: \"body\"\n            helper: \"clone\",\n\n        });\n\n        //$(this.parentPanel.dom).find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\").draggable('disable');\n        //$(this.allIDs).find(\".jcomponent\").not(\".jdesigncontainer\").not(\".designerNoDraggable\").draggable('enable');\n\n        this.draggableComponents.draggable('disable');\n        this.draggableComponents.draggable('enable');\n\n        var _this = this;\n        //all jcompoenents are proptargets                                         also jdesignummy     but no jcomponents in absolute Layout  no jcomponens that contains a jdesigndummy  absolutelayout container\n        this.droppableComponents = $(this.parentPanel.dom).parent().parent().find(\".jdesigndummy,.jcomponent:not(.jabsolutelayout>.jcomponent, :has(.jdesigndummy)),                      .jcontainer>.jabsolutelayout\")\n        //console.log(this.droppableComponents.length);\n        for (var c = 0; c < this.droppableComponents.length; c++) {\n            //  console.log(this.droppableComponents[c].id);\n        }\n        var isDropping = false;\n        var dropWnd;\n        var dropEvent;\n        var dropUI;\n        this.droppableComponents.droppable({\n            greedy: true,\n            hoverClass: \"ui-state-highlight\",\n            tolerance: \"pointer\",\n            drop: function (event, ui) {\n\n\n                //function is called for every Window in z-Index - we need the last one\n                if (_this.lastDropCanceled)\n                    return;\n                dropWnd = this;\n                dropEvent = event;\n                dropUI = ui;\n                if (!isDropping) {\n                    isDropping = true;\n                    window.setTimeout(function () {\n                        isDropping = false;\n                        _this._drop(dropWnd, dropEvent, dropUI);\n                    }, 50);\n                }\n            }\n        });\n        //this.droppableComponents.droppable(\"enable\");\n        //$(this.allIDs).eq(\".jcontainer\").not(\".jdesigncontainer\").droppable(\"enable\");\n        //$(this.allIDs).filter(\".jcontainer\").not(\".jdesigncontainer\").droppable(\"enable\");\n    }\n\n    /**\n     * uninstall the DragAndDropper\n     */\n    uninstall() {\n        this.onpropertychanged = undefined;\n        this.onpropertyadded = undefined;\n        // \t$(this.allIDs).eq(\".jcontainer\").not(\".jdesigncontainer\").droppable(\"disable\");  \n        //$(this.parentPanel.dom).parent().parent().find(\".jcontainer\").droppable(\"destroy\");\n        // var components=$(this.allIDs);\n        if (this.draggableComponents !== undefined) {\n\n            this.draggableComponents.draggable();\n            try{\n            this.draggableComponents.draggable('destroy');\n            }catch{\n                console.log(\"unable to destroy draganddrop\");\n            }\n            delete $.ui[\"ddmanager\"].current;//memory leak https://bugs.jqueryui.com/ticket/10667\n            this.draggableComponents = undefined;\n        }\n        if (this.droppableComponents !== undefined) {\n            this.droppableComponents.droppable();\n            this.droppableComponents.droppable(\"destroy\");\n        }\n    }\n}\n","\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\n\r\nimport ts from \"typescript\";\r\n\r\nimport { Tests } from \"jassijs_editor/util/Tests\";\r\nimport { Test } from \"jassijs/remote/Test\";\r\nimport { JassiError } from \"jassijs/remote/Classes\";\r\nimport { mytypescript } from \"jassijs_editor/util/Typescript\";\r\n\r\n\r\ninterface Properties {\r\n    [details: string]: Entry;\r\n}\r\ninterface Entry {\r\n    value?: any;\r\n    node?: ts.Node;\r\n    isFunction: boolean;\r\n    isJc?: boolean;\r\n    className?: string;\r\n}\r\nclass ParsedDecorator {\r\n    node?: ts.Decorator;\r\n    name?: string;\r\n    parsedParameter?: object[] = [];\r\n    parameter?: string[] = [];\r\n\r\n}\r\nclass ParsedMember {\r\n    node?: ts.Node;\r\n    name?: string;\r\n    decorator?: { [name: string]: ParsedDecorator } = {};\r\n    type?: string;\r\n}\r\nexport class ParsedClass {\r\n    parent?: Parser;\r\n    node?: ts.ClassElement;\r\n    name?: string;\r\n    fullClassname?: string;\r\n    members?: { [name: string]: ParsedMember } = {};\r\n    decorator?: { [name: string]: ParsedDecorator } = {};\r\n}\r\n\r\n@$Class(\"jassijs_editor.util.Parser\")\r\nexport class Parser {\r\n    isJSX: boolean = false;\r\n    sourceFile: ts.SourceFile = undefined;\r\n    refsNode: ts.Node;\r\n    refs: { [name: string]: Entry } = {};\r\n    classes: { [name: string]: ParsedClass } = {};\r\n    imports: { [name: string]: string } = {};\r\n    functions: { [name: string]: ts.Node } = {};\r\n    variables: { [name: string]: ts.Node } = {};\r\n    classScope: { classname: string, methodname: string }[];\r\n    variabelStack: any;\r\n    code: string;\r\n    /**\r\n    * @member {Object.<string,Object.<string,[object]>> - all properties\r\n    * e.g. data[\"textbox1\"][value]->Entry\r\n    */\r\n    data: { [variable: string]: { [property: string]: Entry[] } };\r\n    /**\r\n     * parses Code for UI relevant settings\r\n     * @class jassijs_editor.util.Parser\r\n     */\r\n    constructor() {\r\n\r\n        this.data = {};\r\n        /** {[string]} - all code lines*/\r\n    }\r\n\r\n    getModifiedCode(): string {\r\n        const printer = ts.createPrinter({ newLine: ts.NewLineKind.LineFeed });\r\n        const resultFile = ts.createSourceFile(\"dummy.ts\", \"\", ts.ScriptTarget.Latest, /*setParentNodes*/ false, this.isJSX ? ts.ScriptKind.TSX : ts.ScriptKind.TS);\r\n        var result = printer.printNode(ts.EmitHint.Unspecified, this.sourceFile, resultFile);\r\n        result = this.reformatCode(result);\r\n        return result;\r\n    }\r\n    updateCode() {\r\n\r\n        //nothing\r\n    }\r\n    reformatCode(code: string): string {\r\n\r\n        const serviceHost: ts.LanguageServiceHost = {\r\n            getScriptFileNames: () => [],\r\n            getScriptVersion: fileName => \"1.0\",\r\n            getScriptSnapshot: fileName => {\r\n                return ts.ScriptSnapshot.fromString(code);\r\n            },\r\n            getCurrentDirectory: () => \"\",\r\n            getCompilationSettings: () => <any>{},\r\n            getDefaultLibFileName: options => ts.getDefaultLibFilePath(options),\r\n            fileExists: (a) => false,\r\n            readFile: (a) => code,\r\n            readDirectory: (a) => []\r\n        };\r\n        var file = this.variabelStack ? \"tempdoc.tsx\" : \"tempdoc.ts\";\r\n        const languageService = ts.createLanguageService(serviceHost, ts.createDocumentRegistry());\r\n        const textChanges = languageService.getFormattingEditsForDocument(file, {\r\n            convertTabsToSpaces: true,\r\n\r\n            //  indentMultiLineObjectLiteralBeginningOnBlankLine:true,\r\n            // PlaceOpenBraceOnNewLineForFunctions:true,\r\n            //   insertSpaceAfterCommaDelimiter: true,\r\n            //  insertSpaceAfterKeywordsInControlFlowStatements: true,\r\n            // insertSpaceBeforeAndAfterBinaryOperators: true,\r\n            newLineCharacter: \"\\n\",\r\n            indentStyle: ts.IndentStyle.Smart,\r\n            indentSize: 4,\r\n            tabSize: 4\r\n        });\r\n\r\n        let finalText = code;\r\n        var arr = textChanges.sort((a, b) => b.span.start - a.span.start);\r\n        for (var x = 0; x < arr.length; x++) {\r\n            var textChange = arr[x];\r\n            const { span } = textChange;\r\n            finalText = finalText.slice(0, span.start) + textChange.newText\r\n                + finalText.slice(span.start + span.length);\r\n        }\r\n        return finalText;\r\n    }\r\n\r\n\r\n    /**\r\n     * add a property\r\n     * @param {string} variable - name of the variable\r\n     * @param {string} property - name of the property\r\n     * @param {string} value  - code - the value\r\n     * @param node - the node of the statement\r\n     */\r\n    private add(variable: string, property: string, value: string, node: ts.Node, isFunction = false, trim = true, isJc = false) {\r\n        var ret;\r\n        if (value === undefined || value === null)\r\n            return;\r\n        if (trim && (typeof value === \"string\"))\r\n            value = value.trim();\r\n        property = property.trim();\r\n        if (this.data[variable] === undefined) {\r\n            this.data[variable] = {};\r\n        }\r\n        if (this.data[variable][property] === undefined) {\r\n            this.data[variable][property] = [];\r\n        }\r\n        if (Array.isArray(this.data[variable][property])) {\r\n            ret = {\r\n                value: value,\r\n                node: node,\r\n                isFunction,\r\n                isJc: isJc\r\n            };\r\n            this.data[variable][property].push(ret);\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * read a property value from code\r\n     * @param {string} variable - the name of the variable \r\n     * @param {string} property - the name of the property\r\n     */\r\n    getPropertyValue(variable, property): any {\r\n        if (this.data[variable] !== undefined) {\r\n            if (this.data[variable][property] !== undefined) {\r\n                var ret = this.data[variable][property][0].value;\r\n                return ret;\r\n            }\r\n        }\r\n        return undefined;\r\n        /* variable=\"this.\"+variable;\r\n         if(this.data[variable]!==undefined){\r\n             if(this.data[variable][property]!==undefined){\r\n                 return this.data[variable][property][0].value;\r\n             }\r\n         }*/\r\n        //this \r\n        //   var value=this.propertyEditor.parser.getPropertyValue(this.variablename,this.property.name);\r\n\r\n    }\r\n\r\n    addRef(name: string, type: string) {\r\n        if (!this.refsNode)\r\n            return;\r\n        var tp = ts.factory.createTypeReferenceNode(type, []);\r\n        var newnode = ts.factory.createPropertySignature(undefined, name + \"?\", undefined, tp);\r\n        //@ts-ignore\r\n        newnode.parent = this.refsNode;\r\n        this.refs[name] = { node: newnode, value: type, isFunction: false };\r\n        this.refsNode[\"members\"].push(newnode);\r\n    }\r\n    /**\r\n     * add import {name} from file\r\n     * @param name \r\n     * @param file \r\n     */\r\n    addImportIfNeeded(name: string, file: string) {\r\n        if (this.imports[name] === undefined) {\r\n            //@ts-ignore\r\n            //            var imp = ts.createNamedImports([ts.createImportSpecifier(false, undefined, ts.createIdentifier(name))]);\r\n            const importNode = ts.factory.createImportDeclaration(undefined, ts.factory.createImportClause(false, ts.factory.createIdentifier(\"{\" + name + \"}\"), undefined), ts.factory.createIdentifier(\"\\\"\" + file + \"\\\"\"));\r\n            this.sourceFile = ts.factory.updateSourceFile(this.sourceFile, [importNode, ...this.sourceFile.statements]);\r\n            this.imports[name] = file;\r\n        }\r\n    }\r\n    private parseRefsNode(node: ts.Node) {\r\n        var _this = this;\r\n        if (node.kind === ts.SyntaxKind.TypeLiteral) {\r\n            if (node[\"members\"])\r\n                this.refsNode = node;\r\n            node[\"members\"].forEach(function (tnode: any) {\r\n                if (tnode.name) {\r\n                    var name = tnode.name.text;\r\n                    var stype = tnode.type.typeName.text;\r\n                    _this.refs[name] = { node: tnode, value: stype, isFunction: false };\r\n                }\r\n                //            this.add(\"me\", name, \"typedeclaration:\" + stype, undefined, aline, aline);\r\n            });\r\n        }\r\n        node.getChildren().forEach(c => this.parseRefsNode(c));\r\n    }\r\n    private convertArgument(arg: any) {\r\n        if (arg === undefined)\r\n            return undefined;\r\n\r\n        if (arg.kind === ts.SyntaxKind.ObjectLiteralExpression) {\r\n            var ret = {};\r\n            var props = arg.properties;\r\n            if (props !== undefined) {\r\n                for (var p = 0; p < props.length; p++) {\r\n                    ret[props[p].name.text] = this.convertArgument(props[p].initializer);\r\n                }\r\n            }\r\n            return ret;\r\n        } else if (arg.kind === ts.SyntaxKind.StringLiteral) {\r\n            return arg.text;\r\n        } else if (arg.kind === ts.SyntaxKind.ArrayLiteralExpression) {\r\n            let ret = [];\r\n            for (var p = 0; p < arg.elements.length; p++) {\r\n                ret.push(this.convertArgument(arg.elements[p]));\r\n            }\r\n            return ret;\r\n        } else if (arg.kind === ts.SyntaxKind.Identifier) {\r\n            return arg.text;\r\n        } else if (arg.kind === ts.SyntaxKind.TrueKeyword) {\r\n            return true;\r\n        } else if (arg.kind === ts.SyntaxKind.FalseKeyword) {\r\n            return false;\r\n        } else if (arg.kind === ts.SyntaxKind.NumericLiteral) {\r\n            return Number(arg.text);\r\n        } else if (arg.kind === ts.SyntaxKind.ArrowFunction || arg.kind === ts.SyntaxKind.FunctionExpression) {\r\n            return arg.getText();\r\n        }\r\n\r\n        throw new JassiError(\"Error type not found\");\r\n    }\r\n    private parseDecorator(dec: ts.Decorator): ParsedDecorator {\r\n        var ex: any = dec.expression;\r\n        var ret = new ParsedDecorator();\r\n        if (ex.expression === undefined) {\r\n            ret.name = ex.text;\r\n        } else {\r\n\r\n            ret.name = ex.expression.escapedText;\r\n            if (ex.expression !== undefined) {\r\n                for (var a = 0; a < ex.arguments.length; a++) {\r\n                    ret.parsedParameter.push(this.convertArgument(ex.arguments[a]));\r\n                    ret.parameter.push(ex.arguments[a].getText());\r\n                }\r\n\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    private parseClass(node: ts.ClassElement) {\r\n        if (node.kind === ts.SyntaxKind.ClassDeclaration) {\r\n            var parsedClass = new ParsedClass();\r\n            parsedClass.parent = this;\r\n            parsedClass.name = node.name.getText();\r\n            parsedClass.node = node;\r\n            this.classes[parsedClass.name] = parsedClass;\r\n            if (node[\"modifiers\"] !== undefined) {\r\n                for (var m = 0; m < node[\"modifiers\"].length; m++) {\r\n                    var nd: ts.Decorator = node[\"modifiers\"][m];\r\n                    if (nd.kind === ts.SyntaxKind.Decorator) {\r\n                        var parsedDec = this.parseDecorator(nd);\r\n                        parsedClass.decorator[parsedDec.name] = parsedDec;\r\n                        if (parsedClass.decorator[\"$Class\"] && parsedDec.parameter.length > 0)\r\n                            parsedClass.fullClassname = parsedDec.parameter[0].replaceAll('\"', \"\");\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            for (var x = 0; x < node[\"members\"].length; x++) {\r\n                var parsedMem = new ParsedMember()\r\n                var mem = node[\"members\"][x];\r\n                if (mem.name === undefined)\r\n                    continue;//Constructor\r\n                parsedMem.name = mem.name.escapedText;\r\n                parsedMem.node = node[\"members\"][x];\r\n                parsedMem.type = (mem.type ? mem.type.getFullText().trim() : undefined);\r\n                parsedClass.members[parsedMem.name] = parsedMem;\r\n                var params = [];\r\n                if (mem.decorators) {\r\n                    for (let i = 0; i < mem.decorators.length; i++) {\r\n                        let parsedDec = this.parseDecorator(mem.decorators[i]);\r\n                        parsedMem.decorator[parsedDec.name] = parsedDec;\r\n                    }\r\n                }\r\n            }\r\n            if (this.classScope) {\r\n                for (let x = 0; x < this.classScope.length; x++) {\r\n                    var col = this.classScope[x];\r\n                    if (col.classname === parsedClass.name && parsedClass.members[col.methodname]) {\r\n                        var nd2 = parsedClass.members[col.methodname].node;\r\n                        this.parseProperties(nd2);\r\n                    }\r\n                }\r\n            } else if (this.classScope === undefined) {\r\n                for (var key in parsedClass.members) {\r\n                    this.parseProperties(parsedClass.members[key].node);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n    private parseConfig(node: ts.CallExpression) {\r\n        if (node.arguments.length > 0) {\r\n            var left = node.expression.getText();\r\n            var lastpos = left.lastIndexOf(\".\");\r\n            var variable = left;\r\n            var prop = \"\";\r\n            if (lastpos !== -1) {\r\n                variable = left.substring(0, lastpos);\r\n                prop = left.substring(lastpos + 1);\r\n                //@ts-ignore\r\n                var props: any[] = node.arguments[0].properties;\r\n                if (props !== undefined) {\r\n                    for (var p = 0; p < props.length; p++) {\r\n                        var name = props[p].name.text;\r\n                        // var value = this.convertArgument(props[p].initializer);\r\n                        var code: string = props[p].initializer ? props[p].initializer.getText() : \"\";\r\n                        if (code?.indexOf(\".config\") > -1) {\r\n                            this.parseProperties(props[p].initializer);\r\n                        }\r\n                        this.add(variable, name, code, props[p], false);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private parseJC(node: ts.CallExpression, parent = undefined) {\r\n        var nd: ts.JsxElement = <any>node;\r\n        var element = node;\r\n        var diff = node.expression.getFullText().length - node.expression.getText().length + \"jc\".length;\r\n        if (this.variabelStack === undefined) {\r\n            console.error(\"this.variabelStack undefined\");\r\n            return;\r\n        }\r\n\r\n        var jsx = this.variabelStack[element.pos + diff];\r\n        /*        if (jsx === undefined)\r\n                    jsx = this.variabelStack[element.pos];\r\n                if (jsx === undefined)\r\n                    jsx = this.variabelStack[element.pos + 1];*/\r\n        if (jsx && node.arguments.length > 0) {\r\n            var tagname = node.arguments[0].getFullText();\r\n            //find varname\r\n\r\n            jsx.autoGenerated = true;\r\n            if (node.arguments.length > 1) {\r\n\r\n                props = node.arguments[1];\r\n                for (var x = 0; x < props.properties.length; x++) {\r\n                    var prop = props.properties[x];\r\n                    if ((<any>prop.name).text === \"ref\") {\r\n                        var val: string = prop[\"initializer\"].getText();\r\n                        if ((<any>prop.name).text === \"children\")\r\n                            children = prop;\r\n                        //if (val.startsWith(\"{\") && val.endsWith(\"}\"))\r\n                        //   val = val.substring(1, val.length - 1);\r\n                        if (val.startsWith(\"this.\"))\r\n                            val = val.substring(5);\r\n                        if (val.startsWith(\"refs.\"))\r\n                            val = val.substring(5);\r\n\r\n                        jsx.name = val;\r\n                        jsx.autoGenerated = false;\r\n                    }\r\n                }\r\n            }\r\n            if (jsx.autoGenerated)\r\n                jsx.name = this.getNextVariableNameForType(jsx.name);\r\n            this.variabelStack[jsx.name] = jsx;\r\n            nd[\"jname\"] = jsx.name;\r\n            var toAdd = this.add(jsx.name, \"_new_\", nd.getFullText(this.sourceFile), node, false, false, true);\r\n            toAdd.className = tagname;\r\n            var props: any;\r\n            var children;\r\n\r\n            if (jsx && node.arguments.length > 1) {\r\n\r\n                props = node.arguments[1];\r\n                for (var x = 0; x < props.properties.length; x++) {\r\n                    var prop = props.properties[x];\r\n                    var val: string = prop[\"initializer\"].getText();\r\n                    if ((<any>prop.name).text === \"children\")\r\n                        children = prop;\r\n                    //if (val.startsWith(\"{\") && val.endsWith(\"}\"))\r\n                    //  val = val.substring(1, val.length - 1);\r\n                    var sname = (<any>prop.name).text;\r\n                    if (sname === \"children\")\r\n                        sname = \"add\";\r\n                    this.add(jsx.name, sname, val, prop, false, false, true);\r\n                }\r\n            }\r\n\r\n\r\n            if (jsx.component.constructor.name === 'HTMLComponent') {\r\n                this.add(jsx.name, \"tag\", tagname, undefined, false, false, true);\r\n            }\r\n            if ((<any>node.parent)?.jname !== undefined) {\r\n                this.add((<any>node.parent)?.jname, \"add\", jsx.name, node, false, false, true);\r\n            }\r\n            if (children?.initializer?.elements) {\r\n                for (var x = 0; x < children.initializer.elements.length; x++) {\r\n                    var ch: any = children.initializer.elements[x];\r\n                    if (ch.kind === ts.SyntaxKind.StringLiteral) {\r\n\r\n                        var varname = this.getNextVariableNameForType(\"text\", \"text\");\r\n                        this.variabelStack[varname] = {\r\n                            component: jsx.component.dom.childNodes[x]._this\r\n                        }\r\n                        //this.variabelStack[0];\r\n                        var stext = JSON.stringify(ch.text);\r\n                        var toAdd = this.add(varname, \"_new_\", stext, ch, false, false, true);\r\n                        toAdd.className = \"TextComponent\";\r\n\r\n                        this.variabelStack[varname] = ch;\r\n                        this.add(varname, \"text\", stext, ch, false, false, true);\r\n                        //if ((<any>node.parent)?.jname !== undefined) {\r\n                        this.add(jsx.name, \"add\", varname, ch, false, false, true);\r\n                        // }\r\n                        var chvar = {\r\n                            pos: ch.pos,\r\n                            component: this.variabelStack[jsx.name].component._components[x],\r\n                            name: varname\r\n                        };\r\n                        this.variabelStack[varname] = chvar;\r\n                        this.variabelStack.__orginalarray__.push(chvar);\r\n\r\n                    } else {\r\n                        // debugger;\r\n                        this.parseProperties(ch);\r\n                        // this.parseJC(ch, {});// consumeProperties)\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private parseJSX(_this: Parser, node: ts.Node) {\r\n        var nd: ts.JsxElement = <any>node;\r\n        var element: ts.JsxOpeningElement | ts.JsxSelfClosingElement = <any>nd;\r\n        if (nd.openingElement)\r\n            element = <any>nd.openingElement;\r\n        var jsx = _this.variabelStack[element.pos - 1];\r\n        if (jsx === undefined)\r\n            jsx = _this.variabelStack[element.pos];\r\n        if (jsx === undefined)\r\n            jsx = _this.variabelStack[element.pos + 1];\r\n        if (jsx) {\r\n            jsx.autoGenerated = true;\r\n            for (var x = 0; x < element.attributes.properties.length; x++) {\r\n                var prop = element.attributes.properties[x];\r\n                if ((<any>prop.name).text === \"ref\") {\r\n                    var val: string = prop[\"initializer\"].getText();\r\n                    if (val.startsWith(\"{\") && val.endsWith(\"}\"))\r\n                        val = val.substring(1, val.length - 1);\r\n                    if (val.startsWith(\"this.\"))\r\n                        val = val.substring(5);\r\n                    if (val.startsWith(\"refs.\"))\r\n                        val = val.substring(5);\r\n                    jsx.name = val;\r\n                    jsx.autoGenerated = false;\r\n                }\r\n            }\r\n            var tagname = element.tagName.getText();\r\n            if (jsx.autoGenerated)\r\n                jsx.name = this.getNextVariableNameForType(jsx.name);\r\n            _this.variabelStack[jsx.name] = jsx;\r\n            nd[\"jname\"] = jsx.name;\r\n            var toAdd = _this.add(jsx.name, \"_new_\", nd.getFullText(this.sourceFile), node);\r\n            toAdd.className = tagname;\r\n            for (var x = 0; x < element.attributes.properties.length; x++) {\r\n                var prop = element.attributes.properties[x];\r\n                var val: string = prop[\"initializer\"].getText();\r\n                if (val.startsWith(\"{\") && val.endsWith(\"}\"))\r\n                    val = val.substring(1, val.length - 1);\r\n                _this.add(jsx.name, (<any>prop.name).text, val, prop);\r\n            }\r\n            if (jsx.component.constructor.name === 'HTMLComponent') {\r\n                _this.add(jsx.name, \"tag\", '\"' + tagname + '\"', undefined);\r\n            }\r\n            if ((<any>node.parent)?.jname !== undefined) {\r\n                _this.add((<any>node.parent)?.jname, \"add\", jsx.name, node);\r\n            }\r\n            //node.getChildren().forEach(c => _this.visitNode(c, consumeProperties));\r\n            //mark textnodes\r\n            var counttrivial = 0;\r\n            if (nd.children) {\r\n                for (var x = 0; x < nd.children.length; x++) {\r\n                    var ch = nd.children[x];\r\n                    if (ch.kind === ts.SyntaxKind.JsxText) {\r\n                        if (ch.containsOnlyTriviaWhiteSpaces) {\r\n                            counttrivial++;\r\n                        } else {\r\n                            var njsx = _this.variabelStack[ch.pos - 1];\r\n                            if (njsx === undefined)\r\n                                njsx = _this.variabelStack[ch.pos];\r\n                            if (njsx === undefined)\r\n                                njsx = _this.variabelStack[ch.pos + 1];\r\n                            if (njsx) {\r\n                            }\r\n                            var varname = this.getNextVariableNameForType(\"text\", \"text\");\r\n                            var stext = JSON.stringify(ch.text);\r\n                            var toAdd = _this.add(varname, \"_new_\", stext, ch, false, false);\r\n                            toAdd.className = \"HTMLTextComponent\";\r\n                            _this.variabelStack[varname] = ch;\r\n                            _this.add(varname, \"text\", stext, ch, false, false);\r\n                            //if ((<any>node.parent)?.jname !== undefined) {\r\n                            _this.add(jsx.name, \"add\", varname, ch);\r\n                            // }\r\n                            var chvar = {\r\n                                pos: ch.pos,\r\n                                component: _this.variabelStack[jsx.name].component._components[x - counttrivial],\r\n                                name: varname\r\n                            };\r\n                            _this.variabelStack[varname] = chvar;\r\n                            this.variabelStack.__orginalarray__.push(chvar);\r\n                        }\r\n                    } else {\r\n                        _this.visitNodeJSX(ch, {});// consumeProperties)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        //        console.log(nd.openingElement.getText(this.sourceFile));\r\n    }\r\n    private parseProperties(node: ts.Node) {\r\n        var _this = this;\r\n        if (ts.isVariableDeclaration(node)) {\r\n            var name = node.name.getText();\r\n            if (node.initializer !== undefined) {\r\n                var value = node.initializer.getText();\r\n                this.add(name, \"_new_\", value, node.parent.parent);\r\n            }\r\n        }\r\n\r\n        if ((ts.isBinaryExpression(node) && node.operatorToken.kind === ts.SyntaxKind.EqualsToken) ||\r\n            ts.isCallExpression(node)) {\r\n            var node1;\r\n            var node2;\r\n            var left: string;\r\n            var value: string;\r\n\r\n            var isFunction = false;\r\n            if (ts.isBinaryExpression(node)) {\r\n                node1 = node.left;\r\n                node2 = node.right;\r\n                left = node1.getText();// this.code.substring(node1.pos, node1.end).trim();\r\n                value = node2.getText();//this.code.substring(node2.pos, node2.end).trim();\r\n                if (value.startsWith(\"new \"))\r\n                    this.add(left, \"_new_\", value, node.parent);\r\n            }\r\n            if (ts.isCallExpression(node)) {\r\n                node1 = node.expression;\r\n                node2 = node.arguments;\r\n                isFunction = true;\r\n                left = node1.getText();// this.code.substring(node1.pos, node1.end).trim();\r\n                if (left === \"jc\") {\r\n                    this.parseJC(node);\r\n                    return;\r\n                }\r\n                var params = [];\r\n                node.arguments.forEach((arg) => {\r\n\r\n                    params.push(arg.getText());\r\n                    if ((<any>arg)?.expression?.name?.getText() === \"config\") {\r\n                        _this.parseConfig(<any>arg);\r\n                    }\r\n                    //arg.getText().indexOf(\".config(\")\r\n                });\r\n                if (left.endsWith(\".config\")) {\r\n                    var lastpos = left.lastIndexOf(\".\");\r\n                    var variable = left;\r\n                    var prop = \"\";\r\n                    if (lastpos !== -1) {\r\n                        variable = left.substring(0, lastpos);\r\n                        prop = left.substring(lastpos + 1);\r\n                    }\r\n                    value = params.join(\", \");\r\n                    this.add(variable, prop, value, node, isFunction);\r\n                    this.parseConfig(node);\r\n                    return;\r\n                }\r\n                if (left.endsWith(\".createRepeatingComponent\")) {\r\n                    this.visitNode(node.arguments[0][\"body\"], true)\r\n                    //this.parseProperties(node.arguments[0][\"body\"]);\r\n                }\r\n                value = params.join(\", \");//this.code.substring(node2.pos, node2.end).trim();//\r\n            }\r\n\r\n            var lastpos = left.lastIndexOf(\".\");\r\n            var variable = left;\r\n            var prop = \"\";\r\n            if (lastpos !== -1) {\r\n                variable = left.substring(0, lastpos);\r\n                prop = left.substring(lastpos + 1);\r\n            }\r\n            this.add(variable, prop, value, node.parent, isFunction);\r\n        } else\r\n            node.getChildren().forEach(c => _this.visitNode(c, true));\r\n    }\r\n    private visitNode(node: ts.Node, consumeProperties = undefined) {\r\n        var _this = this;\r\n        if (node.kind === ts.SyntaxKind.VariableDeclaration) {\r\n            this.variables[node[\"name\"].text] = node;\r\n        }\r\n        if (node.kind === ts.SyntaxKind.ImportDeclaration) {\r\n            var nd: any = node;\r\n            var file = nd.moduleSpecifier.text;\r\n            if (nd.importClause && nd.importClause.namedBindings) {\r\n                var names = nd.importClause.namedBindings.elements;\r\n                for (var e = 0; e < names.length; e++) {\r\n                    this.imports[names[e].name.escapedText] = file;\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        if (node.kind == ts.SyntaxKind.TypeAliasDeclaration && node[\"name\"].text === \"Refs\") {\r\n            this.parseRefsNode(node);\r\n            return;\r\n        } else if (node.kind === ts.SyntaxKind.ClassDeclaration) {\r\n            this.parseClass(<ts.ClassElement>node);\r\n\r\n            return;\r\n\r\n        } else if (node && node.kind === ts.SyntaxKind.FunctionDeclaration) {//functions out of class\r\n            this.functions[node[\"name\"].text] = node;\r\n            if (this.classScope) {\r\n                for (let x = 0; x < this.classScope.length; x++) {\r\n                    var col = this.classScope[x];\r\n                    if (col.classname === undefined && node[\"name\"].text === col.methodname)\r\n                        consumeProperties = true;\r\n                }\r\n            } else if (this.variabelStack === undefined)\r\n                consumeProperties = true;\r\n        }\r\n        if (node.kind === ts.SyntaxKind.JsxElement) {\r\n\r\n            _this.parseJSX(_this, node);\r\n            return;\r\n        }\r\n\r\n\r\n        if (consumeProperties)\r\n            this.parseProperties(node);\r\n        else\r\n            node.getChildren().forEach(c => _this.visitNode(c, consumeProperties));\r\n        //TODO remove this block\r\n        /*  if (node.kind === ts.SyntaxKind.FunctionDeclaration && node[\"name\"].text === \"test\") {\r\n              this.add(node[\"name\"].text, \"\", \"\", undefined);\r\n          }*/\r\n    }\r\n    private visitNodeJSX(node: ts.Node, consumeProperties = undefined) {\r\n\r\n        var _this = this;\r\n        if (node.kind === ts.SyntaxKind.ImportDeclaration) {\r\n            var nd: any = node;\r\n            var file = nd.moduleSpecifier.text;\r\n            if (nd.importClause && nd.importClause.namedBindings) {\r\n                var names = nd.importClause.namedBindings.elements;\r\n                for (var e = 0; e < names.length; e++) {\r\n                    this.imports[names[e].name.escapedText] = file;\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        if (node.kind == ts.SyntaxKind.TypeAliasDeclaration && node[\"name\"].text === \"Refs\") {\r\n            this.parseRefsNode(node);\r\n            return;\r\n        }\r\n        if (node.kind == ts.SyntaxKind.TypeAliasDeclaration && node[\"name\"].text === \"Me\") {\r\n            this.parseRefsNode(node);\r\n            return;\r\n        }\r\n        if (node.kind === ts.SyntaxKind.JsxElement || node.kind === ts.SyntaxKind.JsxSelfClosingElement) {\r\n            _this.parseJSX(_this, node);\r\n            return;\r\n        }\r\n\r\n        node.getChildren().forEach(c => _this.visitNodeJSX(c, consumeProperties));\r\n        //TODO remove this block\r\n        /*  if (node.kind === ts.SyntaxKind.FunctionDeclaration && node[\"name\"].text === \"test\") {\r\n              this.add(node[\"name\"].text, \"\", \"\", undefined);\r\n          }*/\r\n    }\r\n    searchClassnode(node: ts.Node, pos: number): { classname: string, methodname: string } {\r\n        if (ts.isMethodDeclaration(node)) {\r\n            return {\r\n                classname: node.parent[\"name\"][\"text\"],\r\n                methodname: node.name[\"text\"]\r\n            }\r\n        }\r\n        if (node && node.kind === ts.SyntaxKind.FunctionDeclaration) {//functions out of class\r\n            var funcname = node[\"name\"].text\r\n            return {\r\n                classname: undefined,\r\n                methodname: funcname\r\n            }\r\n        }\r\n        var childs = node.getChildren();\r\n        for (var x = 0; x < childs.length; x++) {\r\n            var c = childs[x];\r\n            if (pos >= c.pos && pos <= c.end) {\r\n                var test = this.searchClassnode(c, pos);\r\n                if (test)\r\n                    return test;\r\n            }\r\n        };\r\n        return undefined;\r\n    }\r\n    getClassScopeFromPosition(code: string, pos: number): { classname: string, methodname: string } {\r\n        this.data = {};\r\n        this.code = code;\r\n\r\n        this.sourceFile = ts.createSourceFile('dummy.ts', code, ts.ScriptTarget.ES5, true, this.isJSX ? ts.ScriptKind.TSX : ts.ScriptKind.TS);\r\n\r\n        return this.searchClassnode(this.sourceFile, pos);\r\n        //return this.parseold(code,onlyfunction);\r\n\r\n    }\r\n\r\n    private removePos(node: ts.Node) {\r\n        var _this = this;\r\n        node.pos = -1;\r\n        node.end = -1;\r\n        node.forEachChild((ch) => _this.removePos(ch));\r\n    }\r\n    private createNode(code: string, completeStatement = false) {\r\n        var ret = ts.createSourceFile('dummytemp.ts', code, ts.ScriptTarget.ES5, true, this.isJSX ? ts.ScriptKind.TSX : undefined);\r\n        if (completeStatement)\r\n            return ret.statements[0];\r\n        var node = (<any>ret.statements[0]).expression;\r\n        this.removePos(node);\r\n        return node;\r\n        //return this.parseold(code,onlyfunction);\r\n    }\r\n    initvariabelStack(values: any[]) {\r\n        var autovars = {};\r\n        var jsxvars = {}\r\n        for (var x = 0; x < values.length; x++) {\r\n            var v = values[x].component;\r\n            var tag = v.tag === undefined ? v.constructor.name : v.tag;\r\n            if (autovars[tag] === undefined)\r\n                autovars[tag] = 1;\r\n\r\n            values[x].name = this.getNextVariableNameForType(tag);//tag + (autovars[tag]++);\r\n            this.data[values[x].name] = {};//reserve variable\r\n            jsxvars[values[x].pos] = values[x];\r\n        }\r\n        this.variabelStack = jsxvars;\r\n        this.variabelStack.__orginalarray__ = values;\r\n    }\r\n    /**\r\n    * parse the code \r\n    * @param {string} code - the code\r\n    * @param {string} onlyfunction - only the code in the function is parsed, e.g. \"layout()\"\r\n    */\r\n    parse(code: string, classScope: { classname: string, methodname: string }[] = undefined, variabelStack: any = undefined, isJSX = false) {\r\n        this.data = {};\r\n        this.isJSX = isJSX\r\n        this.code = code;\r\n        if (classScope !== undefined)\r\n            this.classScope = classScope;\r\n        else\r\n            classScope = this.classScope;\r\n        this.sourceFile = ts.createSourceFile('dummy.ts', code, ts.ScriptTarget.ES5, true, isJSX ? ts.ScriptKind.TSX : undefined);\r\n        if (variabelStack)\r\n            this.initvariabelStack(variabelStack);\r\n        if (isJSX) {\r\n            this.visitNodeJSX(this.sourceFile, false);\r\n            return;\r\n        }\r\n\r\n        //    if (this.classScope === undefined)\r\n        this.visitNode(this.sourceFile, true);\r\n\r\n        //  else\r\n        //    this.visitNode(this.sourceFile);\r\n\r\n        //return this.parseold(code,onlyfunction);\r\n    }\r\n    private removeNode(node: ts.Node) {\r\n        if (node.parent === undefined)\r\n            return;\r\n        if (node.parent[\"statements\"]) {\r\n            var pos = node.parent[\"statements\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"statements\"].splice(pos, 1);\r\n        } else if (node.parent?.parent && node.parent?.parent[\"type\"] !== undefined) {\r\n            var pos = node.parent.parent[\"type\"][\"members\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent?.parent[\"type\"][\"members\"].splice(pos, 1);\r\n        } else if (node.parent[\"members\"] !== undefined) {\r\n            var pos = node.parent[\"members\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"members\"].splice(pos, 1);\r\n        } else if (node.parent[\"properties\"] !== undefined) {\r\n            var pos = node.parent[\"properties\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"properties\"].splice(pos, 1);\r\n        } else if (node.parent[\"elements\"] !== undefined) {\r\n            var pos = node.parent[\"elements\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"elements\"].splice(pos, 1);\r\n        } else if (node.parent.kind === ts.SyntaxKind.ExpressionStatement) {\r\n            var pos = node.parent.parent[\"statements\"].indexOf(node.parent);\r\n            if (pos >= 0)\r\n                node.parent.parent[\"statements\"].splice(pos, 1);\r\n        } else if (node.parent[\"children\"]) {\r\n            var pos = node.parent[\"children\"].indexOf(node);\r\n            if (pos >= 0)\r\n                node.parent[\"children\"].splice(pos, 1);\r\n        } else\r\n            throw Error(node.getFullText() + \"could not be removed\");\r\n    }\r\n    renameVariable(oldName: string, newName: string) {\r\n        var autoName = false;\r\n        var className = this.data[oldName][\"_new_\"][0].className\r\n        if (newName === \"\") {\r\n            autoName = true;\r\n            newName = this.getNextVariableNameForType(className.startsWith(\"\\\"\") ? className.substring(1, className.length - 1) : className);\r\n            //this.data[oldName][\"_new_\"][0].n\r\n            // this.data[oldName][\"_new_\"][0].autoGenerated\r\n        }\r\n        this.data[newName] = this.data[oldName];\r\n        delete this.data[oldName];\r\n        var prefix = \"this.refs.\";\r\n        if (this.data.refs)\r\n            prefix = \"refs.\";\r\n        if (autoName)\r\n            this.removePropertyInCode(\"ref\", undefined, newName)\r\n        else\r\n            this.setPropertyInCode(newName, \"ref\", prefix + newName, this.classScope);\r\n\r\n        if (this.refs[oldName])\r\n            this.removeNode(this.refs[oldName].node);\r\n        this.addImportIfNeeded(\"Ref\", \"jassijs/ui/Component\");\r\n        if (!autoName) {\r\n            if (className.startsWith(\"\\\"\")) {\r\n                this.addImportIfNeeded(\"HTMLComponent\", \"jassijs/ui/Component\");\r\n                this.addRef(newName, \"Ref<HTMLComponent>\");\r\n            } else\r\n                this.addRef(newName, \"Ref<\" + className + \">\");\r\n        }\r\n        return newName;\r\n    }\r\n    /** \r\n     * modify a member \r\n     **/\r\n    addOrModifyMember(member: ParsedMember, pclass: ParsedClass) {\r\n        //member.node\r\n        //var newmember=ts.createProperty\r\n        var newdec: ts.Decorator[] = undefined;\r\n        for (var key in member.decorator) {\r\n            var dec = member.decorator[key];\r\n            if (!newdec)\r\n                newdec = [];\r\n            //ts.createDecorator()\r\n            //member.decorator[key].name;\r\n            var params = undefined;\r\n            if (dec.parameter) {\r\n                params = [];\r\n                for (var i = 0; i < dec.parameter.length; i++) {\r\n                    params.push(ts.factory.createIdentifier(dec.parameter[i]));\r\n                }\r\n            }\r\n            var call = ts.factory.createCallExpression(ts.factory.createIdentifier(dec.name), undefined, params);\r\n            newdec.push(ts.factory.createDecorator(call));\r\n        }\r\n        //var type=ts.createTy\r\n        var newmember = ts.factory.createPropertyDeclaration(newdec, member.name, undefined, ts.factory.createTypeReferenceNode(member.type, []), undefined);\r\n        var node = undefined;\r\n        for (var key in pclass.members) {\r\n            if (key === member.name)\r\n                node = pclass.members[key].node\r\n        }\r\n        if (node === undefined) {\r\n            pclass.node[\"members\"].push(newmember);\r\n\r\n        } else {\r\n            var pos = pclass.node[\"members\"].indexOf(node);\r\n            pclass.node[\"members\"][pos] = newmember;\r\n        }\r\n        pclass.members[member.name] = member;\r\n        member.node = newmember;\r\n    }\r\n    /**\r\n    * removes the property from code\r\n    * @param {type} property - the property to remove\r\n    * @param {type} [onlyValue] - remove the property only if the value is found\r\n    * @param {string} [variablename] - thpe name of the variable - default=this.variablename\r\n    */\r\n    removePropertyInCode(property: string, onlyValue = undefined, variablename: string = undefined): ts.Node {\r\n        if (this.data[variablename] !== undefined && this.data[variablename].config !== undefined && property === \"add\") {\r\n            property = \"children\";\r\n            var oldparent: any = this.data[variablename][property][0].node;\r\n            for (var x = 0; x < oldparent.initializer.elements.length; x++) {\r\n                var valueNode = oldparent.initializer.elements[x];\r\n                if (valueNode.getText() === onlyValue || valueNode.getText().startsWith(onlyValue + \".\")) {\r\n                    oldparent.initializer.elements.splice(x, 1);\r\n\r\n                    if (oldparent.initializer.elements.length === 0) {\r\n                        this.removeNode(oldparent);\r\n                    }\r\n                    return valueNode;\r\n                }\r\n\r\n            }\r\n        }\r\n        if (this.data[variablename] !== undefined && this.data[variablename][property] !== undefined) {\r\n            var prop: Entry = undefined;\r\n            if (onlyValue !== undefined) {\r\n                for (var x = 0; x < this.data[variablename][property].length; x++) {\r\n                    if (this.data[variablename][property][x].value === onlyValue || this.data[variablename][property][x].value.startsWith(onlyValue + \".\")) {\r\n                        prop = this.data[variablename][property][x];\r\n                        this.data[variablename][property].splice(x, 1);\r\n                        break;\r\n                    }\r\n                }\r\n            } else\r\n                prop = this.data[variablename][property][0];\r\n            if (prop == undefined)\r\n                return;\r\n            this.removeNode(prop.node);\r\n            if (prop.node[\"expression\"]?.arguments?.length > 0) {\r\n                return prop.node[\"expression\"]?.arguments[0];\r\n            }\r\n            return prop.node;\r\n            /*var oldvalue = this.lines[prop.linestart - 1];\r\n            for (let x = prop.linestart;x <= prop.lineend;x++) {\r\n                this.lines[x - 1] = undefined;\r\n                if (x > 1 && this.lines[x - 2].endsWith(\",\"))//type Me={ bt2?:Button,\r\n                    this.lines[x - 2] = this.lines[x - 2].substring(0, this.lines[x - 2].length);\r\n            }*/\r\n            //var text = this.parser.linesToString();\r\n            //this.codeEditor.value = text;\r\n            //this.updateParser();\r\n        }\r\n\r\n    }\r\n    /**\r\n     * removes the variable from code\r\n     * @param {string} varname - the variable to remove\r\n     */\r\n    removeVariablesInCode(varnames: string[]) {\r\n        var allprops: Entry[] = [];\r\n        //collect allNodes to delete\r\n        for (var vv = 0; vv < varnames.length; vv++) {\r\n            var varname = varnames[vv];\r\n            var prop = this.data[varname];\r\n\r\n            if (varname.startsWith(\"me.\") && this.refs[varname.substring(3)] !== undefined)\r\n                allprops.push(this.refs[varname.substring(3)]);\r\n            //remove properties\r\n            for (var key in prop) {\r\n                let props = prop[key];\r\n                props.forEach((p) => {\r\n                    allprops.push(p);\r\n                });\r\n            }\r\n            if (varname.startsWith(\"me.\")) {\r\n                let props = this.data.me[varname.substring(3)];\r\n                props?.forEach((p) => {\r\n                    allprops.push(p);\r\n                });\r\n            }\r\n        }\r\n        //remove nodes\r\n        for (var x = 0; x < allprops.length; x++) {\r\n            if (allprops[x].node)\r\n                this.removeNode(allprops[x].node);\r\n        }\r\n        /*\r\n       for (var vv = 0; vv < varnames.length; vv++) {\r\n           var varname = varnames[vv];\r\n\r\n           //remove lines where used as parameter\r\n          for (var propkey in this.data) {\r\n               var prop = this.data[propkey];\r\n               for (var key in prop) {\r\n                   var props = prop[key];\r\n                   for (var x = 0; x < props.length; x++) {\r\n                       let p = props[x];\r\n                       var params = p.value.split(\",\");\r\n                       for (var i = 0; i < params.length; i++) {\r\n                           if (params[i] === varname || params[i] === \"this.\" + varname) {\r\n                               this.removeNode(p.node);\r\n                           }\r\n                       }\r\n                       //in children:[]\r\n                       //@ts-ignore\r\n                       var inconfig = prop[key][0]?.node?.initializer?.elements;\r\n                       if (inconfig) {\r\n                           for (var x = 0; x < inconfig.length; x++) {\r\n                               if (inconfig[x].getText() === varname || inconfig[x].getText().startsWith(varname)) {\r\n                                   this.removeNode(inconfig[x]);\r\n\r\n                               }\r\n                           }\r\n                           if (inconfig.length === 0) {\r\n                               this.removeNode(prop[key][0]?.node);\r\n                           }\r\n                       }\r\n                   }\r\n               }\r\n           }\r\n       }*/\r\n        for (var vv = 0; vv < varnames.length; vv++) {\r\n            delete this.data[varnames[vv]];\r\n        }\r\n\r\n    }\r\n    private getNodeFromScope(classscope: { classname: string, methodname: string }[], variablescope: { variablename: string, methodname } = undefined): ts.Node {\r\n        var scope;\r\n        if (classscope === undefined) {\r\n            return this.sourceFile;\r\n        }\r\n        if (variablescope) {\r\n            scope = this.data[variablescope.variablename][variablescope.methodname][0]?.node;\r\n            if (scope.expression)\r\n                scope = scope.expression.arguments[0];\r\n            else\r\n                scope = scope.initializer;\r\n\r\n        } else {\r\n            for (var i = 0; i < classscope.length; i++) {\r\n                var sc = classscope[i];\r\n                if (sc.classname) {\r\n                    scope = this.classes[sc.classname]?.members[sc.methodname]?.node;\r\n                    if (scope)\r\n                        break;\r\n                } else {//exported function\r\n                    scope = this.functions[sc.methodname];\r\n                }\r\n            }\r\n        }\r\n        return scope;\r\n    }\r\n    /**\r\n     * gets the next variablename\r\n     * */\r\n    getNextVariableNameForType(type: string, suggestedName: string = undefined) {\r\n        var varname = suggestedName;\r\n        if (varname === undefined)\r\n            varname = type.split(\".\")[type.split(\".\").length - 1].toLowerCase();\r\n        for (var counter = 1; counter < 1000; counter++) {\r\n            if (this.data[varname + (counter === 1 ? \"\" : counter)] === undefined && (this.data.me === undefined || this.data.me[varname + (counter === 1 ? \"\" : counter)] === undefined))\r\n                break;\r\n        }\r\n        return varname + (counter === 1 ? \"\" : counter);\r\n    }\r\n\r\n    /**\r\n     * change objectliteral to mutliline if needed\r\n     */\r\n    private switchToMutlilineIfNeeded(node: ts.Node, newProperty: string, newValue) {\r\n        try {\r\n            var oldValue = node.getText();\r\n            if (node[\"multiLine\"] !== true) {\r\n                var len = 0;\r\n                for (var x = 0; x < node.parent[\"arguments\"][0].properties.length; x++) {\r\n                    var prop = node.parent[\"arguments\"][0].properties[x];\r\n                    len += (prop.initializer.escapedText ? prop.initializer.escapedText.length : prop.initializer.getText().length);\r\n                    len += prop.name.escapedText.length + 5;\r\n                }\r\n                console.log(len);\r\n                if (oldValue.indexOf(\"\\n\") > -1 || (len > 60) || newValue.indexOf(\"\\n\") > -1) {\r\n                    //order also old elements\r\n                    for (var x = 0; x < node.parent[\"arguments\"][0].properties.length; x++) {\r\n                        var prop = node.parent[\"arguments\"][0].properties[x];\r\n                        prop.pos = -1;\r\n                        prop.len = -1;\r\n                    }\r\n                    node.parent[\"arguments\"][0] = ts.factory.createObjectLiteralExpression(node.parent[\"arguments\"][0].properties, true);\r\n                }\r\n            }\r\n        } catch {\r\n\r\n        }\r\n    }\r\n    private setPropertyInConfig(variableName: string, property: string, value: string | ts.Node,\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        scope: ts.Node) {\r\n\r\n        var svalue: any = typeof value === \"string\" ? ts.factory.createIdentifier(value) : value;\r\n        var config = <any>this.data[variableName][\"config\"][0].node;\r\n        config = config.arguments[0];\r\n        var newExpression = ts.factory.createPropertyAssignment(property, <any>svalue);\r\n        if (property === \"add\" && replace === false) {\r\n            property = \"children\";\r\n            svalue = typeof value === \"string\" ? ts.factory.createIdentifier(value + \".config({})\") : value;\r\n            if (this.data[variableName][\"children\"] == undefined) {//\r\n                newExpression = ts.factory.createPropertyAssignment(property, ts.factory.createArrayLiteralExpression([svalue], true));\r\n                config.properties.push(newExpression);\r\n            } else {\r\n                if (before === undefined) {\r\n                    //@ts-ignore\r\n                    this.data[variableName][\"children\"][0].node.initializer.elements.push(svalue);\r\n                } else {\r\n                    //@ts-ignore\r\n                    var array = this.data[variableName][\"children\"][0].node.initializer.elements;\r\n                    for (var x = 0; x < array.length; x++) {\r\n                        if (array[x].getText() === before.value || array[x].getText().startsWith(before.value + \".\")) {\r\n                            array.splice(x, 0, svalue);\r\n                            return;\r\n                        }\r\n                    }\r\n                    throw new Error(\"Node \" + before.value + \" not found.\");\r\n                }\r\n\r\n            }\r\n        } else {  //comp.add(a) --> comp.config({children:[a]})\r\n            if (replace && this.data[variableName] !== undefined && this.data[variableName][property] !== undefined) {//edit existing\r\n                let node = this.data[variableName][property][0].node;\r\n                this.data[variableName][property]\r\n                var pos = config.properties.indexOf(node);\r\n                config.properties[pos] = newExpression;\r\n                this.data[variableName][property][0].value = value;\r\n                this.data[variableName][property][0].node = newExpression;\r\n                this.switchToMutlilineIfNeeded(config, property, value);\r\n            } else {\r\n                config.properties.push(newExpression);\r\n                if (this.data[variableName][property] === undefined)\r\n                    this.data[variableName][property] = [{ isFunction, value, node: newExpression }];\r\n                this.data[variableName][property][0].node = newExpression;\r\n                this.switchToMutlilineIfNeeded(config, property, value);\r\n            }\r\n        }\r\n\r\n        console.log(\"todo correct spaces\");\r\n\r\n        this.parse(this.getModifiedCode());\r\n        //if (pos >= 0)\r\n        //  node.parent[\"statements\"].splice(pos, 1);\r\n\r\n    }\r\n    private setPropertyInJC(variableName: string, property: string, value: string | ts.Node,\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        scope: ts.Node) {\r\n\r\n        var svalue: any = typeof value === \"string\" ? ts.factory.createIdentifier(value) : value;\r\n        if (this.data[variableName][\"_new_\"][0].node.kind === ts.SyntaxKind.StringLiteral && property === \"text\") {\r\n            this.data[variableName][\"_new_\"][0].value = value;\r\n            //@ts-ignore\r\n            this.data[variableName][\"_new_\"][0].node.text = value.toString().substring(1, value.toString().length - 1);\r\n            //@ts-ignore\r\n            this.data[variableName][\"_new_\"][0].node[\"end\"] = -1;\r\n            //@ts-ignore\r\n            this.data[variableName][\"_new_\"][0].node[\"pos\"] = -1;\r\n            return;\r\n        }\r\n        var config = this.data[variableName][\"_new_\"][0].node[\"arguments\"][1];\r\n        if (this.data[variableName][\"_new_\"][0].node[\"arguments\"].length < 2) {\r\n            config = this.createNode(\"a={}\");\r\n            config = config.right;\r\n            this.data[variableName][\"_new_\"][0].node[\"arguments\"].push(config);\r\n        }\r\n        var newExpression = ts.factory.createPropertyAssignment(property, <any>svalue);\r\n        var jname;\r\n        if (property === \"add\") {//transfer a child to another\r\n            if (this.data[variableName][\"add\"] === undefined) {\r\n                newExpression = ts.factory.createPropertyAssignment(\"children\", ts.factory.createArrayLiteralExpression([], true));\r\n                config.properties.push(newExpression);\r\n                this.data[variableName][\"add\"] = [{ node: newExpression, value: [], isFunction: false }];\r\n            }\r\n\r\n            if (typeof value === \"string\") {\r\n                jname = value;\r\n                var prop = this.data[value][\"_new_\"][0];\r\n                var classname = (<any>prop).className;\r\n                if (classname === \"HTMLComponent\")\r\n                    classname = \"\\\"\" + (<any>prop).tag + \"\\\"\";\r\n                var node;\r\n                if (classname === \"text\") {\r\n\r\n                    node = ts.factory.createStringLiteral(\"\\\"\" + value + \"\\\"\");\r\n                    //this.add(value, \"text\", <string>\"\", node);\r\n                } else {\r\n                    node = this.createNode(\"jc(\" + classname + \",{})\\n\");\r\n                    // if (classname === \"br\")\r\n                    //   node = this.createNode(\"<\" + classname + \"/>\");\r\n                }\r\n                prop.node = node;\r\n                prop.isJc = true;\r\n                prop.value = value;\r\n\r\n            } else {\r\n                var name;\r\n                for (var key in this.data) {\r\n                    if (this.data[key][\"_new_\"]) {\r\n                        if (this.data[key][\"_new_\"][0].node === value)\r\n                            name = key;\r\n                    }\r\n                }\r\n                //jname=(<any>value).jname;\r\n                //remove old\r\n                if(value.parent[\"children\"]){\r\n                    var pos = value.parent[\"children\"].indexOf(value);\r\n                    value.parent[\"children\"].splice(pos, 0);\r\n                }else{\r\n                     var pos = value.parent[\"elements\"].indexOf(value);\r\n                    value.parent[\"elements\"].splice(pos, 0);\r\n                }\r\n                prop = this.data[name][\"_new_\"][0];\r\n                node = value;//removeold\r\n                \r\n            }\r\n            var props=this.data[variableName][\"_new_\"][0].node[\"arguments\"][1].properties;\r\n            for(var p=0;p<props.length;p++){\r\n                if(props[p].name.text===\"children\"){\r\n                    node.parent = props[p].initializer;\r\n                }\r\n            }\r\n            if( node.parent===undefined)\r\n                throw \"Parent not found\";\r\n            \r\n           \r\n\r\n            if (before) {\r\n                let found = undefined;\r\n                let ofound = -1;\r\n                console.log(\"var \" + before.variablename);\r\n                console.log(this.data);\r\n                for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                    if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                        found = this.data[before.variablename][before.property][o].node;\r\n                        ofound = o;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                //@ts-ignore\r\n                var childrenNode = this.data[variableName][\"add\"][0].node.initializer;\r\n                var args = childrenNode.elements;\r\n                var pos = args.indexOf(found);\r\n                args.splice(pos, 0, node);\r\n                // config.properties.splice(pos + 1, 0, ts.factory.createJsxText(\"\\n\", true));\r\n\r\n                this.data[variableName][\"add\"].splice(ofound, 0, {\r\n                    node: node,\r\n                    value: jname,\r\n                    isFunction: false\r\n                });\r\n                //this.data[variableName][\"add\"][0].node;\r\n\r\n            } else {\r\n\r\n                var childrenNode = this.data[variableName][\"add\"][0].node[\"initializer\"];\r\n                var args = childrenNode.elements;\r\n                args.push(node);\r\n                this.add(variableName, \"add\", <string>value, node);\r\n            }\r\n            this.switchToMutlilineIfNeeded(config, property, value);\r\n            return;\r\n        } else {  //comp.add(a) --> comp.config({children:[a]})\r\n            if ((replace!==false && this.data[variableName] !== undefined &&( this.data[variableName][property] !== undefined)|| property === \"tag\") ) {//edit existing\r\n                //let node = this.data[variableName][property][0].node;\r\n                //if (node === undefined && property === \"tag\") {//jc(\"div\" => jc(\"span\"\r\n                if (property === \"tag\") {//jc(\"div\" => jc(\"span\"\r\n                    //  this.data[variableName][property][0].value = value;\r\n                    var sval = (<string>value).substring(1, (<string>value).length - 1);\r\n\r\n                    this.data[variableName][\"_new_\"][0].node[\"arguments\"][0] = ts.factory.createStringLiteral(sval);\r\n                } else {\r\n                    let node = this.data[variableName][property][0].node;\r\n                    this.data[variableName][property]\r\n                    var pos = config.properties.indexOf(node);\r\n                    config.properties[pos] = newExpression;\r\n                    this.data[variableName][property][0].value = value;\r\n                    this.data[variableName][property][0].node = newExpression;\r\n                    this.switchToMutlilineIfNeeded(config, property, value);\r\n                }\r\n            } else {\r\n                config.properties.push(newExpression);\r\n                if (this.data[variableName][property] === undefined)\r\n                    this.data[variableName][property] = [{ isFunction, value, node: newExpression }];\r\n                this.data[variableName][property][0].node = newExpression;\r\n                this.switchToMutlilineIfNeeded(config, property, value);\r\n            }\r\n        }\r\n\r\n        console.log(\"todo correct spaces\");\r\n\r\n        // this.parse(this.getModifiedCode());\r\n        //if (pos >= 0)\r\n        //  node.parent[\"statements\"].splice(pos, 1);\r\n\r\n    }\r\n    setPropertyInJSX(variableName: string, property: string, value: string | ts.Node,\r\n        classscope: { classname: string, methodname: string }[],\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        variablescope: { variablename: string, methodname } = undefined) {\r\n\r\n        //if (this.data[variableName] === undefined)\r\n        //    this.data[variableName] = {};\r\n        var newValue: any;\r\n        if (typeof value === \"string\")\r\n            newValue = value.startsWith('\"') ? ts.factory.createIdentifier(value) : ts.factory.createIdentifier(\"{\" + value + \"}\");\r\n        else\r\n            newValue = value;;\r\n        var newExpression = newExpression = ts.factory.createJsxAttribute(ts.factory.createIdentifier(property), newValue);;\r\n        if (property === \"new\") { //me.panel1=new Panel({});\r\n            /*       let prop = this.data[variableName][\"_new_\"][0];//.substring(3)];\r\n                   var constr = prop.value;\r\n                   value = constr.substring(0, constr.indexOf(\"(\") + 1) + value + constr.substring(constr.lastIndexOf(\")\"));\r\n                   replace = true;\r\n                   var left = prop.node.getText();\r\n                   left = left.substring(0, left.indexOf(\"=\") - 1);\r\n                   property = \"_new_\";\r\n                   newExpression = ts.createExpressionStatement(ts.createAssignment(ts.createIdentifier(left), newValue));\r\n               */\r\n        } else if (isFunction) {\r\n\r\n            //   newExpression = ts.createExpressionStatement(ts.createCall(\r\n            //     ts.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), undefined, [newValue]));\r\n        } /*else\r\n            newExpression = ts.createExpressionStatement(ts.createAssignment(\r\n                ts.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), newValue));\r\n        */\r\n        var jname;\r\n        if (property === \"add\") {//transfer a child to another\r\n            var parent = this.data[variableName][\"_new_\"][0].node;\r\n            if (typeof value === \"string\") {\r\n                jname = value;\r\n                var prop = this.data[value][\"_new_\"][0];\r\n                var classname = (<any>prop).className;\r\n                if (classname === \"HTMLComponent\")\r\n                    classname = (<any>prop).tag;\r\n                var node;\r\n                if (classname === \"text\") {\r\n\r\n                    node = ts.factory.createJsxText(<string>\"\", false);\r\n                    this.add(value, \"text\", <string>\"\", node);\r\n                } else {\r\n                    node = this.createNode(\"<\" + classname + \"></\" + classname + \">\");\r\n                    if (classname === \"br\")\r\n                        node = this.createNode(\"<\" + classname + \"/>\");\r\n                }\r\n                prop.node = node;\r\n                prop.value = value;\r\n            } else {\r\n                var name;\r\n                for (var key in this.data) {\r\n                    if (this.data[key][\"_new_\"]) {\r\n                        if (this.data[key][\"_new_\"][0].node === value)\r\n                            name = key;\r\n                    }\r\n                }\r\n                //jname=(<any>value).jname;\r\n                //remove old\r\n                var pos = value.parent[\"children\"].indexOf(value);\r\n                value.parent[\"children\"].splice(pos, 0);\r\n                prop = this.data[name][\"_new_\"][0];\r\n                node = value;//removeold\r\n\r\n            }\r\n            node.parent = parent;\r\n\r\n            if (before) {\r\n                let found = undefined;\r\n                let ofound = -1;\r\n                console.log(\"var \" + before.variablename);\r\n                console.log(this.data);\r\n                for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                    if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                        found = this.data[before.variablename][before.property][o].node;\r\n                        ofound = o;\r\n                        break;\r\n                    }\r\n                }\r\n                var pos = parent[\"children\"].indexOf(found);\r\n                parent[\"children\"].splice(pos, 0, node);\r\n                parent[\"children\"].splice(pos + 1, 0, ts.factory.createJsxText(\"\\n\", true));\r\n\r\n                this.data[variableName][\"add\"].splice(ofound, 0, {\r\n                    node: node,\r\n                    value: jname,\r\n                    isFunction: false\r\n                });\r\n                //this.data[variableName][\"add\"][0].node;\r\n\r\n            } else {\r\n                if (parent[\"children\"] === undefined)\r\n                    debugger;\r\n                parent[\"children\"].push(node);\r\n                parent[\"children\"].push(ts.factory.createJsxText(\"\\n\", true));\r\n                this.add(variableName, \"add\", <string>value, node);\r\n            }\r\n            return;\r\n        }\r\n        if (this.data[variableName][\"_new_\"][0].node.kind === ts.SyntaxKind.JsxText) {\r\n            if (property === \"text\") {\r\n                var svalue = <string>value;\r\n                var old = (<any>this.data[variableName][property][0].node).text;//getText() throw error if created manuell\r\n                svalue = JSON.parse(`{\"a\":` + svalue + \"}\").a;\r\n                if (svalue.length === svalue.trim().length) {\r\n                    // @ts-ignore\r\n                    svalue = old.substring(0, old.length - old.trimStart().length) + svalue + old.substring(old.length - (old.length - old.trimEnd().length));\r\n                }\r\n\r\n                //correct spaces linebrak are lost in html editing\r\n\r\n                this.data[variableName][property][0].value = JSON.stringify(svalue);\r\n                (<any>this.data[variableName][property][0].node).text = svalue;\r\n            }\r\n            return;\r\n        } \r\n        if (replace !== false && this.data[variableName] !== undefined && this.data[variableName][property] !== undefined && typeof value === \"string\") {//edit existing\r\n            if (property === \"tag\") {\r\n\r\n\r\n                (<any>this.data[variableName][\"_new_\"][0].node).openingElement.tagName = ts.factory.createIdentifier(value.substring(1, value.length - 1));\r\n                (<any>this.data[variableName][\"_new_\"][0].node).closingElement.tagName = ts.factory.createIdentifier(value.substring(1, value.length - 1));\r\n                this.data[variableName][property][0].value = value;\r\n                (<any>this.data[variableName][\"_new_\"][0].node)[\"jname\"] = value.replaceAll('\"', \"\");\r\n                return;\r\n            }\r\n            let node = this.data[variableName][property][0].node;\r\n            var pos = node.parent[\"properties\"].indexOf(node);\r\n            //node.initializer.text=newValue;\r\n\r\n            node.parent[\"properties\"][pos] = newExpression;\r\n            newExpression.parent = node.parent;\r\n            this.data[variableName][property][0].node = newExpression;\r\n            this.data[variableName][property][0].value = value;\r\n            //var pos = node.parent[\"properties\"].indexOf(node);\r\n            //node.parent[\"properties\"][pos] = newValue;\r\n            //if (pos >= 0)\r\n            //  node.parent[\"statements\"].splice(pos, 1);\r\n        } else {//insert new\r\n            if (before) {\r\n                throw \"not implemented\";\r\n                /*  if (before.value === undefined)\r\n                      throw \"not implemented\";\r\n                  let node = undefined;\r\n                  for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                      if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                          node = this.data[before.variablename][before.property][o].node;\r\n                          break;\r\n                      }\r\n                  }\r\n                  if (!node)\r\n                      throw Error(\"Property not found \" + before.variablename + \".\" + before.property + \" value \" + before.value);\r\n                  var pos = node.parent[\"statements\"].indexOf(node);\r\n                  if (pos >= 0)\r\n                      node.parent[\"statements\"].splice(pos, 0, newExpression);*/\r\n            } else {\r\n\r\n                let parent = (<any>this.data[variableName][\"_new_\"][0].node).attributes;\r\n                if (parent === undefined)\r\n                    parent = (<any>this.data[variableName][\"_new_\"][0].node).openingElement.attributes;\r\n                if (property === \"tag\" && typeof value === \"string\") {//HTMLComponent tag\r\n\r\n                    var tagname = value.substring(1, value.length - 1);\r\n\r\n                    (<any>this.data[variableName][\"_new_\"][0].node)[\"jname\"] = value.replaceAll('\"', \"\");\r\n                    if ((<any>this.data[variableName][\"_new_\"][0].node).attributes) {\r\n                        (<any>this.data[variableName][\"_new_\"][0].node).tagName = ts.factory.createIdentifier(tagname);\r\n                    } else {\r\n                        if (tagname.toLowerCase() === \"br\") {//br is created as <br></br> ==> correct\r\n                            var oldnode:any = this.data[variableName][\"_new_\"][0].node;\r\n                            var newnode = this.createNode(\"<br/>\");\r\n                            var pos=oldnode.parent.children.indexOf(oldnode);\r\n                            oldnode.parent.children[pos]=newnode;\r\n                            this.data[variableName][\"_new_\"][0].node=newnode;\r\n                        } else {\r\n                            (<any>this.data[variableName][\"_new_\"][0].node).openingElement.tagName = ts.factory.createIdentifier(tagname);\r\n                            (<any>this.data[variableName][\"_new_\"][0].node).closingElement.tagName = ts.factory.createIdentifier(tagname);\r\n                        }\r\n                    }\r\n                } else {\r\n                    parent[\"properties\"].push(newExpression);\r\n                    newExpression.parent = parent;//[\"properties\"];\r\n                }\r\n                this.data[variableName][property] = [{ node: newExpression, isFunction, value }];\r\n\r\n            }\r\n        }\r\n    }\r\n    /*  movePropertValueInCode(variableName: string, property: string, value: string, newVariableName: string, beforeValue: any) {\r\n          if (this.data[variableName][\"config\"] !== undefined) {\r\n              if (property === \"add\")\r\n                  property = \"children\";\r\n              var oldparent:any=this.data[variableName][property][0].node;\r\n              for (var x = 0; x < oldparent.initializer.elements.length; x++) {\r\n                  var valueNode=oldparent.initializer.elements[x];\r\n                  if (valueNode.getText() === value ||valueNode.getText().startsWith(value + \".\")) {\r\n                      oldparent.initializer.elements.splice(x,1);\r\n                  }\r\n              }\r\n          }\r\n      }*/\r\n    /**\r\n    * modify the property in code\r\n    * @param variablename - the name of the variable\r\n    * @param  property - the property \r\n    * @param value - the new value\r\n    * @param classscope  - the property would be insert in this block\r\n    * @param isFunction  - true if the property is a function\r\n    * @param [replace]  - if true the old value is deleted\r\n    * @param [before] - the new property is placed before this property\r\n    * @param [variablescope] - if this scope is defined - the new property would be insert in this variable\r\n    */\r\n    setPropertyInCode(variableName: string, property: string, value: string | ts.Node,\r\n        classscope: { classname: string, methodname: string }[],\r\n        isFunction: boolean = false, replace: boolean = undefined,\r\n        before: { variablename: string, property: string, value?} = undefined,\r\n        variablescope: { variablename: string, methodname } = undefined) {\r\n        if (this.isJSX)\r\n            return this.setPropertyInJSX(variableName, property, <string>value, classscope, isFunction, replace, before, variablescope);\r\n        if (this.data[variableName] === undefined)\r\n            this.data[variableName] = {};\r\n        if (classscope === undefined)\r\n            classscope = this.classScope;\r\n        var scope = this.getNodeFromScope(classscope, variablescope);\r\n        var newExpression = undefined;\r\n        if (this.data[variableName][\"_new_\"] && this.data[variableName][\"_new_\"][0].isJc) {\r\n            this.setPropertyInJC(variableName, property, value, isFunction, replace, before, scope);\r\n            return;\r\n        }\r\n        if (this.data[variableName][\"config\"] !== undefined && property !== \"new\") {\r\n            this.setPropertyInConfig(variableName, property, value, isFunction, replace, before, scope);\r\n            return;\r\n        }\r\n        var newValue: any = typeof value === \"string\" ? ts.factory.createIdentifier(value) : value;\r\n        var statements: ts.Statement[] = scope[\"body\"] ? scope[\"body\"].statements : scope[\"statements\"];\r\n        if (property === \"new\") { //me.panel1=new Panel({});\r\n            let prop = this.data[variableName][\"_new_\"][0];//.substring(3)];\r\n            var constr = prop.value;\r\n            value = constr.substring(0, constr.indexOf(\"(\") + 1) + value + constr.substring(constr.lastIndexOf(\")\"));\r\n            replace = true;\r\n            var left = prop.node.getText();\r\n            left = left.substring(0, left.indexOf(\"=\") - 1);\r\n            property = \"_new_\";\r\n            newExpression = ts.factory.createExpressionStatement(ts.factory.createAssignment(ts.factory.createIdentifier(left), newValue));\r\n        } else if (isFunction) {\r\n            //           newExpression=this.createNode(property === \"\" ? variableName : (variableName + \".\" + property)+\"(\"+newValue.text+\")\",true);\r\n            newExpression = ts.factory.createExpressionStatement(ts.factory.createCallExpression(\r\n                ts.factory.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), undefined, [newValue]));\r\n        } else\r\n            newExpression = ts.factory.createExpressionStatement(ts.factory.createAssignment(\r\n                ts.factory.createIdentifier(property === \"\" ? variableName : (variableName + \".\" + property)), newValue));\r\n        if (replace !== false && this.data[variableName] !== undefined && this.data[variableName][property] !== undefined) {//edit existing\r\n            let node = this.data[variableName][property][0].node;\r\n\r\n            var pos = node.parent[\"statements\"].indexOf(node);\r\n            node.parent[\"statements\"][pos] = newExpression;\r\n            newExpression.parent = node.parent;\r\n\r\n            //if (pos >= 0)\r\n            //  node.parent[\"statements\"].splice(pos, 1);\r\n        } else {//insert new\r\n            if (before) {\r\n                if (before.value === undefined)\r\n                    throw \"not implemented\";\r\n                let node = undefined;\r\n                for (var o = 0; o < this.data[before.variablename][before.property].length; o++) {\r\n                    if (this.data[before.variablename][before.property][o].value === before.value) {\r\n                        node = this.data[before.variablename][before.property][o].node;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!node)\r\n                    throw Error(\"Property not found \" + before.variablename + \".\" + before.property + \" value \" + before.value);\r\n                var pos = node.parent[\"statements\"].indexOf(node);\r\n                if (pos >= 0)\r\n                    node.parent[\"statements\"].splice(pos, 0, newExpression);\r\n            } else {\r\n                var lastprop: ts.Node = undefined;\r\n                for (let prop in this.data[variableName]) {\r\n                    if (prop === \"_new_\") {\r\n                        //should be in the same scope of declaration (important for repeater)\r\n                        statements = this.data[variableName][prop][0].node.parent[\"statements\"];\r\n                        continue;\r\n                    }\r\n                    var testnode: ts.Node = this.data[variableName][prop][this.data[variableName][prop].length - 1].node;\r\n                    if (testnode.parent === scope[\"body\"])\r\n                        lastprop = testnode;\r\n                }\r\n                if (lastprop) {\r\n                    var pos = lastprop.parent[\"statements\"].indexOf(lastprop);\r\n                    if (pos >= 0)\r\n                        lastprop.parent[\"statements\"].splice(pos + 1, 0, newExpression);\r\n                } else {\r\n                    var pos = statements.length;\r\n                    try {\r\n                        if (pos > 0 && statements[statements.length - 1].getText().startsWith(\"return \"))\r\n                            pos--;\r\n                    } catch {\r\n\r\n                    }\r\n                    statements.splice(pos, 0, newExpression);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * swaps two statements indendified by  functionparameter in a variable.property(parameter1) with variable.property(parameter2)\r\n     **/\r\n    swapPropertyWithParameter(variable: string, property: string, parameter1: string, parameter2: string) {\r\n        var first: ts.Node = undefined;\r\n        var second: ts.Node = undefined;\r\n        var parent = this.data[variable][property];\r\n        if (this.data[variable][\"config\"] && property === \"add\") {\r\n            var children = (<any>this.data[variable][\"children\"][0].node).initializer.elements;\r\n            var ifirst;\r\n            var isecond;\r\n\r\n            for (var x = 0; x < children.length; x++) {\r\n                var text = children[x].getText()\r\n                if (text === parameter1 || text.startsWith(parameter1 + \".config\")) {\r\n                    ifirst = x;\r\n                }\r\n                if (text === parameter2 || text.startsWith(parameter2 + \".config\")) {\r\n                    isecond = x;\r\n                }\r\n            }\r\n            var temp = children[ifirst];\r\n            children[ifirst] = children[isecond];\r\n            children[isecond] = temp;\r\n            return;\r\n        }\r\n        for (var x = 0; x < parent.length; x++) {\r\n            if (parent[x].value.split(\",\")[0].trim() === parameter1)\r\n                first = parent[x].node;\r\n            if (parent[x].value.split(\",\")[0].trim() === parameter2)\r\n                second = parent[x].node;\r\n        }\r\n        if (!first)\r\n            throw Error(\"Parameter not found \" + parameter1);\r\n        if (!second)\r\n            throw Error(\"Parameter not found \" + parameter2);\r\n        var ifirst = first.parent[\"statements\"].indexOf(first);\r\n        var isecond = second.parent[\"statements\"].indexOf(second);\r\n        first.parent[\"statements\"][ifirst] = second;\r\n        first.parent[\"statements\"][isecond] = first;\r\n\r\n\r\n    }\r\n    /**\r\n    * adds an Property\r\n    * @param type - name of the type o create\r\n    * @param classscope - the scope (methodname) where the variable should be insert Class.layout\r\n    * @param variablescope - the scope where the variable should be insert e.g. hallo.onclick\r\n    * @returns  the name of the object\r\n    */\r\n    addVariableInCode(fulltype: string, classscope: { classname: string, methodname: string }[], variablescope: { variablename: string, methodname } = undefined, suggestedName = undefined, codeHasChanged: { value: boolean } = undefined): string {\r\n        if (classscope === undefined)\r\n            classscope = this.classScope;\r\n        let type = fulltype.split(\".\")[fulltype.split(\".\").length - 1];\r\n        var varname = this.getNextVariableNameForType(type, suggestedName);\r\n\r\n        if (this.variabelStack) {\r\n            type = type === \"TextComponent\" ? \"text\" : type;\r\n            this.data[varname] = {\r\n                \"_new_\": [<any>{ className: type, tag: suggestedName }]\r\n            }\r\n            if (codeHasChanged) {\r\n                codeHasChanged.value = false;\r\n            }\r\n            // this.addRef(varname, type);\r\n            return varname;\r\n        } else {\r\n            var useMe = false;\r\n            if (this.data[\"me\"] !== undefined)\r\n                useMe = true;\r\n            //var if(scopename)\r\n\r\n            var node = this.getNodeFromScope(classscope, variablescope);\r\n            //@ts-ignore\r\n            if (node?.parameters?.length > 0 && node.parameters[0].name.text == \"me\") {\r\n                useMe = true;\r\n            }\r\n            var prefix = useMe ? \"me.\" : \"var \";\r\n            if (node === undefined)\r\n                throw Error(\"no scope to insert a variable could be found\");\r\n\r\n            var statements: ts.Statement[] = node[\"body\"] ? node[\"body\"].statements : node[\"statements\"];\r\n            for (var x = 0; x < statements.length; x++) {\r\n                if (!statements[x].getText().split(\"\\n\")[0].includes(\"new \") && !statements[x].getText().split(\"\\n\")[0].includes(\"var \"))\r\n                    break;\r\n            }\r\n            var st = this.createNode(prefix + varname + \"=new \" + type + \"();\", true);\r\n            // var ass = ts.createAssignment(ts.createIdentifier(prefix + varname), ts.createIdentifier(\"new \" + type + \"()\"));\r\n            statements.splice(x, 0, st);//ts.factory.createStatement(ass));\r\n            if (useMe)\r\n                this.addRef(varname, type);\r\n        }\r\n        return (useMe ? \"me.\" : \"\") + varname;\r\n    }\r\n}\r\n\r\nexport async function tests(t: Test) {\r\n    function clean(s: string): string {\r\n        return s.replaceAll(\"\\t\", \"\").replaceAll(\"\\r\", \"\").replaceAll(\"\\n\", \"\")\r\n    }\r\n    await mytypescript.waitForInited;\r\n    var parser = new Parser();\r\n    parser.parse(\"var j;j.config({children:[a,b,c]})\");\r\n    parser.swapPropertyWithParameter(\"j\", \"add\", \"c\", \"a\");\r\n\r\n    t.expectEqual(clean(parser.getModifiedCode()) === 'var j;j.config({ children: [c,b,a] });');\r\n    parser.parse(\"var j;j.add(a);j.add(b);j.add(c);\");\r\n    parser.swapPropertyWithParameter(\"j\", \"add\", \"c\", \"a\");\r\n    t.expectEqual(clean(parser.getModifiedCode()) === 'var j;j.add(c);j.add(b);j.add(a);');\r\n\r\n\r\n    parser.parse(\"class A{}\");\r\n    t.expectEqual(parser.classes.A !== undefined);\r\n    parser.parse(\"var a=8;\");\r\n    t.expectEqual(parser.data.a !== undefined);\r\n    parser.parse(\"b=8;\");\r\n    t.expectEqual(parser.data.b !== undefined);\r\n    parser.parse(\"b=8\", [{ classname: undefined, methodname: \"test\" }]);\r\n    t.expectEqual(parser.data.b === undefined);\r\n    var scope = [{ classname: undefined, methodname: \"test\" }];\r\n    parser.parse(\"function test(){b=8;}\", scope);\r\n    t.expectEqual(parser.data.b !== undefined);\r\n\r\n    parser.addVariableInCode(\"MyClass\", scope);\r\n    parser.setPropertyInCode(\"myclass\", \"a\", \"9\", scope);\r\n    console.log(clean(parser.getModifiedCode()));\r\n    t.expectEqual(clean(parser.getModifiedCode()) === \"function test() { var myclass=new MyClass(); b=8; myclass.a=9; }\");\r\n\r\n    parser = new Parser();\r\n    parser.parse(\"\");\r\n    parser.addVariableInCode(\"MyClass\", undefined);\r\n    parser.setPropertyInCode(\"myclass\", \"a\", \"9\", undefined);\r\n    t.expectEqual(clean(parser.getModifiedCode()) === \"var myclass=new MyClass();myclass.a=9;\");\r\n\r\n}\r\nexport async function test() {\r\n    var h = ts;\r\n\r\n    //tests(new Test());\r\n    await mytypescript.waitForInited;\r\n\r\n    var code = mytypescript.getCode(\"demo/hallo.tsx\");\r\n    var parser = new Parser();\r\n    var scope = undefined;// [{ classname: \"Dialog2\", methodname: \"layout\" }];\r\n    parser.parse(code, scope, false);\r\n\r\n    //parser.addImportIfNeeded(\"table2\", \"jassijs/ui/Table2\");\r\n    //parser.setPropertyInCode(\"me.button2\",\"pp\",\"hallo\",scope);\r\n\r\n    // var j=parser.addVariableInCode(\"jassijs.ui.Button\",[{classname:\"Dialog\",methodname:\"layout\"  }]);\r\n    console.log(parser.getModifiedCode());\r\n\r\n\r\n    // code = \"function test(){ var hallo={};var h2={};var ppp={};hallo.p=9;hallo.config({a:1,b:2, k:h2.config({c:1,j:ppp.config({pp:9})})     }); }\";\r\n    // code = \"function(test){ var hallo={};var h2={};var ppp={};hallo.p=9;hallo.config({a:1,b:2, k:h2.config({c:1},j(){j2.udo=9})     }); }\";\r\n    // code = \"function test(){var ppp;var aaa=new Button();ppp.config({a:[9,6],  children:[ll.config({}),aaa.config({u:1,o:2,children:[kk.config({})]})]});}\";\r\n    //parser.parse(code, undefined);\r\n    //code=\"reportdesign={k:9};\";\r\n\r\n    // parser.parse(code,[{ classname: \"Dialog2\", methodname: \"layout\" }]);// [{ classname: \"TestDialogBinder\", methodname: \"layout\" }]);\r\n\r\n    //    parser.setPropertyInCode(\"me.table\",\"new\",'new Table({\\n      paginationSize: 1\\n})',undefined);\r\n    //  console.log(parser.getModifiedCode());\r\n    // parser.removeVariablesInCode([\"me.repeater\"]);\r\n    //parser.addVariableInCode(\"Component\", [{ classname: \"Dialog\", methodname: \"layout\" }]);\r\n    //parser.setPropertyInCode(\"component\", \"x\", \"1\", [{ classname: \"Dialog\", methodname: \"layout\" }]);\r\n\r\n    // var node = parser.removePropertyInCode(\"add\", \"me.textbox1\", \"me.panel1\");\r\n    // parser.setPropertyInCode(\"this\",\"add\",node,[{classname:\"Dialog\",methodname:\"layout\"}],true,false);\r\n    //var node = parser.removePropertyInCode(\"add\", \"kk\", \"aaa\");\r\n\r\n    //var node=parser.removePropertyInCode(\"add\", \"ll\", \"ppp\");\r\n    //parser.setPropertyInCode(\"aaa\",\"add\",node,[{classname:undefined, methodname:\"test\"}],true,false,undefined,undefined);\r\n    //console.log(node.getText());\r\n    //    parser.setPropertyInCode(\"ppp\",\"add\",\"cc\",[{classname:undefined, methodname:\"test\"}],true,false,{variablename:\"ppp\",property:\"add\",value:\"ll\"});\r\n    //  parser.setPropertyInCode(\"aaa\",\"add\",\"cc\",[{classname:undefined, methodname:\"test\"}],true,false,{variablename:\"aaa\",property:\"add\",value:\"kk\"});\r\n\r\n    // debugger;\r\n    /*  const printer = ts.createPrinter({ newLine: ts.NewLineKind.LineFeed });\r\n      const resultFile = ts.createSourceFile(\"dummy.ts\", \"\", ts.ScriptTarget.Latest, false, ts.ScriptKind.TS);\r\n      const result = printer.printNode(ts.EmitHint.Unspecified, parser.sourceFile, resultFile);\r\n      console.log(result);*/\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n","import \"jassijs/ext/jquerylib\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { Component } from \"jassijs/ui/Component\";\nimport { DragAndDropper } from \"jassijs_editor/util/DragAndDropper\";\n\n@$Class(\"jassijs_editor.util.Resizer\")\nexport class Resizer {\n    //the current cursor e.g. \"default\",\"s-resize\" \n    private cursorType: string;\n    //is the cursor under th border of an element\n    private isCursorOnBorder: boolean;\n    //the element which is currently resized\n    private resizedElement: string;\n    //is the mousebutton down\n    private isMouseDown: boolean;\n    //all elements which can be resized e.g. \"#100,#102\"\n    private elements: string;\n    //all elements with registred mousedown handler\n    private mousedownElements: JQuery<Node>;\n    //called if elements are selected\n    public onelementselected: (ids: string[], event: any) => void;\n    //called if properties has changed e.g. the width of a component\n    public onpropertychanged: (component: Component, property: string, value: any) => void;\n    //the parent component and all childcomponents can be resized\n    private parentPanel: Component;\n    //id's of the last selected Elements\n    private lastSelected: string[];\n    //the component under the mouse cursor\n    public componentUnderCursor: Element;\n    //is the lasso acivated? \n    private lassoMode: boolean;\n    //the connected DragAndDropper\n    public draganddropper: DragAndDropper;\n    //the top element in z-order which is clicked\n    private topElement: string;\n    //timer to detect the component which should be changed\n    private propertyChangetimer;\n    constructor() {\n        this.cursorType = \"\";\n        this.isCursorOnBorder = false;\n        this.isMouseDown = false;\n        this.resizedElement = \"\";\n        this.elements = undefined;\n        this.onelementselected = undefined;\n        this.onpropertychanged = undefined;\n        this.parentPanel = undefined;\n        this.lastSelected = undefined;\n        this.componentUnderCursor = undefined;\n        this.lassoMode = false;\n        this.draganddropper = undefined;\n\n    }\n    private mouseDownOld(event) {\n        event.data._resizeComponent(event);\n        let elementID = (<any>this).getAttribute('id');\n        var _this: Resizer = event?.data;\n\n        if (_this.onelementselected !== undefined) {\n\n            //select with click\n            //delegate only the top window - this is the first event????\n            if (_this.topElement === undefined) {\n                if (document.getElementById(elementID).classList.contains(\"designerNoSelectable\")) {\n                    return;\n                }\n                _this.topElement = elementID;\n\n                setTimeout(function () {\n                    _this.parentPanel.dom.querySelectorAll(\".jselected\").forEach((c) => { c.classList.remove(\"jselected\") });\n                    //                   $(\".jselected\").removeClass(\"jselected\");\n                    document.getElementById(_this.topElement).classList.add(\"jselected\");\n                    _this.lastSelected = [_this.topElement];\n                    if (!_this.onelementselected)\n                        console.log(\"onselected undefined\");\n                    _this.onelementselected(_this.lastSelected, event);\n                    _this.topElement = undefined;\n                }, 50);\n            }\n\n            var lastTime = new Date().getTime();\n            //select with lasso\n\n        }\n        if (_this.resizedElement === \"\" || _this.resizedElement === undefined) {//if also parentcontainer will be fired->ignore\n            _this.resizedElement = elementID.toString();\n            _this.isMouseDown = true;\n        }\n    }\n    private mouseDown(event) {\n\n        event.data._resizeComponent(event);\n        let elementID = (<any>this).getAttribute('id');\n        var _this: Resizer = event?.data;\n        var target = event.target;\n        if (_this.onelementselected !== undefined) {\n            \n            _this.topElement = undefined\n            //event.preventDefault();\n            while (_this.topElement === undefined) {\n                if (target._this && _this.elements.indexOf(target._this._id) !== -1)\n                    _this.topElement = target._this._id;\n                else if (target._this && _this.elements.indexOf(target._this.domWrapper?._id) !== -1)\n                    _this.topElement = target._this.domWrapper?._id;\n                target = target.parentNode;\n            }\n\n            \n            _this.lastSelected = [_this.topElement];\n            if (!_this.onelementselected)\n                console.log(\"onselected undefined\");\n            _this.onelementselected(_this.lastSelected, event);\n            _this.topElement = undefined;\n\n        }\n\n        var lastTime = new Date().getTime();\n        //select with lasso\n\n\n        if (_this.resizedElement === \"\" || _this.resizedElement === undefined) {//if also parentcontainer will be fired->ignore\n            _this.resizedElement = elementID.toString();\n            _this.isMouseDown = true;\n        }\n    }\n    private mouseMove(event) {\n        event.data._resizeComponent(event);\n    };\n    private mouseUp(event) {\n        if (event.data !== undefined) {\n            var _this: Resizer = event?.data;\n            _this.isMouseDown = false;\n            _this.isCursorOnBorder = false;\n            _this.cursorType = \"default\";\n            if (_this.resizedElement !== \"\" && _this.resizedElement !== undefined) {\n                document.getElementById(_this.resizedElement).style.cursor = _this.cursorType;\n                _this.resizedElement = \"\";\n            }\n        }\n    }\n    //not every event should be fired - only the last with delay\n    private firePropertyChange(...param: any[]) {\n        var _this = this;\n        if (this.propertyChangetimer) {\n            clearTimeout(this.propertyChangetimer);\n        }\n\n        this.propertyChangetimer = setTimeout(() => {\n            if (_this.onpropertychanged !== undefined) {\n                //@ts-ignore\n                _this.onpropertychanged(...param);\n            }\n        }, 200);\n    }\n\n    /**\n    * resize the component\n    * this is an onmousemove event called from _changeCursor()\n    * @param {type} event\n    */\n    private _resizeComponent(e) {\n\n        //window.status = event1.type;\n        //check drag is activated or not\n        if (this.isMouseDown) {\n            // console.debug(\"drag\");\n            var curevent = e;\n            //coordiantes of the event position\n            var x = curevent.clientX;\n            var y = curevent.clientY;\n            var element = this.lastSelected.length===0?undefined:document.getElementById(this.lastSelected[0]);\n\n            //var element: HTMLElement = <HTMLElement>this.componentUnderCursor;\n\n            if (element === undefined) {\n                var cursor = this.cursorType.substring(0, this.cursorType.indexOf('-'));\n                this._changeCursor(e);\n                return;\n            }\n            /*if (this.lastSelected && this.lastSelected.length > 0) {\n                if (document.getElementById(this.lastSelected[0])._this !== element._this)\n                    return;\n            }*/\n            //top left positions of the div element\n            var topLeftX = $(element._this.dom).offset().left;//element.offsetLeft;\n            var topLeftY = $(element._this.dom).offset().top;//element.offsetTop;\n\n            //width and height of the element\n            var width = element.offsetWidth;\n            var height = element.offsetHeight;\n\n            //get the cursor sytle [e,w,n,s,ne,nw,se,sw]\n            var cursor = this.cursorType.substring(0, this.cursorType.indexOf('-'));\n            var _this = this;\n            if (cursor.indexOf('e') !== -1) {\n                var w = Math.max(x - topLeftX, 8);\n                w = Math.round(w / 5) * 5;\n                element._this.width = w;\n                this.firePropertyChange(element._this, \"width\", w);\n                /*if (this.onpropertychanged !== undefined) {\n                        this.onpropertychanged(element._this, \"width\", w);\n                }*/\n                //\telement.style.width = Math.max(x - topLeftX,8)+'px';\n\n            }\n            if (cursor.indexOf('s') !== -1) {\n                var h = Math.max(y - topLeftY, 8);\n                h = Math.round(h / 5) * 5;\n                element._this.height = h;//+'px';\n                this.firePropertyChange(element._this, \"height\", h);\n                /*if (this.onpropertychanged !== undefined) {\n                        this.onpropertychanged(element._this, \"height\", h);\n                }*/\n            }\n        } else {\n            //  document.getElementById(elementID).style.cursor = cursorType;\n            this._changeCursor(e);\n        }\n\n    }\n\n\n\n    /**\n    * changes the cursor\n    * @param {type} e\n    */\n    _changeCursor(e) {\n        var borderSize = 4;\n        this.cursorType = \"default\";\n        //slow\n        //var els = $(this.parentPanel.dom).find(this.elements);\n        var dcs = [];\n        this.elements.split(\",\").forEach((str) => {\n            let el = document.getElementById(str.substring(1));\n            if (el) {\n                var classes = el.classList;\n                if (!classes.contains(\"designerNoResizable\"))\n                    dcs.push(document.getElementById(str.substring(1)));\n            }\n        });\n\n        var els = $(dcs);\n        for (var i = 0; i < els.length; i++) {\n            var element: HTMLElement = <HTMLElement>els[i];\n            if (element === null)\n                continue;\n            var noresizex = element.classList.contains(\"designerNoResizableX\");\n            var noresizey = element.classList.contains(\"designerNoResizableY\");\n            if (element.classList.contains(\"designerNoResizable\")) {\n                continue;\n            }\n            //code start for changing the cursor\n            //var element2 = document.getElementById(elementID);\n            var topLeftX = $(element).offset().left;//element.offsetLeft;\n            var topLeftY = $(element).offset().top;//element.offsetTop;\n            var bottomRightX = topLeftX + element.offsetWidth;\n            var bottomRightY = topLeftY + element.offsetHeight;\n            var curevent = e;\n            var x = curevent.clientX;\n            var y = curevent.clientY;\n            // console.log(noresizex+\":\"+noresizey);\n            //window.status = topLeftX +\"--\"+topLeftY+\"--\"+bottomRightX+\"--\"+bottomRightY+\"--\"+x+\"--\"+y+\"--\"+isMouseDown;\n\n            //change the cursor style when it is on the border or even at a distance of 8 pixels around the border\n            if (x >= bottomRightX - borderSize && x <= bottomRightX + borderSize) {\n                /*  if(y >= bottomRightY-borderSize && y <= bottomRightY+borderSize){\n                          this.isCursorOnBorder = true;\n                          this.cursorType = \"se-resize\";\n                  }*/\n                if ((y > topLeftY - borderSize && y < bottomRightY + borderSize)) {\n                    if (!noresizex) {\n                        this.isCursorOnBorder = true;\n                        this.cursorType = \"e-resize\";\n                    }\n                }\n            }\n            else if ((x > topLeftX - borderSize && x < bottomRightX + borderSize)) {\n                if (!noresizey && (y >= bottomRightY - borderSize && y <= bottomRightY + borderSize)) {\n                    if (!noresizey) {\n                        this.isCursorOnBorder = true;\n                        this.cursorType = \"s-resize\";\n                    }\n                }\n            }\n            if (this.cursorType === \"e-resize\" || this.cursorType === \"s-resize\") {\n                var test = $(element).closest(\".jcomponent\");\n                var isDragging = false;\n                if (this.draganddropper !== undefined) {\n                    element == undefined;\n                    isDragging = this.draganddropper.isDragging();\n                }\n                if (!this.lassoMode && !isDragging) {\n                    this.componentUnderCursor = test[0];\n                    element.style.cursor = this.cursorType;\n                } else {\n                    this.cursorType = \"default\";\n                    this.componentUnderCursor = undefined;\n                    element.style.cursor = this.cursorType;\n                }\n                return;\n            }\n            this.componentUnderCursor = undefined;\n            element.style.cursor = this.cursorType;\n        }\n    }\n    /**\n     * enable or disable the lasso\n     * with lasso some components can be selected with dragging\n     */\n    public setLassoMode(enable: boolean) {\n        this.lassoMode = enable;\n        this.lastSelected = [];\n        this.resizedElement = \"\";\n        this.cursorType = \"\";\n        this.isCursorOnBorder = false;\n        this.isMouseDown = false;\n        var lastTime = new Date().getTime();\n        var _this = this;\n        if (enable === true) {\n            $(this.parentPanel.dom).selectable({\n                selected: function (event, ui) {\n                    if (new Date().getTime() - lastTime > 500) {//new selection\n                        _this.lastSelected = [];\n                        _this.parentPanel.dom.querySelectorAll(\".jselected\").forEach((c) => { c.classList.remove(\"jselected\") });\n                        //                 \n                        //$(\".jselected\").removeClass(\"jselected\");\n                        setTimeout(function () {\n                            _this.onelementselected(_this.lastSelected, event);\n                            _this.lastSelected = undefined;\n                        }, 50);\n                    }\n                    lastTime = new Date().getTime();\n                    var a = 9;\n                    if (ui.selected._this && ui.selected.classList.contains(\"jcomponent\") &&\n                        !ui.selected.classList.contains(\"designerNoSelectable\")) {\n                        var ids = _this.elements + \",\";\n                        if (ids.indexOf(\"#\" + ui.selected._this._id + \",\") > -1) {\n                            _this.lastSelected.push(ui.selected._this._id);\n                            document.getElementById(ui.selected._this._id).classList.add(\"jselected\");\n                        }\n                    }\n                }\n            });\n        } else {\n\n            $(this.parentPanel.dom).selectable(\"destroy\");\n        }\n\n    }\n    /**\n     * install the resizer\n     * @param parentPanel - the parent component\n     * @param elements - the search pattern for the components to resize e.q. \".jresizeable\"\n     */\n    install(parentPanel: Component, elements: string) {\n        var _this = this;\n        /*if (!parentPanel.dom.classList.contains(\"designerNoResizable\")) {\n            $(parentPanel.domWrapper).resizable({\n                resize: function (evt: any) {\n                    var h = evt.target.offsetHeight;\n                    var w = evt.target.offsetWidth;\n                    if (_this.onpropertychanged !== undefined) {\n                        evt.target._this.width = w;\n                        evt.target._this.height = h;\n                        _this.onpropertychanged(evt.target._this, \"width\", w);\n                        _this.onpropertychanged(evt.target._this, \"height\", h);\n                        evt.target._this.domWrapper.style.width= w + \"px\";\n                        evt.target._this.domWrapper.style.height= h + \"px\";\n                    }\n                }\n            });\n        }*/\n        if (parentPanel !== undefined)\n            this.parentPanel = parentPanel;\n        if (elements !== undefined)\n            this.elements = elements;\n        // this.parentPanel.dom.addEventListener(\"mousedown\",(ev)=>this.mouseDown(ev));  \n        $(this.parentPanel.dom).on(\"mousedown\", this, this.mouseDown);\n        this.mousedownElements = $(this.parentPanel.dom).find(this.elements);\n        for (let x = 0; x < this.mousedownElements.length; x++) {\n            this.mousedownElements[x] = this.mousedownElements[x].parentNode;\n        }\n        // this.mousedownElements.on(\"mousedown\", this, this.mouseDown);\n        $(this.parentPanel.dom).on(\"mousemove\", this, this.mouseMove);\n        $(this.parentPanel.dom).on(\"mouseup\", this, this.mouseUp);\n\n        //this.setLassoMode(true);\n        //this.setLassoMode(false);\n\n    }\n\n    /**\n     * uninstall the resizer\n     */\n    uninstall() {\n        this.onelementselected = undefined;\n        this.onpropertychanged = undefined;\n        if (this.parentPanel !== undefined) {\n            $(this.parentPanel.dom).off(\"mousedown\", this.mouseDown);\n            if (this.mousedownElements !== undefined)\n                this.mousedownElements.off(\"mousedown\", this.mouseDown);\n            this.mousedownElements = undefined;\n            $(this.parentPanel.dom).off(\"mousemove\", this.mouseMove);\n            $(this.parentPanel.dom).on(\"mouseup\", this.mouseUp);\n        }\n        this.resizedElement = \"\";\n        this.elements = undefined;\n        this.parentPanel = undefined;\n        this.lastSelected = undefined;\n        this.componentUnderCursor = undefined;\n        this.draganddropper = undefined;\n\n        /*  this.mouseDown.bound=undefined;\n          this.mouseMove.bound=undefined;\n          this.mouseUp.bound=undefined;*/\n\n    }\n}\n","import { $Class } from \"jassijs/remote/Registry\";\nimport { $ActionProvider, $Action } from \"jassijs/base/Actions\";\nimport { FileNode } from \"jassijs/remote/FileNode\";\n\nimport { Component } from \"jassijs/ui/Component\";\nimport { Container } from \"jassijs/ui/Container\";\nimport { BoxPanel } from \"jassijs/ui/BoxPanel\";\nimport windows from \"jassijs/base/Windows\";\nimport { HTMLPanel } from \"jassijs/ui/HTMLPanel\";\nimport { Errors } from \"jassijs/base/Errors\";\nimport { ErrorPanel } from \"jassijs_editor/ErrorPanel\";\nimport { Panel } from \"jassijs/ui/Panel\";\nimport { Test } from \"jassijs/remote/Test\";\n\n\n\nclass MyContainer extends BoxPanel {\n    startDate:number;\n    statustext: HTMLPanel;\n    alltests = 0;\n    failedtests = 0;\n    finished = false;\n    update() {\n        if (this.failedtests === 0) {\n\n        }\n        this.statustext.style={\n            color: (this.failedtests === 0 ? \"green\" : \"red\")\n        };\n\n        this.statustext.value = (this.finished ? (\"Finished \"+(new Date().getTime()-this.startDate).toString()+\"ms \" ): \"test running... \") + this.alltests + \" Tests. \" + (this.failedtests) + \" Tests failed.\"\n    }\n}\n@$ActionProvider(\"jassijs.remote.FileNode\")\n@$Class(\"jassijs_editor.ui.TestAction\")\nexport class TestAction {\n    @$Action({\n        name: \"Run Tests\"\n    })\n    static async testNode(all: FileNode[], container: MyContainer = undefined) {\n\n        var isRoot = false;\n        if (container === undefined) {\n            container = new MyContainer();\n            windows.add(container, \"Tests\");\n            container.statustext = new HTMLPanel();\n\n            container.add(container.statustext);\n            isRoot = true;\n            Errors.errors.onerror((err) => {\n                try {\n                    if (container.dom) {//sometimes off register was not called\n                        var newerrorpanel = new ErrorPanel(false, false, false);\n                        newerrorpanel.addError(err);\n                        container.add(newerrorpanel);\n                    }\n                } catch {\n\n                }\n            }, container._id);\n        }\n        if(isRoot){\n            container.startDate=new Date().getTime();\n        }\n        for (var x = 0; x < all.length; x++) {\n            var file = all[x];\n            if (file.isDirectory()) {\n                await TestAction.testNode(file.files, container);\n\n            } else {\n                var typescript = (await import(\"jassijs_editor/util/Typescript\")).mytypescript;\n                await typescript.initService();\n                var text: string = typescript.getCode(file.fullpath);\n                if (text !== undefined) {\n                    text = text.toLowerCase();\n                    try {\n                        if (text.indexOf(\"export function test(\") !== -1 || text.indexOf(\"export async function test(\") !== -1) {\n                            console.log(\"test \" + file.fullpath);\n                            var pos=file.fullpath.lastIndexOf(\".\");\n                            var func = (await import(file.fullpath.substring(0, pos)))?.test;\n                            if (typeof func === \"function\") {\n                                container.alltests++;\n                                container.update();\n                                var ret = await func(new Test());\n                                if (ret instanceof Component) {\n                                    ret.dom.style.position= \"relative\" ;\n                                    ret.width = \"100%\";\n                                    var head = new HTMLPanel();\n                                    head.value = \"<b>\" + file.fullpath + \"</b>\";\n                                    container.add(head);\n                                    container.add(ret);\n                                }\n                            }\n                        }\n                    } catch (err) {\n                        if (container.dom) {\n                            try {\n                                var newerrorpanel = new ErrorPanel(false, false, false);\n                                newerrorpanel.addError({\n                                    error: err\n                                });\n                                newerrorpanel.style={\n                                    backgroundColor: \"red\"\n                                };\n                                container.add(newerrorpanel);\n                                container.failedtests++;\n                                container.update();\n                            } catch {\n\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (isRoot) {\n            container.finished = true;\n            container.update();\n            Errors.errors.offerror(container._id);\n            console.log(\"off error\");\n        }\n\n    }\n\n}\n\n\nexport class Tests {\n\n}\n\n//Selftest\nexport async function test(tst: Test) {\n\n    tst.expectEqual(1 === 1);\n    tst.expectError(() => {\n        var h;\n        h.a = 9;\n    });\n\n\n}","/*requirejs.config({\n    baseUrl: 'https://unpkg.com/source-map@0.7.3/dist/source-map',\n    paths: {\n        'mozilla.sourcemap':\"https://unpkg.com/source-map@0.7.3/dist/source-map\"\n    }\n\n});*/\n//@ts-ignore\nimport {sourceMap} from \"jassijs/ext/sourcemap\";\nimport { Server } from \"jassijs/remote/Server\";\nimport { $Class } from \"jassijs/remote/Registry\";\nimport { config } from \"jassijs/remote/Config\";\nimport ts from \"typescript\";\n\n//var sourceMap=window[\"sourceMap\"];\n@$Class(\"jassijs_editor.util.TSSourceMap\")\nexport class TSSourceMap {\n    async getCode(file: string) {\n        var rr= await $.ajax({ url: file, dataType: \"text\" });\n        return rr;\n        // await new Server().loadFile(file);\n    }\n    async getLineFromTS(tsfile: string, line, column): Promise<{ line: number, column: number, jsfilename: string }> {\n        var jscode;\n        var mapcode = \"\";\n        var filenumber = 0;\n        var jsfilename;\n        if (Server.filesInMap && Server.filesInMap[tsfile]) {\n            var mod = Server.filesInMap[tsfile].modul;\n            jsfilename = config.modules[mod];\n            var mapname = jsfilename.split(\"\").reverse().join(\"\").replace(\"sj.\", \"pam.sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n           \n            mapcode = await this.getCode(mapname);//await $.ajax({ url: jsfilename+\".map\", dataType: \"text\" });\n            filenumber = Server.filesInMap[tsfile].id;\n        } else {\n            //replace last .ts to .js\n            jsfilename = \"js/\" + tsfile.split(\"\").reverse().join(\"\").replace(\"st.\", \"sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n            jscode = await this.getCode(jsfilename);// await $.ajax({ url: jsfilename, dataType: \"text\" });\n\n            var pos = jscode.indexOf(\"//\" + \"# sourceMappingURL=\");\n            if (jscode.indexOf(\"//\" + \"# sourceMappingURL=data:application\") > -1) {\n                var b64 = jscode.substring(pos + 50);\n                mapcode = ts[\"base64decode\"](undefined, b64);\n                //mapcode = decodeURIComponent(escape((b64)));\n            } else {\n                //mapcode = await $.ajax({ url: \"js/\" + tsfile.replace(\".ts\", \".js.map\"), dataType: \"text\" });\n                //replace last .js to .js.map\n                var mapfile = tsfile.split(\"\").reverse().join(\"\").replace(\"st.\", \"pam.sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n                mapcode = await this.getCode(\"js/\" + mapfile);\n            }\n        }\n        var ret: Promise<{ line: number, column: number, jsfilename: string }> = new Promise((resolve, reject) => { // eslint-disable-line no-unused-vars\n            var isinline = false;\n            sourceMap.SourceMapConsumer.initialize({\n                \"lib/mappings.wasm\": \"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm\"\n            });\n            var rawSourceMap = JSON.parse(mapcode);\n            sourceMap.SourceMapConsumer.with(rawSourceMap, null, consumer => {\n                var test = consumer.sources;\n                var l = consumer.generatedPositionFor({\n                    source: rawSourceMap.sources[filenumber],\n                    line: line,\n                    column: column\n                })\n                l.jsfilename = jsfilename;\n                return l;\n            }).then(function (whatever) {\n                resolve(whatever);\n            });\n        });\n        return ret;\n    }\n    async getLineFromJS(jsfile:string, line:number, column:number): Promise<{ source: string, line: number, column: number }> {\n        var data=await this.getLinesFromJS(jsfile,[{line,column}]);\n        return ((data===undefined||data.length===0)?undefined:data[0]);\n    }\n    async getLinesFromJS(jsfile, data:{line:number, column:number}[]): Promise<{ source: string, line: number, column: number }[]> {\n        var jscode = await this.getCode(jsfile.split(\"?\")[0])// await $.ajax({ url: jsfile, dataType: \"text\" });\n        var mapcode = \"\";\n        var pos = jscode.indexOf(\"//\" + \"# sourceMappingURL=\");\n        if (jscode.indexOf(\"//\" + \"# sourceMappingURL=data:application\") > -1) {\n            var b64 = jscode.substring(pos + 50);\n            mapcode = atob(b64);\n        } else if (pos) {\n            //TODO parse the correct map\n            var mapfile = jsfile.split(\"\").reverse().join(\"\").replace(\"sj.\", \"pam.sj.\").split(\"\").reverse().join(\"\").split(\"?\")[0];\n            mapcode = await new Server().loadFile(mapfile);\n        } else\n            return undefined;\n        sourceMap.SourceMapConsumer.initialize({\n                \"lib/mappings.wasm\": \"https://unpkg.com/source-map@0.7.3/lib/mappings.wasm\"\n            });\n        var rawSourceMap = JSON.parse(mapcode);\n        var ret=[];\n        for(var x=0;x<data.length;x++){\n            var one: any = await new Promise((resolve, reject) => { // eslint-disable-line no-unused-vars\n            \n                //for(var x=0;x<data.length;x++){\n                sourceMap.SourceMapConsumer.with(rawSourceMap, null, consumer => {\n                    var test = consumer.sources;\n                    var l = consumer.originalPositionFor({\n                        bias: sourceMap.SourceMapConsumer.GREATEST_LOWER_BOUND,\n                        line: data[x].line,\n                        column: data[x].column\n                    })\n                    return l;\n                }).then(function (whatever) {\n                    resolve(whatever);\n                });\n            });\n            ret.push(one);\n        }\n        return await ret;\n        //  jassijs.myRequire(\"https://unpkg.com/source-map@0.7.3/dist/source-map.js\",function(data){\n    }\n}\n\n","import \"jassijs_editor/ext/monaco2\";\r\nimport   \"jassijs_editor/ext/monaco\";\r\nimport { $Class } from \"jassijs/remote/Registry\";\r\nimport { Server } from \"jassijs/remote/Server\";\r\nimport { FileNode } from \"jassijs/remote/FileNode\";\r\n\r\nimport { Editor } from \"jassijs/ui/PropertyEditors/Editor\";\r\nimport { config } from \"jassijs/remote/Config\";\r\nimport ts from \"typescript\";//\"jassijs_editor/ext/monaco\";\r\n//import \"jassijs_editor/ext/monaco\";\r\n\r\n \r\n@$Class(\"jassijs_editor.util.Typescript\")\r\nexport class Typescript {\r\n    static instance: Typescript;\r\n    waitForInited: Promise<boolean>;\r\n    tsWorker: monaco.languages.typescript.TypeScriptWorker;\r\n\r\n    static languageServiceHost: ts.LanguageServiceHost;\r\n    static ts;\r\n\r\n\r\n    /**\r\n    * resolved if the service is inited\r\n    */\r\n    private static _isInited: boolean = undefined;\r\n    static compilerSettings = {\r\n        baseUrl: \"./\",\r\n        target: \"ES2017\",\r\n        module: \"AMD\",\r\n        sourceMap: true,\r\n        outDir: \"./js\",\r\n        allowJs: true,\r\n        moduleResolution: monaco.languages.typescript.ModuleResolutionKind.Classic,\r\n        jsx: monaco.languages.typescript.JsxEmit.React,\r\n        emitDecoratorMetadata: true,\r\n        experimentalDecorators: true,\r\n        esModuleInterop: true,\r\n        typeRoots: [\"./node_modules/@types\"]\r\n    }\r\n    public isInited(file) {\r\n\r\n        return Typescript._isInited === true;\r\n    }\r\n    /**\r\n     * transpile the ts-file an returns all reflected files\r\n     * @param fileName \r\n     * @param content \r\n     */\r\n    async transpile(fileName: string, content: string, compilerSettings: any = undefined): Promise<{ fileNames: string[]; contents: string[] }> {\r\n        var ret = { fileNames: [fileName], contents: [content] }\r\n        if (fileName.toLocaleLowerCase().endsWith(\".js\")) {//js Code would be not transpiled\r\n            ret.fileNames.push(\"js/\" + fileName);\r\n            ret.contents.push(content);\r\n        } else {\r\n            var prefix = \"\";\r\n            for (let x = 0; x < fileName.split(\"/\").length; x++) {\r\n                prefix = \"../\" + prefix;\r\n            }\r\n            var opt = {\r\n                compilerOptions: compilerSettings ? compilerSettings : Typescript.compilerSettings,\r\n                fileName: prefix + fileName,\r\n            };\r\n            //@ts-ignore\r\n            var comp: any = ts.transpileModule(content, opt);\r\n            var extlen = 3;\r\n            if (fileName.toLowerCase().endsWith(\".tsx\"))\r\n                extlen = 4;\r\n            ret.fileNames.push(\"js/\" + fileName.substring(0, fileName.length - extlen) + \".js\");\r\n            ret.contents.push(comp.outputText);\r\n            ret.fileNames.push(\"js/\" + fileName.substring(0, fileName.length - extlen) + \".js.map\");\r\n            ret.contents.push(comp.sourceMapText);\r\n\r\n        }\r\n        return ret;\r\n\r\n    }\r\n    private constructor() {\r\n\r\n        if (Typescript._isInited === undefined)\r\n            this.waitForInited = this.initService();\r\n\r\n    }\r\n\r\n    static initMonaco() {\r\n        /* monaco.languages.typescript.javascriptDefaults.setCompilerOptions({\r\n             \"baseUrl\": \"./\",\r\n             rootDir: \"./\",\r\n         })*/\r\n        monaco.languages.typescript.typescriptDefaults.setCompilerOptions({\r\n            \"target\": monaco.languages.typescript.ScriptTarget.Latest,\r\n            \"baseUrl\": \"./\",\r\n            \"module\": monaco.languages.typescript.ModuleKind.AMD,\r\n            \"moduleResolution\": monaco.languages.typescript.ModuleResolutionKind.Classic,\r\n            \"jsx\": monaco.languages.typescript.JsxEmit.React,\r\n            typeRoots: [\"./node_modules/@types\"],\r\n            rootDir: \"./\",\r\n\r\n            \"sourceMap\": true,\r\n            \"outDir\": \"./js\",\r\n            emitDecoratorMetadata: true,\r\n            allowNonTsExtensions: true,\r\n            allowJs: true,\r\n            esModuleInterop: true,\r\n            experimentalDecorators: true,\r\n        });\r\n\r\n    }\r\n    initInIdle = true;\r\n    //load  d.ts from modulpackage\r\n    private async includeModulTypes() {\r\n        var nodeFiles = {}\r\n        for (var mod in config.modules) {\r\n            var config1 = (await import(mod + \"/modul\")).default;\r\n            if (config1.types) {\r\n                for (var key in config1.types) {\r\n                    var file = config1.types[key];\r\n                    nodeFiles[key] = new Server().loadFile(file);\r\n\r\n                }\r\n            }\r\n        }\r\n        return nodeFiles;\r\n    }\r\n    /**\r\n     * initialize the services tooks any seconds\r\n     * functions which uses the languageservice are blocked until ready\r\n     */\r\n    async initService(): Promise<boolean> {\r\n        try {\r\n            if (Typescript._isInited !== undefined)\r\n                return;\r\n            Typescript._isInited = false;\r\n            Typescript.initMonaco();\r\n            //@ts-ignore\r\n            //  import(\"jassijs/ext/typescript\").then(async function(ts1) {\r\n            Typescript.ts = ts;\r\n            var tsfactory = (<any>window).tsfactory;\r\n            for (var key in tsfactory) {\r\n                if (ts[key] === undefined)\r\n                    ts[key] = tsfactory[key];\r\n            }\r\n            var _this = this;\r\n            var f: { [path: string]: FileNode } = (await new Server().dir(true)).resolveChilds();\r\n\r\n            var nodeFiles = await this.includeModulTypes();\r\n            //Load all files to in cache\r\n            //node_modules with ajax - so we kann cache \r\n            var myfiles = [];\r\n            for (let x in f) {\r\n                let fname = f[x].fullpath;\r\n                let fdat = f[x].date;\r\n\r\n\r\n                //include js in jassijs/ext\r\n                if (fname.startsWith(\"node_modules\"))\r\n                    continue;\r\n                if (fname.toLowerCase().endsWith(\".ts\") || fname.toLowerCase().endsWith(\".tsx\") || fname.toLowerCase().endsWith(\".js\") || fname.toLowerCase().endsWith(\".json\")) {\r\n                    if (fname.toLocaleLowerCase().endsWith(\".js\")) {\r\n                        try {\r\n                            monaco.languages.typescript.typescriptDefaults.addExtraLib(\"export default const test=1;\", \"file:///\" + fname);\r\n                        } catch {\r\n                            console.log(\"Error loading file \" + fname);\r\n                        }\r\n                    }\r\n                    if (fdat === undefined) {\r\n                        nodeFiles[fname] = new Server().loadFile(fname);\r\n                    } else {\r\n                        nodeFiles[fname] = $.ajax({\r\n                            url: fname,\r\n                            beforeSend: function (request) {\r\n                                request.setRequestHeader(\"X-Custom-FromCache\", fdat);\r\n                            },\r\n                            dataType: \"text\"\r\n                        });\r\n                    }\r\n                    //}\r\n                }\r\n            }\r\n            //load TS sources\r\n\r\n            //wait for each nodefiles\r\n            var code = {};\r\n            for (let key in nodeFiles) {\r\n                code[key] = await nodeFiles[key];\r\n\r\n            }\r\n            for (let key in nodeFiles) {\r\n                //monaco\r\n\r\n                //@ts-ignore\r\n                //\t\r\n                var type = \"typescript\";\r\n\r\n                if (key.toLocaleLowerCase().endsWith(\".ts\") || key.toLocaleLowerCase().endsWith(\".tsx\")) {\r\n                    try {\r\n                        //\r\n                        if (this.initInIdle) {\r\n                            var ffile = monaco.Uri.from({ path: \"/\" + key, scheme: 'file' });\r\n                            //console.log(key);\r\n                            if (!monaco.editor.getModel(ffile))\r\n                                monaco.editor.createModel(code[key], \"typescript\", ffile);\r\n                            //});\r\n                        } else {\r\n\r\n                            monaco.languages.typescript.typescriptDefaults.addExtraLib(code[key], \"file:///\" + key);\r\n                        }\r\n                    } catch { \r\n\r\n                    }\r\n                }\r\n                if (key.toLocaleLowerCase().endsWith(\".json\"))\r\n                    type = \"json\";\r\n\r\n            }\r\n            //initialize monaco\r\n            //if (!this.initInIdle)\r\n            monaco.editor.createModel(\"var a=1;\", \"typescript\", monaco.Uri.from({ path: \"/__mydummy.ts\", scheme: 'file' }));\r\n            this.tsWorker = await (await monaco.languages.typescript.getTypeScriptWorker())()\r\n            Typescript._isInited = true;\r\n            return true;\r\n        } catch (err) {\r\n            debugger;\r\n            throw err;\r\n        }\r\n    }\r\n    /**\r\n     * unused\r\n     */\r\n    async getDefinitionAtPosition(file: string, position: number) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        return await this.tsWorker.getDefinitionAtPosition(\"file:///\" + file, position);\r\n\r\n    }\r\n    /**\r\n     * unused\r\n     */\r\n    async getSignatureHelpItems(file: string, position: number) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        //@ts-ignore\r\n        return await this.tsWorker.getSignatureHelpItems(\"file:///\" + file, position, undefined);\r\n\r\n    }\r\n    async includefileIfNeeded(file: string) {\r\n\r\n    }\r\n    async renameFile(oldfile: string, newfile: string) {\r\n        var ffile = monaco.Uri.from({ path: \"/\" + oldfile, scheme: 'file' });\r\n        var oldmodell = monaco.editor.getModel(ffile);\r\n        oldmodell?.dispose();\r\n        var text = await $.ajax({\r\n            url: newfile,\r\n            beforeSend: function (request) {\r\n                request.setRequestHeader(\"X-Custom-FromCache\", newfile);\r\n            },\r\n            dataType: \"text\"\r\n        });\r\n        await this.setCode(newfile, text);\r\n        var snap = Typescript.languageServiceHost.getScriptSnapshot(newfile);\r\n    }\r\n\r\n    /**\r\n     * @returns all code filenames\r\n     */\r\n    getFiles(): string[] {\r\n        var ret: string[] = [];\r\n        var mods = monaco.editor.getModels();\r\n        for (var x = 0; x < mods.length; x++) {\r\n            var f = mods[x].uri.path.substring(1);\r\n            ret.push(f);\r\n        }\r\n        return ret;\r\n    }\r\n    /**\r\n     * get the code for a file\r\n     * @params file - the filename e.g. jassijs/base/Parser.ts\r\n     */\r\n    getCode(file: string): string {\r\n        var ffile = monaco.Uri.from({ path: \"/\" + file, scheme: 'file' });\r\n        var mod = monaco.editor.getModel(ffile);\r\n        if (mod)\r\n            return mod.getValue();\r\n        else\r\n            return undefined;\r\n    }\r\n    /**\r\n     * put file in cache\r\n     * @param file - the ts file\r\n     * @param text - the text of the ts file\r\n     */\r\n    setCode(file: string, text: string) {\r\n        var ffile = monaco.Uri.from({ path: \"/\" + file, scheme: 'file' });\r\n        var mod = monaco.editor.getModel(ffile);\r\n        if (!mod) {\r\n            mod = monaco.editor.createModel(text, \"typescript\", ffile);\r\n        }\r\n        var waiter = new Promise(function (resolve) {\r\n            var disp = mod.onDidChangeContent((evt) => {\r\n                if (evt.changes[0].text === text) {\r\n                    disp.dispose();\r\n                    resolve(mod);\r\n                }\r\n            });\r\n        });\r\n        mod.setValue(text);\r\n        return waiter;\r\n    }\r\n    /**\r\n     * get info for a completionentry\r\n     * @param file - the ts file\r\n     * @param position - the position in string\r\n     * @param item -the item we are interested\r\n     * @param formatOptions -unused\r\n     * @param source -unused\r\n     * @param preferences - unused\r\n     */\r\n    async getCompletionEntryDetails(file: string, position: number, item: string, formatOptions = {}, source = undefined, preferences = {}) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        const info = await this.tsWorker.getCompletionEntryDetails(\"file:///\" + file, position, item);\r\n        return info;\r\n    }\r\n    /**\r\n     * get all completions at a  position\r\n     * @param file -the ts file\r\n     * @param position -the position in string\r\n     * @param text - the text of the file is saved to cache\r\n     */\r\n    async getCompletion(file: string, position: number, text: string = undefined, options) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            var p = this.setCode(file, text);\r\n            await p;\r\n            // Typescript.languageServiceHost.getScriptSnapshot(file);\r\n        }\r\n        //@ts-ignore\r\n        const info = await this.tsWorker.getCompletionsAtPosition(\"file:///\" + file, position, options);\r\n        //            { includeExternalModuleExports: true });\r\n        return info;\r\n    }\r\n    async getQuickInfoAtPosition(file: string, position: number, text: string) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            await this.setCode(file, text);\r\n        }\r\n        return await this.tsWorker.getQuickInfoAtPosition(\"file:///\" + file, position);\r\n    }\r\n    async getCodeFixesAtPosition(file: string, text: string = undefined, start: number, end: number, errorCodes: []): Promise<any> {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            await this.setCode(file, text);\r\n        }\r\n        return await this.tsWorker.getCodeFixesAtPosition(\"file:///\" + file, start, end, errorCodes, {});\r\n    }\r\n    async formatDocument(filePath: string, text: string = undefined) {\r\n        await this.waitForInited;\r\n        await this.setCode(filePath, text);\r\n\r\n        var textChanges = await this.tsWorker.getFormattingEditsForDocument(\"file:///\" + filePath, {\r\n            convertTabsToSpaces: true,\r\n            insertSpaceAfterCommaDelimiter: true,\r\n            insertSpaceAfterKeywordsInControlFlowStatements: true,\r\n            insertSpaceBeforeAndAfterBinaryOperators: true,\r\n            newLineCharacter: \"\\n\",\r\n            indentStyle: ts.IndentStyle.Smart,\r\n            indentSize: 4,\r\n            tabSize: 4\r\n        });\r\n\r\n        let finalText = text;\r\n        textChanges = textChanges.sort((a, b) => b.span.start - a.span.start);\r\n        for (var i = 0; i < textChanges.length; i++) {\r\n            var textChange = textChanges[i];\r\n            const { span } = textChange;\r\n            finalText = finalText.slice(0, span.start) + textChange.newText\r\n                + finalText.slice(span.start + span.length);\r\n        }\r\n        return finalText;\r\n    }\r\n    async getDiagnosticsForAll(): Promise<ts.Diagnostic[]> {\r\n        var mods = monaco.editor.getModels();\r\n        var ret = [];\r\n        var countErrors = 0;\r\n        for (var x = 0; x < mods.length; x++) {\r\n            var url = \"file:///\" + mods[x].uri.path;\r\n            if (url.indexOf(\"node_modules/\") > 0)\r\n                continue;\r\n\r\n            try {\r\n                var sug = await this.tsWorker.getSemanticDiagnostics(url);\r\n                for (var s = 0; s < sug.length; s++) {\r\n                    //@ts-ignore\r\n                    sug[s][\"file\"] = {\r\n                        fileName: mods[x].uri.path.substring(1)\r\n                    }\r\n                    ret.push(sug[s]);\r\n                }\r\n                sug = await this.tsWorker.getSyntacticDiagnostics(url);\r\n                for (var s = 0; s < sug.length; s++) {\r\n                    //@ts-ignore\r\n                    sug[s][\"file\"] = {\r\n                        fileName: mods[x].uri.path.substring(1)\r\n                    }\r\n                    ret.push(sug[s]);\r\n                }\r\n            } catch (ex) {\r\n                if (!ex.message.indexOf(\"file:////lib.dom.d.ts\") && ex.message.indexOf(\" file:////lib.es5.d.ts\"))\r\n                    console.log(\"Error: \" + url + ex.message);\r\n            }\r\n        }\r\n        console.log(\"ready\");\r\n        return ret;\r\n        /* var prog=Typescript.languageService.getProgram();\r\n         let all=Typescript.ts.getPreEmitDiagnostics(prog);\r\n         let all2=prog.emit().diagnostics;\r\n         let ret=[];\r\n         all.forEach((diag)=>{\r\n             if(diag.file!==undefined&&!diag.file.fileName.startsWith(\"node_modules\"))\r\n                 ret.push(diag);\r\n         });\r\n         return ret;*/\r\n    }\r\n    getLineAndCharacterOfPosition(fileName: string, pos: number): { line, character } {\r\n        var p = monaco.editor.getModel(monaco.Uri.from({ path: \"/\" + fileName, scheme: 'file' })).getPositionAt(pos);\r\n        return {\r\n            line: p.lineNumber,\r\n            character: p.column\r\n        }\r\n    }\r\n    getPositionOfLineAndCharacter(fileName: string, pos: { line, character }): number {\r\n        var p = monaco.editor.getModel(monaco.Uri.from({ path: \"/\" + fileName, scheme: 'file' })).getOffsetAt({\r\n            column: pos.character,\r\n            lineNumber: pos.line\r\n        })\r\n        return p;\r\n    }\r\n    async getDiagnostics(file: string, text: string = undefined) {\r\n        await this.waitForInited;\r\n        if (Typescript._isInited !== true) {\r\n            throw Error(\"check isInited before call \")\r\n        }\r\n        if (text !== undefined) {\r\n            this.setCode(file, text);\r\n        }\r\n\r\n        return {\r\n            semantic: await this.tsWorker.getSemanticDiagnostics(\"file:///\" + file),\r\n            suggestion: await this.tsWorker.getSuggestionDiagnostics(\"file:///\" + file),\r\n            syntactic: await this.tsWorker.getSyntacticDiagnostics(\"file:///\" + file)\r\n            //      declaration:Typescript.languageService.getDeclarationDiagnostics(file)\r\n        }\r\n    }\r\n}\r\n//@ts-ignore\r\nvar mytypescript: Typescript = new Typescript();\r\nTypescript.instance = mytypescript;\r\nexport { mytypescript };","//this file is autogenerated don't modify\ndefine(\"jassijs_editor/registry\",[\"require\"], function(require) {\n return {\n  default: {\n\t\"jassijs_editor/AcePanel.ts\": {\n\t\t\"date\": 1720101244987.3042,\n\t\t\"jassijs.ui.AcePanel\": {}\n\t},\n\t\"jassijs_editor/AcePanelSimple.ts\": {\n\t\t\"date\": 1719757301492.3672,\n\t\t\"jassijs.ui.AcePanelSimple\": {}\n\t},\n\t\"jassijs_editor/ChromeDebugger.ts\": {\n\t\t\"date\": 1681488352000,\n\t\t\"jassijs_editor.ChromeDebugger\": {}\n\t},\n\t\"jassijs_editor/CodeEditor.ts\": {\n\t\t\"date\": 1739909138880.0374,\n\t\t\"jassijs_editor.CodeEditorSettingsDescriptor\": {\n\t\t\t\"$SettingsDescriptor\": [],\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs_editor.CodeEditor\": {\n\t\t\t\"@members\": {}\n\t\t}\n\t},\n\t\"jassijs_editor/CodeEditorInvisibleComponents.ts\": {\n\t\t\"date\": 1719757407652.6265,\n\t\t\"jassijs_editor.CodeEditorInvisibleComponents\": {}\n\t},\n\t\"jassijs_editor/CodePanel.ts\": {\n\t\t\"date\": 1655661690000,\n\t\t\"jassijs_editor.CodePanel\": {}\n\t},\n\t\"jassijs_editor/ComponentDesigner.ts\": {\n\t\t\"date\": 1740075940067.0588,\n\t\t\"jassijs_editor.ComponentDesigner\": {}\n\t},\n\t\"jassijs_editor/ComponentExplorer.ts\": {\n\t\t\"date\": 1739999267632.0261,\n\t\t\"jassijs_editor.ComponentExplorer\": {}\n\t},\n\t\"jassijs_editor/ComponentPalette.ts\": {\n\t\t\"date\": 1721754620068.305,\n\t\t\"jassijs_editor.ComponentPalette\": {}\n\t},\n\t\"jassijs_editor/ComponentSpy.ts\": {\n\t\t\"date\": 1719755727631.165,\n\t\t\"jassijs_editor.ui.ComponentSpy\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"dummy\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-account-cog-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Spy Components\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-police-badge\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/DatabaseDesigner.ts\": {\n\t\t\"date\": 1739905972951.1553,\n\t\t\"jassijs_editor/DatabaseDesigner\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Database Designer\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-database-edit\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/Debugger.ts\": {\n\t\t\"date\": 1656019586000,\n\t\t\"jassijs_editor.Debugger\": {}\n\t},\n\t\"jassijs_editor/ErrorPanel.ts\": {\n\t\t\"date\": 1720116488294.8394,\n\t\t\"jassijs_editor.ui.ErrorPanel\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"showDialog\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Administration/Errors\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-emoticon-confused-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/ext/monaco.ts\": {\n\t\t\"date\": 1720105252684.6934\n\t},\n\t\"jassijs_editor/ext/monaco2.ts\": {\n\t\t\"date\": 1720090850426.468\n\t},\n\t\"jassijs_editor/ext/typescriptservices.ts\": {\n\t\t\"date\": 1720556246507.595\n\t},\n\t\"jassijs_editor/FileExplorer.ts\": {\n\t\t\"date\": 1683575950000,\n\t\t\"jassijs_editor.ui.FileActions\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/File\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"download\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Download\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"newModule\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Module\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"dodelete\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Delete\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"mapLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Map local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"closeLocalFolder\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Close local folder\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"rename\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Rename\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"refresh\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Refresh\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"open\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Open\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"jassijs.ui.FileExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Files\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-file-tree\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/HtmlDesigner.ts\": {\n\t\t\"date\": 1739909679697.9824,\n\t\t\"jassijs_editor.HtmlDesigner\": {}\n\t},\n\t\"jassijs_editor/modul.ts\": {\n\t\t\"date\": 1720612634385.9824\n\t},\n\t\"jassijs_editor/MonacoPanel.ts\": {\n\t\t\"date\": 1720101262364.5872,\n\t\t\"jassijs_editor.MonacoPanel\": {}\n\t},\n\t\"jassijs_editor/SearchExplorer.ts\": {\n\t\t\"date\": 1720256623984.0022,\n\t\t\"jassijs_editor.ui.SearchExplorer\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.base.ActionNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"show\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Windows/Development/Search\",\n\t\t\t\t\t\t\t\"icon\": \"mdi mdi-folder-search-outline\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/StartEditor.ts\": {\n\t\t\"date\": 1720115090825.8567\n\t},\n\t\"jassijs_editor/template/TemplateDBDialog.ts\": {\n\t\t\"date\": 1721659030283.6165,\n\t\t\"jassijs_editor.template.TemplateDBDialogProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBDialog\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateDBObject.ts\": {\n\t\t\"date\": 1681570394000,\n\t\t\"jassijs_editor.template.TemplateDBObjectProperties\": {\n\t\t\t\"@members\": {}\n\t\t},\n\t\t\"jassijs.template.TemplateDBObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/DBObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateEmptyDialog.ts\": {\n\t\t\"date\": 1681579996000,\n\t\t\"jassijs_editor.template.TemplateEmptyDialog\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/Dialog\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/template/TemplateRemoteObject.ts\": {\n\t\t\"date\": 1681570100000,\n\t\t\"jassijs_editor.template.TemplateRemoteObject\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"newFile\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"New/RemoteObject\",\n\t\t\t\t\t\t\t\"isEnabled\": \"function\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/DatabaseSchema.ts\": {\n\t\t\"date\": 1720101271019.9363,\n\t\t\"jassijs_editor.util.DatabaseSchema\": {}\n\t},\n\t\"jassijs_editor/util/DragAndDropper.ts\": {\n\t\t\"date\": 1657925428000,\n\t\t\"jassijs_editor.util.DragAndDropper\": {}\n\t},\n\t\"jassijs_editor/util/Parser.ts\": {\n\t\t\"date\": 1722105568121.3489,\n\t\t\"jassijs_editor.util.Parser\": {}\n\t},\n\t\"jassijs_editor/util/Resizer.ts\": {\n\t\t\"date\": 1739999435244.1797,\n\t\t\"jassijs_editor.util.Resizer\": {}\n\t},\n\t\"jassijs_editor/util/Tests.ts\": {\n\t\t\"date\": 1739727794640.8933,\n\t\t\"jassijs_editor.ui.TestAction\": {\n\t\t\t\"$ActionProvider\": [\n\t\t\t\t\"jassijs.remote.FileNode\"\n\t\t\t],\n\t\t\t\"@members\": {\n\t\t\t\t\"testNode\": {\n\t\t\t\t\t\"$Action\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"name\": \"Run Tests\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\"jassijs_editor/util/TSSourceMap.ts\": {\n\t\t\"date\": 1720117379608.988,\n\t\t\"jassijs_editor.util.TSSourceMap\": {}\n\t},\n\t\"jassijs_editor/util/Typescript.ts\": {\n\t\t\"date\": 1720115012657.7117,\n\t\t\"jassijs_editor.util.Typescript\": {}\n\t}\n}\n }\n});"]}
>>>>>>> d240df83ceb960d653afe75fc93bccd1c67e9279
